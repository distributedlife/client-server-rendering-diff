{"version":3,"sources":["game.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","global","entryPoint","loadWindow","window","loadDefaults","load","run","this","self","./logic/ball-behaviour","./views/bouncing-ball","ensemblejs-client",2,"type","deps","func","state","changeColour","current","get","newColour","bouncing-ball-game","ball","colour",3,"$","element","dimensions","tracker","define","canvas","context","updateBall","currentPosition","currentColour","undefined","fillStyle","beginPath","arc","x","y","Math","PI","closePath","fill","theBallPosition","position","theBallColour","dims","id","width","usableWidth","height","usableHeight","getContext","append","clearRect","zepto-browserify",4,5,"process","normalizeArray","parts","allowAboveRoot","up","last","splice","unshift","filter","xs","res","push","splitPathRe","splitPath","filename","exec","slice","resolve","resolvedPath","resolvedAbsolute","arguments","path","cwd","TypeError","charAt","split","p","join","normalize","isAbsolute","trailingSlash","substr","paths","Array","prototype","index","relative","from","to","trim","arr","start","end","fromParts","toParts","min","samePartsLength","outputParts","concat","sep","delimiter","dirname","result","root","dir","basename","ext","extname","str","len","_process",6,"drainQueue","draining","currentQueue","queue","noop","nextTick","fun","setTimeout","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","name","chdir","umask",7,"baseCompareAscending","value","other","valIsReflexive","othIsReflexive","baseFindIndex","array","predicate","fromRight","baseIndexOf","fromIndex","indexOfNaN","baseIsFunction","baseToString","charAtCallback","string","charCodeAt","charsLeftIndex","chars","indexOf","charsRightIndex","compareAscending","object","criteria","compareMultiple","orders","objCriteria","othCriteria","ordersLength","deburrLetter","letter","deburredLetters","escapeHtmlChar","chr","htmlEscapes","escapeStringChar","stringEscapes","isObjectLike","isSpace","charCode","replaceHolders","placeholder","resIndex","PLACEHOLDER","sortedUniq","iteratee","seen","computed","trimmedLeftIndex","trimmedRightIndex","unescapeHtmlChar","htmlUnescapes","runInContext","lodash","isArray","LazyWrapper","LodashWrapper","hasOwnProperty","wrapperClone","baseLodash","chainAll","actions","__wrapped__","__actions__","__chain__","__dir__","__dropCount__","__filtered__","__iteratees__","__takeCount__","POSITIVE_INFINITY","__views__","lazyClone","iteratees","views","arrayCopy","lazyReverse","clone","lazyValue","baseWrapperValue","isRight","view","getView","takeCount","nativeMin","iterLength","outer","iterIndex","data","LAZY_DROP_WHILE_FLAG","done","count","limit","LAZY_MAP_FLAG","LAZY_FILTER_FLAG","MapCache","__data__","mapDelete","key","has","mapGet","mapHas","mapSet","SetCache","values","hash","nativeCreate","set","Set","cacheIndexOf","cache","isObject","cachePush","add","source","arrayEach","arrayEachRight","arrayEvery","arrayFilter","arrayMap","arrayMax","NEGATIVE_INFINITY","arrayMin","arrayReduce","accumulator","initFromArray","arrayReduceRight","arraySome","arraySum","assignDefaults","objectValue","sourceValue","assignOwnDefaults","assignWith","customizer","props","keys","apply","getSymbols","baseAt","collection","isNil","isArr","isArrayLike","propsLength","isIndex","baseCopy","baseCallback","thisArg","argCount","bindCallback","identity","baseMatches","property","baseMatchesProperty","baseClone","isDeep","stackA","stackB","initCloneArray","tag","objToString","isFunc","funcTag","objectTag","argsTag","cloneableTags","initCloneByTag","initCloneObject","baseAssign","baseForOwn","subValue","baseDelay","wait","args","FUNC_ERROR_TEXT","baseDifference","getIndexOf","isCommon","createCache","valuesLength","valuesIndex","baseEvery","baseEach","baseFill","baseFilter","baseFind","eachFunc","retKey","baseFlatten","isStrict","isArguments","valIndex","valLength","baseForIn","baseFor","keysIn","baseForOwnRight","baseForRight","baseFunctions","isFunction","baseGet","pathKey","toObject","baseIsEqual","isLoose","valType","othType","baseIsEqualDeep","equalFunc","objIsArr","othIsArr","objTag","arrayTag","othTag","isTypedArray","objIsObj","othIsObj","isSameTag","equalByTag","valWrapped","othWrapped","equalArrays","equalObjects","pop","baseIsMatch","strictCompareFlags","noCustomizer","objValue","srcValue","baseMap","constant","isStrictComparable","isKey","toPath","baseSlice","baseMerge","isSrcArr","baseMergeDeep","mergeFunc","isPlainObject","toPlainObject","baseProperty","basePropertyDeep","basePullAt","indexes","parseFloat","previous","baseRandom","max","floor","nativeRandom","baseReduce","initFromCollection","baseSome","baseSortBy","comparer","sort","baseSortByOrder","callback","getCallback","baseSum","baseUniq","isLarge","seenIndex","baseValues","baseWhile","isDrop","action","binaryIndex","retHighest","low","high","HALF_MAX_ARRAY_LENGTH","mid","binaryIndexBy","valIsNaN","valIsUndef","isReflexive","setLow","MAX_ARRAY_INDEX","bufferClone","buffer","bufferSlice","composeArgs","partials","holders","holdersLength","argsIndex","argsLength","nativeMax","leftIndex","leftLength","composeArgsRight","holdersIndex","rightIndex","rightLength","offset","createAggregator","setter","initializer","createAssigner","assigner","restParam","sources","guard","isIterateeCall","createBaseEach","getLength","isLength","iterable","createBaseFor","keysFunc","createBindWrapper","wrapper","fn","Ctor","createCtorWrapper","createCompounder","words","deburr","thisBinding","baseCreate","createCurry","flag","curryFunc","arity","createWrapper","createExtremum","arrayFunc","isMin","noIteratee","isString","toIterable","extremumBy","createFind","createFindIndex","createFindKey","objectFunc","createFlow","funcs","funcName","getFuncName","getData","isLaziable","ARY_FLAG","CURRY_FLAG","PARTIAL_FLAG","REARG_FLAG","thru","plant","createForEach","createForIn","createForOwn","createObjectMapper","isMapKeys","mapped","createPadDir","createPadding","createPartial","partialFunc","createReduce","createHybridWrapper","bitmask","partialsRight","holdersRight","argPos","ary","isCurry","isCurryRight","argsHolders","newArgPos","newArity","newsHolders","newHoldersRight","newPartials","newPartialsRight","PARTIAL_RIGHT_FLAG","isCurryBound","BIND_FLAG","BIND_KEY_FLAG","newData","setData","isBind","isBindKey","reorder","isAry","CURRY_BOUND_FLAG","CURRY_RIGHT_FLAG","strLength","nativeIsFinite","padLength","repeat","ceil","createPartialWrapper","createSortedIndex","mergeData","baseSetData","arrLength","othLength","arrValue","othValue","othIndex","boolTag","dateTag","errorTag","message","numberTag","regexpTag","stringTag","objProps","objLength","othProps","skipCtor","objCtor","constructor","othCtor","exValue","target","transforms","size","input","Object","arrayBufferTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","byteOffset","reFlags","lastIndex","invokePath","MAX_SAFE_INTEGER","reIsPlainProp","test","reIsDeepProp","srcBitmask","newBitmask","isCombo","pickByArray","pickByCallback","oldArray","shimIsPlainObject","support","shimKeys","allowIndexes","nonEnumArgs","replace","rePropName","match","number","quote","reEscapeChar","chunk","compact","drop","dropRight","dropRightWhile","dropWhile","first","flatten","flattenDeep","initial","intersection","caches","lastIndexOf","pull","remove","rest","take","takeRight","takeRightWhile","takeWhile","uniq","isSorted","unzip","group","unzipWith","xor","zipObject","chain","tap","interceptor","wrapperChain","wrapperCommit","wrapperPlant","parent","wrapperReverse","reverse","wrapperToString","wrapperValue","every","findWhere","find","includes","map","pluck","reject","sample","shuffle","rand","some","sortBy","sortByOrder","where","after","temp","before","debounce","options","cancel","timeoutId","clearTimeout","maxTimeoutId","trailingCall","delayed","remaining","now","stamp","isCalled","lastCalled","maxDelayed","trailing","maxWait","debounced","leading","leadingCall","memoize","resolver","memoized","Cache","negate","otherArgs","spread","throttle","debounceOptions","wrap","cloneDeep","isBoolean","isDate","isElement","nodeType","isEmpty","isEqual","isError","isMatch","isNaN","isNumber","isNative","reIsNative","fnToString","reIsHostCtor","isNull","isRegExp","typedArrayTags","isUndefined","toArray","create","properties","functions","defaultValue","invert","multiValue","isProto","skipIndexes","pairs","endIndex","nested","transform","valuesIn","inRange","random","floating","noMin","noMax","capitalize","toUpperCase","reLatin1","reComboMark","endsWith","escape","reHasUnescapedHtml","reUnescapedHtml","escapeRegExp","reHasRegExpChars","reRegExpChars","pad","parseInt","radix","nativeParseInt","startsWith","template","otherOptions","settings","templateSettings","isEscaping","isEvaluating","imports","importsKeys","importsValues","interpolate","reNoMatch","reDelimiters","RegExp","reInterpolate","reEsTemplate","evaluate","sourceURL","templateCounter","escapeValue","interpolateValue","esTemplateValue","evaluateValue","reUnescapedString","variable","reEmptyStringLeading","reEmptyStringMiddle","reEmptyStringTrailing","attempt","Function","trimLeft","trimRight","trunc","DEFAULT_TRUNC_LENGTH","omission","DEFAULT_TRUNC_OMISSION","separator","search","newEnd","substring","unescape","reHasEscapedHtml","reEscapedHtml","pattern","reWords","matches","matchesProperty","mixin","isObj","methodNames","methodName","noConflict","_","oldDash","propertyOf","range","step","times","MAX_ARRAY_LENGTH","uniqueId","prefix","idCounter","augend","addend","sum","defaults","pick","contextProps","Date","Number","String","arrayProto","objectProto","stringProto","document","toString","ArrayBuffer","getOwnPropertySymbols","getPrototypeOf","preventExtensions","propertyIsEnumerable","Uint8Array","WeakMap","Float64Array","nativeAssign","assign","nativeIsArray","isFinite","nativeKeys","nativeNow","nativeNumIsFinite","pow","FLOAT64_BYTES_PER_ELEMENT","BYTES_PER_ELEMENT","metaMap","realNames","valueOf","funcDecomp","funcNames","dom","createDocumentFragment","reEscape","reEvaluate","baseEachRight","byteLength","floatLength","otherFunc","HOT_SPAN","HOT_COUNT","difference","findIndex","findLastIndex","pullAt","sortedIndex","sortedLastIndex","union","arrays","without","zip","zipWith","at","countBy","findLast","forEach","forEachRight","groupBy","indexBy","invoke","isProp","partition","reduce","reduceRight","sortByAll","getTime","bind","bindAll","bindKey","curry","curryRight","defer","delay","flow","flowRight","partial","partialRight","rearg","objProto","findKey","findLastKey","forIn","forInRight","forOwn","forOwnRight","mapKeys","mapValues","merge","omit","camelCase","word","toLowerCase","kebabCase","padLeft","padRight","whitespace","reHasHexPrefix","snakeCase","startCase","method","methodOf","backflow","collect","compose","each","eachRight","extend","methods","select","tail","unique","all","any","contains","detect","foldl","foldr","head","include","inject","VERSION","isFilter","isDropWhile","filtered","whileName","takeName","dropName","operationName","createCallback","lodashFunc","checkIteratee","retUnwrapped","isHybrid","isLazy","useLazy","onlyLazy","chainName","names","commit","toJSON","mapTag","setTag","weakMapTag","upper","lower","À","Á","Â","Ã","Ä","Å","à","á","â","ã","ä","å","Ç","ç","Ð","ð","È","É","Ê","Ë","è","é","ê","ë","Ì","Í","Î","Ï","ì","í","î","ï","Ñ","ñ","Ò","Ó","Ô","Õ","Ö","Ø","ò","ó","ô","õ","ö","ø","Ù","Ú","Û","Ü","ù","ú","û","ü","Ý","ý","ÿ","Æ","æ","Þ","þ","ß","&","<",">","\"","'","`","&amp;","&lt;","&gt;","&quot;","&#39;","&#96;","objectTypes","function","\\","\n","\r"," "," ","freeExports","freeModule","freeGlobal","freeSelf","freeWindow","moduleExports","amd",8,"Numeral","_value","toFixed","precision","roundingFunction","optionals","optionalsRegExp","output","power","formatNumeral","format","formatCurrency","formatPercentage","formatTime","formatNumber","unformatNumeral","thousandRegExp","millionRegExp","billionRegExp","trillionRegExp","stringOriginal","suffixes","bytesMultiplier","unformatTime","zeroFormat","languages","currentLanguage","delimiters","decimal","abbreviations","thousand","currency","symbol","million","billion","trillion","spliceIndex","symbolIndex","openParenIndex","minusSignIndex","space","hours","minutes","seconds","round","timeArray","w","thousands","negP","signed","optDec","abbr","abbrK","abbrM","abbrB","abbrT","abbrForce","bytes","ord","abs","d","neg","ordinal","loadLanguage","multiplier","correctionFactor","prev","next","mp","mn","Infinity","numeral","defaultFormat","hasModule","isNumeral","unformat","obj","language","languageData","b","opt_initialValue","isValueSet","inputString","cback","accum","curr","currI","O","corrFactor","subtract","multiply","divide","ender",9,"isCommonjs","keyboardAllowed","Element","val","fnMap","ret","screenfull","request","elem","requestFullscreen","documentElement","navigator","userAgent","ALLOW_KEYBOARD_INPUT","exit","exitFullscreen","toggle","isFullscreen","raw","defineProperties","fullscreenElement","enumerable","enabled","fullscreenEnabled",10,"./lib/",11,"lookup","uri","opts","io","parsed","url","forceNew","multiplex","debug","Manager","socket","parser","managers","protocol","connect","Socket","./manager","./socket","./url","socket.io-parser",12,"nsps","subs","reconnection","reconnectionAttempts","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","Backoff","jitter","timeout","readyState","connected","encoding","packetBuffer","encoder","Encoder","decoder","Decoder","autoConnect","open","eio","Emitter","emitAll","nsp","updateSocketIds","engine","v","_reconnection","_reconnectionAttempts","_reconnectionDelay","setMin","_randomizationFactor","setJitter","_reconnectionDelayMax","setMax","_timeout","maybeReconnectOnOpen","reconnecting","attempts","reconnect","skipReconnect","openSub","onopen","errorSub","cleanup","err","timer","destroy","close","ondata","ondecoded","packet","onerror","encode","encodedPackets","write","processPacketQueue","pack","shift","sub","disconnect","reset","onclose","reason","duration","onreconnect","./on","backo2","component-bind","component-emitter","engine.io-client","indexof","object-component",13,"ev",14,"json","ids","acks","receiveBuffer","sendBuffer","disconnected","hasBin","events","connect_error","connect_timeout","error","reconnect_attempt","reconnect_failed","reconnect_error","subEvents","send","parserType","EVENT","BINARY_EVENT","CONNECT","onpacket","onconnect","onevent","ACK","onack","BINARY_ACK","DISCONNECT","ondisconnect","ERROR","ack","sent","emitBuffered","has-binary","to-array",15,"loc","location","host","hostname","parseuri","port","href",16,"ms","factor","deviation",17,18,"addEventListener","event","_callbacks","removeEventListener","callbacks","cb","listeners","hasListeners",19,"fmt","coerce","humanize","console","log","stack","skips","enable","localStorage","disable","sec","hour",20,21,"engine.io-parser",22,"secure","query","pieces","agent","parseqs","decode","upgrade","forceJSONP","jsonp","forceBase64","enablesXDR","timestampParam","timestampRequests","transports","writeBuffer","callbackBuffer","policyPort","rememberUpgrade","binaryType","onlyBinaryUpgrades","pfx","passphrase","cert","ca","ciphers","rejectUnauthorized","parsejson","priorWebsocketSuccess","Transport","createTransport","EIO","transport","sid","setTransport","onDrain","onPacket","onError","onClose","probe","onTransportOpen","upgradeLosesBinary","supportsBinary","failed","msg","upgrading","pause","flush","freezeTransport","onTransportClose","onupgrade","onOpen","upgrades","onHandshake","setPing","filterUpgrades","pingInterval","pingTimeout","onHeartbeat","pingTimeoutTimer","pingIntervalTimer","ping","sendPacket","prevBufferLen","writable","cleanupAndClose","waitForUpgrade","desc","filteredUpgrades","j","./transport","./transports",23,"timestamps","description","doOpen","doClose","packets","onData","decodePacket",24,"polling","xhr","xd","isSSL","xdomain","xscheme","XMLHttpRequest","XHR","JSONP","websocket","./polling-jsonp","./polling-xhr","./websocket","xmlhttprequest",25,"empty","JSONPPolling","Polling","___eio","script","inherit","rNewline","rEscapedNewline","parentNode","removeChild","form","iframe","doPoll","createElement","async","src","insertAt","getElementsByTagName","insertBefore","isUAgecko","body","appendChild","doWrite","complete","initIframe","html","iframeId","area","className","style","top","left","setAttribute","submit","attachEvent","onreadystatechange","onload","./polling","component-inherit",26,"Request","isBinary","unloadHandler","requests","abort","req","sendXhr","pollXhr","responseType","setRequestHeader","withCredentials","hasXDR","onLoad","responseText","status","requestsCount","onSuccess","fromError","contentType","getResponseHeader","response","XDomainRequest",27,"hasXHR2","poll","onPause","total","decodePayload","callbackfn","encodePayload","schema","b64","../transport",28,"WS","WebSocket","check","protocols","ws","addEventListeners","onmessage","ondrain","encodePacket",29,"hasCORS","ActiveXObject","has-cors",30,31,"useColors","firebug","exception","table","$1","formatArgs","namespace","diff","c","color","lastC","save","namespaces","removeItem","colors","formatters","JSON","stringify","./debug",32,"selectColor","prevColor","disabled","prevTime","formatter","logFn",33,"parse","h","m","short","long","plural",34,"encodeBase64Object","encodeArrayBuffer","encodeBase64Packet","contentArray","resultBuffer","encodeBlobAsArrayBuffer","fr","FileReader","readAsArrayBuffer","encodeBlob","dontSendBlobs","blob","Blob","eachWithIndex","el","hasBinary","sliceBuffer","base64encoder","utf8","isAndroid","isPhantomJS","pong","packetslist","utf8encode","base64","encoded","readAsDataURL","b64data","fromCharCode","typed","basic","btoa","utf8decode","decodeBase64Packet","asArray","setLengthHeader","encodeOne","doneCallback","encodePayloadAsBlob","encodePayloadAsArrayBuffer","results","decodePayloadAsBinary","totalLength","acc","resultArray","bufferIndex","ab","lenStr","binaryIdentifier","lengthAry","bufferTail","buffers","numberTooLong","tailArray","msgLength","./keys","arraybuffer.slice","base64-arraybuffer",35,36,"err_cb","proxy","bail",37,"arraybuffer","abv","ii",38,"encoded1","encoded2","encoded3","encoded4","bufferLength",39,"BlobBuilderConstructor","bb","BlobBuilder","getBlob","WebKitBlobBuilder","MSBlobBuilder","MozBlobBuilder","blobSupported","blobBuilderSupported",40,"_hasBinary","Buffer","isBuffer","File","isarray",41,42,"ucs2decode","extra","counter","ucs2encode","stringFromCharCode","createByte","codePoint","encodeCodePoint","codePoints","byteString","readContinuationByte","byteIndex","byteCount","continuationByte","byteArray","decodeSymbol","byte1","byte2","byte3","byte4","tmp",43,44,45,"rvalidchars","rvalidescape","rvalidtokens","rvalidbraces","rtrimLeft","rtrimRight",46,"encodeURIComponent","qs","qry","pair","decodeURIComponent",47,"re","authority","ipv6uri",48,"instance","MozWebSocket",49,50,"dup",51,52,"vals",53,54,"isBuf","deconstructPacket","_deconstructPacket","_placeholder","num","packetData","attachments","reconstructPacket","_reconstructPacket","buf","removeBlobs","_removeBlobs","curKey","containingObject","pendingBlobs","fileReader","bloblessData","./is-buffer",55,"encodeAsString","encodeAsBinary","writeEncoding","deconstruction","binary","reconstructor","decodeString","types","BinaryReconstructor","reconPack","takeBinaryData","finishedReconstruction","binData","./binary","json3",56,57,58,"undef","isSupported","serialized","JSON3","stringifySupported","isExtended","getClass","parseSupported","isProperty","isLoader","nativeJSON","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","functionClass","dateClass","numberClass","stringClass","arrayClass","booleanClass","charIndexBuggy","Months","getDay","year","month","members","__proto__","original","PrimitiveTypes","boolean","isHostType","Properties","isConstructor","hasProperty","Escapes",92,"leadingZeroes","toPaddedString","unicodePrefix","symbols","serialize","indentation","date","time","milliseconds","Index","Source","Unescapes",98,116,110,102,114,"SyntaxError","lex","begin","isSigned","hasMembers","update","walk",59,"list",60,"socketBehaviour","updateLoop","resizeCallbacks","onInitialiseCallbacks","resizeCanvas","resizeCallback","assembleAndRun",61,"plugins","configure","./assembler","./events/acknowledge-packet","./events/initialise-state","./events/initialise-views","./events/on-error","./events/on_connect","./events/on_disconnect","./events/on_resize","./events/update-state","./input/keyboard","./socket/client","./socket/pending-acknowledgements","./state/shortcuts","./state/tracker","./ui/dimensions","./ui/effects","./update/loop","./views/fullscreen","./views/layout_icons","./views/pause_resume","./views/player_observer_count","./views/toggle_sound","plug-n-play",62,"pendingAcknowledgements",63,"updateState",64,65,66,"hide",67,"show",68,"inputElement","css","marginTopBottom",69,"lastReceivedId","gameState",70,"InputMode","touches","singlePressKeys","keyMap","mouseMap","singlePress","press","release","bindToWindowEvents","which","preventDefault","elementId","layerX","layerY","touch","clientX","offsetLeft","clientY","offsetTop","identifier","force","webkitForce","changedTouches","keypress","metaKey","keydown","keyup","getCurrentState","inputData","mouse","keysToSend","singlePressKeysToSend",71,"inputModes","gameMode","serverUrl","onConnectCallbacks","onDisconnectCallbacks","onPacketCallbacks","onSetupCallbacks","onErrorCallbacks","controls","configureEmitFunction","pendingAcks","sentTimestamp","control","hasFocus","playerId","inputMode","setInterval","clearInterval","socket.io-client",72,"pending","packetId","rcvdTimestamp","ackLast",73,"equals","expectedValue","currentValue",74,"priorState","currentState","changes","invokeCallback","model","priorModel","hasChanged","priorValue","currentElement","priorElement","elementAdded","elementRemoved","elementChanged","prior","handleObjects","change","focus","when","handleArrays","operatesOn","detectionFunc","sendCurrentContentsNow","handle","detectChangesAndNotifyObservers","newState","onChangeOf","onChangeTo","condition","onElementChanged","focusArray","onElementAdded","onCallback","existingCallback","onElementRemoved",75,"ratio","minMargin","orientation","actualWidth","innerWidth","actualHeight","innerHeight","heightBasedOnWidth","widthBasedOnHeight","totalMargin","marginSides","screenWidth","screenHeight",76,"effects","delta","effect","tick","isAlive","register",77,"frames","priorStep","paused","ensemble","frame","requestAnimationFrame",78,79,"iconSize","slot","iconTop","textTop","landscape","pos","portrait",80,"onPauseCallbacks","onResumeCallbacks","trackerHelpers","onPauseCallback","resume","onResumeCallback",81,"updatePlayerCount","text","updateObserverCount","playerCount","players","observerCount","observers",82,"onMuteCallbacks","onUnmuteCallbacks","onMuteCallback","onUnmuteCallback",83,84,"__dirname","addTrailingSlash","normaliseRelativePath","loadFromPath","pathToEntites","absolutePath","readdirSync","file","fs",85,"loader","dep","deferredDependency","deferred","loadPath","thing","./folder-loader.js",86,"Zepto","class2type","isWindow","isDocument","DOCUMENT_NODE","likeArray","item","dasherize","classRE","classCache","maybeAddPx","cssNumber","defaultDisplay","nodeName","display","elementDisplay","getComputedStyle","getPropertyValue","children","childNodes","node","deep","nodes","selector","funcArg","arg","idx","payload","removeAttribute","klass","svg","baseVal","deserializeValue","parseJSON","traverseNode","classList","camelize","emptyArray","column-count","columns","font-weight","line-height","opacity","z-index","zoom","fragmentRE","singleTagRE","tagExpanderRE","rootNodeRE","capitalRE","methodAttributes","adjacencyOperators","tableRow","containers","tr","tbody","thead","tfoot","td","th","*","readyRE","simpleSelectorRE","zepto","tempParent","propMap","tabindex","readonly","for","class","maxlength","cellspacing","cellpadding","rowspan","colspan","usemap","frameborder","contenteditable","matchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","qsa","fragment","container","innerHTML","attr","Z","isZ","init","ready","found","maybeID","maybeClass","nameOnly","isSimple","getElementById","getElementsByClassName","querySelectorAll","isEmptyObject","inArray","uuid","expr","elements","grep","not","is","excludes","eq","$this","closest","parents","ancestors","contents","siblings","child","replaceWith","newContent","structure","wrapAll","cloneNode","wrapInner","unwrap","setting","originHtml","newText","textContent","getAttribute","removeAttr","attribute","prop","attrName","multiple","selected","coordinates","coords","parentOffset","offsetParent","getBoundingClientRect","pageXOffset","pageYOffset","computedStyle","removeProperty","cssText","hasClass","addClass","cls","newName","removeClass","toggleClass","scrollTop","hasScrollTop","scrollTo","scrollX","scrollLeft","hasScrollLeft","scrollY","detach","dimension","dimensionProperty","operator","operatorIndex","inside","argType","copyByClone","nextSibling","firstChild","parentInDocument","zid","_zid","findHandlers","ns","matcher","matcherFor","handlers","handler","sel","eventCapture","captureSetting","del","focusinSupported","realEvent","hover","delegator","capture","related","relatedTarget","compatible","isImmediatePropagationStopped","_args","stopPropagation","isDefaultPrevented","eventMethods","sourceMethod","returnTrue","returnFalse","defaultPrevented","returnValue","getPreventDefault","createProxy","originalEvent","ignoreProperties","specialEvents","blur","mouseenter","mouseleave","click","mousedown","mouseup","mousemove","proxyFn","unbind","one","stopImmediatePropagation","delegate","undelegate","live","die","autoRemove","evt","currentTarget","liveFired","trigger","Event","dispatchEvent","triggerHandler","createEvent","bubbles","initEvent","triggerAndReturn","eventName","triggerGlobal","ajaxStart","active","ajaxStop","ajaxBeforeSend","beforeSend","ajaxSuccess","success","resolveWith","ajaxComplete","ajaxError","rejectWith","mimeToDataType","mime","htmlType","jsonType","scriptTypeRE","xmlTypeRE","appendQuery","serializeData","processData","param","traditional","parseArguments","dataType","params","scope","jsonpID","rscript","blankRE","originAnchor","ajaxJSONP","ajax","responseData","abortTimeout","_callbackName","jsonpCallback","callbackName","originalCallback","errorType","promise","ajaxSettings","accepts","xml","crossDomain","urlAnchor","Deferred","hasPlaceholder","headers","setHeader","nativeSetHeader","mimeType","overrideMimeType","eval","responseXML","statusText","xhrFields","username","password","post","getJSON","serializeArray","field","checked","elm","__Z","nativeGetComputedStyle"],"mappings":"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","file":"game.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar entryPoint = require('ensemblejs-client');\nentryPoint.loadWindow((typeof window !== \"undefined\" ? window.window : typeof global !== \"undefined\" ? global.window : null));\nentryPoint.loadDefaults();\nentryPoint.load(require('./views/bouncing-ball'));\nentryPoint.load(require('./logic/ball-behaviour'));\nentryPoint.run();\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./logic/ball-behaviour\":2,\"./views/bouncing-ball\":3,\"ensemblejs-client\":61}],2:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n  type: 'BouncingBallGame-Behaviour',\n  deps: ['StateAccess'],\n  func: function (state) {\n    return {\n      changeColour: function () {\n        var current = state().get('bouncing-ball-game')('ball')('colour');\n        var newColour = (current === '#000000' ? '#ff0000' : '#000000');\n\n        return {\n          'bouncing-ball-game': {\n            ball: {\n              colour: newColour\n            }\n          }\n        };\n      }\n    };\n  }\n};\n},{}],3:[function(require,module,exports){\n'use strict';\n\nvar $ = require('zepto-browserify').$;\n\nmodule.exports = {\n  type: 'View',\n  deps: ['Element', 'Dimensions', 'StateTracker', 'DefinePlugin'],\n  func: function (element, dimensions, tracker, define) {\n    var canvas;\n    var context;\n\n    var updateBall = function(currentPosition, currentColour) {\n      if (currentPosition === undefined || currentColour === undefined) {\n        return;\n      }\n\n      context.fillStyle = currentColour;\n      context.beginPath();\n      context.arc(currentPosition.x, currentPosition.y, 25, 0, 2*Math.PI);\n      context.closePath();\n      context.fill();\n    };\n\n    var theBallPosition = function (state) {\n      return state['bouncing-ball-game'].ball.position;\n    };\n\n    var theBallColour = function (state) {\n      return state['bouncing-ball-game'].ball.colour;\n    };\n\n    return function (dims) {\n      canvas = $('<canvas/>', { id: 'scene' });\n      canvas[0].width = dims.usableWidth;\n      canvas[0].height = dims.usableHeight;\n      context = canvas[0].getContext('2d');\n\n      $('#' + element()).append(canvas);\n\n      define()('OnEachFrame', function () {\n        return function () {\n          context.clearRect(0, 0, canvas[0].width, canvas[0].height);\n          updateBall(tracker().get(theBallPosition), tracker().get(theBallColour));\n        };\n      });\n\n      define()('OnResize', function () {\n        return function (dims) {\n          canvas[0].width = dims.usableWidth;\n          canvas[0].height = dims.usableHeight;\n        };\n      });\n    };\n  }\n};\n},{\"zepto-browserify\":86}],4:[function(require,module,exports){\n\n},{}],5:[function(require,module,exports){\n(function (process){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// Split a filename into [root, dir, basename, ext], unix version\n// 'root' is just a slash, or nothing.\nvar splitPathRe =\n    /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;\nvar splitPath = function(filename) {\n  return splitPathRe.exec(filename).slice(1);\n};\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function(path) {\n  var result = splitPath(path),\n      root = result[0],\n      dir = result[1];\n\n  if (!root && !dir) {\n    // No dirname whatsoever\n    return '.';\n  }\n\n  if (dir) {\n    // It has a dirname, strip trailing slash\n    dir = dir.substr(0, dir.length - 1);\n  }\n\n  return root + dir;\n};\n\n\nexports.basename = function(path, ext) {\n  var f = splitPath(path)[2];\n  // TODO: make this comparison case-insensitive on windows?\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\n\nexports.extname = function(path) {\n  return splitPath(path)[3];\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n\n}).call(this,require('_process'))\n},{\"_process\":6}],6:[function(require,module,exports){\n// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    draining = true;\n    var currentQueue;\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        var i = -1;\n        while (++i < len) {\n            currentQueue[i]();\n        }\n        len = queue.length;\n    }\n    draining = false;\n}\nprocess.nextTick = function (fun) {\n    queue.push(fun);\n    if (!draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n},{}],7:[function(require,module,exports){\n(function (global){\n/**\n * @license\n * lodash 3.8.0 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern -d -o ./index.js`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '3.8.0';\n\n  /** Used to compose bitmasks for wrapper metadata. */\n  var BIND_FLAG = 1,\n      BIND_KEY_FLAG = 2,\n      CURRY_BOUND_FLAG = 4,\n      CURRY_FLAG = 8,\n      CURRY_RIGHT_FLAG = 16,\n      PARTIAL_FLAG = 32,\n      PARTIAL_RIGHT_FLAG = 64,\n      ARY_FLAG = 128,\n      REARG_FLAG = 256;\n\n  /** Used as default options for `_.trunc`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect when a function becomes hot. */\n  var HOT_COUNT = 150,\n      HOT_SPAN = 16;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_DROP_WHILE_FLAG = 0,\n      LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2;\n\n  /** Used as the `TypeError` message for \"Functions\" methods. */\n  var FUNC_ERROR_TEXT = 'Expected a function';\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      objectTag = '[object Object]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      weakMapTag = '[object WeakMap]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39|#96);/g,\n      reUnescapedHtml = /[&<>\"'`]/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match property names within property paths. */\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\n\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\n\\\\]|\\\\.)*?)\\2)\\]/g;\n\n  /**\n   * Used to match `RegExp` [special characters](http://www.regular-expressions.info/characters.html#special).\n   * In addition to special characters the forward slash is escaped to allow for\n   * easier `eval` use and `Function` compilation.\n   */\n  var reRegExpChars = /[.*+?^${}()|[\\]\\/\\\\]/g,\n      reHasRegExpChars = RegExp(reRegExpChars.source);\n\n  /** Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks). */\n  var reComboMark = /[\\u0300-\\u036f\\ufe20-\\ufe23]/g;\n\n  /** Used to match backslashes in property paths. */\n  var reEscapeChar = /\\\\(\\\\)?/g;\n\n  /** Used to match [ES template delimiters](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-template-literal-lexical-components). */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect hexadecimal string values. */\n  var reHasHexPrefix = /^0[xX]/;\n\n  /** Used to detect host constructors (Safari > 5). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to match latin-1 supplementary letters (excluding mathematical operators). */\n  var reLatin1 = /[\\xc0-\\xd6\\xd8-\\xde\\xdf-\\xf6\\xf8-\\xff]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to match words to create compound words. */\n  var reWords = (function() {\n    var upper = '[A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]',\n        lower = '[a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff]+';\n\n    return RegExp(upper + '+(?=' + upper + lower + ')|' + upper + '?' + lower + '|' + upper + '+|[0-9]+', 'g');\n  }());\n\n  /** Used to detect and test for whitespace. */\n  var whitespace = (\n    // Basic whitespace characters.\n    ' \\t\\x0b\\f\\xa0\\ufeff' +\n\n    // Line terminators.\n    '\\n\\r\\u2028\\u2029' +\n\n    // Unicode category \"Zs\" space separators.\n    '\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000'\n  );\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'ArrayBuffer', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Math', 'Number',\n    'Object', 'RegExp', 'Set', 'String', '_', 'clearTimeout', 'document',\n    'isFinite', 'parseInt', 'setTimeout', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap',\n    'window'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dateTag] = typedArrayTags[errorTag] =\n  typedArrayTags[funcTag] = typedArrayTags[mapTag] =\n  typedArrayTags[numberTag] = typedArrayTags[objectTag] =\n  typedArrayTags[regexpTag] = typedArrayTags[setTag] =\n  typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[boolTag] =\n  cloneableTags[dateTag] = cloneableTags[float32Tag] =\n  cloneableTags[float64Tag] = cloneableTags[int8Tag] =\n  cloneableTags[int16Tag] = cloneableTags[int32Tag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[stringTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[mapTag] = cloneableTags[setTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used as an internal `_.debounce` options object by `_.throttle`. */\n  var debounceOptions = {\n    'leading': false,\n    'maxWait': 0,\n    'trailing': false\n  };\n\n  /** Used to map latin-1 supplementary letters to basic latin letters. */\n  var deburredLetters = {\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcC': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xeC': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '`': '&#96;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\",\n    '&#96;': '`'\n  };\n\n  /** Used to determine if values are of the language type `Object`. */\n  var objectTypes = {\n    'function': true,\n    'object': true\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Detect free variable `exports`. */\n  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = objectTypes[typeof module] && module && !module.nodeType && module;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = freeExports && freeModule && typeof global == 'object' && global && global.Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = objectTypes[typeof self] && self && self.Object && self;\n\n  /** Detect free variable `window`. */\n  var freeWindow = objectTypes[typeof window] && window && window.Object && window;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports && freeExports;\n\n  /**\n   * Used as a reference to the global object.\n   *\n   * The `this` value is used if it is the global object to avoid Greasemonkey's\n   * restricted `window` object, otherwise the `window` object is used.\n   */\n  var root = freeGlobal || ((freeWindow !== (this && this.window)) && freeWindow) || freeSelf || this;\n\n  /**\n   * The base implementation of `compareAscending` which compares values and\n   * sorts them in ascending order without guaranteeing a stable sort.\n   *\n   * @private\n   * @param {*} value The value to compare to `other`.\n   * @param {*} other The value to compare to `value`.\n   * @returns {number} Returns the sort order indicator for `value`.\n   */\n  function baseCompareAscending(value, other) {\n    if (value !== other) {\n      var valIsReflexive = value === value,\n          othIsReflexive = other === other;\n\n      if (value > other || !valIsReflexive || (value === undefined && othIsReflexive)) {\n        return 1;\n      }\n      if (value < other || !othIsReflexive || (other === undefined && valIsReflexive)) {\n        return -1;\n      }\n    }\n    return 0;\n  }\n\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for callback shorthands and `this` binding.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseFindIndex(array, predicate, fromRight) {\n    var length = array.length,\n        index = fromRight ? length : -1;\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without support for binary searches.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    if (value !== value) {\n      return indexOfNaN(array, fromIndex);\n    }\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isFunction` without support for environments\n   * with incorrect `typeof` results.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n   */\n  function baseIsFunction(value) {\n    // Avoid a Chakra JIT bug in compatibility modes of IE 11.\n    // See https://github.com/jashkenas/underscore/issues/1621 for more details.\n    return typeof value == 'function' || false;\n  }\n\n  /**\n   * Converts `value` to a string if it is not one. An empty string is returned\n   * for `null` or `undefined` values.\n   *\n   * @private\n   * @param {*} value The value to process.\n   * @returns {string} Returns the string.\n   */\n  function baseToString(value) {\n    if (typeof value == 'string') {\n      return value;\n    }\n    return value == null ? '' : (value + '');\n  }\n\n  /**\n   * Used by `_.max` and `_.min` as the default callback for string values.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the code unit of the first character of the string.\n   */\n  function charAtCallback(string) {\n    return string.charCodeAt(0);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimLeft` to get the index of the first character\n   * of `string` that is not found in `chars`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @param {string} chars The characters to find.\n   * @returns {number} Returns the index of the first character not found in `chars`.\n   */\n  function charsLeftIndex(string, chars) {\n    var index = -1,\n        length = string.length;\n\n    while (++index < length && chars.indexOf(string.charAt(index)) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimRight` to get the index of the last character\n   * of `string` that is not found in `chars`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @param {string} chars The characters to find.\n   * @returns {number} Returns the index of the last character not found in `chars`.\n   */\n  function charsRightIndex(string, chars) {\n    var index = string.length;\n\n    while (index-- && chars.indexOf(string.charAt(index)) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.sortBy` to compare transformed elements of a collection and stable\n   * sort them in ascending order.\n   *\n   * @private\n   * @param {Object} object The object to compare to `other`.\n   * @param {Object} other The object to compare to `object`.\n   * @returns {number} Returns the sort order indicator for `object`.\n   */\n  function compareAscending(object, other) {\n    return baseCompareAscending(object.criteria, other.criteria) || (object.index - other.index);\n  }\n\n  /**\n   * Used by `_.sortByOrder` to compare multiple properties of each element\n   * in a collection and stable sort them in the following order:\n   *\n   * If `orders` is unspecified, sort in ascending order for all properties.\n   * Otherwise, for each property, sort in ascending order if its corresponding value in\n   * orders is true, and descending order if false.\n   *\n   * @private\n   * @param {Object} object The object to compare to `other`.\n   * @param {Object} other The object to compare to `object`.\n   * @param {boolean[]} orders The order to sort by for each property.\n   * @returns {number} Returns the sort order indicator for `object`.\n   */\n  function compareMultiple(object, other, orders) {\n    var index = -1,\n        objCriteria = object.criteria,\n        othCriteria = other.criteria,\n        length = objCriteria.length,\n        ordersLength = orders.length;\n\n    while (++index < length) {\n      var result = baseCompareAscending(objCriteria[index], othCriteria[index]);\n      if (result) {\n        if (index >= ordersLength) {\n          return result;\n        }\n        return result * (orders[index] ? 1 : -1);\n      }\n    }\n    // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n    // that causes it, under certain circumstances, to provide the same value for\n    // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n    // for more details.\n    //\n    // This also ensures a stable sort in V8 and other engines.\n    // See https://code.google.com/p/v8/issues/detail?id=90 for more details.\n    return object.index - other.index;\n  }\n\n  /**\n   * Used by `_.deburr` to convert latin-1 supplementary letters to basic latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  function deburrLetter(letter) {\n    return deburredLetters[letter];\n  }\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeHtmlChar(chr) {\n    return htmlEscapes[chr];\n  }\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled\n   * string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the index at which the first occurrence of `NaN` is found in `array`.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched `NaN`, else `-1`.\n   */\n  function indexOfNaN(array, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 0 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      var other = array[index];\n      if (other !== other) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * Checks if `value` is object-like.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n   */\n  function isObjectLike(value) {\n    return !!value && typeof value == 'object';\n  }\n\n  /**\n   * Used by `trimmedLeftIndex` and `trimmedRightIndex` to determine if a\n   * character code is whitespace.\n   *\n   * @private\n   * @param {number} charCode The character code to inspect.\n   * @returns {boolean} Returns `true` if `charCode` is whitespace, else `false`.\n   */\n  function isSpace(charCode) {\n    return ((charCode <= 160 && (charCode >= 9 && charCode <= 13) || charCode == 32 || charCode == 160) || charCode == 5760 || charCode == 6158 ||\n      (charCode >= 8192 && (charCode <= 8202 || charCode == 8232 || charCode == 8233 || charCode == 8239 || charCode == 8287 || charCode == 12288 || charCode == 65279)));\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = -1,\n        result = [];\n\n    while (++index < length) {\n      if (array[index] === placeholder) {\n        array[index] = PLACEHOLDER;\n        result[++resIndex] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * An implementation of `_.uniq` optimized for sorted arrays without support\n   * for callback shorthands and `this` binding.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} [iteratee] The function invoked per iteration.\n   * @returns {Array} Returns the new duplicate-value-free array.\n   */\n  function sortedUniq(array, iteratee) {\n    var seen,\n        index = -1,\n        length = array.length,\n        resIndex = -1,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index],\n          computed = iteratee ? iteratee(value, index, array) : value;\n\n      if (!index || seen !== computed) {\n        seen = computed;\n        result[++resIndex] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimLeft` to get the index of the first non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the first non-whitespace character.\n   */\n  function trimmedLeftIndex(string) {\n    var index = -1,\n        length = string.length;\n\n    while (++index < length && isSpace(string.charCodeAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimRight` to get the index of the last non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the last non-whitespace character.\n   */\n  function trimmedRightIndex(string) {\n    var index = string.length;\n\n    while (index-- && isSpace(string.charCodeAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  function unescapeHtmlChar(chr) {\n    return htmlUnescapes[chr];\n  }\n\n  /**\n   * Create a new pristine `lodash` function using the given `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @category Utility\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // using `context` to mock `Date#getTime` use in `_.now`\n   * var mock = _.runInContext({\n   *   'Date': function() {\n   *     return { 'getTime': getTimeMock };\n   *   }\n   * });\n   *\n   * // or creating a suped-up `defer` in Node.js\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  function runInContext(context) {\n    // Avoid issues with some ES3 environments that attempt to use values, named\n    // after built-in constructors like `Object`, for the creation of literals.\n    // ES5 clears this up by stating that literals must use built-in constructors.\n    // See https://es5.github.io/#x11.1.5 for more details.\n    context = context ? _.defaults(root.Object(), context, _.pick(root, contextProps)) : root;\n\n    /** Native constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Number = context.Number,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for native method references. */\n    var arrayProto = Array.prototype,\n        objectProto = Object.prototype,\n        stringProto = String.prototype;\n\n    /** Used to detect DOM support. */\n    var document = (document = context.window) && document.document;\n\n    /** Used to resolve the decompiled source of functions. */\n    var fnToString = Function.prototype.toString;\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /**\n     * Used to resolve the [`toStringTag`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.prototype.tostring)\n     * of values.\n     */\n    var objToString = objectProto.toString;\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = context._;\n\n    /** Used to detect if a method is native. */\n    var reIsNative = RegExp('^' +\n      escapeRegExp(objToString)\n      .replace(/toString|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Native method references. */\n    var ArrayBuffer = isNative(ArrayBuffer = context.ArrayBuffer) && ArrayBuffer,\n        bufferSlice = isNative(bufferSlice = ArrayBuffer && new ArrayBuffer(0).slice) && bufferSlice,\n        ceil = Math.ceil,\n        clearTimeout = context.clearTimeout,\n        floor = Math.floor,\n        getOwnPropertySymbols = isNative(getOwnPropertySymbols = Object.getOwnPropertySymbols) && getOwnPropertySymbols,\n        getPrototypeOf = isNative(getPrototypeOf = Object.getPrototypeOf) && getPrototypeOf,\n        push = arrayProto.push,\n        preventExtensions = isNative(preventExtensions = Object.preventExtensions) && preventExtensions,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        Set = isNative(Set = context.Set) && Set,\n        setTimeout = context.setTimeout,\n        splice = arrayProto.splice,\n        Uint8Array = isNative(Uint8Array = context.Uint8Array) && Uint8Array,\n        WeakMap = isNative(WeakMap = context.WeakMap) && WeakMap;\n\n    /** Used to clone array buffers. */\n    var Float64Array = (function() {\n      // Safari 5 errors when using an array buffer to initialize a typed array\n      // where the array buffer's `byteLength` is not a multiple of the typed\n      // array's `BYTES_PER_ELEMENT`.\n      try {\n        var func = isNative(func = context.Float64Array) && func,\n            result = new func(new ArrayBuffer(10), 0, 1) && func;\n      } catch(e) {}\n      return result;\n    }());\n\n    /** Used as `baseAssign`. */\n    var nativeAssign = (function() {\n      // Avoid `Object.assign` in Firefox 34-37 which have an early implementation\n      // with a now defunct try/catch behavior. See https://bugzilla.mozilla.org/show_bug.cgi?id=1103344\n      // for more details.\n      //\n      // Use `Object.preventExtensions` on a plain object instead of simply using\n      // `Object('x')` because Chrome and IE fail to throw an error when attempting\n      // to assign values to readonly indexes of strings.\n      var func = preventExtensions && isNative(func = Object.assign) && func;\n      try {\n        if (func) {\n          var object = preventExtensions({ '1': 0 });\n          object[0] = 1;\n        }\n      } catch(e) {\n        // Only attempt in strict mode.\n        try { func(object, 'xo'); } catch(e) {}\n        return !object[1] && func;\n      }\n      return false;\n    }());\n\n    /* Native method references for those with the same name as other `lodash` methods. */\n    var nativeIsArray = isNative(nativeIsArray = Array.isArray) && nativeIsArray,\n        nativeCreate = isNative(nativeCreate = Object.create) && nativeCreate,\n        nativeIsFinite = context.isFinite,\n        nativeKeys = isNative(nativeKeys = Object.keys) && nativeKeys,\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = isNative(nativeNow = Date.now) && nativeNow,\n        nativeNumIsFinite = isNative(nativeNumIsFinite = Number.isFinite) && nativeNumIsFinite,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random;\n\n    /** Used as references for `-Infinity` and `Infinity`. */\n    var NEGATIVE_INFINITY = Number.NEGATIVE_INFINITY,\n        POSITIVE_INFINITY = Number.POSITIVE_INFINITY;\n\n    /** Used as references for the maximum length and index of an array. */\n    var MAX_ARRAY_LENGTH = Math.pow(2, 32) - 1,\n        MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\n        HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n    /** Used as the size, in bytes, of each `Float64Array` element. */\n    var FLOAT64_BYTES_PER_ELEMENT = Float64Array ? Float64Array.BYTES_PER_ELEMENT : 0;\n\n    /**\n     * Used as the [maximum length](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-number.max_safe_integer)\n     * of an array-like value.\n     */\n    var MAX_SAFE_INTEGER = Math.pow(2, 53) - 1;\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /** Used to lookup unminified function names. */\n    var realNames = {};\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit chaining.\n     * Methods that operate on and return arrays, collections, and functions can\n     * be chained together. Methods that return a boolean or single value will\n     * automatically end the chain returning the unwrapped value. Explicit chaining\n     * may be enabled using `_.chain`. The execution of chained methods is lazy,\n     * that is, execution is deferred until `_#value` is implicitly or explicitly\n     * called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion. Shortcut\n     * fusion is an optimization that merges iteratees to avoid creating intermediate\n     * arrays and reduce the number of iteratee executions.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `reverse`, `shift`, `slice`, `sort`,\n     * `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `compact`, `drop`, `dropRight`, `dropRightWhile`, `dropWhile`, `filter`,\n     * `first`, `initial`, `last`, `map`, `pluck`, `reject`, `rest`, `reverse`,\n     * `slice`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, `toArray`,\n     * and `where`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `at`, `before`, `bind`, `bindAll`, `bindKey`,\n     * `callback`, `chain`, `chunk`, `commit`, `compact`, `concat`, `constant`,\n     * `countBy`, `create`, `curry`, `debounce`, `defaults`, `defer`, `delay`,\n     * `difference`, `drop`, `dropRight`, `dropRightWhile`, `dropWhile`, `fill`,\n     * `filter`, `flatten`, `flattenDeep`, `flow`, `flowRight`, `forEach`,\n     * `forEachRight`, `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `functions`,\n     * `groupBy`, `indexBy`, `initial`, `intersection`, `invert`, `invoke`, `keys`,\n     * `keysIn`, `map`, `mapValues`, `matches`, `matchesProperty`, `memoize`,\n     * `merge`, `mixin`, `negate`, `omit`, `once`, `pairs`, `partial`, `partialRight`,\n     * `partition`, `pick`, `plant`, `pluck`, `property`, `propertyOf`, `pull`,\n     * `pullAt`, `push`, `range`, `rearg`, `reject`, `remove`, `rest`, `reverse`,\n     * `shuffle`, `slice`, `sort`, `sortBy`, `sortByAll`, `sortByOrder`, `splice`,\n     * `spread`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, `tap`,\n     * `throttle`, `thru`, `times`, `toArray`, `toPlainObject`, `transform`,\n     * `union`, `uniq`, `unshift`, `unzip`, `values`, `valuesIn`, `where`,\n     * `without`, `wrap`, `xor`, `zip`, and `zipObject`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `clone`, `cloneDeep`, `deburr`,\n     * `endsWith`, `escape`, `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`,\n     * `findLast`, `findLastIndex`, `findLastKey`, `findWhere`, `first`, `has`,\n     * `identity`, `includes`, `indexOf`, `inRange`, `isArguments`, `isArray`,\n     * `isBoolean`, `isDate`, `isElement`, `isEmpty`, `isEqual`, `isError`, `isFinite`\n     * `isFunction`, `isMatch`, `isNative`, `isNaN`, `isNull`, `isNumber`, `isObject`,\n     * `isPlainObject`, `isRegExp`, `isString`, `isUndefined`, `isTypedArray`,\n     * `join`, `kebabCase`, `last`, `lastIndexOf`, `max`, `min`, `noConflict`,\n     * `noop`, `now`, `pad`, `padLeft`, `padRight`, `parseInt`, `pop`, `random`,\n     * `reduce`, `reduceRight`, `repeat`, `result`, `runInContext`, `shift`, `size`,\n     * `snakeCase`, `some`, `sortedIndex`, `sortedLastIndex`, `startCase`, `startsWith`,\n     * `sum`, `template`, `trim`, `trimLeft`, `trimRight`, `trunc`, `unescape`,\n     * `uniqueId`, `value`, and `words`\n     *\n     * The wrapper method `sample` will return a wrapped value when `n` is provided,\n     * otherwise an unwrapped value is returned.\n     *\n     * @name _\n     * @constructor\n     * @category Chain\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // returns an unwrapped value\n     * wrapped.reduce(function(total, n) {\n     *   return total + n;\n     * });\n     * // => 6\n     *\n     * // returns a wrapped value\n     * var squares = wrapped.map(function(n) {\n     *   return n * n;\n     * });\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__chain__') && hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The function whose prototype all chaining wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable chaining for all wrapper methods.\n     * @param {Array} [actions=[]] Actions to peform to resolve the unwrapped value.\n     */\n    function LodashWrapper(value, chainAll, actions) {\n      this.__wrapped__ = value;\n      this.__actions__ = actions || [];\n      this.__chain__ = !!chainAll;\n    }\n\n    /**\n     * An object environment feature flags.\n     *\n     * @static\n     * @memberOf _\n     * @type Object\n     */\n    var support = lodash.support = {};\n\n    (function(x) {\n      var Ctor = function() { this.x = x; },\n          args = arguments,\n          object = { '0': x, 'length': x },\n          props = [];\n\n      Ctor.prototype = { 'valueOf': x, 'y': x };\n      for (var key in new Ctor) { props.push(key); }\n\n      /**\n       * Detect if functions can be decompiled by `Function#toString`\n       * (all but Firefox OS certified apps, older Opera mobile browsers, and\n       * the PlayStation 3; forced `false` for Windows 8 apps).\n       *\n       * @memberOf _.support\n       * @type boolean\n       */\n      support.funcDecomp = /\\bthis\\b/.test(function() { return this; });\n\n      /**\n       * Detect if `Function#name` is supported (all but IE).\n       *\n       * @memberOf _.support\n       * @type boolean\n       */\n      support.funcNames = typeof Function.name == 'string';\n\n      /**\n       * Detect if the DOM is supported.\n       *\n       * @memberOf _.support\n       * @type boolean\n       */\n      try {\n        support.dom = document.createDocumentFragment().nodeType === 11;\n      } catch(e) {\n        support.dom = false;\n      }\n\n      /**\n       * Detect if `arguments` object indexes are non-enumerable.\n       *\n       * In Firefox < 4, IE < 9, PhantomJS, and Safari < 5.1 `arguments` object\n       * indexes are non-enumerable. Chrome < 25 and Node.js < 0.11.0 treat\n       * `arguments` object indexes as non-enumerable and fail `hasOwnProperty`\n       * checks for indexes that exceed the number of function parameters and\n       * whose associated argument values are `0`.\n       *\n       * @memberOf _.support\n       * @type boolean\n       */\n      try {\n        support.nonEnumArgs = !propertyIsEnumerable.call(args, 1);\n      } catch(e) {\n        support.nonEnumArgs = true;\n      }\n    }(1, 0));\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB). Change the following template settings to use\n     * alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type Object\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type string\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type Object\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type Function\n         */\n        '_': lodash\n      }\n    };\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = null;\n      this.__dir__ = 1;\n      this.__dropCount__ = 0;\n      this.__filtered__ = false;\n      this.__iteratees__ = null;\n      this.__takeCount__ = POSITIVE_INFINITY;\n      this.__views__ = null;\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var actions = this.__actions__,\n          iteratees = this.__iteratees__,\n          views = this.__views__,\n          result = new LazyWrapper(this.__wrapped__);\n\n      result.__actions__ = actions ? arrayCopy(actions) : null;\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = iteratees ? arrayCopy(iteratees) : null;\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = views ? arrayCopy(views) : null;\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value();\n      if (!isArray(array)) {\n        return baseWrapperValue(array, this.__actions__);\n      }\n      var dir = this.__dir__,\n          isRight = dir < 0,\n          view = getView(0, array.length, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          takeCount = nativeMin(length, this.__takeCount__),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees ? iteratees.length : 0,\n          resIndex = 0,\n          result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type;\n\n          if (type == LAZY_DROP_WHILE_FLAG) {\n            if (data.done && (isRight ? (index > data.index) : (index < data.index))) {\n              data.count = 0;\n              data.done = false;\n            }\n            data.index = index;\n            if (!data.done) {\n              var limit = data.limit;\n              if (!(data.done = limit > -1 ? (data.count++ >= limit) : !iteratee(value))) {\n                continue outer;\n              }\n            }\n          } else {\n            var computed = iteratee(value);\n            if (type == LAZY_MAP_FLAG) {\n              value = computed;\n            } else if (!computed) {\n              if (type == LAZY_FILTER_FLAG) {\n                continue outer;\n              } else {\n                break outer;\n              }\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    /**\n     * Creates a cache object to store key/value pairs.\n     *\n     * @private\n     * @static\n     * @name Cache\n     * @memberOf _.memoize\n     */\n    function MapCache() {\n      this.__data__ = {};\n    }\n\n    /**\n     * Removes `key` and its value from the cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed successfully, else `false`.\n     */\n    function mapDelete(key) {\n      return this.has(key) && delete this.__data__[key];\n    }\n\n    /**\n     * Gets the cached value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the cached value.\n     */\n    function mapGet(key) {\n      return key == '__proto__' ? undefined : this.__data__[key];\n    }\n\n    /**\n     * Checks if a cached value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapHas(key) {\n      return key != '__proto__' && hasOwnProperty.call(this.__data__, key);\n    }\n\n    /**\n     * Sets `value` to `key` of the cache.\n     *\n     * @private\n     * @name set\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the value to cache.\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache object.\n     */\n    function mapSet(key, value) {\n      if (key != '__proto__') {\n        this.__data__[key] = value;\n      }\n      return this;\n    }\n\n    /**\n     *\n     * Creates a cache object to store unique values.\n     *\n     * @private\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var length = values ? values.length : 0;\n\n      this.data = { 'hash': nativeCreate(null), 'set': new Set };\n      while (length--) {\n        this.push(values[length]);\n      }\n    }\n\n    /**\n     * Checks if `value` is in `cache` mimicking the return signature of\n     * `_.indexOf` by returning `0` if the value is found, else `-1`.\n     *\n     * @private\n     * @param {Object} cache The cache to search.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `0` if `value` is found, else `-1`.\n     */\n    function cacheIndexOf(cache, value) {\n      var data = cache.data,\n          result = (typeof value == 'string' || isObject(value)) ? data.set.has(value) : data.hash[value];\n\n      return result ? 0 : -1;\n    }\n\n    /**\n     * Adds `value` to the cache.\n     *\n     * @private\n     * @name push\n     * @memberOf SetCache\n     * @param {*} value The value to cache.\n     */\n    function cachePush(value) {\n      var data = this.data;\n      if (typeof value == 'string' || isObject(value)) {\n        data.set.add(value);\n      } else {\n        data.hash[value] = true;\n      }\n    }\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayCopy(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.forEach` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayEach(array, iteratee) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        if (iteratee(array[index], index, array) === false) {\n          break;\n        }\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.forEachRight` for arrays without support for\n     * callback shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayEachRight(array, iteratee) {\n      var length = array.length;\n\n      while (length--) {\n        if (iteratee(array[length], length, array) === false) {\n          break;\n        }\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.every` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     */\n    function arrayEvery(array, predicate) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        if (!predicate(array[index], index, array)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * A specialized version of `_.filter` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function arrayFilter(array, predicate) {\n      var index = -1,\n          length = array.length,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result[++resIndex] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.map` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function arrayMap(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = iteratee(array[index], index, array);\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.max` for arrays without support for iteratees.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the maximum value.\n     */\n    function arrayMax(array) {\n      var index = -1,\n          length = array.length,\n          result = NEGATIVE_INFINITY;\n\n      while (++index < length) {\n        var value = array[index];\n        if (value > result) {\n          result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.min` for arrays without support for iteratees.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the minimum value.\n     */\n    function arrayMin(array) {\n      var index = -1,\n          length = array.length,\n          result = POSITIVE_INFINITY;\n\n      while (++index < length) {\n        var value = array[index];\n        if (value < result) {\n          result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.reduce` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {boolean} [initFromArray] Specify using the first element of `array`\n     *  as the initial value.\n     * @returns {*} Returns the accumulated value.\n     */\n    function arrayReduce(array, iteratee, accumulator, initFromArray) {\n      var index = -1,\n          length = array.length;\n\n      if (initFromArray && length) {\n        accumulator = array[++index];\n      }\n      while (++index < length) {\n        accumulator = iteratee(accumulator, array[index], index, array);\n      }\n      return accumulator;\n    }\n\n    /**\n     * A specialized version of `_.reduceRight` for arrays without support for\n     * callback shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {boolean} [initFromArray] Specify using the last element of `array`\n     *  as the initial value.\n     * @returns {*} Returns the accumulated value.\n     */\n    function arrayReduceRight(array, iteratee, accumulator, initFromArray) {\n      var length = array.length;\n      if (initFromArray && length) {\n        accumulator = array[--length];\n      }\n      while (length--) {\n        accumulator = iteratee(accumulator, array[length], length, array);\n      }\n      return accumulator;\n    }\n\n    /**\n     * A specialized version of `_.some` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function arraySome(array, predicate) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        if (predicate(array[index], index, array)) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `_.sum` for arrays without support for iteratees.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the sum.\n     */\n    function arraySum(array) {\n      var length = array.length,\n          result = 0;\n\n      while (length--) {\n        result += +array[length] || 0;\n      }\n      return result;\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assign` use.\n     *\n     * @private\n     * @param {*} objectValue The destination object property value.\n     * @param {*} sourceValue The source object property value.\n     * @returns {*} Returns the value to assign to the destination object.\n     */\n    function assignDefaults(objectValue, sourceValue) {\n      return objectValue === undefined ? sourceValue : objectValue;\n    }\n\n    /**\n     * Used by `_.template` to customize its `_.assign` use.\n     *\n     * **Note:** This function is like `assignDefaults` except that it ignores\n     * inherited property values when checking if a property is `undefined`.\n     *\n     * @private\n     * @param {*} objectValue The destination object property value.\n     * @param {*} sourceValue The source object property value.\n     * @param {string} key The key associated with the object and source values.\n     * @param {Object} object The destination object.\n     * @returns {*} Returns the value to assign to the destination object.\n     */\n    function assignOwnDefaults(objectValue, sourceValue, key, object) {\n      return (objectValue === undefined || !hasOwnProperty.call(object, key))\n        ? sourceValue\n        : objectValue;\n    }\n\n    /**\n     * A specialized version of `_.assign` for customizing assigned values without\n     * support for argument juggling, multiple sources, and `this` binding `customizer`\n     * functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     */\n    function assignWith(object, source, customizer) {\n      var props = keys(source);\n      push.apply(props, getSymbols(source));\n\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index],\n            value = object[key],\n            result = customizer(value, source[key], key, object, source);\n\n        if ((result === result ? (result !== value) : (value === value)) ||\n            (value === undefined && !(key in object))) {\n          object[key] = result;\n        }\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for argument juggling,\n     * multiple sources, and `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    var baseAssign = nativeAssign || function(object, source) {\n      return source == null\n        ? object\n        : baseCopy(source, getSymbols(source), baseCopy(source, keys(source), object));\n    };\n\n    /**\n     * The base implementation of `_.at` without support for string collections\n     * and individual key arguments.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {number[]|string[]} props The property names or indexes of elements to pick.\n     * @returns {Array} Returns the new array of picked elements.\n     */\n    function baseAt(collection, props) {\n      var index = -1,\n          isNil = collection == null,\n          isArr = !isNil && isArrayLike(collection),\n          length = isArr && collection.length,\n          propsLength = props.length,\n          result = Array(propsLength);\n\n      while(++index < propsLength) {\n        var key = props[index];\n        if (isArr) {\n          result[index] = isIndex(key, length) ? collection[key] : undefined;\n        } else {\n          result[index] = isNil ? undefined : collection[key];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Array} props The property names to copy.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @returns {Object} Returns `object`.\n     */\n    function baseCopy(source, props, object) {\n      object || (object = {});\n\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n        object[key] = source[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `_.callback` which supports specifying the\n     * number of arguments to provide to `func`.\n     *\n     * @private\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {number} [argCount] The number of arguments to provide to `func`.\n     * @returns {Function} Returns the callback.\n     */\n    function baseCallback(func, thisArg, argCount) {\n      var type = typeof func;\n      if (type == 'function') {\n        return thisArg === undefined\n          ? func\n          : bindCallback(func, thisArg, argCount);\n      }\n      if (func == null) {\n        return identity;\n      }\n      if (type == 'object') {\n        return baseMatches(func);\n      }\n      return thisArg === undefined\n        ? property(func)\n        : baseMatchesProperty(func, thisArg);\n    }\n\n    /**\n     * The base implementation of `_.clone` without support for argument juggling\n     * and `this` binding `customizer` functions.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @param {Function} [customizer] The function to customize cloning values.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The object `value` belongs to.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates clones with source counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, isDeep, customizer, key, object, stackA, stackB) {\n      var result;\n      if (customizer) {\n        result = object ? customizer(value, key, object) : customizer(value);\n      }\n      if (result !== undefined) {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return arrayCopy(value, result);\n        }\n      } else {\n        var tag = objToString.call(value),\n            isFunc = tag == funcTag;\n\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          result = initCloneObject(isFunc ? {} : value);\n          if (!isDeep) {\n            return baseAssign(result, value);\n          }\n        } else {\n          return cloneableTags[tag]\n            ? initCloneByTag(value, tag, isDeep)\n            : (object ? value : {});\n        }\n      }\n      // Check for circular references and return corresponding clone.\n      stackA || (stackA = []);\n      stackB || (stackB = []);\n\n      var length = stackA.length;\n      while (length--) {\n        if (stackA[length] == value) {\n          return stackB[length];\n        }\n      }\n      // Add the source value to the stack of traversed objects and associate it with its clone.\n      stackA.push(value);\n      stackB.push(result);\n\n      // Recursively populate clone (susceptible to call stack limits).\n      (isArr ? arrayEach : baseForOwn)(value, function(subValue, key) {\n        result[key] = baseClone(subValue, isDeep, customizer, key, value, stackA, stackB);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} prototype The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function Object() {}\n      return function(prototype) {\n        if (isObject(prototype)) {\n          Object.prototype = prototype;\n          var result = new Object;\n          Object.prototype = null;\n        }\n        return result || context.Object();\n      };\n    }());\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts an index\n     * of where to slice the arguments to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Object} args The arguments provide to `func`.\n     * @returns {number} Returns the timer id.\n     */\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * The base implementation of `_.difference` which accepts a single array\n     * of values to exclude.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values) {\n      var length = array ? array.length : 0,\n          result = [];\n\n      if (!length) {\n        return result;\n      }\n      var index = -1,\n          indexOf = getIndexOf(),\n          isCommon = indexOf == baseIndexOf,\n          cache = (isCommon && values.length >= 200) ? createCache(values) : null,\n          valuesLength = values.length;\n\n      if (cache) {\n        indexOf = cacheIndexOf;\n        isCommon = false;\n        values = cache;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index];\n\n        if (isCommon && value === value) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === value) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (indexOf(values, value, 0) < 0) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object|string} Returns `collection`.\n     */\n    var baseEach = createBaseEach(baseForOwn);\n\n    /**\n     * The base implementation of `_.forEachRight` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object|string} Returns `collection`.\n     */\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n\n    /**\n     * The base implementation of `_.every` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = start == null ? 0 : (+start || 0);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : (+end || 0);\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : (end >>> 0);\n      start >>>= 0;\n\n      while (start < length) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.find`, `_.findLast`, `_.findKey`, and `_.findLastKey`,\n     * without support for callback shorthands and `this` binding, which iterates\n     * over `collection` using the provided `eachFunc`.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {Function} eachFunc The function to iterate over `collection`.\n     * @param {boolean} [retKey] Specify returning the key of the found element\n     *  instead of the element itself.\n     * @returns {*} Returns the found element or its key, else `undefined`.\n     */\n    function baseFind(collection, predicate, eachFunc, retKey) {\n      var result;\n      eachFunc(collection, function(value, key, collection) {\n        if (predicate(value, key, collection)) {\n          result = retKey ? key : value;\n          return false;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with added support for restricting\n     * flattening and specifying the start index.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {boolean} [isDeep] Specify a deep flatten.\n     * @param {boolean} [isStrict] Restrict flattening to arrays-like objects.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, isDeep, isStrict) {\n      var index = -1,\n          length = array.length,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (isObjectLike(value) && isArrayLike(value) &&\n            (isStrict || isArray(value) || isArguments(value))) {\n          if (isDeep) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            value = baseFlatten(value, isDeep, isStrict);\n          }\n          var valIndex = -1,\n              valLength = value.length;\n\n          while (++valIndex < valLength) {\n            result[++resIndex] = value[valIndex];\n          }\n        } else if (!isStrict) {\n          result[++resIndex] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForIn` and `baseForOwn` which iterates\n     * over `object` properties returned by `keysFunc` invoking `iteratee` for\n     * each property. Iteratee functions may exit iteration early by explicitly\n     * returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseFor = createBaseFor();\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseForRight = createBaseFor(true);\n\n    /**\n     * The base implementation of `_.forIn` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForIn(object, iteratee) {\n      return baseFor(object, iteratee, keysIn);\n    }\n\n    /**\n     * The base implementation of `_.forOwn` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from those provided.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the new array of filtered property names.\n     */\n    function baseFunctions(object, props) {\n      var index = -1,\n          length = props.length,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var key = props[index];\n        if (isFunction(object[key])) {\n          result[++resIndex] = key;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `get` without support for string paths\n     * and default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} path The path of the property to get.\n     * @param {string} [pathKey] The key representation of path.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseGet(object, path, pathKey) {\n      if (object == null) {\n        return;\n      }\n      if (pathKey !== undefined && pathKey in toObject(object)) {\n        path = [pathKey];\n      }\n      var index = -1,\n          length = path.length;\n\n      while (object != null && ++index < length) {\n        object = object[path[index]];\n      }\n      return (index && index == length) ? object : undefined;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` without support for `this` binding\n     * `customizer` functions.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparing values.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA] Tracks traversed `value` objects.\n     * @param {Array} [stackB] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, customizer, isLoose, stackA, stackB) {\n      // Exit early for identical values.\n      if (value === other) {\n        return true;\n      }\n      var valType = typeof value,\n          othType = typeof other;\n\n      // Exit early for unlike primitive values.\n      if ((valType != 'function' && valType != 'object' && othType != 'function' && othType != 'object') ||\n          value == null || other == null) {\n        // Return `false` unless both values are `NaN`.\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, baseIsEqual, customizer, isLoose, stackA, stackB);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} [customizer] The function to customize comparing objects.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA=[]] Tracks traversed `value` objects.\n     * @param {Array} [stackB=[]] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, equalFunc, customizer, isLoose, stackA, stackB) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = arrayTag,\n          othTag = arrayTag;\n\n      if (!objIsArr) {\n        objTag = objToString.call(object);\n        if (objTag == argsTag) {\n          objTag = objectTag;\n        } else if (objTag != objectTag) {\n          objIsArr = isTypedArray(object);\n        }\n      }\n      if (!othIsArr) {\n        othTag = objToString.call(other);\n        if (othTag == argsTag) {\n          othTag = objectTag;\n        } else if (othTag != objectTag) {\n          othIsArr = isTypedArray(other);\n        }\n      }\n      var objIsObj = objTag == objectTag,\n          othIsObj = othTag == objectTag,\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && !(objIsArr || objIsObj)) {\n        return equalByTag(object, other, objTag);\n      }\n      if (!isLoose) {\n        var valWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (valWrapped || othWrapped) {\n          return equalFunc(valWrapped ? object.value() : object, othWrapped ? other.value() : other, customizer, isLoose, stackA, stackB);\n        }\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      // For more information on detecting circular references see https://es5.github.io/#JO.\n      stackA || (stackA = []);\n      stackB || (stackB = []);\n\n      var length = stackA.length;\n      while (length--) {\n        if (stackA[length] == object) {\n          return stackB[length] == other;\n        }\n      }\n      // Add `object` and `other` to the stack of traversed objects.\n      stackA.push(object);\n      stackB.push(other);\n\n      var result = (objIsArr ? equalArrays : equalObjects)(object, other, equalFunc, customizer, isLoose, stackA, stackB);\n\n      stackA.pop();\n      stackB.pop();\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The source property names to match.\n     * @param {Array} values The source values to match.\n     * @param {Array} strictCompareFlags Strict comparison flags for source values.\n     * @param {Function} [customizer] The function to customize comparing objects.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, props, values, strictCompareFlags, customizer) {\n      var index = -1,\n          length = props.length,\n          noCustomizer = !customizer;\n\n      while (++index < length) {\n        if ((noCustomizer && strictCompareFlags[index])\n              ? values[index] !== object[props[index]]\n              : !(props[index] in object)\n            ) {\n          return false;\n        }\n      }\n      index = -1;\n      while (++index < length) {\n        var key = props[index],\n            objValue = object[key],\n            srcValue = values[index];\n\n        if (noCustomizer && strictCompareFlags[index]) {\n          var result = objValue !== undefined || (key in object);\n        } else {\n          result = customizer ? customizer(objValue, srcValue, key) : undefined;\n          if (result === undefined) {\n            result = baseIsEqual(srcValue, objValue, customizer, true);\n          }\n        }\n        if (!result) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var index = -1,\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = iteratee(value, key, collection);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which does not clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new function.\n     */\n    function baseMatches(source) {\n      var props = keys(source),\n          length = props.length;\n\n      if (!length) {\n        return constant(true);\n      }\n      if (length == 1) {\n        var key = props[0],\n            value = source[key];\n\n        if (isStrictComparable(value)) {\n          return function(object) {\n            if (object == null) {\n              return false;\n            }\n            return object[key] === value && (value !== undefined || (key in toObject(object)));\n          };\n        }\n      }\n      var values = Array(length),\n          strictCompareFlags = Array(length);\n\n      while (length--) {\n        value = source[props[length]];\n        values[length] = value;\n        strictCompareFlags[length] = isStrictComparable(value);\n      }\n      return function(object) {\n        return object != null && baseIsMatch(toObject(object), props, values, strictCompareFlags);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which does not which does\n     * not clone `value`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} value The value to compare.\n     * @returns {Function} Returns the new function.\n     */\n    function baseMatchesProperty(path, value) {\n      var isArr = isArray(path),\n          isCommon = isKey(path) && isStrictComparable(value),\n          pathKey = (path + '');\n\n      path = toPath(path);\n      return function(object) {\n        if (object == null) {\n          return false;\n        }\n        var key = pathKey;\n        object = toObject(object);\n        if ((isArr || !isCommon) && !(key in object)) {\n          object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n          if (object == null) {\n            return false;\n          }\n          key = last(path);\n          object = toObject(object);\n        }\n        return object[key] === value\n          ? (value !== undefined || (key in object))\n          : baseIsEqual(value, object[key], null, true);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for argument juggling,\n     * multiple sources, and `this` binding `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {Function} [customizer] The function to customize merging properties.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates values with source counterparts.\n     * @returns {Object} Returns `object`.\n     */\n    function baseMerge(object, source, customizer, stackA, stackB) {\n      if (!isObject(object)) {\n        return object;\n      }\n      var isSrcArr = isArrayLike(source) && (isArray(source) || isTypedArray(source));\n      if (!isSrcArr) {\n        var props = keys(source);\n        push.apply(props, getSymbols(source));\n      }\n      arrayEach(props || source, function(srcValue, key) {\n        if (props) {\n          key = srcValue;\n          srcValue = source[key];\n        }\n        if (isObjectLike(srcValue)) {\n          stackA || (stackA = []);\n          stackB || (stackB = []);\n          baseMergeDeep(object, source, key, baseMerge, customizer, stackA, stackB);\n        }\n        else {\n          var value = object[key],\n              result = customizer ? customizer(value, srcValue, key, object, source) : undefined,\n              isCommon = result === undefined;\n\n          if (isCommon) {\n            result = srcValue;\n          }\n          if ((isSrcArr || result !== undefined) &&\n              (isCommon || (result === result ? (result !== value) : (value === value)))) {\n            object[key] = result;\n          }\n        }\n      });\n      return object;\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize merging properties.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates values with source counterparts.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseMergeDeep(object, source, key, mergeFunc, customizer, stackA, stackB) {\n      var length = stackA.length,\n          srcValue = source[key];\n\n      while (length--) {\n        if (stackA[length] == srcValue) {\n          object[key] = stackB[length];\n          return;\n        }\n      }\n      var value = object[key],\n          result = customizer ? customizer(value, srcValue, key, object, source) : undefined,\n          isCommon = result === undefined;\n\n      if (isCommon) {\n        result = srcValue;\n        if (isArrayLike(srcValue) && (isArray(srcValue) || isTypedArray(srcValue))) {\n          result = isArray(value)\n            ? value\n            : (isArrayLike(value) ? arrayCopy(value) : []);\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          result = isArguments(value)\n            ? toPlainObject(value)\n            : (isPlainObject(value) ? value : {});\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      // Add the source value to the stack of traversed objects and associate\n      // it with its merged value.\n      stackA.push(srcValue);\n      stackB.push(result);\n\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        object[key] = mergeFunc(result, srcValue, customizer, stackA, stackB);\n      } else if (result === result ? (result !== value) : (value === value)) {\n        object[key] = result;\n      }\n    }\n\n    /**\n     * The base implementation of `_.property` without support for deep paths.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @returns {Function} Returns the new function.\n     */\n    function baseProperty(key) {\n      return function(object) {\n        return object == null ? undefined : object[key];\n      };\n    }\n\n    /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new function.\n     */\n    function basePropertyDeep(path) {\n      var pathKey = (path + '');\n      path = toPath(path);\n      return function(object) {\n        return baseGet(object, path, pathKey);\n      };\n    }\n\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * index arguments and capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAt(array, indexes) {\n      var length = array ? indexes.length : 0;\n      while (length--) {\n        var index = parseFloat(indexes[length]);\n        if (index != previous && isIndex(index)) {\n          var previous = index;\n          splice.call(array, index, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.random` without support for argument juggling\n     * and returning floating-point numbers.\n     *\n     * @private\n     * @param {number} min The minimum possible value.\n     * @param {number} max The maximum possible value.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(min, max) {\n      return min + floor(nativeRandom() * (max - min + 1));\n    }\n\n    /**\n     * The base implementation of `_.reduce` and `_.reduceRight` without support\n     * for callback shorthands and `this` binding, which iterates over `collection`\n     * using the provided `eachFunc`.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {*} accumulator The initial value.\n     * @param {boolean} initFromCollection Specify using the first or last element\n     *  of `collection` as the initial value.\n     * @param {Function} eachFunc The function to iterate over `collection`.\n     * @returns {*} Returns the accumulated value.\n     */\n    function baseReduce(collection, iteratee, accumulator, initFromCollection, eachFunc) {\n      eachFunc(collection, function(value, index, collection) {\n        accumulator = initFromCollection\n          ? (initFromCollection = false, value)\n          : iteratee(accumulator, value, index, collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop detection.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      start = start == null ? 0 : (+start || 0);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : (+end || 0);\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortBy` which uses `comparer` to define\n     * the sort order of `array` and replaces criteria objects with their\n     * corresponding values.\n     *\n     * @private\n     * @param {Array} array The array to sort.\n     * @param {Function} comparer The function to define sort order.\n     * @returns {Array} Returns `array`.\n     */\n    function baseSortBy(array, comparer) {\n      var length = array.length;\n\n      array.sort(comparer);\n      while (length--) {\n        array[length] = array[length].value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.sortByOrder` without param guards.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {boolean[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseSortByOrder(collection, iteratees, orders) {\n      var callback = getCallback(),\n          index = -1;\n\n      iteratees = arrayMap(iteratees, function(iteratee) { return callback(iteratee); });\n\n      var result = baseMap(collection, function(value) {\n        var criteria = arrayMap(iteratees, function(iteratee) { return iteratee(value); });\n        return { 'criteria': criteria, 'index': ++index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.sum` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {number} Returns the sum.\n     */\n    function baseSum(collection, iteratee) {\n      var result = 0;\n      baseEach(collection, function(value, index, collection) {\n        result += +iteratee(value, index, collection) || 0;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.uniq` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The function invoked per iteration.\n     * @returns {Array} Returns the new duplicate-value-free array.\n     */\n    function baseUniq(array, iteratee) {\n      var index = -1,\n          indexOf = getIndexOf(),\n          length = array.length,\n          isCommon = indexOf == baseIndexOf,\n          isLarge = isCommon && length >= 200,\n          seen = isLarge ? createCache() : null,\n          result = [];\n\n      if (seen) {\n        indexOf = cacheIndexOf;\n        isCommon = false;\n      } else {\n        isLarge = false;\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value, index, array) : value;\n\n        if (isCommon && value === value) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (indexOf(seen, computed, 0) < 0) {\n          if (iteratee || isLarge) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.values` and `_.valuesIn` which creates an\n     * array of `object` property values corresponding to the property names\n     * of `props`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} props The property names to get values for.\n     * @returns {Object} Returns the array of property values.\n     */\n    function baseValues(object, props) {\n      var index = -1,\n          length = props.length,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = object[props[index]];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.dropRightWhile`, `_.dropWhile`, `_.takeRightWhile`,\n     * and `_.takeWhile` without support for callback shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) && predicate(array[index], index, array)) {}\n      return isDrop\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to peform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      var index = -1,\n          length = actions.length;\n\n      while (++index < length) {\n        var args = [result],\n            action = actions[index];\n\n        push.apply(args, action.args);\n        result = action.func.apply(action.thisArg, args);\n      }\n      return result;\n    }\n\n    /**\n     * Performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function binaryIndex(array, value, retHighest) {\n      var low = 0,\n          high = array ? array.length : low;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if (retHighest ? (computed <= value) : (computed < value)) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return binaryIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * This function is like `binaryIndex` except that it invokes `iteratee` for\n     * `value` and each element of `array` to compute their sort ranking. The\n     * iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function binaryIndexBy(array, value, iteratee, retHighest) {\n      value = iteratee(value);\n\n      var low = 0,\n          high = array ? array.length : 0,\n          valIsNaN = value !== value,\n          valIsUndef = value === undefined;\n\n      while (low < high) {\n        var mid = floor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            isReflexive = computed === computed;\n\n        if (valIsNaN) {\n          var setLow = isReflexive || retHighest;\n        } else if (valIsUndef) {\n          setLow = isReflexive && (retHighest || computed !== undefined);\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * A specialized version of `baseCallback` which only supports `this` binding\n     * and specifying the number of arguments to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {number} [argCount] The number of arguments to provide to `func`.\n     * @returns {Function} Returns the callback.\n     */\n    function bindCallback(func, thisArg, argCount) {\n      if (typeof func != 'function') {\n        return identity;\n      }\n      if (thisArg === undefined) {\n        return func;\n      }\n      switch (argCount) {\n        case 1: return function(value) {\n          return func.call(thisArg, value);\n        };\n        case 3: return function(value, index, collection) {\n          return func.call(thisArg, value, index, collection);\n        };\n        case 4: return function(accumulator, value, index, collection) {\n          return func.call(thisArg, accumulator, value, index, collection);\n        };\n        case 5: return function(value, other, key, object, source) {\n          return func.call(thisArg, value, other, key, object, source);\n        };\n      }\n      return function() {\n        return func.apply(thisArg, arguments);\n      };\n    }\n\n    /**\n     * Creates a clone of the given array buffer.\n     *\n     * @private\n     * @param {ArrayBuffer} buffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function bufferClone(buffer) {\n      return bufferSlice.call(buffer, 0);\n    }\n    if (!bufferSlice) {\n      // PhantomJS has `ArrayBuffer` and `Uint8Array` but not `Float64Array`.\n      bufferClone = !(ArrayBuffer && Uint8Array) ? constant(null) : function(buffer) {\n        var byteLength = buffer.byteLength,\n            floatLength = Float64Array ? floor(byteLength / FLOAT64_BYTES_PER_ELEMENT) : 0,\n            offset = floatLength * FLOAT64_BYTES_PER_ELEMENT,\n            result = new ArrayBuffer(byteLength);\n\n        if (floatLength) {\n          var view = new Float64Array(result, 0, floatLength);\n          view.set(new Float64Array(buffer, 0, floatLength));\n        }\n        if (byteLength != offset) {\n          view = new Uint8Array(result, offset);\n          view.set(new Uint8Array(buffer, offset));\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array|Object} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders) {\n      var holdersLength = holders.length,\n          argsIndex = -1,\n          argsLength = nativeMax(args.length - holdersLength, 0),\n          leftIndex = -1,\n          leftLength = partials.length,\n          result = Array(argsLength + leftLength);\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        result[holders[argsIndex]] = args[argsIndex];\n      }\n      while (argsLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array|Object} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders) {\n      var holdersIndex = -1,\n          holdersLength = holders.length,\n          argsIndex = -1,\n          argsLength = nativeMax(args.length - holdersLength, 0),\n          rightIndex = -1,\n          rightLength = partials.length,\n          result = Array(argsLength + rightLength);\n\n      while (++argsIndex < argsLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var offset = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        result[offset + holders[holdersIndex]] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * Creates a function that aggregates a collection, creating an accumulator\n     * object composed from the results of running each element in the collection\n     * through an iteratee.\n     *\n     * **Note:** This function is used to create `_.countBy`, `_.groupBy`, `_.indexBy`,\n     * and `_.partition`.\n     *\n     * @private\n     * @param {Function} setter The function to set keys and values of the accumulator object.\n     * @param {Function} [initializer] The function to initialize the accumulator object.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee, thisArg) {\n        var result = initializer ? initializer() : {};\n        iteratee = getCallback(iteratee, thisArg, 3);\n\n        if (isArray(collection)) {\n          var index = -1,\n              length = collection.length;\n\n          while (++index < length) {\n            var value = collection[index];\n            setter(result, value, iteratee(value, index, collection), collection);\n          }\n        } else {\n          baseEach(collection, function(value, key, collection) {\n            setter(result, value, iteratee(value, key, collection), collection);\n          });\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that assigns properties of source object(s) to a given\n     * destination object.\n     *\n     * **Note:** This function is used to create `_.assign`, `_.defaults`, and `_.merge`.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return restParam(function(object, sources) {\n        var index = -1,\n            length = object == null ? 0 : sources.length,\n            customizer = length > 2 && sources[length - 2],\n            guard = length > 2 && sources[2],\n            thisArg = length > 1 && sources[length - 1];\n\n        if (typeof customizer == 'function') {\n          customizer = bindCallback(customizer, thisArg, 5);\n          length -= 2;\n        } else {\n          customizer = typeof thisArg == 'function' ? thisArg : null;\n          length -= (customizer ? 1 : 0);\n        }\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n          customizer = length < 3 ? null : customizer;\n          length = 1;\n        }\n        while (++index < length) {\n          var source = sources[index];\n          if (source) {\n            assigner(object, source, customizer);\n          }\n        }\n        return object;\n      });\n    }\n\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseEach(eachFunc, fromRight) {\n      return function(collection, iteratee) {\n        var length = collection ? getLength(collection) : 0;\n        if (!isLength(length)) {\n          return eachFunc(collection, iteratee);\n        }\n        var index = fromRight ? length : -1,\n            iterable = toObject(collection);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n        return collection;\n      };\n    }\n\n    /**\n     * Creates a base function for `_.forIn` or `_.forInRight`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseFor(fromRight) {\n      return function(object, iteratee, keysFunc) {\n        var iterable = toObject(object),\n            props = keysFunc(object),\n            length = props.length,\n            index = fromRight ? length : -1;\n\n        while ((fromRight ? index-- : ++index < length)) {\n          var key = props[index];\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` and invokes it with the `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to bind.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new bound function.\n     */\n    function createBindWrapper(func, thisArg) {\n      var Ctor = createCtorWrapper(func);\n\n      function wrapper() {\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(thisArg, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `Set` cache object to optimize linear searches of large arrays.\n     *\n     * @private\n     * @param {Array} [values] The values to cache.\n     * @returns {null|Object} Returns the new cache object if `Set` is supported, else `null`.\n     */\n    var createCache = !(nativeCreate && Set) ? constant(null) : function(values) {\n      return new SetCache(values);\n    };\n\n    /**\n     * Creates a function that produces compound words out of the words in a\n     * given string.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        var index = -1,\n            array = words(deburr(string)),\n            length = array.length,\n            result = '';\n\n        while (++index < length) {\n          result = callback(result, array[index], index);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtorWrapper(Ctor) {\n      return function() {\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, arguments);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a `_.curry` or `_.curryRight` function.\n     *\n     * @private\n     * @param {boolean} flag The curry bit flag.\n     * @returns {Function} Returns the new curry function.\n     */\n    function createCurry(flag) {\n      function curryFunc(func, arity, guard) {\n        if (guard && isIterateeCall(func, arity, guard)) {\n          arity = null;\n        }\n        var result = createWrapper(func, flag, null, null, null, null, null, arity);\n        result.placeholder = curryFunc.placeholder;\n        return result;\n      }\n      return curryFunc;\n    }\n\n    /**\n     * Creates a `_.max` or `_.min` function.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to get the extremum value from an array.\n     * @param {boolean} [isMin] Specify returning the minimum, instead of the maximum,\n     *  extremum value.\n     * @returns {Function} Returns the new extremum function.\n     */\n    function createExtremum(arrayFunc, isMin) {\n      return function(collection, iteratee, thisArg) {\n        if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\n          iteratee = null;\n        }\n        var func = getCallback(),\n            noIteratee = iteratee == null;\n\n        if (!(func === baseCallback && noIteratee)) {\n          noIteratee = false;\n          iteratee = func(iteratee, thisArg, 3);\n        }\n        if (noIteratee) {\n          var isArr = isArray(collection);\n          if (!isArr && isString(collection)) {\n            iteratee = charAtCallback;\n          } else {\n            return arrayFunc(isArr ? collection : toIterable(collection));\n          }\n        }\n        return extremumBy(collection, iteratee, isMin);\n      };\n    }\n\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFind(eachFunc, fromRight) {\n      return function(collection, predicate, thisArg) {\n        predicate = getCallback(predicate, thisArg, 3);\n        if (isArray(collection)) {\n          var index = baseFindIndex(collection, predicate, fromRight);\n          return index > -1 ? collection[index] : undefined;\n        }\n        return baseFind(collection, predicate, eachFunc);\n      };\n    }\n\n    /**\n     * Creates a `_.findIndex` or `_.findLastIndex` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFindIndex(fromRight) {\n      return function(array, predicate, thisArg) {\n        if (!(array && array.length)) {\n          return -1;\n        }\n        predicate = getCallback(predicate, thisArg, 3);\n        return baseFindIndex(array, predicate, fromRight);\n      };\n    }\n\n    /**\n     * Creates a `_.findKey` or `_.findLastKey` function.\n     *\n     * @private\n     * @param {Function} objectFunc The function to iterate over an object.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFindKey(objectFunc) {\n      return function(object, predicate, thisArg) {\n        predicate = getCallback(predicate, thisArg, 3);\n        return baseFind(object, predicate, objectFunc, true);\n      };\n    }\n\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n    function createFlow(fromRight) {\n      return function() {\n        var length = arguments.length;\n        if (!length) {\n          return function() { return arguments[0]; };\n        }\n        var wrapper,\n            index = fromRight ? length : -1,\n            leftIndex = 0,\n            funcs = Array(length);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          var func = funcs[leftIndex++] = arguments[index];\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n          var funcName = wrapper ? '' : getFuncName(func);\n          wrapper = funcName == 'wrapper' ? new LodashWrapper([]) : wrapper;\n        }\n        index = wrapper ? -1 : length;\n        while (++index < length) {\n          func = funcs[index];\n          funcName = getFuncName(func);\n\n          var data = funcName == 'wrapper' ? getData(func) : null;\n          if (data && isLaziable(data[0]) && data[1] == (ARY_FLAG | CURRY_FLAG | PARTIAL_FLAG | REARG_FLAG) && !data[4].length && data[9] == 1) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = (func.length == 1 && isLaziable(func)) ? wrapper[funcName]() : wrapper.thru(func);\n          }\n        }\n        return function() {\n          var args = arguments;\n          if (wrapper && args.length == 1 && isArray(args[0])) {\n            return wrapper.plant(args[0]).value();\n          }\n          var index = 0,\n              result = funcs[index].apply(this, args);\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n          return result;\n        };\n      };\n    }\n\n    /**\n     * Creates a function for `_.forEach` or `_.forEachRight`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over an array.\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @returns {Function} Returns the new each function.\n     */\n    function createForEach(arrayFunc, eachFunc) {\n      return function(collection, iteratee, thisArg) {\n        return (typeof iteratee == 'function' && thisArg === undefined && isArray(collection))\n          ? arrayFunc(collection, iteratee)\n          : eachFunc(collection, bindCallback(iteratee, thisArg, 3));\n      };\n    }\n\n    /**\n     * Creates a function for `_.forIn` or `_.forInRight`.\n     *\n     * @private\n     * @param {Function} objectFunc The function to iterate over an object.\n     * @returns {Function} Returns the new each function.\n     */\n    function createForIn(objectFunc) {\n      return function(object, iteratee, thisArg) {\n        if (typeof iteratee != 'function' || thisArg !== undefined) {\n          iteratee = bindCallback(iteratee, thisArg, 3);\n        }\n        return objectFunc(object, iteratee, keysIn);\n      };\n    }\n\n    /**\n     * Creates a function for `_.forOwn` or `_.forOwnRight`.\n     *\n     * @private\n     * @param {Function} objectFunc The function to iterate over an object.\n     * @returns {Function} Returns the new each function.\n     */\n    function createForOwn(objectFunc) {\n      return function(object, iteratee, thisArg) {\n        if (typeof iteratee != 'function' || thisArg !== undefined) {\n          iteratee = bindCallback(iteratee, thisArg, 3);\n        }\n        return objectFunc(object, iteratee);\n      };\n    }\n\n    /**\n     * Creates a function for `_.mapKeys` or `_.mapValues`.\n     *\n     * @private\n     * @param {boolean} [isMapKeys] Specify mapping keys instead of values.\n     * @returns {Function} Returns the new map function.\n     */\n    function createObjectMapper(isMapKeys) {\n      return function(object, iteratee, thisArg) {\n        var result = {};\n        iteratee = getCallback(iteratee, thisArg, 3);\n\n        baseForOwn(object, function(value, key, object) {\n          var mapped = iteratee(value, key, object);\n          key = isMapKeys ? mapped : key;\n          value = isMapKeys ? value : mapped;\n          result[key] = value;\n        });\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function for `_.padLeft` or `_.padRight`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify padding from the right.\n     * @returns {Function} Returns the new pad function.\n     */\n    function createPadDir(fromRight) {\n      return function(string, length, chars) {\n        string = baseToString(string);\n        return (fromRight ? string : '') + createPadding(string, length, chars) + (fromRight ? '' : string);\n      };\n    }\n\n    /**\n     * Creates a `_.partial` or `_.partialRight` function.\n     *\n     * @private\n     * @param {boolean} flag The partial bit flag.\n     * @returns {Function} Returns the new partial function.\n     */\n    function createPartial(flag) {\n      var partialFunc = restParam(function(func, partials) {\n        var holders = replaceHolders(partials, partialFunc.placeholder);\n        return createWrapper(func, flag, null, partials, holders);\n      });\n      return partialFunc;\n    }\n\n    /**\n     * Creates a function for `_.reduce` or `_.reduceRight`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over an array.\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @returns {Function} Returns the new each function.\n     */\n    function createReduce(arrayFunc, eachFunc) {\n      return function(collection, iteratee, accumulator, thisArg) {\n        var initFromArray = arguments.length < 3;\n        return (typeof iteratee == 'function' && thisArg === undefined && isArray(collection))\n          ? arrayFunc(collection, iteratee, accumulator, initFromArray)\n          : baseReduce(collection, getCallback(iteratee, thisArg, 4), accumulator, initFromArray, eachFunc);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` and invokes it with optional `this`\n     * binding of, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to reference.\n     * @param {number} bitmask The bitmask of flags. See `createWrapper` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybridWrapper(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & ARY_FLAG,\n          isBind = bitmask & BIND_FLAG,\n          isBindKey = bitmask & BIND_KEY_FLAG,\n          isCurry = bitmask & CURRY_FLAG,\n          isCurryBound = bitmask & CURRY_BOUND_FLAG,\n          isCurryRight = bitmask & CURRY_RIGHT_FLAG;\n\n      var Ctor = !isBindKey && createCtorWrapper(func),\n          key = func;\n\n      function wrapper() {\n        // Avoid `arguments` object use disqualifying optimizations by\n        // converting it to an array before providing it to other functions.\n        var length = arguments.length,\n            index = length,\n            args = Array(length);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight);\n        }\n        if (isCurry || isCurryRight) {\n          var placeholder = wrapper.placeholder,\n              argsHolders = replaceHolders(args, placeholder);\n\n          length -= argsHolders.length;\n          if (length < arity) {\n            var newArgPos = argPos ? arrayCopy(argPos) : null,\n                newArity = nativeMax(arity - length, 0),\n                newsHolders = isCurry ? argsHolders : null,\n                newHoldersRight = isCurry ? null : argsHolders,\n                newPartials = isCurry ? args : null,\n                newPartialsRight = isCurry ? null : args;\n\n            bitmask |= (isCurry ? PARTIAL_FLAG : PARTIAL_RIGHT_FLAG);\n            bitmask &= ~(isCurry ? PARTIAL_RIGHT_FLAG : PARTIAL_FLAG);\n\n            if (!isCurryBound) {\n              bitmask &= ~(BIND_FLAG | BIND_KEY_FLAG);\n            }\n            var newData = [func, bitmask, thisArg, newPartials, newsHolders, newPartialsRight, newHoldersRight, newArgPos, ary, newArity],\n                result = createHybridWrapper.apply(undefined, newData);\n\n            if (isLaziable(func)) {\n              setData(result, newData);\n            }\n            result.placeholder = placeholder;\n            return result;\n          }\n        }\n        var thisBinding = isBind ? thisArg : this;\n        if (isBindKey) {\n          func = thisBinding[key];\n        }\n        if (argPos) {\n          args = reorder(args, argPos);\n        }\n        if (isAry && ary < args.length) {\n          args.length = ary;\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? (Ctor || createCtorWrapper(func)) : func;\n        return fn.apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates the padding required for `string` based on the given `length`.\n     * The `chars` string is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {string} string The string to create padding for.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the pad for `string`.\n     */\n    function createPadding(string, length, chars) {\n      var strLength = string.length;\n      length = +length;\n\n      if (strLength >= length || !nativeIsFinite(length)) {\n        return '';\n      }\n      var padLength = length - strLength;\n      chars = chars == null ? ' ' : (chars + '');\n      return repeat(chars, ceil(padLength / chars.length)).slice(0, padLength);\n    }\n\n    /**\n     * Creates a function that wraps `func` and invokes it with the optional `this`\n     * binding of `thisArg` and the `partials` prepended to those provided to\n     * the wrapper.\n     *\n     * @private\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {number} bitmask The bitmask of flags. See `createWrapper` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to the new function.\n     * @returns {Function} Returns the new bound function.\n     */\n    function createPartialWrapper(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & BIND_FLAG,\n          Ctor = createCtorWrapper(func);\n\n      function wrapper() {\n        // Avoid `arguments` object use disqualifying optimizations by\n        // converting it to an array before providing it `func`.\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(argsLength + leftLength);\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.sortedIndex` or `_.sortedLastIndex` function.\n     *\n     * @private\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {Function} Returns the new index function.\n     */\n    function createSortedIndex(retHighest) {\n      return function(array, value, iteratee, thisArg) {\n        var func = getCallback(iteratee);\n        return (func === baseCallback && iteratee == null)\n          ? binaryIndex(array, value, retHighest)\n          : binaryIndexBy(array, value, func(iteratee, thisArg, 1), retHighest);\n      };\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to reference.\n     * @param {number} bitmask The bitmask of flags.\n     *  The bitmask may be composed of the following flags:\n     *     1 - `_.bind`\n     *     2 - `_.bindKey`\n     *     4 - `_.curry` or `_.curryRight` of a bound function\n     *     8 - `_.curry`\n     *    16 - `_.curryRight`\n     *    32 - `_.partial`\n     *    64 - `_.partialRight`\n     *   128 - `_.rearg`\n     *   256 - `_.ary`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrapper(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(PARTIAL_FLAG | PARTIAL_RIGHT_FLAG);\n        partials = holders = null;\n      }\n      length -= (holders ? holders.length : 0);\n      if (bitmask & PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = null;\n      }\n      var data = isBindKey ? null : getData(func),\n          newData = [func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity];\n\n      if (data) {\n        mergeData(newData, data);\n        bitmask = newData[1];\n        arity = newData[9];\n      }\n      newData[9] = arity == null\n        ? (isBindKey ? 0 : func.length)\n        : (nativeMax(arity - length, 0) || 0);\n\n      if (bitmask == BIND_FLAG) {\n        var result = createBindWrapper(newData[0], newData[2]);\n      } else if ((bitmask == PARTIAL_FLAG || bitmask == (BIND_FLAG | PARTIAL_FLAG)) && !newData[4].length) {\n        result = createPartialWrapper.apply(undefined, newData);\n      } else {\n        result = createHybridWrapper.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setter(result, newData);\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} [customizer] The function to customize comparing arrays.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA] Tracks traversed `value` objects.\n     * @param {Array} [stackB] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, equalFunc, customizer, isLoose, stackA, stackB) {\n      var index = -1,\n          arrLength = array.length,\n          othLength = other.length,\n          result = true;\n\n      if (arrLength != othLength && !(isLoose && othLength > arrLength)) {\n        return false;\n      }\n      // Deep compare the contents, ignoring non-numeric properties.\n      while (result && ++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index];\n\n        result = undefined;\n        if (customizer) {\n          result = isLoose\n            ? customizer(othValue, arrValue, index)\n            : customizer(arrValue, othValue, index);\n        }\n        if (result === undefined) {\n          // Recursively compare arrays (susceptible to call stack limits).\n          if (isLoose) {\n            var othIndex = othLength;\n            while (othIndex--) {\n              othValue = other[othIndex];\n              result = (arrValue && arrValue === othValue) || equalFunc(arrValue, othValue, customizer, isLoose, stackA, stackB);\n              if (result) {\n                break;\n              }\n            }\n          } else {\n            result = (arrValue && arrValue === othValue) || equalFunc(arrValue, othValue, customizer, isLoose, stackA, stackB);\n          }\n        }\n      }\n      return !!result;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} value The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag) {\n      switch (tag) {\n        case boolTag:\n        case dateTag:\n          // Coerce dates and booleans to numbers, dates to milliseconds and booleans\n          // to `1` or `0` treating invalid dates coerced to `NaN` as not equal.\n          return +object == +other;\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case numberTag:\n          // Treat `NaN` vs. `NaN` as equal.\n          return (object != +object)\n            ? other != +other\n            : object == +other;\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings primitives and string\n          // objects as equal. See https://es5.github.io/#x15.10.6.4 for more details.\n          return object == (other + '');\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} [customizer] The function to customize comparing values.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA] Tracks traversed `value` objects.\n     * @param {Array} [stackB] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, equalFunc, customizer, isLoose, stackA, stackB) {\n      var objProps = keys(object),\n          objLength = objProps.length,\n          othProps = keys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isLoose) {\n        return false;\n      }\n      var skipCtor = isLoose,\n          index = -1;\n\n      while (++index < objLength) {\n        var key = objProps[index],\n            result = isLoose ? key in other : hasOwnProperty.call(other, key);\n\n        if (result) {\n          var objValue = object[key],\n              othValue = other[key];\n\n          result = undefined;\n          if (customizer) {\n            result = isLoose\n              ? customizer(othValue, objValue, key)\n              : customizer(objValue, othValue, key);\n          }\n          if (result === undefined) {\n            // Recursively compare objects (susceptible to call stack limits).\n            result = (objValue && objValue === othValue) || equalFunc(objValue, othValue, customizer, isLoose, stackA, stackB);\n          }\n        }\n        if (!result) {\n          return false;\n        }\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n      if (!skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor &&\n            ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Gets the extremum value of `collection` invoking `iteratee` for each value\n     * in `collection` to generate the criterion by which the value is ranked.\n     * The `iteratee` is invoked with three arguments: (value, index, collection).\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {boolean} [isMin] Specify returning the minimum, instead of the\n     *  maximum, extremum value.\n     * @returns {*} Returns the extremum value.\n     */\n    function extremumBy(collection, iteratee, isMin) {\n      var exValue = isMin ? POSITIVE_INFINITY : NEGATIVE_INFINITY,\n          computed = exValue,\n          result = computed;\n\n      baseEach(collection, function(value, index, collection) {\n        var current = iteratee(value, index, collection);\n        if ((isMin ? (current < computed) : (current > computed)) ||\n            (current === exValue && current === result)) {\n          computed = current;\n          result = value;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * Gets the appropriate \"callback\" function. If the `_.callback` method is\n     * customized this function returns the custom method, otherwise it returns\n     * the `baseCallback` function. If arguments are provided the chosen function\n     * is invoked with them and its result is returned.\n     *\n     * @private\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getCallback(func, thisArg, argCount) {\n      var result = lodash.callback || callback;\n      result = result === callback ? baseCallback : result;\n      return argCount ? result(func, thisArg, argCount) : result;\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n    var getFuncName = (function() {\n      if (!support.funcNames) {\n        return constant('');\n      }\n      if (constant.name == 'constant') {\n        return baseProperty('name');\n      }\n      return function(func) {\n        var result = func.name,\n            array = realNames[result],\n            length = array ? array.length : 0;\n\n        while (length--) {\n          var data = array[length],\n              otherFunc = data.func;\n\n          if (otherFunc == null || otherFunc == func) {\n            return data.name;\n          }\n        }\n        return result;\n      };\n    }());\n\n    /**\n     * Gets the appropriate \"indexOf\" function. If the `_.indexOf` method is\n     * customized this function returns the custom method, otherwise it returns\n     * the `baseIndexOf` function. If arguments are provided the chosen function\n     * is invoked with them and its result is returned.\n     *\n     * @private\n     * @returns {Function|number} Returns the chosen function or its result.\n     */\n    function getIndexOf(collection, target, fromIndex) {\n      var result = lodash.indexOf || indexOf;\n      result = result === indexOf ? baseIndexOf : result;\n      return collection ? result(collection, target, fromIndex) : result;\n    }\n\n    /**\n     * Gets the \"length\" property value of `object`.\n     *\n     * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n     * that affects Safari on at least iOS 8.1-8.3 ARM64.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {*} Returns the \"length\" value.\n     */\n    var getLength = baseProperty('length');\n\n    /**\n     * Creates an array of the own symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbols = !getOwnPropertySymbols ? constant([]) : function(object) {\n      return getOwnPropertySymbols(toObject(object));\n    };\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} [transforms] The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms ? transforms.length : 0;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length);\n\n      // Add array properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      var Ctor = object.constructor;\n      if (!(typeof Ctor == 'function' && Ctor instanceof Ctor)) {\n        Ctor = Object;\n      }\n      return new Ctor;\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return bufferClone(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          var buffer = object.buffer;\n          return new Ctor(isDeep ? bufferClone(buffer) : buffer, object.byteOffset, object.length);\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          var result = new Ctor(object.source, reFlags.exec(object));\n          result.lastIndex = object.lastIndex;\n      }\n      return result;\n    }\n\n    /**\n     * Invokes the method at `path` on `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */\n    function invokePath(object, path, args) {\n      if (object != null && !isKey(path, object)) {\n        path = toPath(path);\n        object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n        path = last(path);\n      }\n      var func = object == null ? object : object[path];\n      return func == null ? undefined : func.apply(object, args);\n    }\n\n    /**\n     * Checks if `value` is array-like.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     */\n    function isArrayLike(value) {\n      return value != null && isLength(getLength(value));\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      value = +value;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n      return value > -1 && value % 1 == 0 && value < length;\n    }\n\n    /**\n     * Checks if the provided arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call, else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number'\n          ? (isArrayLike(object) && isIndex(index, object.length))\n          : (type == 'string' && index in object)) {\n        var other = object[index];\n        return value === value ? (value === other) : (other !== other);\n      }\n      return false;\n    }\n\n    /**\n     * Checks if `value` is a property name and not a property path.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n     */\n    function isKey(value, object) {\n      var type = typeof value;\n      if ((type == 'string' && reIsPlainProp.test(value)) || type == 'number') {\n        return true;\n      }\n      if (isArray(value)) {\n        return false;\n      }\n      var result = !reIsDeepProp.test(value);\n      return result || (object != null && value in toObject(object));\n    }\n\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart, else `false`.\n     */\n    function isLaziable(func) {\n      var funcName = getFuncName(func);\n      return !!funcName && func === lodash[funcName] && funcName in LazyWrapper.prototype;\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This function is based on [`ToLength`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength).\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     */\n    function isLength(value) {\n      return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && !isObject(value);\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers required to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and `_.rearg`\n     * augment function arguments, making the order in which they are executed important,\n     * preventing the merging of metadata. However, we make an exception for a safe\n     * common case where curried functions have `_.ary` and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < ARY_FLAG;\n\n      var isCombo =\n        (srcBitmask == ARY_FLAG && bitmask == CURRY_FLAG) ||\n        (srcBitmask == ARY_FLAG && bitmask == REARG_FLAG && data[7].length <= source[8]) ||\n        (srcBitmask == (ARY_FLAG | REARG_FLAG) && bitmask == CURRY_FLAG);\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= (bitmask & BIND_FLAG) ? 0 : CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : arrayCopy(value);\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : arrayCopy(source[4]);\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : arrayCopy(value);\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : arrayCopy(source[6]);\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = arrayCopy(value);\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * A specialized version of `_.pick` which picks `object` properties specified\n     * by `props`.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} props The property names to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function pickByArray(object, props) {\n      object = toObject(object);\n\n      var index = -1,\n          length = props.length,\n          result = {};\n\n      while (++index < length) {\n        var key = props[index];\n        if (key in object) {\n          result[key] = object[key];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.pick` which picks `object` properties `predicate`\n     * returns truthy for.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Object} Returns the new object.\n     */\n    function pickByCallback(object, predicate) {\n      var result = {};\n      baseForIn(object, function(value, key, object) {\n        if (predicate(value, key, object)) {\n          result[key] = value;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = arrayCopy(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity function\n     * to avoid garbage collection pauses in V8. See [V8 issue 2070](https://code.google.com/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = (function() {\n      var count = 0,\n          lastCalled = 0;\n\n      return function(key, value) {\n        var stamp = now(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return key;\n          }\n        } else {\n          count = 0;\n        }\n        return baseSetData(key, value);\n      };\n    }());\n\n    /**\n     * A fallback implementation of `_.isPlainObject` which checks if `value`\n     * is an object created by the `Object` constructor or has a `[[Prototype]]`\n     * of `null`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     */\n    function shimIsPlainObject(value) {\n      var Ctor,\n          support = lodash.support;\n\n      // Exit early for non `Object` objects.\n      if (!(isObjectLike(value) && objToString.call(value) == objectTag) ||\n          (!hasOwnProperty.call(value, 'constructor') &&\n            (Ctor = value.constructor, typeof Ctor == 'function' && !(Ctor instanceof Ctor)))) {\n        return false;\n      }\n      // IE < 9 iterates inherited properties before own properties. If the first\n      // iterated property is an object's own property then there are no inherited\n      // enumerable properties.\n      var result;\n      // In most environments an object's own properties are iterated before\n      // its inherited properties. If the last iterated property is an object's\n      // own property then there are no inherited enumerable properties.\n      baseForIn(value, function(subValue, key) {\n        result = key;\n      });\n      return result === undefined || hasOwnProperty.call(value, result);\n    }\n\n    /**\n     * A fallback implementation of `Object.keys` which creates an array of the\n     * own enumerable property names of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function shimKeys(object) {\n      var props = keysIn(object),\n          propsLength = props.length,\n          length = propsLength && object.length,\n          support = lodash.support;\n\n      var allowIndexes = length && isLength(length) &&\n        (isArray(object) || (support.nonEnumArgs && isArguments(object)));\n\n      var index = -1,\n          result = [];\n\n      while (++index < propsLength) {\n        var key = props[index];\n        if ((allowIndexes && isIndex(key, length)) || hasOwnProperty.call(object, key)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to an array-like object if it is not one.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {Array|Object} Returns the array-like object.\n     */\n    function toIterable(value) {\n      if (value == null) {\n        return [];\n      }\n      if (!isArrayLike(value)) {\n        return values(value);\n      }\n      return isObject(value) ? value : Object(value);\n    }\n\n    /**\n     * Converts `value` to an object if it is not one.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {Object} Returns the object.\n     */\n    function toObject(value) {\n      return isObject(value) ? value : Object(value);\n    }\n\n    /**\n     * Converts `value` to property path array if it is not one.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {Array} Returns the property path array.\n     */\n    function toPath(value) {\n      if (isArray(value)) {\n        return value;\n      }\n      var result = [];\n      baseToString(value).replace(rePropName, function(match, number, quote, string) {\n        result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n      });\n      return result;\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      return wrapper instanceof LazyWrapper\n        ? wrapper.clone()\n        : new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__, arrayCopy(wrapper.__actions__));\n    }\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `collection` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the new array containing chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if (guard ? isIterateeCall(array, size, guard) : size == null) {\n        size = 1;\n      } else {\n        size = nativeMax(+size || 1, 1);\n      }\n      var index = 0,\n          length = array ? array.length : 0,\n          resIndex = -1,\n          result = Array(ceil(length / size));\n\n      while (index < length) {\n        result[++resIndex] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array ? array.length : 0,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[++resIndex] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array excluding all values of the provided arrays using\n     * [`SameValueZero`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The arrays of values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.difference([1, 2, 3], [4, 2]);\n     * // => [1, 3]\n     */\n    var difference = restParam(function(array, values) {\n      return isArrayLike(array)\n        ? baseDifference(array, baseFlatten(values, false, true))\n        : [];\n    });\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      return baseSlice(array, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      n = length - (+n || 0);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * bound to `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that match the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRightWhile([1, 2, 3], function(n) {\n     *   return n > 1;\n     * });\n     * // => [1]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.dropRightWhile(users, { 'user': 'pebbles', 'active': false }), 'user');\n     * // => ['barney', 'fred']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.dropRightWhile(users, 'active', false), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.dropRightWhile(users, 'active'), 'user');\n     * // => ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3), true, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * bound to `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropWhile([1, 2, 3], function(n) {\n     *   return n < 3;\n     * });\n     * // => [3]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.dropWhile(users, { 'user': 'barney', 'active': false }), 'user');\n     * // => ['fred', 'pebbles']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.dropWhile(users, 'active', false), 'user');\n     * // => ['pebbles']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.dropWhile(users, 'active'), 'user');\n     * // => ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3), true)\n        : [];\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8], '*', 1, 2);\n     * // => [4, '*', 8]\n     */\n    function fill(array, value, start, end) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(chr) {\n     *   return chr.user == 'barney';\n     * });\n     * // => 0\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findIndex(users, 'active', false);\n     * // => 0\n     *\n     * // using the `_.property` callback shorthand\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    var findIndex = createFindIndex();\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(chr) {\n     *   return chr.user == 'pebbles';\n     * });\n     * // => 2\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findLastIndex(users, 'active', false);\n     * // => 2\n     *\n     * // using the `_.property` callback shorthand\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    var findLastIndex = createFindIndex(true);\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @alias head\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.first([1, 2, 3]);\n     * // => 1\n     *\n     * _.first([]);\n     * // => undefined\n     */\n    function first(array) {\n      return array ? array[0] : undefined;\n    }\n\n    /**\n     * Flattens a nested array. If `isDeep` is `true` the array is recursively\n     * flattened, otherwise it is only flattened a single level.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {boolean} [isDeep] Specify a deep flatten.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, 3, [4]]]);\n     * // => [1, 2, 3, [4]]\n     *\n     * // using `isDeep`\n     * _.flatten([1, [2, 3, [4]]], true);\n     * // => [1, 2, 3, 4]\n     */\n    function flatten(array, isDeep, guard) {\n      var length = array ? array.length : 0;\n      if (guard && isIterateeCall(array, isDeep, guard)) {\n        isDeep = false;\n      }\n      return length ? baseFlatten(array, isDeep) : [];\n    }\n\n    /**\n     * Recursively flattens a nested array.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to recursively flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, 3, [4]]]);\n     * // => [1, 2, 3, 4]\n     */\n    function flattenDeep(array) {\n      var length = array ? array.length : 0;\n      return length ? baseFlatten(array, true) : [];\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using [`SameValueZero`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it is used as the offset\n     * from the end of `array`. If `array` is sorted providing `true` for `fromIndex`\n     * performs a faster binary search.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {*} value The value to search for.\n     * @param {boolean|number} [fromIndex=0] The index to search from or `true`\n     *  to perform a binary search on a sorted array.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // using `fromIndex`\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     *\n     * // performing a binary search\n     * _.indexOf([1, 1, 2, 2], 2, true);\n     * // => 2\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return -1;\n      }\n      if (typeof fromIndex == 'number') {\n        fromIndex = fromIndex < 0 ? nativeMax(length + fromIndex, 0) : fromIndex;\n      } else if (fromIndex) {\n        var index = binaryIndex(array, value),\n            other = array[index];\n\n        if (value === value ? (value === other) : (other !== other)) {\n          return index;\n        }\n        return -1;\n      }\n      return baseIndexOf(array, value, fromIndex || 0);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      return dropRight(array, 1);\n    }\n\n    /**\n     * Creates an array of unique values in all provided arrays using\n     * [`SameValueZero`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of shared values.\n     * @example\n     * _.intersection([1, 2], [4, 2], [2, 1]);\n     * // => [2]\n     */\n    function intersection() {\n      var args = [],\n          argsIndex = -1,\n          argsLength = arguments.length,\n          caches = [],\n          indexOf = getIndexOf(),\n          isCommon = indexOf == baseIndexOf,\n          result = [];\n\n      while (++argsIndex < argsLength) {\n        var value = arguments[argsIndex];\n        if (isArrayLike(value)) {\n          args.push(value);\n          caches.push((isCommon && value.length >= 120) ? createCache(argsIndex && value) : null);\n        }\n      }\n      argsLength = args.length;\n      if (argsLength < 2) {\n        return result;\n      }\n      var array = args[0],\n          index = -1,\n          length = array ? array.length : 0,\n          seen = caches[0];\n\n      outer:\n      while (++index < length) {\n        value = array[index];\n        if ((seen ? cacheIndexOf(seen, value) : indexOf(result, value, 0)) < 0) {\n          argsIndex = argsLength;\n          while (--argsIndex) {\n            var cache = caches[argsIndex];\n            if ((cache ? cacheIndexOf(cache, value) : indexOf(args[argsIndex], value, 0)) < 0) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(value);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array ? array.length : 0;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {*} value The value to search for.\n     * @param {boolean|number} [fromIndex=array.length-1] The index to search from\n     *  or `true` to perform a binary search on a sorted array.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // using `fromIndex`\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     *\n     * // performing a binary search\n     * _.lastIndexOf([1, 1, 2, 2], 2, true);\n     * // => 3\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (typeof fromIndex == 'number') {\n        index = (fromIndex < 0 ? nativeMax(length + fromIndex, 0) : nativeMin(fromIndex || 0, length - 1)) + 1;\n      } else if (fromIndex) {\n        index = binaryIndex(array, value, true) - 1;\n        var other = array[index];\n        if (value === value ? (value === other) : (other !== other)) {\n          return index;\n        }\n        return -1;\n      }\n      if (value !== value) {\n        return indexOfNaN(array, index, true);\n      }\n      while (index--) {\n        if (array[index] === value) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Removes all provided values from `array` using\n     * [`SameValueZero`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.without`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3, 1, 2, 3];\n     *\n     * _.pull(array, 2, 3);\n     * console.log(array);\n     * // => [1, 1]\n     */\n    function pull() {\n      var args = arguments,\n          array = args[0];\n\n      if (!(array && array.length)) {\n        return array;\n      }\n      var index = 0,\n          indexOf = getIndexOf(),\n          length = args.length;\n\n      while (++index < length) {\n        var fromIndex = 0,\n            value = args[index];\n\n        while ((fromIndex = indexOf(array, value, fromIndex)) > -1) {\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to the given indexes and returns\n     * an array of the removed elements. Indexes may be specified as an array of\n     * indexes or as individual arguments.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove,\n     *  specified as individual indexes or arrays of indexes.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [5, 10, 15, 20];\n     * var evens = _.pullAt(array, 1, 3);\n     *\n     * console.log(array);\n     * // => [5, 15]\n     *\n     * console.log(evens);\n     * // => [10, 20]\n     */\n    var pullAt = restParam(function(array, indexes) {\n      indexes = baseFlatten(indexes);\n\n      var result = baseAt(array, indexes);\n      basePullAt(array, indexes.sort(baseCompareAscending));\n      return result;\n    });\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is bound to\n     * `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate, thisArg) {\n      var result = [];\n      if (!(array && array.length)) {\n        return result;\n      }\n      var index = -1,\n          indexes = [],\n          length = array.length;\n\n      predicate = getCallback(predicate, thisArg, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          indexes.push(index);\n        }\n      }\n      basePullAt(array, indexes);\n      return result;\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @alias tail\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.rest([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function rest(array) {\n      return drop(array, 1);\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This method is used instead of `Array#slice` to support node\n     * lists in IE < 9 and to ensure dense arrays are returned.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value` should\n     * be inserted into `array` in order to maintain its sort order. If an iteratee\n     * function is provided it is invoked for `value` and each element of `array`\n     * to compute their sort ranking. The iteratee is bound to `thisArg` and\n     * invoked with one argument; (value).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     *\n     * _.sortedIndex([4, 4, 5, 5], 5);\n     * // => 2\n     *\n     * var dict = { 'data': { 'thirty': 30, 'forty': 40, 'fifty': 50 } };\n     *\n     * // using an iteratee function\n     * _.sortedIndex(['thirty', 'fifty'], 'forty', function(word) {\n     *   return this.data[word];\n     * }, dict);\n     * // => 1\n     *\n     * // using the `_.property` callback shorthand\n     * _.sortedIndex([{ 'x': 30 }, { 'x': 50 }], { 'x': 40 }, 'x');\n     * // => 1\n     */\n    var sortedIndex = createSortedIndex();\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 4, 5, 5], 5);\n     * // => 4\n     */\n    var sortedLastIndex = createSortedIndex(true);\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      n = length - (+n || 0);\n      return baseSlice(array, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is bound to `thisArg`\n     * and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRightWhile([1, 2, 3], function(n) {\n     *   return n > 1;\n     * });\n     * // => [2, 3]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.takeRightWhile(users, { 'user': 'pebbles', 'active': false }), 'user');\n     * // => ['pebbles']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.takeRightWhile(users, 'active', false), 'user');\n     * // => ['fred', 'pebbles']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.takeRightWhile(users, 'active'), 'user');\n     * // => []\n     */\n    function takeRightWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3), false, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is bound to\n     * `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeWhile([1, 2, 3], function(n) {\n     *   return n < 3;\n     * });\n     * // => [1, 2]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false},\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.takeWhile(users, { 'user': 'barney', 'active': false }), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.takeWhile(users, 'active', false), 'user');\n     * // => ['barney', 'fred']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.takeWhile(users, 'active'), 'user');\n     * // => []\n     */\n    function takeWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3))\n        : [];\n    }\n\n    /**\n     * Creates an array of unique values, in order, of the provided arrays using\n     * [`SameValueZero`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([1, 2], [4, 2], [2, 1]);\n     * // => [1, 2, 4]\n     */\n    var union = restParam(function(arrays) {\n      return baseUniq(baseFlatten(arrays, false, true));\n    });\n\n    /**\n     * Creates a duplicate-free version of an array, using\n     * [`SameValueZero`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * for equality comparisons, in which only the first occurence of each element\n     * is kept. Providing `true` for `isSorted` performs a faster search algorithm\n     * for sorted arrays. If an iteratee function is provided it is invoked for\n     * each element in the array to generate the criterion by which uniqueness\n     * is computed. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index, array).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias unique\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {boolean} [isSorted] Specify the array is sorted.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new duplicate-value-free array.\n     * @example\n     *\n     * _.uniq([2, 1, 2]);\n     * // => [2, 1]\n     *\n     * // using `isSorted`\n     * _.uniq([1, 1, 2], true);\n     * // => [1, 2]\n     *\n     * // using an iteratee function\n     * _.uniq([1, 2.5, 1.5, 2], function(n) {\n     *   return this.floor(n);\n     * }, Math);\n     * // => [1, 2.5]\n     *\n     * // using the `_.property` callback shorthand\n     * _.uniq([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniq(array, isSorted, iteratee, thisArg) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (isSorted != null && typeof isSorted != 'boolean') {\n        thisArg = iteratee;\n        iteratee = isIterateeCall(array, isSorted, thisArg) ? null : isSorted;\n        isSorted = false;\n      }\n      var func = getCallback();\n      if (!(func === baseCallback && iteratee == null)) {\n        iteratee = func(iteratee, thisArg, 3);\n      }\n      return (isSorted && getIndexOf() == baseIndexOf)\n        ? sortedUniq(array, iteratee)\n        : baseUniq(array, iteratee);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-zip\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['fred', 'barney'], [30, 40], [true, false]);\n     * // => [['fred', 30, true], ['barney', 40, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['fred', 'barney'], [30, 40], [true, false]]\n     */\n    function unzip(array) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var index = -1,\n          length = 0;\n\n      array = arrayFilter(array, function(group) {\n        if (isArrayLike(group)) {\n          length = nativeMax(group.length, length);\n          return true;\n        }\n      });\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = arrayMap(array, baseProperty(index));\n      }\n      return result;\n    }\n\n    /**\n     * This method is like `_.unzip` except that it accepts an iteratee to specify\n     * how regrouped values should be combined. The `iteratee` is bound to `thisArg`\n     * and invoked with four arguments: (accumulator, value, index, group).\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @param {Function} [iteratee] The function to combine regrouped values.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n     * // => [[1, 10, 100], [2, 20, 200]]\n     *\n     * _.unzipWith(zipped, _.add);\n     * // => [3, 30, 300]\n     */\n    function unzipWith(array, iteratee, thisArg) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      var result = unzip(array);\n      if (iteratee == null) {\n        return result;\n      }\n      iteratee = bindCallback(iteratee, thisArg, 4);\n      return arrayMap(result, function(group) {\n        return arrayReduce(group, iteratee, undefined, true);\n      });\n    }\n\n    /**\n     * Creates an array excluding all provided values using\n     * [`SameValueZero`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to filter.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.without([1, 2, 1, 3], 1, 2);\n     * // => [3]\n     */\n    var without = restParam(function(array, values) {\n      return isArrayLike(array)\n        ? baseDifference(array, values)\n        : [];\n    });\n\n    /**\n     * Creates an array that is the [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the provided arrays.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of values.\n     * @example\n     *\n     * _.xor([1, 2], [4, 2]);\n     * // => [1, 4]\n     */\n    function xor() {\n      var index = -1,\n          length = arguments.length;\n\n      while (++index < length) {\n        var array = arguments[index];\n        if (isArrayLike(array)) {\n          var result = result\n            ? baseDifference(result, array).concat(baseDifference(array, result))\n            : array;\n        }\n      }\n      return result ? baseUniq(result) : [];\n    }\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the first\n     * elements of the given arrays, the second of which contains the second elements\n     * of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['fred', 'barney'], [30, 40], [true, false]);\n     * // => [['fred', 30, true], ['barney', 40, false]]\n     */\n    var zip = restParam(unzip);\n\n    /**\n     * The inverse of `_.pairs`; this method returns an object composed from arrays\n     * of property names and values. Provide either a single two dimensional array,\n     * e.g. `[[key1, value1], [key2, value2]]` or two arrays, one of property names\n     * and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @alias object\n     * @category Array\n     * @param {Array} props The property names.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject([['fred', 30], ['barney', 40]]);\n     * // => { 'fred': 30, 'barney': 40 }\n     *\n     * _.zipObject(['fred', 'barney'], [30, 40]);\n     * // => { 'fred': 30, 'barney': 40 }\n     */\n    function zipObject(props, values) {\n      var index = -1,\n          length = props ? props.length : 0,\n          result = {};\n\n      if (length && !values && !isArray(props[0])) {\n        values = [];\n      }\n      while (++index < length) {\n        var key = props[index];\n        if (values) {\n          result[key] = values[index];\n        } else if (key) {\n          result[key[0]] = key[1];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an iteratee to specify\n     * how grouped values should be combined. The `iteratee` is bound to `thisArg`\n     * and invoked with four arguments: (accumulator, value, index, group).\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @param {Function} [iteratee] The function to combine grouped values.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zipWith([1, 2], [10, 20], [100, 200], _.add);\n     * // => [111, 222]\n     */\n    var zipWith = restParam(function(arrays) {\n      var length = arrays.length,\n          iteratee = arrays[length - 2],\n          thisArg = arrays[length - 1];\n\n      if (length > 2 && typeof iteratee == 'function') {\n        length -= 2;\n      } else {\n        iteratee = (length > 1 && typeof thisArg == 'function') ? (--length, thisArg) : undefined;\n        thisArg = undefined;\n      }\n      arrays.length = length;\n      return unzipWith(arrays, iteratee, thisArg);\n    });\n\n    /**\n     * Creates a `lodash` object that wraps `value` with explicit method\n     * chaining enabled.\n     *\n     * @static\n     * @memberOf _\n     * @category Chain\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _.chain(users)\n     *   .sortBy('age')\n     *   .map(function(chr) {\n     *     return chr.user + ' is ' + chr.age;\n     *   })\n     *   .first()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor is\n     * bound to `thisArg` and invoked with one argument; (value). The purpose of\n     * this method is to \"tap into\" a method chain in order to perform operations\n     * on intermediate results within the chain.\n     *\n     * @static\n     * @memberOf _\n     * @category Chain\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @param {*} [thisArg] The `this` binding of `interceptor`.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor, thisArg) {\n      interceptor.call(thisArg, value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     *\n     * @static\n     * @memberOf _\n     * @category Chain\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @param {*} [thisArg] The `this` binding of `interceptor`.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n    function thru(value, interceptor, thisArg) {\n      return interceptor.call(thisArg, value);\n    }\n\n    /**\n     * Enables explicit method chaining on the wrapper object.\n     *\n     * @name chain\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // without explicit chaining\n     * _(users).first();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // with explicit chaining\n     * _(users).chain()\n     *   .first()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chained sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapper = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapper = wrapper.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapper.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Creates a clone of the chained sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapper = _(array).map(function(value) {\n     *   return Math.pow(value, 2);\n     * });\n     *\n     * var other = [3, 4];\n     * var otherWrapper = wrapper.plant(other);\n     *\n     * otherWrapper.value();\n     * // => [9, 16]\n     *\n     * wrapper.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * Reverses the wrapped array so the first element becomes the last, the\n     * second element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new reversed `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n      if (value instanceof LazyWrapper) {\n        if (this.__actions__.length) {\n          value = new LazyWrapper(this);\n        }\n        return new LodashWrapper(value.reverse(), this.__chain__);\n      }\n      return this.thru(function(value) {\n        return value.reverse();\n      });\n    }\n\n    /**\n     * Produces the result of coercing the unwrapped value to a string.\n     *\n     * @name toString\n     * @memberOf _\n     * @category Chain\n     * @returns {string} Returns the coerced string value.\n     * @example\n     *\n     * _([1, 2, 3]).toString();\n     * // => '1,2,3'\n     */\n    function wrapperToString() {\n      return (this.value() + '');\n    }\n\n    /**\n     * Executes the chained sequence to extract the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @alias run, toJSON, valueOf\n     * @category Chain\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /**\n     * Creates an array of elements corresponding to the given keys, or indexes,\n     * of `collection`. Keys may be specified as individual arguments or as arrays\n     * of keys.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {...(number|number[]|string|string[])} [props] The property names\n     *  or indexes of elements to pick, specified individually or in arrays.\n     * @returns {Array} Returns the new array of picked elements.\n     * @example\n     *\n     * _.at(['a', 'b', 'c'], [0, 2]);\n     * // => ['a', 'c']\n     *\n     * _.at(['barney', 'fred', 'pebbles'], 0, 2);\n     * // => ['barney', 'pebbles']\n     */\n    var at = restParam(function(collection, props) {\n      return baseAt(collection, baseFlatten(props));\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through `iteratee`. The corresponding value\n     * of each key is the number of times the key was returned by `iteratee`.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([4.3, 6.1, 6.4], function(n) {\n     *   return Math.floor(n);\n     * });\n     * // => { '4': 1, '6': 2 }\n     *\n     * _.countBy([4.3, 6.1, 6.4], function(n) {\n     *   return this.floor(n);\n     * }, Math);\n     * // => { '4': 1, '6': 2 }\n     *\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      hasOwnProperty.call(result, key) ? ++result[key] : (result[key] = 1);\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * The predicate is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias all\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': false },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.every(users, 'active', false);\n     * // => true\n     *\n     * // using the `_.property` callback shorthand\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (thisArg && isIterateeCall(collection, predicate, thisArg)) {\n        predicate = null;\n      }\n      if (typeof predicate != 'function' || thisArg !== undefined) {\n        predicate = getCallback(predicate, thisArg, 3);\n      }\n      return func(collection, predicate);\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is bound to `thisArg` and\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias select\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the new filtered array.\n     * @example\n     *\n     * _.filter([4, 5, 6], function(n) {\n     *   return n % 2 == 0;\n     * });\n     * // => [4, 6]\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.filter(users, { 'age': 36, 'active': true }), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.filter(users, 'active', false), 'user');\n     * // => ['fred']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.filter(users, 'active'), 'user');\n     * // => ['barney']\n     */\n    function filter(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      predicate = getCallback(predicate, thisArg, 3);\n      return func(collection, predicate);\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is bound to `thisArg` and\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias detect\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.result(_.find(users, function(chr) {\n     *   return chr.age < 40;\n     * }), 'user');\n     * // => 'barney'\n     *\n     * // using the `_.matches` callback shorthand\n     * _.result(_.find(users, { 'age': 1, 'active': true }), 'user');\n     * // => 'pebbles'\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.result(_.find(users, 'active', false), 'user');\n     * // => 'fred'\n     *\n     * // using the `_.property` callback shorthand\n     * _.result(_.find(users, 'active'), 'user');\n     * // => 'barney'\n     */\n    var find = createFind(baseEach);\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    var findLast = createFind(baseEachRight, true);\n\n    /**\n     * Performs a deep comparison between each element in `collection` and the\n     * source object, returning the first element that has equivalent property\n     * values.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. For comparing a single\n     * own or inherited property value see `_.matchesProperty`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Object} source The object of property values to match.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.result(_.findWhere(users, { 'age': 36, 'active': true }), 'user');\n     * // => 'barney'\n     *\n     * _.result(_.findWhere(users, { 'age': 40, 'active': false }), 'user');\n     * // => 'fred'\n     */\n    function findWhere(collection, source) {\n      return find(collection, baseMatches(source));\n    }\n\n    /**\n     * Iterates over elements of `collection` invoking `iteratee` for each element.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection). Iteratee functions may exit iteration early\n     * by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\" property\n     * are iterated like arrays. To avoid this behavior `_.forIn` or `_.forOwn`\n     * may be used for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @alias each\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array|Object|string} Returns `collection`.\n     * @example\n     *\n     * _([1, 2]).forEach(function(n) {\n     *   console.log(n);\n     * }).value();\n     * // => logs each value from left to right and returns the array\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(n, key) {\n     *   console.log(n, key);\n     * });\n     * // => logs each value-key pair and returns the object (iteration order is not guaranteed)\n     */\n    var forEach = createForEach(arrayEach, baseEach);\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array|Object|string} Returns `collection`.\n     * @example\n     *\n     * _([1, 2]).forEachRight(function(n) {\n     *   console.log(n);\n     * }).value();\n     * // => logs each value from right to left and returns the array\n     */\n    var forEachRight = createForEach(arrayEachRight, baseEachRight);\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through `iteratee`. The corresponding value\n     * of each key is an array of the elements responsible for generating the key.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([4.2, 6.1, 6.4], function(n) {\n     *   return Math.floor(n);\n     * });\n     * // => { '4': [4.2], '6': [6.1, 6.4] }\n     *\n     * _.groupBy([4.2, 6.1, 6.4], function(n) {\n     *   return this.floor(n);\n     * }, Math);\n     * // => { '4': [4.2], '6': [6.1, 6.4] }\n     *\n     * // using the `_.property` callback shorthand\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        result[key] = [value];\n      }\n    });\n\n    /**\n     * Checks if `value` is in `collection` using\n     * [`SameValueZero`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it is used as the offset\n     * from the end of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @alias contains, include\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {*} target The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.reduce`.\n     * @returns {boolean} Returns `true` if a matching element is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'user': 'fred', 'age': 40 }, 'fred');\n     * // => true\n     *\n     * _.includes('pebbles', 'eb');\n     * // => true\n     */\n    function includes(collection, target, fromIndex, guard) {\n      var length = collection ? getLength(collection) : 0;\n      if (!isLength(length)) {\n        collection = values(collection);\n        length = collection.length;\n      }\n      if (!length) {\n        return false;\n      }\n      if (typeof fromIndex != 'number' || (guard && isIterateeCall(target, fromIndex, guard))) {\n        fromIndex = 0;\n      } else {\n        fromIndex = fromIndex < 0 ? nativeMax(length + fromIndex, 0) : (fromIndex || 0);\n      }\n      return (typeof collection == 'string' || !isArray(collection) && isString(collection))\n        ? (fromIndex < length && collection.indexOf(target, fromIndex) > -1)\n        : (getIndexOf(collection, target, fromIndex) > -1);\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through `iteratee`. The corresponding value\n     * of each key is the last element responsible for generating the key. The\n     * iteratee function is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var keyData = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.indexBy(keyData, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.indexBy(keyData, function(object) {\n     *   return String.fromCharCode(object.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.indexBy(keyData, function(object) {\n     *   return this.fromCharCode(object.code);\n     * }, String);\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     */\n    var indexBy = createAggregator(function(result, value, key) {\n      result[key] = value;\n    });\n\n    /**\n     * Invokes the method at `path` on each element in `collection`, returning\n     * an array of the results of each invoked method. Any additional arguments\n     * are provided to each invoked method. If `methodName` is a function it is\n     * invoked for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Array|Function|string} path The path of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invoke([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invoke([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    var invoke = restParam(function(collection, path, args) {\n      var index = -1,\n          isFunc = typeof path == 'function',\n          isProp = isKey(path),\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value) {\n        var func = isFunc ? path : (isProp && value != null && value[path]);\n        result[++index] = func ? func.apply(value, args) : invokePath(value, path, args);\n      });\n      return result;\n    });\n\n    /**\n     * Creates an array of values by running each element in `collection` through\n     * `iteratee`. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * Many lodash methods are guarded to work as interatees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `callback`, `chunk`, `clone`, `create`, `curry`, `curryRight`,\n     * `drop`, `dropRight`, `every`, `fill`, `flatten`, `invert`, `max`, `min`,\n     * `parseInt`, `slice`, `sortBy`, `take`, `takeRight`, `template`, `trim`,\n     * `trimLeft`, `trimRight`, `trunc`, `random`, `range`, `sample`, `some`,\n     * `sum`, `uniq`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @alias collect\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function timesThree(n) {\n     *   return n * 3;\n     * }\n     *\n     * _.map([1, 2], timesThree);\n     * // => [3, 6]\n     *\n     * _.map({ 'a': 1, 'b': 2 }, timesThree);\n     * // => [3, 6] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // using the `_.property` callback shorthand\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee, thisArg) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      iteratee = getCallback(iteratee, thisArg, 3);\n      return func(collection, iteratee);\n    }\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, while the second of which\n     * contains elements `predicate` returns falsey for. The predicate is bound\n     * to `thisArg` and invoked with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * _.partition([1, 2, 3], function(n) {\n     *   return n % 2;\n     * });\n     * // => [[1, 3], [2]]\n     *\n     * _.partition([1.2, 2.3, 3.4], function(n) {\n     *   return this.floor(n) % 2;\n     * }, Math);\n     * // => [[1.2, 3.4], [2.3]]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * var mapper = function(array) {\n     *   return _.pluck(array, 'user');\n     * };\n     *\n     * // using the `_.matches` callback shorthand\n     * _.map(_.partition(users, { 'age': 1, 'active': false }), mapper);\n     * // => [['pebbles'], ['barney', 'fred']]\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.map(_.partition(users, 'active', false), mapper);\n     * // => [['barney', 'pebbles'], ['fred']]\n     *\n     * // using the `_.property` callback shorthand\n     * _.map(_.partition(users, 'active'), mapper);\n     * // => [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Gets the property value of `path` from all elements in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Array|string} path The path of the property to pluck.\n     * @returns {Array} Returns the property values.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.pluck(users, 'user');\n     * // => ['barney', 'fred']\n     *\n     * var userIndex = _.indexBy(users, 'user');\n     * _.pluck(userIndex, 'age');\n     * // => [36, 40] (iteration order is not guaranteed)\n     */\n    function pluck(collection, path) {\n      return map(collection, property(path));\n    }\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` through `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not provided the first element of `collection` is used as the initial\n     * value. The `iteratee` is bound to `thisArg` and invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as interatees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `includes`, `merge`, `sortByAll`, and `sortByOrder`\n     *\n     * @static\n     * @memberOf _\n     * @alias foldl, inject\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.reduce([1, 2], function(total, n) {\n     *   return total + n;\n     * });\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2 }, function(result, n, key) {\n     *   result[key] = n * 3;\n     *   return result;\n     * }, {});\n     * // => { 'a': 3, 'b': 6 } (iteration order is not guaranteed)\n     */\n    var reduce = createReduce(arrayReduce, baseEach);\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias foldr\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    var reduceRight = createReduce(arrayReduceRight, baseEachRight);\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the new filtered array.\n     * @example\n     *\n     * _.reject([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 0;\n     * });\n     * // => [1, 3]\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.reject(users, { 'age': 40, 'active': true }), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.reject(users, 'active', false), 'user');\n     * // => ['fred']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.reject(users, 'active'), 'user');\n     * // => ['barney']\n     */\n    function reject(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      predicate = getCallback(predicate, thisArg, 3);\n      return func(collection, function(value, index, collection) {\n        return !predicate(value, index, collection);\n      });\n    }\n\n    /**\n     * Gets a random element or `n` random elements from a collection.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to sample.\n     * @param {number} [n] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {*} Returns the random sample(s).\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     *\n     * _.sample([1, 2, 3, 4], 2);\n     * // => [3, 1]\n     */\n    function sample(collection, n, guard) {\n      if (guard ? isIterateeCall(collection, n, guard) : n == null) {\n        collection = toIterable(collection);\n        var length = collection.length;\n        return length > 0 ? collection[baseRandom(0, length - 1)] : undefined;\n      }\n      var result = shuffle(collection);\n      result.length = nativeMin(n < 0 ? 0 : (+n || 0), result.length);\n      return result;\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      collection = toIterable(collection);\n\n      var index = -1,\n          length = collection.length,\n          result = Array(length);\n\n      while (++index < length) {\n        var rand = baseRandom(0, index);\n        if (index != rand) {\n          result[index] = result[rand];\n        }\n        result[rand] = collection[index];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the size of `collection`.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      var length = collection ? getLength(collection) : 0;\n      return isLength(length) ? length : keys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * The function returns as soon as it finds a passing value and does not iterate\n     * over the entire collection. The predicate is bound to `thisArg` and invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias any\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.some(users, 'active', false);\n     * // => true\n     *\n     * // using the `_.property` callback shorthand\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (thisArg && isIterateeCall(collection, predicate, thisArg)) {\n        predicate = null;\n      }\n      if (typeof predicate != 'function' || thisArg !== undefined) {\n        predicate = getCallback(predicate, thisArg, 3);\n      }\n      return func(collection, predicate);\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection through `iteratee`. This method performs\n     * a stable sort, that is, it preserves the original sort order of equal elements.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * _.sortBy([1, 2, 3], function(n) {\n     *   return Math.sin(n);\n     * });\n     * // => [3, 1, 2]\n     *\n     * _.sortBy([1, 2, 3], function(n) {\n     *   return this.sin(n);\n     * }, Math);\n     * // => [3, 1, 2]\n     *\n     * var users = [\n     *   { 'user': 'fred' },\n     *   { 'user': 'pebbles' },\n     *   { 'user': 'barney' }\n     * ];\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.sortBy(users, 'user'), 'user');\n     * // => ['barney', 'fred', 'pebbles']\n     */\n    function sortBy(collection, iteratee, thisArg) {\n      if (collection == null) {\n        return [];\n      }\n      if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\n        iteratee = null;\n      }\n      var index = -1;\n      iteratee = getCallback(iteratee, thisArg, 3);\n\n      var result = baseMap(collection, function(value, key, collection) {\n        return { 'criteria': iteratee(value, key, collection), 'index': ++index, 'value': value };\n      });\n      return baseSortBy(result, compareAscending);\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it can sort by multiple iteratees\n     * or property names.\n     *\n     * If a property name is provided for an iteratee the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If an object is provided for an iteratee the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {...(Function|Function[]|Object|Object[]|string|string[])} iteratees\n     *  The iteratees to sort by, specified as individual values or arrays of values.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 42 },\n     *   { 'user': 'barney', 'age': 34 }\n     * ];\n     *\n     * _.map(_.sortByAll(users, ['user', 'age']), _.values);\n     * // => [['barney', 34], ['barney', 36], ['fred', 42], ['fred', 48]]\n     *\n     * _.map(_.sortByAll(users, 'user', function(chr) {\n     *   return Math.floor(chr.age / 10);\n     * }), _.values);\n     * // => [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 42]]\n     */\n    var sortByAll = restParam(function(collection, iteratees) {\n      if (collection == null) {\n        return [];\n      }\n      var guard = iteratees[2];\n      if (guard && isIterateeCall(iteratees[0], iteratees[1], guard)) {\n        iteratees.length = 1;\n      }\n      return baseSortByOrder(collection, baseFlatten(iteratees), []);\n    });\n\n    /**\n     * This method is like `_.sortByAll` except that it allows specifying the\n     * sort orders of the iteratees to sort by. A truthy value in `orders` will\n     * sort the corresponding property name in ascending order while a falsey\n     * value will sort it in descending order.\n     *\n     * If a property name is provided for an iteratee the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If an object is provided for an iteratee the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {boolean[]} orders The sort orders of `iteratees`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 34 },\n     *   { 'user': 'fred',   'age': 42 },\n     *   { 'user': 'barney', 'age': 36 }\n     * ];\n     *\n     * // sort by `user` in ascending order and by `age` in descending order\n     * _.map(_.sortByOrder(users, ['user', 'age'], [true, false]), _.values);\n     * // => [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 42]]\n     */\n    function sortByOrder(collection, iteratees, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n      if (guard && isIterateeCall(iteratees, orders, guard)) {\n        orders = null;\n      }\n      if (!isArray(iteratees)) {\n        iteratees = iteratees == null ? [] : [iteratees];\n      }\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n      return baseSortByOrder(collection, iteratees, orders);\n    }\n\n    /**\n     * Performs a deep comparison between each element in `collection` and the\n     * source object, returning an array of all elements that have equivalent\n     * property values.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. For comparing a single\n     * own or inherited property value see `_.matchesProperty`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Object} source The object of property values to match.\n     * @returns {Array} Returns the new filtered array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false, 'pets': ['hoppy'] },\n     *   { 'user': 'fred',   'age': 40, 'active': true, 'pets': ['baby puss', 'dino'] }\n     * ];\n     *\n     * _.pluck(_.where(users, { 'age': 36, 'active': false }), 'user');\n     * // => ['barney']\n     *\n     * _.pluck(_.where(users, { 'pets': ['dino'] }), 'user');\n     * // => ['fred']\n     */\n    function where(collection, source) {\n      return filter(collection, baseMatches(source));\n    }\n\n    /**\n     * Gets the number of milliseconds that have elapsed since the Unix epoch\n     * (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @category Date\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => logs the number of milliseconds it took for the deferred function to be invoked\n     */\n    var now = nativeNow || function() {\n      return new Date().getTime();\n    };\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it is called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => logs 'done saving!' after the two async saves have completed\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        if (typeof n == 'function') {\n          var temp = n;\n          n = func;\n          func = temp;\n        } else {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n      }\n      n = nativeIsFinite(n = +n) ? n : 0;\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that accepts up to `n` arguments ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      if (guard && isIterateeCall(func, n, guard)) {\n        n = null;\n      }\n      n = (func && n == null) ? func.length : nativeMax(+n || 0, 0);\n      return createWrapper(func, ARY_FLAG, null, null, null, null, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it is called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery('#add').on('click', _.before(5, addContactToList));\n     * // => allows adding up to 4 contacts to the list\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        if (typeof n == 'function') {\n          var temp = n;\n          n = func;\n          func = temp;\n        } else {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n      }\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        }\n        if (n <= 1) {\n          func = null;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and prepends any additional `_.bind` arguments to those provided to the\n     * bound function.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind` this method does not set the \"length\"\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var greet = function(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * };\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // using placeholders\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    var bind = restParam(function(func, thisArg, partials) {\n      var bitmask = BIND_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, bind.placeholder);\n        bitmask |= PARTIAL_FLAG;\n      }\n      return createWrapper(func, bitmask, thisArg, partials, holders);\n    });\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method. Method names may be specified as individual arguments or as arrays\n     * of method names. If no method names are provided all enumerable function\n     * properties, own and inherited, of `object` are bound.\n     *\n     * **Note:** This method does not set the \"length\" property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} [methodNames] The object method names to bind,\n     *  specified as individual method names or arrays of method names.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'onClick': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view);\n     * jQuery('#docs').on('click', view.onClick);\n     * // => logs 'clicked docs' when the element is clicked\n     */\n    var bindAll = restParam(function(object, methodNames) {\n      methodNames = methodNames.length ? baseFlatten(methodNames) : functions(object);\n\n      var index = -1,\n          length = methodNames.length;\n\n      while (++index < length) {\n        var key = methodNames[index];\n        object[key] = createWrapper(object[key], BIND_FLAG, object);\n      }\n      return object;\n    });\n\n    /**\n     * Creates a function that invokes the method at `object[key]` and prepends\n     * any additional `_.bindKey` arguments to those provided to the bound function.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist.\n     * See [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Object} object The object the method belongs to.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // using placeholders\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    var bindKey = restParam(function(object, key, partials) {\n      var bitmask = BIND_FLAG | BIND_KEY_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, bindKey.placeholder);\n        bitmask |= PARTIAL_FLAG;\n      }\n      return createWrapper(key, bitmask, object, partials, holders);\n    });\n\n    /**\n     * Creates a function that accepts one or more arguments of `func` that when\n     * called either invokes `func` returning its result, if all `func` arguments\n     * have been provided, or returns a function that accepts one or more of the\n     * remaining `func` arguments, and so on. The arity of `func` may be specified\n     * if `func.length` is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method does not set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // using placeholders\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    var curry = createCurry(CURRY_FLAG);\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method does not set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // using placeholders\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    var curryRight = createCurry(CURRY_RIGHT_FLAG);\n\n    /**\n     * Creates a function that delays invoking `func` until after `wait` milliseconds\n     * have elapsed since the last time it was invoked. The created function comes\n     * with a `cancel` method to cancel delayed invocations. Provide an options\n     * object to indicate that `func` should be invoked on the leading and/or\n     * trailing edge of the `wait` timeout. Subsequent calls to the debounced\n     * function return the result of the last `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is invoked\n     * on the trailing edge of the timeout only if the the debounced function is\n     * invoked more than once during the `wait` timeout.\n     *\n     * See [David Corbacho's article](http://drupalmotion.com/article/debounce-and-throttle-visual-explanation)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.leading=false] Specify invoking on the leading\n     *  edge of the timeout.\n     * @param {number} [options.maxWait] The maximum time `func` is allowed to be\n     *  delayed before it is invoked.\n     * @param {boolean} [options.trailing=true] Specify invoking on the trailing\n     *  edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // avoid costly calculations while the window size is in flux\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // invoke `sendMail` when the click event is fired, debouncing subsequent calls\n     * jQuery('#postbox').on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // ensure `batchLog` is invoked once after 1 second of debounced calls\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', _.debounce(batchLog, 250, {\n     *   'maxWait': 1000\n     * }));\n     *\n     * // cancel a debounced call\n     * var todoChanges = _.debounce(batchLog, 1000);\n     * Object.observe(models.todo, todoChanges);\n     *\n     * Object.observe(models, function(changes) {\n     *   if (_.find(changes, { 'user': 'todo', 'type': 'delete'})) {\n     *     todoChanges.cancel();\n     *   }\n     * }, ['delete']);\n     *\n     * // ...at some point `models.todo` is changed\n     * models.todo.completed = true;\n     *\n     * // ...before 1 second has passed `models.todo` is deleted\n     * // which cancels the debounced `todoChanges` call\n     * delete models.todo;\n     */\n    function debounce(func, wait, options) {\n      var args,\n          maxTimeoutId,\n          result,\n          stamp,\n          thisArg,\n          timeoutId,\n          trailingCall,\n          lastCalled = 0,\n          maxWait = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = wait < 0 ? 0 : (+wait || 0);\n      if (options === true) {\n        var leading = true;\n        trailing = false;\n      } else if (isObject(options)) {\n        leading = options.leading;\n        maxWait = 'maxWait' in options && nativeMax(+options.maxWait || 0, wait);\n        trailing = 'trailing' in options ? options.trailing : trailing;\n      }\n\n      function cancel() {\n        if (timeoutId) {\n          clearTimeout(timeoutId);\n        }\n        if (maxTimeoutId) {\n          clearTimeout(maxTimeoutId);\n        }\n        maxTimeoutId = timeoutId = trailingCall = undefined;\n      }\n\n      function delayed() {\n        var remaining = wait - (now() - stamp);\n        if (remaining <= 0 || remaining > wait) {\n          if (maxTimeoutId) {\n            clearTimeout(maxTimeoutId);\n          }\n          var isCalled = trailingCall;\n          maxTimeoutId = timeoutId = trailingCall = undefined;\n          if (isCalled) {\n            lastCalled = now();\n            result = func.apply(thisArg, args);\n            if (!timeoutId && !maxTimeoutId) {\n              args = thisArg = null;\n            }\n          }\n        } else {\n          timeoutId = setTimeout(delayed, remaining);\n        }\n      }\n\n      function maxDelayed() {\n        if (timeoutId) {\n          clearTimeout(timeoutId);\n        }\n        maxTimeoutId = timeoutId = trailingCall = undefined;\n        if (trailing || (maxWait !== wait)) {\n          lastCalled = now();\n          result = func.apply(thisArg, args);\n          if (!timeoutId && !maxTimeoutId) {\n            args = thisArg = null;\n          }\n        }\n      }\n\n      function debounced() {\n        args = arguments;\n        stamp = now();\n        thisArg = this;\n        trailingCall = trailing && (timeoutId || !leading);\n\n        if (maxWait === false) {\n          var leadingCall = leading && !timeoutId;\n        } else {\n          if (!maxTimeoutId && !leading) {\n            lastCalled = stamp;\n          }\n          var remaining = maxWait - (stamp - lastCalled),\n              isCalled = remaining <= 0 || remaining > maxWait;\n\n          if (isCalled) {\n            if (maxTimeoutId) {\n              maxTimeoutId = clearTimeout(maxTimeoutId);\n            }\n            lastCalled = stamp;\n            result = func.apply(thisArg, args);\n          }\n          else if (!maxTimeoutId) {\n            maxTimeoutId = setTimeout(maxDelayed, remaining);\n          }\n        }\n        if (isCalled && timeoutId) {\n          timeoutId = clearTimeout(timeoutId);\n        }\n        else if (!timeoutId && wait !== maxWait) {\n          timeoutId = setTimeout(delayed, wait);\n        }\n        if (leadingCall) {\n          isCalled = true;\n          result = func.apply(thisArg, args);\n        }\n        if (isCalled && !timeoutId && !maxTimeoutId) {\n          args = thisArg = null;\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke the function with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // logs 'deferred' after one or more milliseconds\n     */\n    var defer = restParam(function(func, args) {\n      return baseDelay(func, 1, args);\n    });\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke the function with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => logs 'later' after one second\n     */\n    var delay = restParam(function(func, wait, args) {\n      return baseDelay(func, wait, args);\n    });\n\n    /**\n     * Creates a function that returns the result of invoking the provided\n     * functions with the `this` binding of the created function, where each\n     * successive invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {...Function} [funcs] Functions to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow(_.add, square);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flow = createFlow();\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the provided functions from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias backflow, compose\n     * @category Function\n     * @param {...Function} [funcs] Functions to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight(square, _.add);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flowRight = createFlow(true);\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is coerced to a string and used as the\n     * cache key. The `func` is invoked with the `this` binding of the memoized\n     * function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the [`Map`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-properties-of-the-map-prototype-object)\n     * method interface of `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoizing function.\n     * @example\n     *\n     * var upperCase = _.memoize(function(string) {\n     *   return string.toUpperCase();\n     * });\n     *\n     * upperCase('fred');\n     * // => 'FRED'\n     *\n     * // modifying the result cache\n     * upperCase.cache.set('fred', 'BARNEY');\n     * upperCase('fred');\n     * // => 'BARNEY'\n     *\n     * // replacing `_.memoize.Cache`\n     * var object = { 'user': 'fred' };\n     * var other = { 'user': 'barney' };\n     * var identity = _.memoize(_.identity);\n     *\n     * identity(object);\n     * // => { 'user': 'fred' }\n     * identity(other);\n     * // => { 'user': 'fred' }\n     *\n     * _.memoize.Cache = WeakMap;\n     * var identity = _.memoize(_.identity);\n     *\n     * identity(object);\n     * // => { 'user': 'fred' }\n     * identity(other);\n     * // => { 'user': 'barney' }\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments,\n            cache = memoized.cache,\n            key = resolver ? resolver.apply(this, args) : args[0];\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        cache.set(key, result);\n        return result;\n      };\n      memoized.cache = new memoize.Cache;\n      return memoized;\n    }\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        return !predicate.apply(this, arguments);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first call. The `func` is invoked\n     * with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // `initialize` invokes `createApplication` once\n     */\n    function once(func) {\n      return before(2, func);\n    }\n\n    /**\n     * Creates a function that invokes `func` with `partial` arguments prepended\n     * to those provided to the new function. This method is like `_.bind` except\n     * it does **not** alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method does not set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * var greet = function(greeting, name) {\n     *   return greeting + ' ' + name;\n     * };\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // using placeholders\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    var partial = createPartial(PARTIAL_FLAG);\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to those provided to the new function.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method does not set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * var greet = function(greeting, name) {\n     *   return greeting + ' ' + name;\n     * };\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // using placeholders\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    var partialRight = createPartial(PARTIAL_RIGHT_FLAG);\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified indexes where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes,\n     *  specified as individual indexes or arrays of indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, 2, 0, 1);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     *\n     * var map = _.rearg(_.map, [1, 0]);\n     * map(function(n) {\n     *   return n * 3;\n     * }, [1, 2, 3]);\n     * // => [3, 6, 9]\n     */\n    var rearg = restParam(function(func, indexes) {\n      return createWrapper(func, REARG_FLAG, null, null, null, baseFlatten(indexes));\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as an array.\n     *\n     * **Note:** This method is based on the [rest parameter](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.restParam(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n    function restParam(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = nativeMax(start === undefined ? (func.length - 1) : (+start || 0), 0);\n      return function() {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            rest = Array(length);\n\n        while (++index < length) {\n          rest[index] = args[start + index];\n        }\n        switch (start) {\n          case 0: return func.call(this, rest);\n          case 1: return func.call(this, args[0], rest);\n          case 2: return func.call(this, args[0], args[1], rest);\n        }\n        var otherArgs = Array(start + 1);\n        index = -1;\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n        otherArgs[start] = rest;\n        return func.apply(this, otherArgs);\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the created\n     * function and an array of arguments much like [`Function#apply`](https://es5.github.io/#x15.3.4.3).\n     *\n     * **Note:** This method is based on the [spread operator](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * // with a Promise\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function(array) {\n        return func.apply(this, array);\n      };\n    }\n\n    /**\n     * Creates a function that only invokes `func` at most once per every `wait`\n     * milliseconds. The created function comes with a `cancel` method to cancel\n     * delayed invocations. Provide an options object to indicate that `func`\n     * should be invoked on the leading and/or trailing edge of the `wait` timeout.\n     * Subsequent calls to the throttled function return the result of the last\n     * `func` call.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is invoked\n     * on the trailing edge of the timeout only if the the throttled function is\n     * invoked more than once during the `wait` timeout.\n     *\n     * See [David Corbacho's article](http://drupalmotion.com/article/debounce-and-throttle-visual-explanation)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.leading=true] Specify invoking on the leading\n     *  edge of the timeout.\n     * @param {boolean} [options.trailing=true] Specify invoking on the trailing\n     *  edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // avoid excessively updating the position while scrolling\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // invoke `renewToken` when the click event is fired, but not more than once every 5 minutes\n     * jQuery('.interactive').on('click', _.throttle(renewToken, 300000, {\n     *   'trailing': false\n     * }));\n     *\n     * // cancel a trailing throttled call\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (options === false) {\n        leading = false;\n      } else if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      debounceOptions.leading = leading;\n      debounceOptions.maxWait = +wait;\n      debounceOptions.trailing = trailing;\n      return debounce(func, wait, debounceOptions);\n    }\n\n    /**\n     * Creates a function that provides `value` to the wrapper function as its\n     * first argument. Any additional arguments provided to the function are\n     * appended to those provided to the wrapper function. The wrapper is invoked\n     * with the `this` binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} wrapper The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      wrapper = wrapper == null ? identity : wrapper;\n      return createWrapper(wrapper, PARTIAL_FLAG, null, [value], []);\n    }\n\n    /**\n     * Creates a clone of `value`. If `isDeep` is `true` nested objects are cloned,\n     * otherwise they are assigned by reference. If `customizer` is provided it is\n     * invoked to produce the cloned values. If `customizer` returns `undefined`\n     * cloning is handled by the method instead. The `customizer` is bound to\n     * `thisArg` and invoked with two argument; (value [, index|key, object]).\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm).\n     * The enumerable properties of `arguments` objects and objects created by\n     * constructors other than `Object` are cloned to plain `Object` objects. An\n     * empty object is returned for uncloneable values such as functions, DOM nodes,\n     * Maps, Sets, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @param {Function} [customizer] The function to customize cloning values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {*} Returns the cloned value.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * var shallow = _.clone(users);\n     * shallow[0] === users[0];\n     * // => true\n     *\n     * var deep = _.clone(users, true);\n     * deep[0] === users[0];\n     * // => false\n     *\n     * // using a customizer callback\n     * var el = _.clone(document.body, function(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * });\n     *\n     * el === document.body\n     * // => false\n     * el.nodeName\n     * // => BODY\n     * el.childNodes.length;\n     * // => 0\n     */\n    function clone(value, isDeep, customizer, thisArg) {\n      if (isDeep && typeof isDeep != 'boolean' && isIterateeCall(value, isDeep, customizer)) {\n        isDeep = false;\n      }\n      else if (typeof isDeep == 'function') {\n        thisArg = customizer;\n        customizer = isDeep;\n        isDeep = false;\n      }\n      customizer = typeof customizer == 'function' && bindCallback(customizer, thisArg, 1);\n      return baseClone(value, isDeep, customizer);\n    }\n\n    /**\n     * Creates a deep clone of `value`. If `customizer` is provided it is invoked\n     * to produce the cloned values. If `customizer` returns `undefined` cloning\n     * is handled by the method instead. The `customizer` is bound to `thisArg`\n     * and invoked with two argument; (value [, index|key, object]).\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm).\n     * The enumerable properties of `arguments` objects and objects created by\n     * constructors other than `Object` are cloned to plain `Object` objects. An\n     * empty object is returned for uncloneable values such as functions, DOM nodes,\n     * Maps, Sets, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to deep clone.\n     * @param {Function} [customizer] The function to customize cloning values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {*} Returns the deep cloned value.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * var deep = _.cloneDeep(users);\n     * deep[0] === users[0];\n     * // => false\n     *\n     * // using a customizer callback\n     * var el = _.cloneDeep(document.body, function(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * });\n     *\n     * el === document.body\n     * // => false\n     * el.nodeName\n     * // => BODY\n     * el.childNodes.length;\n     * // => 20\n     */\n    function cloneDeep(value, customizer, thisArg) {\n      customizer = typeof customizer == 'function' && bindCallback(customizer, thisArg, 1);\n      return baseClone(value, true, customizer);\n    }\n\n    /**\n     * Checks if `value` is classified as an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    function isArguments(value) {\n      return isObjectLike(value) && isArrayLike(value) && objToString.call(value) == argsTag;\n    }\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(function() { return arguments; }());\n     * // => false\n     */\n    var isArray = nativeIsArray || function(value) {\n      return isObjectLike(value) && isLength(value.length) && objToString.call(value) == arrayTag;\n    };\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false || (isObjectLike(value) && objToString.call(value) == boolTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    function isDate(value) {\n      return isObjectLike(value) && objToString.call(value) == dateTag;\n    }\n\n    /**\n     * Checks if `value` is a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return !!value && value.nodeType === 1 && isObjectLike(value) &&\n        (objToString.call(value).indexOf('Element') > -1);\n    }\n    // Fallback for environments without DOM support.\n    if (!support.dom) {\n      isElement = function(value) {\n        return !!value && value.nodeType === 1 && isObjectLike(value) && !isPlainObject(value);\n      };\n    }\n\n    /**\n     * Checks if `value` is empty. A value is considered empty unless it is an\n     * `arguments` object, array, string, or jQuery-like collection with a length\n     * greater than `0` or an object with own enumerable properties.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {Array|Object|string} value The value to inspect.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n      if (isArrayLike(value) && (isArray(value) || isString(value) || isArguments(value) ||\n          (isObjectLike(value) && isFunction(value.splice)))) {\n        return !value.length;\n      }\n      return !keys(value).length;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent. If `customizer` is provided it is invoked to compare values.\n     * If `customizer` returns `undefined` comparisons are handled by the method\n     * instead. The `customizer` is bound to `thisArg` and invoked with three\n     * arguments: (value, other [, index|key]).\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. Functions and DOM nodes\n     * are **not** supported. Provide a customizer function to extend support\n     * for comparing other values.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize value comparisons.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     * var other = { 'user': 'fred' };\n     *\n     * object == other;\n     * // => false\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * // using a customizer callback\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqual(array, other, function(value, other) {\n     *   if (_.every([value, other], RegExp.prototype.test, /^h(?:i|ello)$/)) {\n     *     return true;\n     *   }\n     * });\n     * // => true\n     */\n    function isEqual(value, other, customizer, thisArg) {\n      customizer = typeof customizer == 'function' && bindCallback(customizer, thisArg, 3);\n      if (!customizer && isStrictComparable(value) && isStrictComparable(other)) {\n        return value === other;\n      }\n      var result = customizer ? customizer(value, other) : undefined;\n      return result === undefined ? baseIsEqual(value, other, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      return isObjectLike(value) && typeof value.message == 'string' && objToString.call(value) == errorTag;\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on [`Number.isFinite`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-number.isfinite).\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(10);\n     * // => true\n     *\n     * _.isFinite('10');\n     * // => false\n     *\n     * _.isFinite(true);\n     * // => false\n     *\n     * _.isFinite(Object(10));\n     * // => false\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     */\n    var isFinite = nativeNumIsFinite || function(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    };\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    var isFunction = !(baseIsFunction(/x/) || (Uint8Array && !baseIsFunction(Uint8Array))) ? baseIsFunction : function(value) {\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in older versions of Chrome and Safari which return 'function' for regexes\n      // and Safari 8 equivalents which return 'object' for typed array constructors.\n      return objToString.call(value) == funcTag;\n    };\n\n    /**\n     * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n     * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(1);\n     * // => false\n     */\n    function isObject(value) {\n      // Avoid a V8 JIT bug in Chrome 19-20.\n      // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n      var type = typeof value;\n      return type == 'function' || (!!value && type == 'object');\n    }\n\n    /**\n     * Performs a deep comparison between `object` and `source` to determine if\n     * `object` contains equivalent property values. If `customizer` is provided\n     * it is invoked to compare values. If `customizer` returns `undefined`\n     * comparisons are handled by the method instead. The `customizer` is bound\n     * to `thisArg` and invoked with three arguments: (value, other, index|key).\n     *\n     * **Note:** This method supports comparing properties of arrays, booleans,\n     * `Date` objects, numbers, `Object` objects, regexes, and strings. Functions\n     * and DOM nodes are **not** supported. Provide a customizer function to extend\n     * support for comparing other values.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize value comparisons.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': 40 };\n     *\n     * _.isMatch(object, { 'age': 40 });\n     * // => true\n     *\n     * _.isMatch(object, { 'age': 36 });\n     * // => false\n     *\n     * // using a customizer callback\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatch(object, source, function(value, other) {\n     *   return _.every([value, other], RegExp.prototype.test, /^h(?:i|ello)$/) || undefined;\n     * });\n     * // => true\n     */\n    function isMatch(object, source, customizer, thisArg) {\n      var props = keys(source),\n          length = props.length;\n\n      if (!length) {\n        return true;\n      }\n      if (object == null) {\n        return false;\n      }\n      customizer = typeof customizer == 'function' && bindCallback(customizer, thisArg, 3);\n      object = toObject(object);\n      if (!customizer && length == 1) {\n        var key = props[0],\n            value = source[key];\n\n        if (isStrictComparable(value)) {\n          return value === object[key] && (value !== undefined || (key in object));\n        }\n      }\n      var values = Array(length),\n          strictCompareFlags = Array(length);\n\n      while (length--) {\n        value = values[length] = source[props[length]];\n        strictCompareFlags[length] = isStrictComparable(value);\n      }\n      return baseIsMatch(object, props, values, strictCompareFlags, customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is not the same as [`isNaN`](https://es5.github.io/#x15.1.2.4)\n     * which returns `true` for `undefined` and other non-numeric values.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some host objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a native function.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function, else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (value == null) {\n        return false;\n      }\n      if (objToString.call(value) == funcTag) {\n        return reIsNative.test(fnToString.call(value));\n      }\n      return isObjectLike(value) && reIsHostCtor.test(value);\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are classified\n     * as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isNumber(8.4);\n     * // => true\n     *\n     * _.isNumber(NaN);\n     * // => true\n     *\n     * _.isNumber('8.4');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' || (isObjectLike(value) && objToString.call(value) == numberTag);\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * **Note:** This method assumes objects created by the `Object` constructor\n     * have no inherited enumerable properties.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    var isPlainObject = !getPrototypeOf ? shimIsPlainObject : function(value) {\n      if (!(value && objToString.call(value) == objectTag)) {\n        return false;\n      }\n      var valueOf = value.valueOf,\n          objProto = isNative(valueOf) && (objProto = getPrototypeOf(valueOf)) && getPrototypeOf(objProto);\n\n      return objProto\n        ? (value == objProto || getPrototypeOf(value) == objProto)\n        : shimIsPlainObject(value);\n    };\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    function isRegExp(value) {\n      return isObjectLike(value) && objToString.call(value) == regexpTag;\n    }\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' || (isObjectLike(value) && objToString.call(value) == stringTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    function isTypedArray(value) {\n      return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[objToString.call(value)];\n    }\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return value === undefined;\n    }\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * (function() {\n     *   return _.toArray(arguments).slice(1);\n     * }(1, 2, 3));\n     * // => [2, 3]\n     */\n    function toArray(value) {\n      var length = value ? getLength(value) : 0;\n      if (!isLength(length)) {\n        return values(value);\n      }\n      if (!length) {\n        return [];\n      }\n      return arrayCopy(value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable\n     * properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return baseCopy(value, keysIn(value));\n    }\n\n    /**\n     * Assigns own enumerable properties of source object(s) to the destination\n     * object. Subsequent sources overwrite property assignments of previous sources.\n     * If `customizer` is provided it is invoked to produce the assigned values.\n     * The `customizer` is bound to `thisArg` and invoked with five arguments:\n     * (objectValue, sourceValue, key, object, source).\n     *\n     * **Note:** This method mutates `object` and is based on\n     * [`Object.assign`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.assign).\n     *\n     * @static\n     * @memberOf _\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.assign({ 'user': 'barney' }, { 'age': 40 }, { 'user': 'fred' });\n     * // => { 'user': 'fred', 'age': 40 }\n     *\n     * // using a customizer callback\n     * var defaults = _.partialRight(_.assign, function(value, other) {\n     *   return _.isUndefined(value) ? other : value;\n     * });\n     *\n     * defaults({ 'user': 'barney' }, { 'age': 36 }, { 'user': 'fred' });\n     * // => { 'user': 'barney', 'age': 36 }\n     */\n    var assign = createAssigner(function(object, source, customizer) {\n      return customizer\n        ? assignWith(object, source, customizer)\n        : baseAssign(object, source);\n    });\n\n    /**\n     * Creates an object that inherits from the given `prototype` object. If a\n     * `properties` object is provided its own enumerable properties are assigned\n     * to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties, guard) {\n      var result = baseCreate(prototype);\n      if (guard && isIterateeCall(prototype, properties, guard)) {\n        properties = null;\n      }\n      return properties ? baseAssign(result, properties) : result;\n    }\n\n    /**\n     * Assigns own enumerable properties of source object(s) to the destination\n     * object for all destination properties that resolve to `undefined`. Once a\n     * property is set, additional values of the same property are ignored.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.defaults({ 'user': 'barney' }, { 'age': 36 }, { 'user': 'fred' });\n     * // => { 'user': 'barney', 'age': 36 }\n     */\n    var defaults = restParam(function(args) {\n      var object = args[0];\n      if (object == null) {\n        return object;\n      }\n      args.push(assignDefaults);\n      return assign.apply(undefined, args);\n    });\n\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {string|undefined} Returns the key of the matched element, else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(chr) {\n     *   return chr.age < 40;\n     * });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findKey(users, 'active', false);\n     * // => 'fred'\n     *\n     * // using the `_.property` callback shorthand\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    var findKey = createFindKey(baseForOwn);\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {string|undefined} Returns the key of the matched element, else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(chr) {\n     *   return chr.age < 40;\n     * });\n     * // => returns `pebbles` assuming `_.findKey` returns `barney`\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findLastKey(users, 'active', false);\n     * // => 'fred'\n     *\n     * // using the `_.property` callback shorthand\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    var findLastKey = createFindKey(baseForOwnRight);\n\n    /**\n     * Iterates over own and inherited enumerable properties of an object invoking\n     * `iteratee` for each property. The `iteratee` is bound to `thisArg` and invoked\n     * with three arguments: (value, key, object). Iteratee functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'a', 'b', and 'c' (iteration order is not guaranteed)\n     */\n    var forIn = createForIn(baseFor);\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'c', 'b', and 'a' assuming `_.forIn ` logs 'a', 'b', and 'c'\n     */\n    var forInRight = createForIn(baseForRight);\n\n    /**\n     * Iterates over own enumerable properties of an object invoking `iteratee`\n     * for each property. The `iteratee` is bound to `thisArg` and invoked with\n     * three arguments: (value, key, object). Iteratee functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'a' and 'b' (iteration order is not guaranteed)\n     */\n    var forOwn = createForOwn(baseForOwn);\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'b' and 'a' assuming `_.forOwn` logs 'a' and 'b'\n     */\n    var forOwnRight = createForOwn(baseForOwnRight);\n\n    /**\n     * Creates an array of function property names from all enumerable properties,\n     * own and inherited, of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @alias methods\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the new array of property names.\n     * @example\n     *\n     * _.functions(_);\n     * // => ['after', 'ary', 'assign', ...]\n     */\n    function functions(object) {\n      return baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Gets the property value of `path` on `object`. If the resolved value is\n     * `undefined` the `defaultValue` is used in its place.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} [defaultValue] The value returned if the resolved value is `undefined`.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.get(object, 'a[0].b.c');\n     * // => 3\n     *\n     * _.get(object, ['a', '0', 'b', 'c']);\n     * // => 3\n     *\n     * _.get(object, 'a.b.c', 'default');\n     * // => 'default'\n     */\n    function get(object, path, defaultValue) {\n      var result = object == null ? undefined : baseGet(object, toPath(path), path + '');\n      return result === undefined ? defaultValue : result;\n    }\n\n    /**\n     * Checks if `path` is a direct property.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` is a direct property, else `false`.\n     * @example\n     *\n     * var object = { 'a': { 'b': { 'c': 3 } } };\n     *\n     * _.has(object, 'a');\n     * // => true\n     *\n     * _.has(object, 'a.b.c');\n     * // => true\n     *\n     * _.has(object, ['a', 'b', 'c']);\n     * // => true\n     */\n    function has(object, path) {\n      if (object == null) {\n        return false;\n      }\n      var result = hasOwnProperty.call(object, path);\n      if (!result && !isKey(path)) {\n        path = toPath(path);\n        object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n        path = last(path);\n        result = object != null && hasOwnProperty.call(object, path);\n      }\n      return result;\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite property\n     * assignments of previous values unless `multiValue` is `true`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {boolean} [multiValue] Allow multiple values per key.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     *\n     * // with `multiValue`\n     * _.invert(object, true);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function invert(object, multiValue, guard) {\n      if (guard && isIterateeCall(object, multiValue, guard)) {\n        multiValue = null;\n      }\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = {};\n\n      while (++index < length) {\n        var key = props[index],\n            value = object[key];\n\n        if (multiValue) {\n          if (hasOwnProperty.call(result, value)) {\n            result[value].push(key);\n          } else {\n            result[value] = [key];\n          }\n        }\n        else {\n          result[value] = key;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    var keys = !nativeKeys ? shimKeys : function(object) {\n      var Ctor = object != null && object.constructor;\n      if ((typeof Ctor == 'function' && Ctor.prototype === object) ||\n          (typeof object != 'function' && isArrayLike(object))) {\n        return shimKeys(object);\n      }\n      return isObject(object) ? nativeKeys(object) : [];\n    };\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      if (object == null) {\n        return [];\n      }\n      if (!isObject(object)) {\n        object = Object(object);\n      }\n      var length = object.length;\n      length = (length && isLength(length) &&\n        (isArray(object) || (support.nonEnumArgs && isArguments(object))) && length) || 0;\n\n      var Ctor = object.constructor,\n          index = -1,\n          isProto = typeof Ctor == 'function' && Ctor.prototype === object,\n          result = Array(length),\n          skipIndexes = length > 0;\n\n      while (++index < length) {\n        result[index] = (index + '');\n      }\n      for (var key in object) {\n        if (!(skipIndexes && isIndex(key, length)) &&\n            !(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The opposite of `_.mapValues`; this method creates an object with the\n     * same values as `object` and keys generated by running each own enumerable\n     * property of `object` through `iteratee`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the new mapped object.\n     * @example\n     *\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   return key + value;\n     * });\n     * // => { 'a1': 1, 'b2': 2 }\n     */\n    var mapKeys = createObjectMapper(true);\n\n    /**\n     * Creates an object with the same keys as `object` and values generated by\n     * running each own enumerable property of `object` through `iteratee`. The\n     * iteratee function is bound to `thisArg` and invoked with three arguments:\n     * (value, key, object).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the new mapped object.\n     * @example\n     *\n     * _.mapValues({ 'a': 1, 'b': 2 }, function(n) {\n     *   return n * 3;\n     * });\n     * // => { 'a': 3, 'b': 6 }\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * // using the `_.property` callback shorthand\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    var mapValues = createObjectMapper();\n\n    /**\n     * Recursively merges own enumerable properties of the source object(s), that\n     * don't resolve to `undefined` into the destination object. Subsequent sources\n     * overwrite property assignments of previous sources. If `customizer` is\n     * provided it is invoked to produce the merged values of the destination and\n     * source properties. If `customizer` returns `undefined` merging is handled\n     * by the method instead. The `customizer` is bound to `thisArg` and invoked\n     * with five arguments: (objectValue, sourceValue, key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var users = {\n     *   'data': [{ 'user': 'barney' }, { 'user': 'fred' }]\n     * };\n     *\n     * var ages = {\n     *   'data': [{ 'age': 36 }, { 'age': 40 }]\n     * };\n     *\n     * _.merge(users, ages);\n     * // => { 'data': [{ 'user': 'barney', 'age': 36 }, { 'user': 'fred', 'age': 40 }] }\n     *\n     * // using a customizer callback\n     * var object = {\n     *   'fruits': ['apple'],\n     *   'vegetables': ['beet']\n     * };\n     *\n     * var other = {\n     *   'fruits': ['banana'],\n     *   'vegetables': ['carrot']\n     * };\n     *\n     * _.merge(object, other, function(a, b) {\n     *   if (_.isArray(a)) {\n     *     return a.concat(b);\n     *   }\n     * });\n     * // => { 'fruits': ['apple', 'banana'], 'vegetables': ['beet', 'carrot'] }\n     */\n    var merge = createAssigner(baseMerge);\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable properties of `object` that are not omitted.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function|...(string|string[])} [predicate] The function invoked per\n     *  iteration or property names to omit, specified as individual property\n     *  names or arrays of property names.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': 40 };\n     *\n     * _.omit(object, 'age');\n     * // => { 'user': 'fred' }\n     *\n     * _.omit(object, _.isNumber);\n     * // => { 'user': 'fred' }\n     */\n    var omit = restParam(function(object, props) {\n      if (object == null) {\n        return {};\n      }\n      if (typeof props[0] != 'function') {\n        var props = arrayMap(baseFlatten(props), String);\n        return pickByArray(object, baseDifference(keysIn(object), props));\n      }\n      var predicate = bindCallback(props[0], props[1], 3);\n      return pickByCallback(object, function(value, key, object) {\n        return !predicate(value, key, object);\n      });\n    });\n\n    /**\n     * Creates a two dimensional array of the key-value pairs for `object`,\n     * e.g. `[[key1, value1], [key2, value2]]`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the new array of key-value pairs.\n     * @example\n     *\n     * _.pairs({ 'barney': 36, 'fred': 40 });\n     * // => [['barney', 36], ['fred', 40]] (iteration order is not guaranteed)\n     */\n    function pairs(object) {\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = Array(length);\n\n      while (++index < length) {\n        var key = props[index];\n        result[index] = [key, object[key]];\n      }\n      return result;\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties. Property\n     * names may be specified as individual arguments or as arrays of property\n     * names. If `predicate` is provided it is invoked for each property of `object`\n     * picking the properties `predicate` returns truthy for. The predicate is\n     * bound to `thisArg` and invoked with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function|...(string|string[])} [predicate] The function invoked per\n     *  iteration or property names to pick, specified as individual property\n     *  names or arrays of property names.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': 40 };\n     *\n     * _.pick(object, 'user');\n     * // => { 'user': 'fred' }\n     *\n     * _.pick(object, _.isString);\n     * // => { 'user': 'fred' }\n     */\n    var pick = restParam(function(object, props) {\n      if (object == null) {\n        return {};\n      }\n      return typeof props[0] == 'function'\n        ? pickByCallback(object, bindCallback(props[0], props[1], 3))\n        : pickByArray(object, baseFlatten(props));\n    });\n\n    /**\n     * This method is like `_.get` except that if the resolved value is a function\n     * it is invoked with the `this` binding of its parent object and its result\n     * is returned.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to resolve.\n     * @param {*} [defaultValue] The value returned if the resolved value is `undefined`.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n     *\n     * _.result(object, 'a[0].b.c1');\n     * // => 3\n     *\n     * _.result(object, 'a[0].b.c2');\n     * // => 4\n     *\n     * _.result(object, 'a.b.c', 'default');\n     * // => 'default'\n     *\n     * _.result(object, 'a.b.c', _.constant('default'));\n     * // => 'default'\n     */\n    function result(object, path, defaultValue) {\n      var result = object == null ? undefined : object[path];\n      if (result === undefined) {\n        if (object != null && !isKey(path, object)) {\n          path = toPath(path);\n          object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n          result = object == null ? undefined : object[last(path)];\n        }\n        result = result === undefined ? defaultValue : result;\n      }\n      return isFunction(result) ? result.call(object) : result;\n    }\n\n    /**\n     * Sets the property value of `path` on `object`. If a portion of `path`\n     * does not exist it is created.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to augment.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.set(object, 'a[0].b.c', 4);\n     * console.log(object.a[0].b.c);\n     * // => 4\n     *\n     * _.set(object, 'x[0].y.z', 5);\n     * console.log(object.x[0].y.z);\n     * // => 5\n     */\n    function set(object, path, value) {\n      if (object == null) {\n        return object;\n      }\n      var pathKey = (path + '');\n      path = (object[pathKey] != null || isKey(path, object)) ? [pathKey] : toPath(path);\n\n      var index = -1,\n          length = path.length,\n          endIndex = length - 1,\n          nested = object;\n\n      while (nested != null && ++index < length) {\n        var key = path[index];\n        if (isObject(nested)) {\n          if (index == endIndex) {\n            nested[key] = value;\n          } else if (nested[key] == null) {\n            nested[key] = isIndex(path[index + 1]) ? [] : {};\n          }\n        }\n        nested = nested[key];\n      }\n      return object;\n    }\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own enumerable\n     * properties through `iteratee`, with each invocation potentially mutating\n     * the `accumulator` object. The `iteratee` is bound to `thisArg` and invoked\n     * with four arguments: (accumulator, value, key, object). Iteratee functions\n     * may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Array|Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * });\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2 }, function(result, n, key) {\n     *   result[key] = n * 3;\n     * });\n     * // => { 'a': 3, 'b': 6 }\n     */\n    function transform(object, iteratee, accumulator, thisArg) {\n      var isArr = isArray(object) || isTypedArray(object);\n      iteratee = getCallback(iteratee, thisArg, 4);\n\n      if (accumulator == null) {\n        if (isArr || isObject(object)) {\n          var Ctor = object.constructor;\n          if (isArr) {\n            accumulator = isArray(object) ? new Ctor : [];\n          } else {\n            accumulator = baseCreate(isFunction(Ctor) && Ctor.prototype);\n          }\n        } else {\n          accumulator = {};\n        }\n      }\n      (isArr ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Creates an array of the own enumerable property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return baseValues(object, keys(object));\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property values\n     * of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return baseValues(object, keysIn(object));\n    }\n\n    /**\n     * Checks if `n` is between `start` and up to but not including, `end`. If\n     * `end` is not specified it is set to `start` with `start` then set to `0`.\n     *\n     * @static\n     * @memberOf _\n     * @category Number\n     * @param {number} n The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `n` is in the range, else `false`.\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     */\n    function inRange(value, start, end) {\n      start = +start || 0;\n      if (typeof end === 'undefined') {\n        end = start;\n        start = 0;\n      } else {\n        end = +end || 0;\n      }\n      return value >= nativeMin(start, end) && value < nativeMax(start, end);\n    }\n\n    /**\n     * Produces a random number between `min` and `max` (inclusive). If only one\n     * argument is provided a number between `0` and the given number is returned.\n     * If `floating` is `true`, or either `min` or `max` are floats, a floating-point\n     * number is returned instead of an integer.\n     *\n     * @static\n     * @memberOf _\n     * @category Number\n     * @param {number} [min=0] The minimum possible value.\n     * @param {number} [max=1] The maximum possible value.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(min, max, floating) {\n      if (floating && isIterateeCall(min, max, floating)) {\n        max = floating = null;\n      }\n      var noMin = min == null,\n          noMax = max == null;\n\n      if (floating == null) {\n        if (noMax && typeof min == 'boolean') {\n          floating = min;\n          min = 1;\n        }\n        else if (typeof max == 'boolean') {\n          floating = max;\n          noMax = true;\n        }\n      }\n      if (noMin && noMax) {\n        max = 1;\n        noMax = false;\n      }\n      min = +min || 0;\n      if (noMax) {\n        max = min;\n        min = 0;\n      } else {\n        max = +max || 0;\n      }\n      if (floating || min % 1 || max % 1) {\n        var rand = nativeRandom();\n        return nativeMin(min + (rand * (max - min + parseFloat('1e-' + ((rand + '').length - 1)))), max);\n      }\n      return baseRandom(min, max);\n    }\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__foo_bar__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? (word.charAt(0).toUpperCase() + word.slice(1)) : word);\n    });\n\n    /**\n     * Capitalizes the first character of `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('fred');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      string = baseToString(string);\n      return string && (string.charAt(0).toUpperCase() + string.slice(1));\n    }\n\n    /**\n     * Deburrs `string` by converting [latin-1 supplementary letters](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * to basic latin letters and removing [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('déjà vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = baseToString(string);\n      return string && string.replace(reLatin1, deburrLetter).replace(reComboMark, '');\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to search.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search from.\n     * @returns {boolean} Returns `true` if `string` ends with `target`, else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = baseToString(string);\n      target = (target + '');\n\n      var length = string.length;\n      position = position === undefined\n        ? length\n        : nativeMin(position < 0 ? 0 : (+position || 0), length);\n\n      position -= target.length;\n      return position >= 0 && string.indexOf(target, position) == position;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', \"'\", and \"\\`\", in `string` to\n     * their corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional characters\n     * use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't require escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value.\n     * See [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * Backticks are escaped because in Internet Explorer < 9, they can break out\n     * of attribute values or HTML comments. See [#59](https://html5sec.org/#59),\n     * [#102](https://html5sec.org/#102), [#108](https://html5sec.org/#108), and\n     * [#133](https://html5sec.org/#133) of the [HTML5 Security Cheatsheet](https://html5sec.org/)\n     * for more details.\n     *\n     * When working with HTML you should always [quote attribute values](http://wonko.com/post/html-escaping)\n     * to reduce XSS vectors.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      // Reset `lastIndex` because in IE < 9 `String#replace` does not.\n      string = baseToString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"\\\", \"/\", \"^\", \"$\", \".\", \"|\", \"?\",\n     * \"*\", \"+\", \"(\", \")\", \"[\", \"]\", \"{\" and \"}\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https:\\/\\/lodash\\.com\\/\\)'\n     */\n    function escapeRegExp(string) {\n      string = baseToString(string);\n      return (string && reHasRegExpChars.test(string))\n        ? string.replace(reRegExpChars, '\\\\$&')\n        : string;\n    }\n\n    /**\n     * Converts `string` to [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__foo_bar__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Pads `string` on the left and right sides if it is shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = baseToString(string);\n      length = +length;\n\n      var strLength = string.length;\n      if (strLength >= length || !nativeIsFinite(length)) {\n        return string;\n      }\n      var mid = (length - strLength) / 2,\n          leftLength = floor(mid),\n          rightLength = ceil(mid);\n\n      chars = createPadding('', rightLength, chars);\n      return chars.slice(0, leftLength) + string + chars;\n    }\n\n    /**\n     * Pads `string` on the left side if it is shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padLeft('abc', 6);\n     * // => '   abc'\n     *\n     * _.padLeft('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padLeft('abc', 3);\n     * // => 'abc'\n     */\n    var padLeft = createPadDir();\n\n    /**\n     * Pads `string` on the right side if it is shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padRight('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padRight('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padRight('abc', 3);\n     * // => 'abc'\n     */\n    var padRight = createPadDir(true);\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a hexadecimal,\n     * in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the [ES5 implementation](https://es5.github.io/#E)\n     * of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      if (guard && isIterateeCall(string, radix, guard)) {\n        radix = 0;\n      }\n      return nativeParseInt(string, radix);\n    }\n    // Fallback for environments with pre-ES5 implementations.\n    if (nativeParseInt(whitespace + '08') != 8) {\n      parseInt = function(string, radix, guard) {\n        // Firefox < 21 and Opera < 15 follow ES3 for `parseInt`.\n        // Chrome fails to trim leading <BOM> whitespace characters.\n        // See https://code.google.com/p/v8/issues/detail?id=3109 for more details.\n        if (guard ? isIterateeCall(string, radix, guard) : radix == null) {\n          radix = 0;\n        } else if (radix) {\n          radix = +radix;\n        }\n        string = trim(string);\n        return nativeParseInt(string, radix || (reHasHexPrefix.test(string) ? 16 : 10));\n      };\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=0] The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n) {\n      var result = '';\n      string = baseToString(string);\n      n = +n;\n      if (n < 1 || !string || !nativeIsFinite(n)) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = floor(n / 2);\n        string += string;\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * Converts `string` to [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--foo-bar');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string` to [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__foo_bar__');\n     * // => 'Foo Bar'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + (word.charAt(0).toUpperCase() + word.slice(1));\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to search.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`, else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = baseToString(string);\n      position = position == null\n        ? 0\n        : nativeMin(position < 0 ? 0 : (+position || 0), string.length);\n\n      return string.lastIndexOf(target, position) == position;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is provided it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options] The options object.\n     * @param {RegExp} [options.escape] The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate] The \"evaluate\" delimiter.\n     * @param {Object} [options.imports] An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate] The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL] The sourceURL of the template's compiled source.\n     * @param {string} [options.variable] The data object variable name.\n     * @param- {Object} [otherOptions] Enables the legacy `options` param signature.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // using the \"interpolate\" delimiter to create a compiled template\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // using the HTML \"escape\" delimiter to escape data property values\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // using the \"evaluate\" delimiter to execute JavaScript and generate HTML\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // using the internal `print` function in \"evaluate\" delimiters\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // using the ES delimiter as an alternative to the default \"interpolate\" delimiter\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // using custom template delimiters\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // using backslashes to treat delimiters as plain text\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // using the `imports` option to import `jQuery` as `jq`\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // using the `sourceURL` option to specify a custom sourceURL for the template\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector\n     *\n     * // using the `variable` option to ensure a with-statement isn't used in the compiled template\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // using the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and a stack trace\n     * fs.writeFileSync(path.join(cwd, 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, otherOptions) {\n      // Based on John Resig's `tmpl` implementation (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (otherOptions && isIterateeCall(string, options, otherOptions)) {\n        options = otherOptions = null;\n      }\n      string = baseToString(string);\n      options = assignWith(baseAssign({}, otherOptions || options), settings, assignOwnDefaults);\n\n      var imports = assignWith(baseAssign({}, options.imports), settings.imports, assignOwnDefaults),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      var sourceURL = '//# sourceURL=' +\n        ('sourceURL' in options\n          ? options.sourceURL\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products requires returning the `match`\n        // string in order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      var variable = options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source).apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n    function trim(string, chars, guard) {\n      var value = string;\n      string = baseToString(string);\n      if (!string) {\n        return string;\n      }\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\n        return string.slice(trimmedLeftIndex(string), trimmedRightIndex(string) + 1);\n      }\n      chars = (chars + '');\n      return string.slice(charsLeftIndex(string, chars), charsRightIndex(string, chars) + 1);\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimLeft('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimLeft('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimLeft(string, chars, guard) {\n      var value = string;\n      string = baseToString(string);\n      if (!string) {\n        return string;\n      }\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\n        return string.slice(trimmedLeftIndex(string));\n      }\n      return string.slice(charsLeftIndex(string, (chars + '')));\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimRight('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimRight('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimRight(string, chars, guard) {\n      var value = string;\n      string = baseToString(string);\n      if (!string) {\n        return string;\n      }\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\n        return string.slice(0, trimmedRightIndex(string) + 1);\n      }\n      return string.slice(0, charsRightIndex(string, (chars + '')) + 1);\n    }\n\n    /**\n     * Truncates `string` if it is longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object|number} [options] The options object or maximum string length.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.trunc('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', 24);\n     * // => 'hi-diddly-ho there, n...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function trunc(string, options, guard) {\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = null;\n      }\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (options != null) {\n        if (isObject(options)) {\n          var separator = 'separator' in options ? options.separator : separator;\n          length = 'length' in options ? (+options.length || 0) : length;\n          omission = 'omission' in options ? baseToString(options.omission) : omission;\n        } else {\n          length = +options || 0;\n        }\n      }\n      string = baseToString(string);\n      if (length >= string.length) {\n        return string;\n      }\n      var end = length - omission.length;\n      if (end < 1) {\n        return omission;\n      }\n      var result = string.slice(0, end);\n      if (separator == null) {\n        return result + omission;\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              newEnd,\n              substring = string.slice(0, end);\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, (reFlags.exec(separator) || '') + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            newEnd = match.index;\n          }\n          result = result.slice(0, newEnd == null ? end : newEnd);\n        }\n      } else if (string.indexOf(separator, end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, `&#39;`, and `&#96;` in `string` to their\n     * corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional HTML\n     * entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = baseToString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      if (guard && isIterateeCall(string, pattern, guard)) {\n        pattern = null;\n      }\n      string = baseToString(string);\n      return string.match(pattern || reWords) || [];\n    }\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Function} func The function to attempt.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // avoid throwing errors for invalid selectors\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    var attempt = restParam(function(func, args) {\n      try {\n        return func.apply(undefined, args);\n      } catch(e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and arguments of the created function. If `func` is a property name the\n     * created callback returns the property value for a given element. If `func`\n     * is an object the created callback returns `true` for elements that contain\n     * the equivalent object properties, otherwise it returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias iteratee\n     * @category Utility\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // wrap to create custom callback shorthands\n     * _.callback = _.wrap(_.callback, function(callback, func, thisArg) {\n     *   var match = /^(.+?)__([gl]t)(.+)$/.exec(func);\n     *   if (!match) {\n     *     return callback(func, thisArg);\n     *   }\n     *   return function(object) {\n     *     return match[2] == 'gt'\n     *       ? object[match[1]] > match[3]\n     *       : object[match[1]] < match[3];\n     *   };\n     * });\n     *\n     * _.filter(users, 'age__gt36');\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     */\n    function callback(func, thisArg, guard) {\n      if (guard && isIterateeCall(func, thisArg, guard)) {\n        thisArg = null;\n      }\n      return isObjectLike(func)\n        ? matches(func)\n        : baseCallback(func, thisArg);\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     * var getter = _.constant(object);\n     *\n     * getter() === object;\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * This method returns the first argument provided to it.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * _.identity(object) === object;\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function which performs a deep comparison between a given object\n     * and `source`, returning `true` if the given object has equivalent property\n     * values, else `false`.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. For comparing a single\n     * own or inherited property value see `_.matchesProperty`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, _.matches({ 'age': 40, 'active': false }));\n     * // => [{ 'user': 'fred', 'age': 40, 'active': false }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, true));\n    }\n\n    /**\n     * Creates a function which compares the property value of `path` on a given\n     * object to `value`.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} value The value to compare.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * _.find(users, _.matchesProperty('user', 'fred'));\n     * // => { 'user': 'fred' }\n     */\n    function matchesProperty(path, value) {\n      return baseMatchesProperty(path, baseClone(value, true));\n    }\n\n    /**\n     * Creates a function which invokes the method at `path` on a given object.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Array|string} path The path of the method to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': { 'c': _.constant(2) } } },\n     *   { 'a': { 'b': { 'c': _.constant(1) } } }\n     * ];\n     *\n     * _.map(objects, _.method('a.b.c'));\n     * // => [2, 1]\n     *\n     * _.invoke(_.sortBy(objects, _.method(['a', 'b', 'c'])), 'a.b.c');\n     * // => [1, 2]\n     */\n    var method = restParam(function(path, args) {\n      return function(object) {\n        return invokePath(object, path, args);\n      };\n    });\n\n    /**\n     * The opposite of `_.method`; this method creates a function which invokes\n     * the method at a given path on `object`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var array = _.times(3, _.constant),\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n     * // => [2, 0]\n     */\n    var methodOf = restParam(function(object, args) {\n      return function(path) {\n        return invokePath(object, path, args);\n      };\n    });\n\n    /**\n     * Adds all own enumerable function properties of a source object to the\n     * destination object. If `object` is a function then methods are added to\n     * its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n     * avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Function|Object} [object=lodash] The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.chain=true] Specify whether the functions added\n     *  are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * // use `_.runInContext` to avoid conflicts (esp. in Node.js)\n     * var _ = require('lodash').runInContext();\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      if (options == null) {\n        var isObj = isObject(source),\n            props = isObj && keys(source),\n            methodNames = props && props.length && baseFunctions(source, props);\n\n        if (!(methodNames ? methodNames.length : isObj)) {\n          methodNames = false;\n          options = source;\n          source = object;\n          object = this;\n        }\n      }\n      if (!methodNames) {\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = true,\n          index = -1,\n          isFunc = isFunction(object),\n          length = methodNames.length;\n\n      if (options === false) {\n        chain = false;\n      } else if (isObject(options) && 'chain' in options) {\n        chain = options.chain;\n      }\n      while (++index < length) {\n        var methodName = methodNames[index],\n            func = source[methodName];\n\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = (function(func) {\n            return function() {\n              var chainAll = this.__chain__;\n              if (chain || chainAll) {\n                var result = object(this.__wrapped__),\n                    actions = result.__actions__ = arrayCopy(this.__actions__);\n\n                actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\n                result.__chain__ = chainAll;\n                return result;\n              }\n              var args = [this.value()];\n              push.apply(args, arguments);\n              return func.apply(object, args);\n            };\n          }(func));\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      context._ = oldDash;\n      return this;\n    }\n\n    /**\n     * A no-operation function which returns `undefined` regardless of the\n     * arguments it receives.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * _.noop(object) === undefined;\n     * // => true\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function which returns the property value at `path` on a\n     * given object.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': { 'c': 2 } } },\n     *   { 'a': { 'b': { 'c': 1 } } }\n     * ];\n     *\n     * _.map(objects, _.property('a.b.c'));\n     * // => [2, 1]\n     *\n     * _.pluck(_.sortBy(objects, _.property(['a', 'b', 'c'])), 'a.b.c');\n     * // => [1, 2]\n     */\n    function property(path) {\n      return isKey(path) ? baseProperty(path) : basePropertyDeep(path);\n    }\n\n    /**\n     * The opposite of `_.property`; this method creates a function which returns\n     * the property value at a given path on `object`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var array = [0, 1, 2],\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n     * // => [2, 0]\n     */\n    function propertyOf(object) {\n      return function(path) {\n        return baseGet(object, toPath(path), path + '');\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. If `end` is not specified it is\n     * set to `start` with `start` then set to `0`. If `end` is less than `start`\n     * a zero-length range is created unless a negative `step` is specified.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the new array of numbers.\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    function range(start, end, step) {\n      if (step && isIterateeCall(start, end, step)) {\n        end = step = null;\n      }\n      start = +start || 0;\n      step = step == null ? 1 : (+step || 0);\n\n      if (end == null) {\n        end = start;\n        start = 0;\n      } else {\n        end = +end || 0;\n      }\n      // Use `Array(length)` so engines like Chakra and V8 avoid slower modes.\n      // See https://youtu.be/XAqIpGU8ZZk#t=17m25s for more details.\n      var index = -1,\n          length = nativeMax(ceil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * Invokes the iteratee function `n` times, returning an array of the results\n     * of each invocation. The `iteratee` is bound to `thisArg` and invoked with\n     * one argument; (index).\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * var diceRolls = _.times(3, _.partial(_.random, 1, 6, false));\n     * // => [3, 6, 4]\n     *\n     * _.times(3, function(n) {\n     *   mage.castSpell(n);\n     * });\n     * // => invokes `mage.castSpell(n)` three times with `n` of `0`, `1`, and `2`\n     *\n     * _.times(3, function(n) {\n     *   this.cast(n);\n     * }, mage);\n     * // => also invokes `mage.castSpell(n)` three times\n     */\n    function times(n, iteratee, thisArg) {\n      n = floor(n);\n\n      // Exit early to avoid a JSC JIT bug in Safari 8\n      // where `Array(0)` is treated as `Array(1)`.\n      if (n < 1 || !nativeIsFinite(n)) {\n        return [];\n      }\n      var index = -1,\n          result = Array(nativeMin(n, MAX_ARRAY_LENGTH));\n\n      iteratee = bindCallback(iteratee, thisArg, 1);\n      while (++index < n) {\n        if (index < MAX_ARRAY_LENGTH) {\n          result[index] = iteratee(index);\n        } else {\n          iteratee(index);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is provided the ID is appended to it.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {string} [prefix] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return baseToString(prefix) + id;\n    }\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {number} augend The first number to add.\n     * @param {number} addend The second number to add.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n    function add(augend, addend) {\n      return (+augend || 0) + (+addend || 0);\n    }\n\n    /**\n     * Gets the maximum value of `collection`. If `collection` is empty or falsey\n     * `-Infinity` is returned. If an iteratee function is provided it is invoked\n     * for each value in `collection` to generate the criterion by which the value\n     * is ranked. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => -Infinity\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.max(users, function(chr) {\n     *   return chr.age;\n     * });\n     * // => { 'user': 'fred', 'age': 40 }\n     *\n     * // using the `_.property` callback shorthand\n     * _.max(users, 'age');\n     * // => { 'user': 'fred', 'age': 40 }\n     */\n    var max = createExtremum(arrayMax);\n\n    /**\n     * Gets the minimum value of `collection`. If `collection` is empty or falsey\n     * `Infinity` is returned. If an iteratee function is provided it is invoked\n     * for each value in `collection` to generate the criterion by which the value\n     * is ranked. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => Infinity\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.min(users, function(chr) {\n     *   return chr.age;\n     * });\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // using the `_.property` callback shorthand\n     * _.min(users, 'age');\n     * // => { 'user': 'barney', 'age': 36 }\n     */\n    var min = createExtremum(arrayMin, true);\n\n    /**\n     * Gets the sum of the values in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 6]);\n     * // => 10\n     *\n     * _.sum({ 'a': 4, 'b': 6 });\n     * // => 10\n     *\n     * var objects = [\n     *   { 'n': 4 },\n     *   { 'n': 6 }\n     * ];\n     *\n     * _.sum(objects, function(object) {\n     *   return object.n;\n     * });\n     * // => 10\n     *\n     * // using the `_.property` callback shorthand\n     * _.sum(objects, 'n');\n     * // => 10\n     */\n    function sum(collection, iteratee, thisArg) {\n      if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\n        iteratee = null;\n      }\n      var func = getCallback(),\n          noIteratee = iteratee == null;\n\n      if (!(func === baseCallback && noIteratee)) {\n        noIteratee = false;\n        iteratee = func(iteratee, thisArg, 3);\n      }\n      return noIteratee\n        ? arraySum(isArray(collection) ? collection : toIterable(collection))\n        : baseSum(collection, iteratee);\n    }\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    // Add functions to the `Map` cache.\n    MapCache.prototype['delete'] = mapDelete;\n    MapCache.prototype.get = mapGet;\n    MapCache.prototype.has = mapHas;\n    MapCache.prototype.set = mapSet;\n\n    // Add functions to the `Set` cache.\n    SetCache.prototype.push = cachePush;\n\n    // Assign cache to `_.memoize`.\n    memoize.Cache = MapCache;\n\n    // Add functions that return wrapped values when chaining.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.callback = callback;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.functions = functions;\n    lodash.groupBy = groupBy;\n    lodash.indexBy = indexBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.invert = invert;\n    lodash.invoke = invoke;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapKeys = mapKeys;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.method = method;\n    lodash.methodOf = methodOf;\n    lodash.mixin = mixin;\n    lodash.negate = negate;\n    lodash.omit = omit;\n    lodash.once = once;\n    lodash.pairs = pairs;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pluck = pluck;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.restParam = restParam;\n    lodash.set = set;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortByAll = sortByAll;\n    lodash.sortByOrder = sortByOrder;\n    lodash.spread = spread;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.times = times;\n    lodash.toArray = toArray;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.union = union;\n    lodash.uniq = uniq;\n    lodash.unzip = unzip;\n    lodash.unzipWith = unzipWith;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.where = where;\n    lodash.without = without;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n    lodash.zipWith = zipWith;\n\n    // Add aliases.\n    lodash.backflow = flowRight;\n    lodash.collect = map;\n    lodash.compose = flowRight;\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.extend = assign;\n    lodash.iteratee = callback;\n    lodash.methods = functions;\n    lodash.object = zipObject;\n    lodash.select = filter;\n    lodash.tail = rest;\n    lodash.unique = uniq;\n\n    // Add functions to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    // Add functions that return unwrapped values when chaining.\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.deburr = deburr;\n    lodash.endsWith = endsWith;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.findWhere = findWhere;\n    lodash.first = first;\n    lodash.get = get;\n    lodash.has = has;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isBoolean = isBoolean;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isMatch = isMatch;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isString = isString;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.max = max;\n    lodash.min = min;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padLeft = padLeft;\n    lodash.padRight = padRight;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.result = result;\n    lodash.runInContext = runInContext;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.sum = sum;\n    lodash.template = template;\n    lodash.trim = trim;\n    lodash.trimLeft = trimLeft;\n    lodash.trimRight = trimRight;\n    lodash.trunc = trunc;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.words = words;\n\n    // Add aliases.\n    lodash.all = every;\n    lodash.any = some;\n    lodash.contains = includes;\n    lodash.detect = find;\n    lodash.foldl = reduce;\n    lodash.foldr = reduceRight;\n    lodash.head = first;\n    lodash.include = includes;\n    lodash.inject = reduce;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!lodash.prototype[methodName]) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), false);\n\n    // Add functions capable of returning wrapped and unwrapped values when chaining.\n    lodash.sample = sample;\n\n    lodash.prototype.sample = function(n) {\n      if (!this.__chain__ && n == null) {\n        return sample(this.value());\n      }\n      return this.thru(function(value) {\n        return sample(value, n);\n      });\n    };\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type string\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['dropWhile', 'filter', 'map', 'takeWhile'], function(methodName, type) {\n      var isFilter = type != LAZY_MAP_FLAG,\n          isDropWhile = type == LAZY_DROP_WHILE_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee, thisArg) {\n        var filtered = this.__filtered__,\n            result = (filtered && isDropWhile) ? new LazyWrapper(this) : this.clone(),\n            iteratees = result.__iteratees__ || (result.__iteratees__ = []);\n\n        iteratees.push({\n          'done': false,\n          'count': 0,\n          'index': 0,\n          'iteratee': getCallback(iteratee, thisArg, 1),\n          'limit': -1,\n          'type': type\n        });\n\n        result.__filtered__ = filtered || isFilter;\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      var whileName = methodName + 'While';\n\n      LazyWrapper.prototype[methodName] = function(n) {\n        var filtered = this.__filtered__,\n            result = (filtered && !index) ? this.dropWhile() : this.clone();\n\n        n = n == null ? 1 : nativeMax(floor(n) || 0, 0);\n        if (filtered) {\n          if (index) {\n            result.__takeCount__ = nativeMin(result.__takeCount__, n);\n          } else {\n            last(result.__iteratees__).limit = n;\n          }\n        } else {\n          var views = result.__views__ || (result.__views__ = []);\n          views.push({ 'size': n, 'type': methodName + (result.__dir__ < 0 ? 'Right' : '') });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n\n      LazyWrapper.prototype[methodName + 'RightWhile'] = function(predicate, thisArg) {\n        return this.reverse()[whileName](predicate, thisArg).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.first` and `_.last`.\n    arrayEach(['first', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.rest`.\n    arrayEach(['initial', 'rest'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[dropName](1);\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.pluck` and `_.where`.\n    arrayEach(['pluck', 'where'], function(methodName, index) {\n      var operationName = index ? 'filter' : 'map',\n          createCallback = index ? baseMatches : property;\n\n      LazyWrapper.prototype[methodName] = function(value) {\n        return this[operationName](createCallback(value));\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.reject = function(predicate, thisArg) {\n      predicate = getCallback(predicate, thisArg, 1);\n      return this.filter(function(value) {\n        return !predicate(value);\n      });\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = start == null ? 0 : (+start || 0);\n\n      var result = this;\n      if (start < 0) {\n        result = this.takeRight(-start);\n      } else if (start) {\n        result = this.drop(start);\n      }\n      if (end !== undefined) {\n        end = (+end || 0);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.drop(0);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (!lodashFunc) {\n        return;\n      }\n      var checkIteratee = /^(?:filter|map|reject)|While$/.test(methodName),\n          retUnwrapped = /^(?:first|last)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments,\n            chainAll = this.__chain__,\n            value = this.__wrapped__,\n            isHybrid = !!this.__actions__.length,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // avoid lazy use if the iteratee has a \"length\" value other than `1`\n          isLazy = useLazy = false;\n        }\n        var onlyLazy = isLazy && !isHybrid;\n        if (retUnwrapped && !chainAll) {\n          return onlyLazy\n            ? func.call(value)\n            : lodashFunc.call(lodash, this.value());\n        }\n        var interceptor = function(value) {\n          var otherArgs = [value];\n          push.apply(otherArgs, args);\n          return lodashFunc.apply(lodash, otherArgs);\n        };\n        if (useLazy) {\n          var wrapper = onlyLazy ? value : new LazyWrapper(this),\n              result = func.apply(wrapper, args);\n\n          if (!retUnwrapped && (isHybrid || result.__actions__)) {\n            var actions = result.__actions__ || (result.__actions__ = []);\n            actions.push({ 'func': thru, 'args': [interceptor], 'thisArg': lodash });\n          }\n          return new LodashWrapper(result, chainAll);\n        }\n        return this.thru(interceptor);\n      };\n    });\n\n    // Add `Array` and `String` methods to `lodash.prototype`.\n    arrayEach(['concat', 'join', 'pop', 'push', 'replace', 'shift', 'sort', 'splice', 'split', 'unshift'], function(methodName) {\n      var func = (/^(?:replace|split)$/.test(methodName) ? stringProto : arrayProto)[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:join|pop|replace|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          return func.apply(this.value(), args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(value, args);\n        });\n      };\n    });\n\n    // Map minified function names to their real names.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (lodashFunc) {\n        var key = lodashFunc.name,\n            names = realNames[key] || (realNames[key] = []);\n\n        names.push({ 'name': methodName, 'func': lodashFunc });\n      }\n    });\n\n    realNames[createHybridWrapper(null, BIND_KEY_FLAG).name] = [{ 'name': 'wrapper', 'func': null }];\n\n    // Add functions to the lazy wrapper.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chaining functions to the `lodash` wrapper.\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toString = wrapperToString;\n    lodash.prototype.run = lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add function aliases to the `lodash` wrapper.\n    lodash.prototype.collect = lodash.prototype.map;\n    lodash.prototype.head = lodash.prototype.first;\n    lodash.prototype.select = lodash.prototype.filter;\n    lodash.prototype.tail = lodash.prototype.rest;\n\n    return lodash;\n  }\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers like r.js check for condition patterns like the following:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose lodash to the global object when an AMD loader is present to avoid\n    // errors in cases where lodash is loaded by a script tag and not intended\n    // as an AMD module. See http://requirejs.org/docs/errors.html#mismatch for\n    // more details.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    define(function() {\n      return _;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds an `exports` object.\n  else if (freeExports && freeModule) {\n    // Export for Node.js or RingoJS.\n    if (moduleExports) {\n      (freeModule.exports = _)._ = _;\n    }\n    // Export for Narwhal or Rhino -require.\n    else {\n      freeExports._ = _;\n    }\n  }\n  else {\n    // Export for a browser or Rhino.\n    root._ = _;\n  }\n}.call(this));\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],8:[function(require,module,exports){\n/*!\n * numeral.js\n * version : 1.5.3\n * author : Adam Draper\n * license : MIT\n * http://adamwdraper.github.com/Numeral-js/\n */\n\n(function () {\n\n    /************************************\n        Constants\n    ************************************/\n\n    var numeral,\n        VERSION = '1.5.3',\n        // internal storage for language config files\n        languages = {},\n        currentLanguage = 'en',\n        zeroFormat = null,\n        defaultFormat = '0,0',\n        // check for nodeJS\n        hasModule = (typeof module !== 'undefined' && module.exports);\n\n\n    /************************************\n        Constructors\n    ************************************/\n\n\n    // Numeral prototype object\n    function Numeral (number) {\n        this._value = number;\n    }\n\n    /**\n     * Implementation of toFixed() that treats floats more like decimals\n     *\n     * Fixes binary rounding issues (eg. (0.615).toFixed(2) === '0.61') that present\n     * problems for accounting- and finance-related software.\n     */\n    function toFixed (value, precision, roundingFunction, optionals) {\n        var power = Math.pow(10, precision),\n            optionalsRegExp,\n            output;\n            \n        //roundingFunction = (roundingFunction !== undefined ? roundingFunction : Math.round);\n        // Multiply up by precision, round accurately, then divide and use native toFixed():\n        output = (roundingFunction(value * power) / power).toFixed(precision);\n\n        if (optionals) {\n            optionalsRegExp = new RegExp('0{1,' + optionals + '}$');\n            output = output.replace(optionalsRegExp, '');\n        }\n\n        return output;\n    }\n\n    /************************************\n        Formatting\n    ************************************/\n\n    // determine what type of formatting we need to do\n    function formatNumeral (n, format, roundingFunction) {\n        var output;\n\n        // figure out what kind of format we are dealing with\n        if (format.indexOf('$') > -1) { // currency!!!!!\n            output = formatCurrency(n, format, roundingFunction);\n        } else if (format.indexOf('%') > -1) { // percentage\n            output = formatPercentage(n, format, roundingFunction);\n        } else if (format.indexOf(':') > -1) { // time\n            output = formatTime(n, format);\n        } else { // plain ol' numbers or bytes\n            output = formatNumber(n._value, format, roundingFunction);\n        }\n\n        // return string\n        return output;\n    }\n\n    // revert to number\n    function unformatNumeral (n, string) {\n        var stringOriginal = string,\n            thousandRegExp,\n            millionRegExp,\n            billionRegExp,\n            trillionRegExp,\n            suffixes = ['KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'],\n            bytesMultiplier = false,\n            power;\n\n        if (string.indexOf(':') > -1) {\n            n._value = unformatTime(string);\n        } else {\n            if (string === zeroFormat) {\n                n._value = 0;\n            } else {\n                if (languages[currentLanguage].delimiters.decimal !== '.') {\n                    string = string.replace(/\\./g,'').replace(languages[currentLanguage].delimiters.decimal, '.');\n                }\n\n                // see if abbreviations are there so that we can multiply to the correct number\n                thousandRegExp = new RegExp('[^a-zA-Z]' + languages[currentLanguage].abbreviations.thousand + '(?:\\\\)|(\\\\' + languages[currentLanguage].currency.symbol + ')?(?:\\\\))?)?$');\n                millionRegExp = new RegExp('[^a-zA-Z]' + languages[currentLanguage].abbreviations.million + '(?:\\\\)|(\\\\' + languages[currentLanguage].currency.symbol + ')?(?:\\\\))?)?$');\n                billionRegExp = new RegExp('[^a-zA-Z]' + languages[currentLanguage].abbreviations.billion + '(?:\\\\)|(\\\\' + languages[currentLanguage].currency.symbol + ')?(?:\\\\))?)?$');\n                trillionRegExp = new RegExp('[^a-zA-Z]' + languages[currentLanguage].abbreviations.trillion + '(?:\\\\)|(\\\\' + languages[currentLanguage].currency.symbol + ')?(?:\\\\))?)?$');\n\n                // see if bytes are there so that we can multiply to the correct number\n                for (power = 0; power <= suffixes.length; power++) {\n                    bytesMultiplier = (string.indexOf(suffixes[power]) > -1) ? Math.pow(1024, power + 1) : false;\n\n                    if (bytesMultiplier) {\n                        break;\n                    }\n                }\n\n                // do some math to create our number\n                n._value = ((bytesMultiplier) ? bytesMultiplier : 1) * ((stringOriginal.match(thousandRegExp)) ? Math.pow(10, 3) : 1) * ((stringOriginal.match(millionRegExp)) ? Math.pow(10, 6) : 1) * ((stringOriginal.match(billionRegExp)) ? Math.pow(10, 9) : 1) * ((stringOriginal.match(trillionRegExp)) ? Math.pow(10, 12) : 1) * ((string.indexOf('%') > -1) ? 0.01 : 1) * (((string.split('-').length + Math.min(string.split('(').length-1, string.split(')').length-1)) % 2)? 1: -1) * Number(string.replace(/[^0-9\\.]+/g, ''));\n\n                // round if we are talking about bytes\n                n._value = (bytesMultiplier) ? Math.ceil(n._value) : n._value;\n            }\n        }\n        return n._value;\n    }\n\n    function formatCurrency (n, format, roundingFunction) {\n        var symbolIndex = format.indexOf('$'),\n            openParenIndex = format.indexOf('('),\n            minusSignIndex = format.indexOf('-'),\n            space = '',\n            spliceIndex,\n            output;\n\n        // check for space before or after currency\n        if (format.indexOf(' $') > -1) {\n            space = ' ';\n            format = format.replace(' $', '');\n        } else if (format.indexOf('$ ') > -1) {\n            space = ' ';\n            format = format.replace('$ ', '');\n        } else {\n            format = format.replace('$', '');\n        }\n\n        // format the number\n        output = formatNumber(n._value, format, roundingFunction);\n\n        // position the symbol\n        if (symbolIndex <= 1) {\n            if (output.indexOf('(') > -1 || output.indexOf('-') > -1) {\n                output = output.split('');\n                spliceIndex = 1;\n                if (symbolIndex < openParenIndex || symbolIndex < minusSignIndex){\n                    // the symbol appears before the \"(\" or \"-\"\n                    spliceIndex = 0;\n                }\n                output.splice(spliceIndex, 0, languages[currentLanguage].currency.symbol + space);\n                output = output.join('');\n            } else {\n                output = languages[currentLanguage].currency.symbol + space + output;\n            }\n        } else {\n            if (output.indexOf(')') > -1) {\n                output = output.split('');\n                output.splice(-1, 0, space + languages[currentLanguage].currency.symbol);\n                output = output.join('');\n            } else {\n                output = output + space + languages[currentLanguage].currency.symbol;\n            }\n        }\n\n        return output;\n    }\n\n    function formatPercentage (n, format, roundingFunction) {\n        var space = '',\n            output,\n            value = n._value * 100;\n\n        // check for space before %\n        if (format.indexOf(' %') > -1) {\n            space = ' ';\n            format = format.replace(' %', '');\n        } else {\n            format = format.replace('%', '');\n        }\n\n        output = formatNumber(value, format, roundingFunction);\n        \n        if (output.indexOf(')') > -1 ) {\n            output = output.split('');\n            output.splice(-1, 0, space + '%');\n            output = output.join('');\n        } else {\n            output = output + space + '%';\n        }\n\n        return output;\n    }\n\n    function formatTime (n) {\n        var hours = Math.floor(n._value/60/60),\n            minutes = Math.floor((n._value - (hours * 60 * 60))/60),\n            seconds = Math.round(n._value - (hours * 60 * 60) - (minutes * 60));\n        return hours + ':' + ((minutes < 10) ? '0' + minutes : minutes) + ':' + ((seconds < 10) ? '0' + seconds : seconds);\n    }\n\n    function unformatTime (string) {\n        var timeArray = string.split(':'),\n            seconds = 0;\n        // turn hours and minutes into seconds and add them all up\n        if (timeArray.length === 3) {\n            // hours\n            seconds = seconds + (Number(timeArray[0]) * 60 * 60);\n            // minutes\n            seconds = seconds + (Number(timeArray[1]) * 60);\n            // seconds\n            seconds = seconds + Number(timeArray[2]);\n        } else if (timeArray.length === 2) {\n            // minutes\n            seconds = seconds + (Number(timeArray[0]) * 60);\n            // seconds\n            seconds = seconds + Number(timeArray[1]);\n        }\n        return Number(seconds);\n    }\n\n    function formatNumber (value, format, roundingFunction) {\n        var negP = false,\n            signed = false,\n            optDec = false,\n            abbr = '',\n            abbrK = false, // force abbreviation to thousands\n            abbrM = false, // force abbreviation to millions\n            abbrB = false, // force abbreviation to billions\n            abbrT = false, // force abbreviation to trillions\n            abbrForce = false, // force abbreviation\n            bytes = '',\n            ord = '',\n            abs = Math.abs(value),\n            suffixes = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'],\n            min,\n            max,\n            power,\n            w,\n            precision,\n            thousands,\n            d = '',\n            neg = false;\n\n        // check if number is zero and a custom zero format has been set\n        if (value === 0 && zeroFormat !== null) {\n            return zeroFormat;\n        } else {\n            // see if we should use parentheses for negative number or if we should prefix with a sign\n            // if both are present we default to parentheses\n            if (format.indexOf('(') > -1) {\n                negP = true;\n                format = format.slice(1, -1);\n            } else if (format.indexOf('+') > -1) {\n                signed = true;\n                format = format.replace(/\\+/g, '');\n            }\n\n            // see if abbreviation is wanted\n            if (format.indexOf('a') > -1) {\n                // check if abbreviation is specified\n                abbrK = format.indexOf('aK') >= 0;\n                abbrM = format.indexOf('aM') >= 0;\n                abbrB = format.indexOf('aB') >= 0;\n                abbrT = format.indexOf('aT') >= 0;\n                abbrForce = abbrK || abbrM || abbrB || abbrT;\n\n                // check for space before abbreviation\n                if (format.indexOf(' a') > -1) {\n                    abbr = ' ';\n                    format = format.replace(' a', '');\n                } else {\n                    format = format.replace('a', '');\n                }\n\n                if (abs >= Math.pow(10, 12) && !abbrForce || abbrT) {\n                    // trillion\n                    abbr = abbr + languages[currentLanguage].abbreviations.trillion;\n                    value = value / Math.pow(10, 12);\n                } else if (abs < Math.pow(10, 12) && abs >= Math.pow(10, 9) && !abbrForce || abbrB) {\n                    // billion\n                    abbr = abbr + languages[currentLanguage].abbreviations.billion;\n                    value = value / Math.pow(10, 9);\n                } else if (abs < Math.pow(10, 9) && abs >= Math.pow(10, 6) && !abbrForce || abbrM) {\n                    // million\n                    abbr = abbr + languages[currentLanguage].abbreviations.million;\n                    value = value / Math.pow(10, 6);\n                } else if (abs < Math.pow(10, 6) && abs >= Math.pow(10, 3) && !abbrForce || abbrK) {\n                    // thousand\n                    abbr = abbr + languages[currentLanguage].abbreviations.thousand;\n                    value = value / Math.pow(10, 3);\n                }\n            }\n\n            // see if we are formatting bytes\n            if (format.indexOf('b') > -1) {\n                // check for space before\n                if (format.indexOf(' b') > -1) {\n                    bytes = ' ';\n                    format = format.replace(' b', '');\n                } else {\n                    format = format.replace('b', '');\n                }\n\n                for (power = 0; power <= suffixes.length; power++) {\n                    min = Math.pow(1024, power);\n                    max = Math.pow(1024, power+1);\n\n                    if (value >= min && value < max) {\n                        bytes = bytes + suffixes[power];\n                        if (min > 0) {\n                            value = value / min;\n                        }\n                        break;\n                    }\n                }\n            }\n\n            // see if ordinal is wanted\n            if (format.indexOf('o') > -1) {\n                // check for space before\n                if (format.indexOf(' o') > -1) {\n                    ord = ' ';\n                    format = format.replace(' o', '');\n                } else {\n                    format = format.replace('o', '');\n                }\n\n                ord = ord + languages[currentLanguage].ordinal(value);\n            }\n\n            if (format.indexOf('[.]') > -1) {\n                optDec = true;\n                format = format.replace('[.]', '.');\n            }\n\n            w = value.toString().split('.')[0];\n            precision = format.split('.')[1];\n            thousands = format.indexOf(',');\n\n            if (precision) {\n                if (precision.indexOf('[') > -1) {\n                    precision = precision.replace(']', '');\n                    precision = precision.split('[');\n                    d = toFixed(value, (precision[0].length + precision[1].length), roundingFunction, precision[1].length);\n                } else {\n                    d = toFixed(value, precision.length, roundingFunction);\n                }\n\n                w = d.split('.')[0];\n\n                if (d.split('.')[1].length) {\n                    d = languages[currentLanguage].delimiters.decimal + d.split('.')[1];\n                } else {\n                    d = '';\n                }\n\n                if (optDec && Number(d.slice(1)) === 0) {\n                    d = '';\n                }\n            } else {\n                w = toFixed(value, null, roundingFunction);\n            }\n\n            // format number\n            if (w.indexOf('-') > -1) {\n                w = w.slice(1);\n                neg = true;\n            }\n\n            if (thousands > -1) {\n                w = w.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1' + languages[currentLanguage].delimiters.thousands);\n            }\n\n            if (format.indexOf('.') === 0) {\n                w = '';\n            }\n\n            return ((negP && neg) ? '(' : '') + ((!negP && neg) ? '-' : '') + ((!neg && signed) ? '+' : '') + w + d + ((ord) ? ord : '') + ((abbr) ? abbr : '') + ((bytes) ? bytes : '') + ((negP && neg) ? ')' : '');\n        }\n    }\n\n    /************************************\n        Top Level Functions\n    ************************************/\n\n    numeral = function (input) {\n        if (numeral.isNumeral(input)) {\n            input = input.value();\n        } else if (input === 0 || typeof input === 'undefined') {\n            input = 0;\n        } else if (!Number(input)) {\n            input = numeral.fn.unformat(input);\n        }\n\n        return new Numeral(Number(input));\n    };\n\n    // version number\n    numeral.version = VERSION;\n\n    // compare numeral object\n    numeral.isNumeral = function (obj) {\n        return obj instanceof Numeral;\n    };\n\n    // This function will load languages and then set the global language.  If\n    // no arguments are passed in, it will simply return the current global\n    // language key.\n    numeral.language = function (key, values) {\n        if (!key) {\n            return currentLanguage;\n        }\n\n        if (key && !values) {\n            if(!languages[key]) {\n                throw new Error('Unknown language : ' + key);\n            }\n            currentLanguage = key;\n        }\n\n        if (values || !languages[key]) {\n            loadLanguage(key, values);\n        }\n\n        return numeral;\n    };\n    \n    // This function provides access to the loaded language data.  If\n    // no arguments are passed in, it will simply return the current\n    // global language object.\n    numeral.languageData = function (key) {\n        if (!key) {\n            return languages[currentLanguage];\n        }\n        \n        if (!languages[key]) {\n            throw new Error('Unknown language : ' + key);\n        }\n        \n        return languages[key];\n    };\n\n    numeral.language('en', {\n        delimiters: {\n            thousands: ',',\n            decimal: '.'\n        },\n        abbreviations: {\n            thousand: 'k',\n            million: 'm',\n            billion: 'b',\n            trillion: 't'\n        },\n        ordinal: function (number) {\n            var b = number % 10;\n            return (~~ (number % 100 / 10) === 1) ? 'th' :\n                (b === 1) ? 'st' :\n                (b === 2) ? 'nd' :\n                (b === 3) ? 'rd' : 'th';\n        },\n        currency: {\n            symbol: '$'\n        }\n    });\n\n    numeral.zeroFormat = function (format) {\n        zeroFormat = typeof(format) === 'string' ? format : null;\n    };\n\n    numeral.defaultFormat = function (format) {\n        defaultFormat = typeof(format) === 'string' ? format : '0.0';\n    };\n\n    /************************************\n        Helpers\n    ************************************/\n\n    function loadLanguage(key, values) {\n        languages[key] = values;\n    }\n\n    /************************************\n        Floating-point helpers\n    ************************************/\n\n    // The floating-point helper functions and implementation\n    // borrows heavily from sinful.js: http://guipn.github.io/sinful.js/\n\n    /**\n     * Array.prototype.reduce for browsers that don't support it\n     * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce#Compatibility\n     */\n    if ('function' !== typeof Array.prototype.reduce) {\n        Array.prototype.reduce = function (callback, opt_initialValue) {\n            'use strict';\n            \n            if (null === this || 'undefined' === typeof this) {\n                // At the moment all modern browsers, that support strict mode, have\n                // native implementation of Array.prototype.reduce. For instance, IE8\n                // does not support strict mode, so this check is actually useless.\n                throw new TypeError('Array.prototype.reduce called on null or undefined');\n            }\n            \n            if ('function' !== typeof callback) {\n                throw new TypeError(callback + ' is not a function');\n            }\n\n            var index,\n                value,\n                length = this.length >>> 0,\n                isValueSet = false;\n\n            if (1 < arguments.length) {\n                value = opt_initialValue;\n                isValueSet = true;\n            }\n\n            for (index = 0; length > index; ++index) {\n                if (this.hasOwnProperty(index)) {\n                    if (isValueSet) {\n                        value = callback(value, this[index], index, this);\n                    } else {\n                        value = this[index];\n                        isValueSet = true;\n                    }\n                }\n            }\n\n            if (!isValueSet) {\n                throw new TypeError('Reduce of empty array with no initial value');\n            }\n\n            return value;\n        };\n    }\n\n    \n    /**\n     * Computes the multiplier necessary to make x >= 1,\n     * effectively eliminating miscalculations caused by\n     * finite precision.\n     */\n    function multiplier(x) {\n        var parts = x.toString().split('.');\n        if (parts.length < 2) {\n            return 1;\n        }\n        return Math.pow(10, parts[1].length);\n    }\n\n    /**\n     * Given a variable number of arguments, returns the maximum\n     * multiplier that must be used to normalize an operation involving\n     * all of them.\n     */\n    function correctionFactor() {\n        var args = Array.prototype.slice.call(arguments);\n        return args.reduce(function (prev, next) {\n            var mp = multiplier(prev),\n                mn = multiplier(next);\n        return mp > mn ? mp : mn;\n        }, -Infinity);\n    }        \n\n\n    /************************************\n        Numeral Prototype\n    ************************************/\n\n\n    numeral.fn = Numeral.prototype = {\n\n        clone : function () {\n            return numeral(this);\n        },\n\n        format : function (inputString, roundingFunction) {\n            return formatNumeral(this, \n                  inputString ? inputString : defaultFormat, \n                  (roundingFunction !== undefined) ? roundingFunction : Math.round\n              );\n        },\n\n        unformat : function (inputString) {\n            if (Object.prototype.toString.call(inputString) === '[object Number]') { \n                return inputString; \n            }\n            return unformatNumeral(this, inputString ? inputString : defaultFormat);\n        },\n\n        value : function () {\n            return this._value;\n        },\n\n        valueOf : function () {\n            return this._value;\n        },\n\n        set : function (value) {\n            this._value = Number(value);\n            return this;\n        },\n\n        add : function (value) {\n            var corrFactor = correctionFactor.call(null, this._value, value);\n            function cback(accum, curr, currI, O) {\n                return accum + corrFactor * curr;\n            }\n            this._value = [this._value, value].reduce(cback, 0) / corrFactor;\n            return this;\n        },\n\n        subtract : function (value) {\n            var corrFactor = correctionFactor.call(null, this._value, value);\n            function cback(accum, curr, currI, O) {\n                return accum - corrFactor * curr;\n            }\n            this._value = [value].reduce(cback, this._value * corrFactor) / corrFactor;            \n            return this;\n        },\n\n        multiply : function (value) {\n            function cback(accum, curr, currI, O) {\n                var corrFactor = correctionFactor(accum, curr);\n                return (accum * corrFactor) * (curr * corrFactor) /\n                    (corrFactor * corrFactor);\n            }\n            this._value = [this._value, value].reduce(cback, 1);\n            return this;\n        },\n\n        divide : function (value) {\n            function cback(accum, curr, currI, O) {\n                var corrFactor = correctionFactor(accum, curr);\n                return (accum * corrFactor) / (curr * corrFactor);\n            }\n            this._value = [this._value, value].reduce(cback);            \n            return this;\n        },\n\n        difference : function (value) {\n            return Math.abs(numeral(this._value).subtract(value).value());\n        }\n\n    };\n\n    /************************************\n        Exposing Numeral\n    ************************************/\n\n    // CommonJS module is defined\n    if (hasModule) {\n        module.exports = numeral;\n    }\n\n    /*global ender:false */\n    if (typeof ender === 'undefined') {\n        // here, `this` means `window` in the browser, or `global` on the server\n        // add `numeral` as a global object via a string identifier,\n        // for Closure Compiler 'advanced' mode\n        this['numeral'] = numeral;\n    }\n\n    /*global define:false */\n    if (typeof define === 'function' && define.amd) {\n        define([], function () {\n            return numeral;\n        });\n    }\n}).call(this);\n\n},{}],9:[function(require,module,exports){\n/*!\n* screenfull\n* v2.0.0 - 2014-12-22\n* (c) Sindre Sorhus; MIT License\n*/\n(function () {\n\t'use strict';\n\n\tvar isCommonjs = typeof module !== 'undefined' && module.exports;\n\tvar keyboardAllowed = typeof Element !== 'undefined' && 'ALLOW_KEYBOARD_INPUT' in Element;\n\n\tvar fn = (function () {\n\t\tvar val;\n\t\tvar valLength;\n\n\t\tvar fnMap = [\n\t\t\t[\n\t\t\t\t'requestFullscreen',\n\t\t\t\t'exitFullscreen',\n\t\t\t\t'fullscreenElement',\n\t\t\t\t'fullscreenEnabled',\n\t\t\t\t'fullscreenchange',\n\t\t\t\t'fullscreenerror'\n\t\t\t],\n\t\t\t// new WebKit\n\t\t\t[\n\t\t\t\t'webkitRequestFullscreen',\n\t\t\t\t'webkitExitFullscreen',\n\t\t\t\t'webkitFullscreenElement',\n\t\t\t\t'webkitFullscreenEnabled',\n\t\t\t\t'webkitfullscreenchange',\n\t\t\t\t'webkitfullscreenerror'\n\n\t\t\t],\n\t\t\t// old WebKit (Safari 5.1)\n\t\t\t[\n\t\t\t\t'webkitRequestFullScreen',\n\t\t\t\t'webkitCancelFullScreen',\n\t\t\t\t'webkitCurrentFullScreenElement',\n\t\t\t\t'webkitCancelFullScreen',\n\t\t\t\t'webkitfullscreenchange',\n\t\t\t\t'webkitfullscreenerror'\n\n\t\t\t],\n\t\t\t[\n\t\t\t\t'mozRequestFullScreen',\n\t\t\t\t'mozCancelFullScreen',\n\t\t\t\t'mozFullScreenElement',\n\t\t\t\t'mozFullScreenEnabled',\n\t\t\t\t'mozfullscreenchange',\n\t\t\t\t'mozfullscreenerror'\n\t\t\t],\n\t\t\t[\n\t\t\t\t'msRequestFullscreen',\n\t\t\t\t'msExitFullscreen',\n\t\t\t\t'msFullscreenElement',\n\t\t\t\t'msFullscreenEnabled',\n\t\t\t\t'MSFullscreenChange',\n\t\t\t\t'MSFullscreenError'\n\t\t\t]\n\t\t];\n\n\t\tvar i = 0;\n\t\tvar l = fnMap.length;\n\t\tvar ret = {};\n\n\t\tfor (; i < l; i++) {\n\t\t\tval = fnMap[i];\n\t\t\tif (val && val[1] in document) {\n\t\t\t\tfor (i = 0, valLength = val.length; i < valLength; i++) {\n\t\t\t\t\tret[fnMap[0][i]] = val[i];\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t})();\n\n\tvar screenfull = {\n\t\trequest: function (elem) {\n\t\t\tvar request = fn.requestFullscreen;\n\n\t\t\telem = elem || document.documentElement;\n\n\t\t\t// Work around Safari 5.1 bug: reports support for\n\t\t\t// keyboard in fullscreen even though it doesn't.\n\t\t\t// Browser sniffing, since the alternative with\n\t\t\t// setTimeout is even worse.\n\t\t\tif (/5\\.1[\\.\\d]* Safari/.test(navigator.userAgent)) {\n\t\t\t\telem[request]();\n\t\t\t} else {\n\t\t\t\telem[request](keyboardAllowed && Element.ALLOW_KEYBOARD_INPUT);\n\t\t\t}\n\t\t},\n\t\texit: function () {\n\t\t\tdocument[fn.exitFullscreen]();\n\t\t},\n\t\ttoggle: function (elem) {\n\t\t\tif (this.isFullscreen) {\n\t\t\t\tthis.exit();\n\t\t\t} else {\n\t\t\t\tthis.request(elem);\n\t\t\t}\n\t\t},\n\t\traw: fn\n\t};\n\n\tif (!fn) {\n\t\tif (isCommonjs) {\n\t\t\tmodule.exports = false;\n\t\t} else {\n\t\t\twindow.screenfull = false;\n\t\t}\n\n\t\treturn;\n\t}\n\n\tObject.defineProperties(screenfull, {\n\t\tisFullscreen: {\n\t\t\tget: function () {\n\t\t\t\treturn !!document[fn.fullscreenElement];\n\t\t\t}\n\t\t},\n\t\telement: {\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\treturn document[fn.fullscreenElement];\n\t\t\t}\n\t\t},\n\t\tenabled: {\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\t// Coerce to boolean in case of old WebKit\n\t\t\t\treturn !!document[fn.fullscreenEnabled];\n\t\t\t}\n\t\t}\n\t});\n\n\tif (isCommonjs) {\n\t\tmodule.exports = screenfull;\n\t} else {\n\t\twindow.screenfull = screenfull;\n\t}\n})();\n\n},{}],10:[function(require,module,exports){\n\nmodule.exports = require('./lib/');\n\n},{\"./lib/\":11}],11:[function(require,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar url = require('./url');\nvar parser = require('socket.io-parser');\nvar Manager = require('./manager');\nvar debug = require('debug')('socket.io-client');\n\n/**\n * Module exports.\n */\n\nmodule.exports = exports = lookup;\n\n/**\n * Managers cache.\n */\n\nvar cache = exports.managers = {};\n\n/**\n * Looks up an existing `Manager` for multiplexing.\n * If the user summons:\n *\n *   `io('http://localhost/a');`\n *   `io('http://localhost/b');`\n *\n * We reuse the existing instance based on same scheme/port/host,\n * and we initialize sockets for each namespace.\n *\n * @api public\n */\n\nfunction lookup(uri, opts) {\n  if (typeof uri == 'object') {\n    opts = uri;\n    uri = undefined;\n  }\n\n  opts = opts || {};\n\n  var parsed = url(uri);\n  var source = parsed.source;\n  var id = parsed.id;\n  var io;\n\n  if (opts.forceNew || opts['force new connection'] || false === opts.multiplex) {\n    debug('ignoring socket cache for %s', source);\n    io = Manager(source, opts);\n  } else {\n    if (!cache[id]) {\n      debug('new io instance for %s', source);\n      cache[id] = Manager(source, opts);\n    }\n    io = cache[id];\n  }\n\n  return io.socket(parsed.path);\n}\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nexports.protocol = parser.protocol;\n\n/**\n * `connect`.\n *\n * @param {String} uri\n * @api public\n */\n\nexports.connect = lookup;\n\n/**\n * Expose constructors for standalone build.\n *\n * @api public\n */\n\nexports.Manager = require('./manager');\nexports.Socket = require('./socket');\n\n},{\"./manager\":12,\"./socket\":14,\"./url\":15,\"debug\":19,\"socket.io-parser\":55}],12:[function(require,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar url = require('./url');\nvar eio = require('engine.io-client');\nvar Socket = require('./socket');\nvar Emitter = require('component-emitter');\nvar parser = require('socket.io-parser');\nvar on = require('./on');\nvar bind = require('component-bind');\nvar object = require('object-component');\nvar debug = require('debug')('socket.io-client:manager');\nvar indexOf = require('indexof');\nvar Backoff = require('backo2');\n\n/**\n * Module exports\n */\n\nmodule.exports = Manager;\n\n/**\n * `Manager` constructor.\n *\n * @param {String} engine instance or engine uri/opts\n * @param {Object} options\n * @api public\n */\n\nfunction Manager(uri, opts){\n  if (!(this instanceof Manager)) return new Manager(uri, opts);\n  if (uri && ('object' == typeof uri)) {\n    opts = uri;\n    uri = undefined;\n  }\n  opts = opts || {};\n\n  opts.path = opts.path || '/socket.io';\n  this.nsps = {};\n  this.subs = [];\n  this.opts = opts;\n  this.reconnection(opts.reconnection !== false);\n  this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n  this.reconnectionDelay(opts.reconnectionDelay || 1000);\n  this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n  this.randomizationFactor(opts.randomizationFactor || 0.5);\n  this.backoff = new Backoff({\n    min: this.reconnectionDelay(),\n    max: this.reconnectionDelayMax(),\n    jitter: this.randomizationFactor()\n  });\n  this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n  this.readyState = 'closed';\n  this.uri = uri;\n  this.connected = [];\n  this.encoding = false;\n  this.packetBuffer = [];\n  this.encoder = new parser.Encoder();\n  this.decoder = new parser.Decoder();\n  this.autoConnect = opts.autoConnect !== false;\n  if (this.autoConnect) this.open();\n}\n\n/**\n * Propagate given event to sockets and emit on `this`\n *\n * @api private\n */\n\nManager.prototype.emitAll = function() {\n  this.emit.apply(this, arguments);\n  for (var nsp in this.nsps) {\n    this.nsps[nsp].emit.apply(this.nsps[nsp], arguments);\n  }\n};\n\n/**\n * Update `socket.id` of all sockets\n *\n * @api private\n */\n\nManager.prototype.updateSocketIds = function(){\n  for (var nsp in this.nsps) {\n    this.nsps[nsp].id = this.engine.id;\n  }\n};\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Manager.prototype);\n\n/**\n * Sets the `reconnection` config.\n *\n * @param {Boolean} true/false if it should automatically reconnect\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnection = function(v){\n  if (!arguments.length) return this._reconnection;\n  this._reconnection = !!v;\n  return this;\n};\n\n/**\n * Sets the reconnection attempts config.\n *\n * @param {Number} max reconnection attempts before giving up\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionAttempts = function(v){\n  if (!arguments.length) return this._reconnectionAttempts;\n  this._reconnectionAttempts = v;\n  return this;\n};\n\n/**\n * Sets the delay between reconnections.\n *\n * @param {Number} delay\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionDelay = function(v){\n  if (!arguments.length) return this._reconnectionDelay;\n  this._reconnectionDelay = v;\n  this.backoff && this.backoff.setMin(v);\n  return this;\n};\n\nManager.prototype.randomizationFactor = function(v){\n  if (!arguments.length) return this._randomizationFactor;\n  this._randomizationFactor = v;\n  this.backoff && this.backoff.setJitter(v);\n  return this;\n};\n\n/**\n * Sets the maximum delay between reconnections.\n *\n * @param {Number} delay\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionDelayMax = function(v){\n  if (!arguments.length) return this._reconnectionDelayMax;\n  this._reconnectionDelayMax = v;\n  this.backoff && this.backoff.setMax(v);\n  return this;\n};\n\n/**\n * Sets the connection timeout. `false` to disable\n *\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.timeout = function(v){\n  if (!arguments.length) return this._timeout;\n  this._timeout = v;\n  return this;\n};\n\n/**\n * Starts trying to reconnect if reconnection is enabled and we have not\n * started reconnecting yet\n *\n * @api private\n */\n\nManager.prototype.maybeReconnectOnOpen = function() {\n  // Only try to reconnect if it's the first time we're connecting\n  if (!this.reconnecting && this._reconnection && this.backoff.attempts === 0) {\n    // keeps reconnection from firing twice for the same reconnection loop\n    this.reconnect();\n  }\n};\n\n\n/**\n * Sets the current transport `socket`.\n *\n * @param {Function} optional, callback\n * @return {Manager} self\n * @api public\n */\n\nManager.prototype.open =\nManager.prototype.connect = function(fn){\n  debug('readyState %s', this.readyState);\n  if (~this.readyState.indexOf('open')) return this;\n\n  debug('opening %s', this.uri);\n  this.engine = eio(this.uri, this.opts);\n  var socket = this.engine;\n  var self = this;\n  this.readyState = 'opening';\n  this.skipReconnect = false;\n\n  // emit `open`\n  var openSub = on(socket, 'open', function() {\n    self.onopen();\n    fn && fn();\n  });\n\n  // emit `connect_error`\n  var errorSub = on(socket, 'error', function(data){\n    debug('connect_error');\n    self.cleanup();\n    self.readyState = 'closed';\n    self.emitAll('connect_error', data);\n    if (fn) {\n      var err = new Error('Connection error');\n      err.data = data;\n      fn(err);\n    } else {\n      // Only do this if there is no fn to handle the error\n      self.maybeReconnectOnOpen();\n    }\n  });\n\n  // emit `connect_timeout`\n  if (false !== this._timeout) {\n    var timeout = this._timeout;\n    debug('connect attempt will timeout after %d', timeout);\n\n    // set timer\n    var timer = setTimeout(function(){\n      debug('connect attempt timed out after %d', timeout);\n      openSub.destroy();\n      socket.close();\n      socket.emit('error', 'timeout');\n      self.emitAll('connect_timeout', timeout);\n    }, timeout);\n\n    this.subs.push({\n      destroy: function(){\n        clearTimeout(timer);\n      }\n    });\n  }\n\n  this.subs.push(openSub);\n  this.subs.push(errorSub);\n\n  return this;\n};\n\n/**\n * Called upon transport open.\n *\n * @api private\n */\n\nManager.prototype.onopen = function(){\n  debug('open');\n\n  // clear old subs\n  this.cleanup();\n\n  // mark as open\n  this.readyState = 'open';\n  this.emit('open');\n\n  // add new subs\n  var socket = this.engine;\n  this.subs.push(on(socket, 'data', bind(this, 'ondata')));\n  this.subs.push(on(this.decoder, 'decoded', bind(this, 'ondecoded')));\n  this.subs.push(on(socket, 'error', bind(this, 'onerror')));\n  this.subs.push(on(socket, 'close', bind(this, 'onclose')));\n};\n\n/**\n * Called with data.\n *\n * @api private\n */\n\nManager.prototype.ondata = function(data){\n  this.decoder.add(data);\n};\n\n/**\n * Called when parser fully decodes a packet.\n *\n * @api private\n */\n\nManager.prototype.ondecoded = function(packet) {\n  this.emit('packet', packet);\n};\n\n/**\n * Called upon socket error.\n *\n * @api private\n */\n\nManager.prototype.onerror = function(err){\n  debug('error', err);\n  this.emitAll('error', err);\n};\n\n/**\n * Creates a new socket for the given `nsp`.\n *\n * @return {Socket}\n * @api public\n */\n\nManager.prototype.socket = function(nsp){\n  var socket = this.nsps[nsp];\n  if (!socket) {\n    socket = new Socket(this, nsp);\n    this.nsps[nsp] = socket;\n    var self = this;\n    socket.on('connect', function(){\n      socket.id = self.engine.id;\n      if (!~indexOf(self.connected, socket)) {\n        self.connected.push(socket);\n      }\n    });\n  }\n  return socket;\n};\n\n/**\n * Called upon a socket close.\n *\n * @param {Socket} socket\n */\n\nManager.prototype.destroy = function(socket){\n  var index = indexOf(this.connected, socket);\n  if (~index) this.connected.splice(index, 1);\n  if (this.connected.length) return;\n\n  this.close();\n};\n\n/**\n * Writes a packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nManager.prototype.packet = function(packet){\n  debug('writing packet %j', packet);\n  var self = this;\n\n  if (!self.encoding) {\n    // encode, then write to engine with result\n    self.encoding = true;\n    this.encoder.encode(packet, function(encodedPackets) {\n      for (var i = 0; i < encodedPackets.length; i++) {\n        self.engine.write(encodedPackets[i]);\n      }\n      self.encoding = false;\n      self.processPacketQueue();\n    });\n  } else { // add packet to the queue\n    self.packetBuffer.push(packet);\n  }\n};\n\n/**\n * If packet buffer is non-empty, begins encoding the\n * next packet in line.\n *\n * @api private\n */\n\nManager.prototype.processPacketQueue = function() {\n  if (this.packetBuffer.length > 0 && !this.encoding) {\n    var pack = this.packetBuffer.shift();\n    this.packet(pack);\n  }\n};\n\n/**\n * Clean up transport subscriptions and packet buffer.\n *\n * @api private\n */\n\nManager.prototype.cleanup = function(){\n  var sub;\n  while (sub = this.subs.shift()) sub.destroy();\n\n  this.packetBuffer = [];\n  this.encoding = false;\n\n  this.decoder.destroy();\n};\n\n/**\n * Close the current socket.\n *\n * @api private\n */\n\nManager.prototype.close =\nManager.prototype.disconnect = function(){\n  this.skipReconnect = true;\n  this.backoff.reset();\n  this.readyState = 'closed';\n  this.engine && this.engine.close();\n};\n\n/**\n * Called upon engine close.\n *\n * @api private\n */\n\nManager.prototype.onclose = function(reason){\n  debug('close');\n  this.cleanup();\n  this.backoff.reset();\n  this.readyState = 'closed';\n  this.emit('close', reason);\n  if (this._reconnection && !this.skipReconnect) {\n    this.reconnect();\n  }\n};\n\n/**\n * Attempt a reconnection.\n *\n * @api private\n */\n\nManager.prototype.reconnect = function(){\n  if (this.reconnecting || this.skipReconnect) return this;\n\n  var self = this;\n\n  if (this.backoff.attempts >= this._reconnectionAttempts) {\n    debug('reconnect failed');\n    this.backoff.reset();\n    this.emitAll('reconnect_failed');\n    this.reconnecting = false;\n  } else {\n    var delay = this.backoff.duration();\n    debug('will wait %dms before reconnect attempt', delay);\n\n    this.reconnecting = true;\n    var timer = setTimeout(function(){\n      if (self.skipReconnect) return;\n\n      debug('attempting reconnect');\n      self.emitAll('reconnect_attempt', self.backoff.attempts);\n      self.emitAll('reconnecting', self.backoff.attempts);\n\n      // check again for the case socket closed in above events\n      if (self.skipReconnect) return;\n\n      self.open(function(err){\n        if (err) {\n          debug('reconnect attempt error');\n          self.reconnecting = false;\n          self.reconnect();\n          self.emitAll('reconnect_error', err.data);\n        } else {\n          debug('reconnect success');\n          self.onreconnect();\n        }\n      });\n    }, delay);\n\n    this.subs.push({\n      destroy: function(){\n        clearTimeout(timer);\n      }\n    });\n  }\n};\n\n/**\n * Called upon successful reconnect.\n *\n * @api private\n */\n\nManager.prototype.onreconnect = function(){\n  var attempt = this.backoff.attempts;\n  this.reconnecting = false;\n  this.backoff.reset();\n  this.updateSocketIds();\n  this.emitAll('reconnect', attempt);\n};\n\n},{\"./on\":13,\"./socket\":14,\"./url\":15,\"backo2\":16,\"component-bind\":17,\"component-emitter\":18,\"debug\":19,\"engine.io-client\":20,\"indexof\":51,\"object-component\":52,\"socket.io-parser\":55}],13:[function(require,module,exports){\n\n/**\n * Module exports.\n */\n\nmodule.exports = on;\n\n/**\n * Helper for subscriptions.\n *\n * @param {Object|EventEmitter} obj with `Emitter` mixin or `EventEmitter`\n * @param {String} event name\n * @param {Function} callback\n * @api public\n */\n\nfunction on(obj, ev, fn) {\n  obj.on(ev, fn);\n  return {\n    destroy: function(){\n      obj.removeListener(ev, fn);\n    }\n  };\n}\n\n},{}],14:[function(require,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar parser = require('socket.io-parser');\nvar Emitter = require('component-emitter');\nvar toArray = require('to-array');\nvar on = require('./on');\nvar bind = require('component-bind');\nvar debug = require('debug')('socket.io-client:socket');\nvar hasBin = require('has-binary');\n\n/**\n * Module exports.\n */\n\nmodule.exports = exports = Socket;\n\n/**\n * Internal events (blacklisted).\n * These events can't be emitted by the user.\n *\n * @api private\n */\n\nvar events = {\n  connect: 1,\n  connect_error: 1,\n  connect_timeout: 1,\n  disconnect: 1,\n  error: 1,\n  reconnect: 1,\n  reconnect_attempt: 1,\n  reconnect_failed: 1,\n  reconnect_error: 1,\n  reconnecting: 1\n};\n\n/**\n * Shortcut to `Emitter#emit`.\n */\n\nvar emit = Emitter.prototype.emit;\n\n/**\n * `Socket` constructor.\n *\n * @api public\n */\n\nfunction Socket(io, nsp){\n  this.io = io;\n  this.nsp = nsp;\n  this.json = this; // compat\n  this.ids = 0;\n  this.acks = {};\n  if (this.io.autoConnect) this.open();\n  this.receiveBuffer = [];\n  this.sendBuffer = [];\n  this.connected = false;\n  this.disconnected = true;\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Socket.prototype);\n\n/**\n * Subscribe to open, close and packet events\n *\n * @api private\n */\n\nSocket.prototype.subEvents = function() {\n  if (this.subs) return;\n\n  var io = this.io;\n  this.subs = [\n    on(io, 'open', bind(this, 'onopen')),\n    on(io, 'packet', bind(this, 'onpacket')),\n    on(io, 'close', bind(this, 'onclose'))\n  ];\n};\n\n/**\n * \"Opens\" the socket.\n *\n * @api public\n */\n\nSocket.prototype.open =\nSocket.prototype.connect = function(){\n  if (this.connected) return this;\n\n  this.subEvents();\n  this.io.open(); // ensure open\n  if ('open' == this.io.readyState) this.onopen();\n  return this;\n};\n\n/**\n * Sends a `message` event.\n *\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.send = function(){\n  var args = toArray(arguments);\n  args.unshift('message');\n  this.emit.apply(this, args);\n  return this;\n};\n\n/**\n * Override `emit`.\n * If the event is in `events`, it's emitted normally.\n *\n * @param {String} event name\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.emit = function(ev){\n  if (events.hasOwnProperty(ev)) {\n    emit.apply(this, arguments);\n    return this;\n  }\n\n  var args = toArray(arguments);\n  var parserType = parser.EVENT; // default\n  if (hasBin(args)) { parserType = parser.BINARY_EVENT; } // binary\n  var packet = { type: parserType, data: args };\n\n  // event ack callback\n  if ('function' == typeof args[args.length - 1]) {\n    debug('emitting packet with ack id %d', this.ids);\n    this.acks[this.ids] = args.pop();\n    packet.id = this.ids++;\n  }\n\n  if (this.connected) {\n    this.packet(packet);\n  } else {\n    this.sendBuffer.push(packet);\n  }\n\n  return this;\n};\n\n/**\n * Sends a packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.packet = function(packet){\n  packet.nsp = this.nsp;\n  this.io.packet(packet);\n};\n\n/**\n * Called upon engine `open`.\n *\n * @api private\n */\n\nSocket.prototype.onopen = function(){\n  debug('transport is open - connecting');\n\n  // write connect packet if necessary\n  if ('/' != this.nsp) {\n    this.packet({ type: parser.CONNECT });\n  }\n};\n\n/**\n * Called upon engine `close`.\n *\n * @param {String} reason\n * @api private\n */\n\nSocket.prototype.onclose = function(reason){\n  debug('close (%s)', reason);\n  this.connected = false;\n  this.disconnected = true;\n  delete this.id;\n  this.emit('disconnect', reason);\n};\n\n/**\n * Called with socket packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onpacket = function(packet){\n  if (packet.nsp != this.nsp) return;\n\n  switch (packet.type) {\n    case parser.CONNECT:\n      this.onconnect();\n      break;\n\n    case parser.EVENT:\n      this.onevent(packet);\n      break;\n\n    case parser.BINARY_EVENT:\n      this.onevent(packet);\n      break;\n\n    case parser.ACK:\n      this.onack(packet);\n      break;\n\n    case parser.BINARY_ACK:\n      this.onack(packet);\n      break;\n\n    case parser.DISCONNECT:\n      this.ondisconnect();\n      break;\n\n    case parser.ERROR:\n      this.emit('error', packet.data);\n      break;\n  }\n};\n\n/**\n * Called upon a server event.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onevent = function(packet){\n  var args = packet.data || [];\n  debug('emitting event %j', args);\n\n  if (null != packet.id) {\n    debug('attaching ack callback to event');\n    args.push(this.ack(packet.id));\n  }\n\n  if (this.connected) {\n    emit.apply(this, args);\n  } else {\n    this.receiveBuffer.push(args);\n  }\n};\n\n/**\n * Produces an ack callback to emit with an event.\n *\n * @api private\n */\n\nSocket.prototype.ack = function(id){\n  var self = this;\n  var sent = false;\n  return function(){\n    // prevent double callbacks\n    if (sent) return;\n    sent = true;\n    var args = toArray(arguments);\n    debug('sending ack %j', args);\n\n    var type = hasBin(args) ? parser.BINARY_ACK : parser.ACK;\n    self.packet({\n      type: type,\n      id: id,\n      data: args\n    });\n  };\n};\n\n/**\n * Called upon a server acknowlegement.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onack = function(packet){\n  debug('calling ack %s with %j', packet.id, packet.data);\n  var fn = this.acks[packet.id];\n  fn.apply(this, packet.data);\n  delete this.acks[packet.id];\n};\n\n/**\n * Called upon server connect.\n *\n * @api private\n */\n\nSocket.prototype.onconnect = function(){\n  this.connected = true;\n  this.disconnected = false;\n  this.emit('connect');\n  this.emitBuffered();\n};\n\n/**\n * Emit buffered events (received and emitted).\n *\n * @api private\n */\n\nSocket.prototype.emitBuffered = function(){\n  var i;\n  for (i = 0; i < this.receiveBuffer.length; i++) {\n    emit.apply(this, this.receiveBuffer[i]);\n  }\n  this.receiveBuffer = [];\n\n  for (i = 0; i < this.sendBuffer.length; i++) {\n    this.packet(this.sendBuffer[i]);\n  }\n  this.sendBuffer = [];\n};\n\n/**\n * Called upon server disconnect.\n *\n * @api private\n */\n\nSocket.prototype.ondisconnect = function(){\n  debug('server disconnect (%s)', this.nsp);\n  this.destroy();\n  this.onclose('io server disconnect');\n};\n\n/**\n * Called upon forced client/server side disconnections,\n * this method ensures the manager stops tracking us and\n * that reconnections don't get triggered for this.\n *\n * @api private.\n */\n\nSocket.prototype.destroy = function(){\n  if (this.subs) {\n    // clean subscriptions to avoid reconnections\n    for (var i = 0; i < this.subs.length; i++) {\n      this.subs[i].destroy();\n    }\n    this.subs = null;\n  }\n\n  this.io.destroy(this);\n};\n\n/**\n * Disconnects the socket manually.\n *\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.close =\nSocket.prototype.disconnect = function(){\n  if (this.connected) {\n    debug('performing disconnect (%s)', this.nsp);\n    this.packet({ type: parser.DISCONNECT });\n  }\n\n  // remove socket from pool\n  this.destroy();\n\n  if (this.connected) {\n    // fire events\n    this.onclose('io client disconnect');\n  }\n  return this;\n};\n\n},{\"./on\":13,\"component-bind\":17,\"component-emitter\":18,\"debug\":19,\"has-binary\":49,\"socket.io-parser\":55,\"to-array\":59}],15:[function(require,module,exports){\n(function (global){\n\n/**\n * Module dependencies.\n */\n\nvar parseuri = require('parseuri');\nvar debug = require('debug')('socket.io-client:url');\n\n/**\n * Module exports.\n */\n\nmodule.exports = url;\n\n/**\n * URL parser.\n *\n * @param {String} url\n * @param {Object} An object meant to mimic window.location.\n *                 Defaults to window.location.\n * @api public\n */\n\nfunction url(uri, loc){\n  var obj = uri;\n\n  // default to window.location\n  var loc = loc || global.location;\n  if (null == uri) uri = loc.protocol + '//' + loc.host;\n\n  // relative path support\n  if ('string' == typeof uri) {\n    if ('/' == uri.charAt(0)) {\n      if ('/' == uri.charAt(1)) {\n        uri = loc.protocol + uri;\n      } else {\n        uri = loc.hostname + uri;\n      }\n    }\n\n    if (!/^(https?|wss?):\\/\\//.test(uri)) {\n      debug('protocol-less url %s', uri);\n      if ('undefined' != typeof loc) {\n        uri = loc.protocol + '//' + uri;\n      } else {\n        uri = 'https://' + uri;\n      }\n    }\n\n    // parse\n    debug('parse %s', uri);\n    obj = parseuri(uri);\n  }\n\n  // make sure we treat `localhost:80` and `localhost` equally\n  if (!obj.port) {\n    if (/^(http|ws)$/.test(obj.protocol)) {\n      obj.port = '80';\n    }\n    else if (/^(http|ws)s$/.test(obj.protocol)) {\n      obj.port = '443';\n    }\n  }\n\n  obj.path = obj.path || '/';\n\n  // define unique id\n  obj.id = obj.protocol + '://' + obj.host + ':' + obj.port;\n  // define href\n  obj.href = obj.protocol + '://' + obj.host + (loc && loc.port == obj.port ? '' : (':' + obj.port));\n\n  return obj;\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"debug\":19,\"parseuri\":53}],16:[function(require,module,exports){\n\n/**\n * Expose `Backoff`.\n */\n\nmodule.exports = Backoff;\n\n/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction Backoff(opts) {\n  opts = opts || {};\n  this.ms = opts.min || 100;\n  this.max = opts.max || 10000;\n  this.factor = opts.factor || 2;\n  this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n  this.attempts = 0;\n}\n\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\n\nBackoff.prototype.duration = function(){\n  var ms = this.ms * Math.pow(this.factor, this.attempts++);\n  if (this.jitter) {\n    var rand =  Math.random();\n    var deviation = Math.floor(rand * this.jitter * ms);\n    ms = (Math.floor(rand * 10) & 1) == 0  ? ms - deviation : ms + deviation;\n  }\n  return Math.min(ms, this.max) | 0;\n};\n\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\n\nBackoff.prototype.reset = function(){\n  this.attempts = 0;\n};\n\n/**\n * Set the minimum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMin = function(min){\n  this.ms = min;\n};\n\n/**\n * Set the maximum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMax = function(max){\n  this.max = max;\n};\n\n/**\n * Set the jitter\n *\n * @api public\n */\n\nBackoff.prototype.setJitter = function(jitter){\n  this.jitter = jitter;\n};\n\n\n},{}],17:[function(require,module,exports){\n/**\n * Slice reference.\n */\n\nvar slice = [].slice;\n\n/**\n * Bind `obj` to `fn`.\n *\n * @param {Object} obj\n * @param {Function|String} fn or string\n * @return {Function}\n * @api public\n */\n\nmodule.exports = function(obj, fn){\n  if ('string' == typeof fn) fn = obj[fn];\n  if ('function' != typeof fn) throw new Error('bind() requires a function');\n  var args = slice.call(arguments, 2);\n  return function(){\n    return fn.apply(obj, args.concat(slice.call(arguments)));\n  }\n};\n\n},{}],18:[function(require,module,exports){\n\n/**\n * Expose `Emitter`.\n */\n\nmodule.exports = Emitter;\n\n/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nfunction Emitter(obj) {\n  if (obj) return mixin(obj);\n};\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks[event] = this._callbacks[event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  var self = this;\n  this._callbacks = this._callbacks || {};\n\n  function on() {\n    self.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks[event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks[event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n  var args = [].slice.call(arguments, 1)\n    , callbacks = this._callbacks[event];\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks[event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n\n},{}],19:[function(require,module,exports){\n\n/**\n * Expose `debug()` as the module.\n */\n\nmodule.exports = debug;\n\n/**\n * Create a debugger with the given `name`.\n *\n * @param {String} name\n * @return {Type}\n * @api public\n */\n\nfunction debug(name) {\n  if (!debug.enabled(name)) return function(){};\n\n  return function(fmt){\n    fmt = coerce(fmt);\n\n    var curr = new Date;\n    var ms = curr - (debug[name] || curr);\n    debug[name] = curr;\n\n    fmt = name\n      + ' '\n      + fmt\n      + ' +' + debug.humanize(ms);\n\n    // This hackery is required for IE8\n    // where `console.log` doesn't have 'apply'\n    window.console\n      && console.log\n      && Function.prototype.apply.call(console.log, console, arguments);\n  }\n}\n\n/**\n * The currently active debug mode names.\n */\n\ndebug.names = [];\ndebug.skips = [];\n\n/**\n * Enables a debug mode by name. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} name\n * @api public\n */\n\ndebug.enable = function(name) {\n  try {\n    localStorage.debug = name;\n  } catch(e){}\n\n  var split = (name || '').split(/[\\s,]+/)\n    , len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    name = split[i].replace('*', '.*?');\n    if (name[0] === '-') {\n      debug.skips.push(new RegExp('^' + name.substr(1) + '$'));\n    }\n    else {\n      debug.names.push(new RegExp('^' + name + '$'));\n    }\n  }\n};\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\ndebug.disable = function(){\n  debug.enable('');\n};\n\n/**\n * Humanize the given `ms`.\n *\n * @param {Number} m\n * @return {String}\n * @api private\n */\n\ndebug.humanize = function(ms) {\n  var sec = 1000\n    , min = 60 * 1000\n    , hour = 60 * min;\n\n  if (ms >= hour) return (ms / hour).toFixed(1) + 'h';\n  if (ms >= min) return (ms / min).toFixed(1) + 'm';\n  if (ms >= sec) return (ms / sec | 0) + 's';\n  return ms + 'ms';\n};\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\ndebug.enabled = function(name) {\n  for (var i = 0, len = debug.skips.length; i < len; i++) {\n    if (debug.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (var i = 0, len = debug.names.length; i < len; i++) {\n    if (debug.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n};\n\n/**\n * Coerce `val`.\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n\n// persist\n\ntry {\n  if (window.localStorage) debug.enable(localStorage.debug);\n} catch(e){}\n\n},{}],20:[function(require,module,exports){\n\nmodule.exports =  require('./lib/');\n\n},{\"./lib/\":21}],21:[function(require,module,exports){\n\nmodule.exports = require('./socket');\n\n/**\n * Exports parser\n *\n * @api public\n *\n */\nmodule.exports.parser = require('engine.io-parser');\n\n},{\"./socket\":22,\"engine.io-parser\":34}],22:[function(require,module,exports){\n(function (global){\n/**\n * Module dependencies.\n */\n\nvar transports = require('./transports');\nvar Emitter = require('component-emitter');\nvar debug = require('debug')('engine.io-client:socket');\nvar index = require('indexof');\nvar parser = require('engine.io-parser');\nvar parseuri = require('parseuri');\nvar parsejson = require('parsejson');\nvar parseqs = require('parseqs');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Socket;\n\n/**\n * Noop function.\n *\n * @api private\n */\n\nfunction noop(){}\n\n/**\n * Socket constructor.\n *\n * @param {String|Object} uri or options\n * @param {Object} options\n * @api public\n */\n\nfunction Socket(uri, opts){\n  if (!(this instanceof Socket)) return new Socket(uri, opts);\n\n  opts = opts || {};\n\n  if (uri && 'object' == typeof uri) {\n    opts = uri;\n    uri = null;\n  }\n\n  if (uri) {\n    uri = parseuri(uri);\n    opts.host = uri.host;\n    opts.secure = uri.protocol == 'https' || uri.protocol == 'wss';\n    opts.port = uri.port;\n    if (uri.query) opts.query = uri.query;\n  }\n\n  this.secure = null != opts.secure ? opts.secure :\n    (global.location && 'https:' == location.protocol);\n\n  if (opts.host) {\n    var pieces = opts.host.split(':');\n    opts.hostname = pieces.shift();\n    if (pieces.length) {\n      opts.port = pieces.pop();\n    } else if (!opts.port) {\n      // if no port is specified manually, use the protocol default\n      opts.port = this.secure ? '443' : '80';\n    }\n  }\n\n  this.agent = opts.agent || false;\n  this.hostname = opts.hostname ||\n    (global.location ? location.hostname : 'localhost');\n  this.port = opts.port || (global.location && location.port ?\n       location.port :\n       (this.secure ? 443 : 80));\n  this.query = opts.query || {};\n  if ('string' == typeof this.query) this.query = parseqs.decode(this.query);\n  this.upgrade = false !== opts.upgrade;\n  this.path = (opts.path || '/engine.io').replace(/\\/$/, '') + '/';\n  this.forceJSONP = !!opts.forceJSONP;\n  this.jsonp = false !== opts.jsonp;\n  this.forceBase64 = !!opts.forceBase64;\n  this.enablesXDR = !!opts.enablesXDR;\n  this.timestampParam = opts.timestampParam || 't';\n  this.timestampRequests = opts.timestampRequests;\n  this.transports = opts.transports || ['polling', 'websocket'];\n  this.readyState = '';\n  this.writeBuffer = [];\n  this.callbackBuffer = [];\n  this.policyPort = opts.policyPort || 843;\n  this.rememberUpgrade = opts.rememberUpgrade || false;\n  this.binaryType = null;\n  this.onlyBinaryUpgrades = opts.onlyBinaryUpgrades;\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx || null;\n  this.key = opts.key || null;\n  this.passphrase = opts.passphrase || null;\n  this.cert = opts.cert || null;\n  this.ca = opts.ca || null;\n  this.ciphers = opts.ciphers || null;\n  this.rejectUnauthorized = opts.rejectUnauthorized || null;\n\n  this.open();\n}\n\nSocket.priorWebsocketSuccess = false;\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Socket.prototype);\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nSocket.protocol = parser.protocol; // this is an int\n\n/**\n * Expose deps for legacy compatibility\n * and standalone browser access.\n */\n\nSocket.Socket = Socket;\nSocket.Transport = require('./transport');\nSocket.transports = require('./transports');\nSocket.parser = require('engine.io-parser');\n\n/**\n * Creates transport of the given type.\n *\n * @param {String} transport name\n * @return {Transport}\n * @api private\n */\n\nSocket.prototype.createTransport = function (name) {\n  debug('creating transport \"%s\"', name);\n  var query = clone(this.query);\n\n  // append engine.io protocol identifier\n  query.EIO = parser.protocol;\n\n  // transport name\n  query.transport = name;\n\n  // session id if we already have one\n  if (this.id) query.sid = this.id;\n\n  var transport = new transports[name]({\n    agent: this.agent,\n    hostname: this.hostname,\n    port: this.port,\n    secure: this.secure,\n    path: this.path,\n    query: query,\n    forceJSONP: this.forceJSONP,\n    jsonp: this.jsonp,\n    forceBase64: this.forceBase64,\n    enablesXDR: this.enablesXDR,\n    timestampRequests: this.timestampRequests,\n    timestampParam: this.timestampParam,\n    policyPort: this.policyPort,\n    socket: this,\n    pfx: this.pfx,\n    key: this.key,\n    passphrase: this.passphrase,\n    cert: this.cert,\n    ca: this.ca,\n    ciphers: this.ciphers,\n    rejectUnauthorized: this.rejectUnauthorized\n  });\n\n  return transport;\n};\n\nfunction clone (obj) {\n  var o = {};\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      o[i] = obj[i];\n    }\n  }\n  return o;\n}\n\n/**\n * Initializes transport to use and starts probe.\n *\n * @api private\n */\nSocket.prototype.open = function () {\n  var transport;\n  if (this.rememberUpgrade && Socket.priorWebsocketSuccess && this.transports.indexOf('websocket') != -1) {\n    transport = 'websocket';\n  } else if (0 == this.transports.length) {\n    // Emit error on next tick so it can be listened to\n    var self = this;\n    setTimeout(function() {\n      self.emit('error', 'No transports available');\n    }, 0);\n    return;\n  } else {\n    transport = this.transports[0];\n  }\n  this.readyState = 'opening';\n\n  // Retry with the next transport if the transport is disabled (jsonp: false)\n  var transport;\n  try {\n    transport = this.createTransport(transport);\n  } catch (e) {\n    this.transports.shift();\n    this.open();\n    return;\n  }\n\n  transport.open();\n  this.setTransport(transport);\n};\n\n/**\n * Sets the current transport. Disables the existing one (if any).\n *\n * @api private\n */\n\nSocket.prototype.setTransport = function(transport){\n  debug('setting transport %s', transport.name);\n  var self = this;\n\n  if (this.transport) {\n    debug('clearing existing transport %s', this.transport.name);\n    this.transport.removeAllListeners();\n  }\n\n  // set up transport\n  this.transport = transport;\n\n  // set up transport listeners\n  transport\n  .on('drain', function(){\n    self.onDrain();\n  })\n  .on('packet', function(packet){\n    self.onPacket(packet);\n  })\n  .on('error', function(e){\n    self.onError(e);\n  })\n  .on('close', function(){\n    self.onClose('transport close');\n  });\n};\n\n/**\n * Probes a transport.\n *\n * @param {String} transport name\n * @api private\n */\n\nSocket.prototype.probe = function (name) {\n  debug('probing transport \"%s\"', name);\n  var transport = this.createTransport(name, { probe: 1 })\n    , failed = false\n    , self = this;\n\n  Socket.priorWebsocketSuccess = false;\n\n  function onTransportOpen(){\n    if (self.onlyBinaryUpgrades) {\n      var upgradeLosesBinary = !this.supportsBinary && self.transport.supportsBinary;\n      failed = failed || upgradeLosesBinary;\n    }\n    if (failed) return;\n\n    debug('probe transport \"%s\" opened', name);\n    transport.send([{ type: 'ping', data: 'probe' }]);\n    transport.once('packet', function (msg) {\n      if (failed) return;\n      if ('pong' == msg.type && 'probe' == msg.data) {\n        debug('probe transport \"%s\" pong', name);\n        self.upgrading = true;\n        self.emit('upgrading', transport);\n        if (!transport) return;\n        Socket.priorWebsocketSuccess = 'websocket' == transport.name;\n\n        debug('pausing current transport \"%s\"', self.transport.name);\n        self.transport.pause(function () {\n          if (failed) return;\n          if ('closed' == self.readyState) return;\n          debug('changing transport and sending upgrade packet');\n\n          cleanup();\n\n          self.setTransport(transport);\n          transport.send([{ type: 'upgrade' }]);\n          self.emit('upgrade', transport);\n          transport = null;\n          self.upgrading = false;\n          self.flush();\n        });\n      } else {\n        debug('probe transport \"%s\" failed', name);\n        var err = new Error('probe error');\n        err.transport = transport.name;\n        self.emit('upgradeError', err);\n      }\n    });\n  }\n\n  function freezeTransport() {\n    if (failed) return;\n\n    // Any callback called by transport should be ignored since now\n    failed = true;\n\n    cleanup();\n\n    transport.close();\n    transport = null;\n  }\n\n  //Handle any error that happens while probing\n  function onerror(err) {\n    var error = new Error('probe error: ' + err);\n    error.transport = transport.name;\n\n    freezeTransport();\n\n    debug('probe transport \"%s\" failed because of error: %s', name, err);\n\n    self.emit('upgradeError', error);\n  }\n\n  function onTransportClose(){\n    onerror(\"transport closed\");\n  }\n\n  //When the socket is closed while we're probing\n  function onclose(){\n    onerror(\"socket closed\");\n  }\n\n  //When the socket is upgraded while we're probing\n  function onupgrade(to){\n    if (transport && to.name != transport.name) {\n      debug('\"%s\" works - aborting \"%s\"', to.name, transport.name);\n      freezeTransport();\n    }\n  }\n\n  //Remove all listeners on the transport and on self\n  function cleanup(){\n    transport.removeListener('open', onTransportOpen);\n    transport.removeListener('error', onerror);\n    transport.removeListener('close', onTransportClose);\n    self.removeListener('close', onclose);\n    self.removeListener('upgrading', onupgrade);\n  }\n\n  transport.once('open', onTransportOpen);\n  transport.once('error', onerror);\n  transport.once('close', onTransportClose);\n\n  this.once('close', onclose);\n  this.once('upgrading', onupgrade);\n\n  transport.open();\n\n};\n\n/**\n * Called when connection is deemed open.\n *\n * @api public\n */\n\nSocket.prototype.onOpen = function () {\n  debug('socket open');\n  this.readyState = 'open';\n  Socket.priorWebsocketSuccess = 'websocket' == this.transport.name;\n  this.emit('open');\n  this.flush();\n\n  // we check for `readyState` in case an `open`\n  // listener already closed the socket\n  if ('open' == this.readyState && this.upgrade && this.transport.pause) {\n    debug('starting upgrade probes');\n    for (var i = 0, l = this.upgrades.length; i < l; i++) {\n      this.probe(this.upgrades[i]);\n    }\n  }\n};\n\n/**\n * Handles a packet.\n *\n * @api private\n */\n\nSocket.prototype.onPacket = function (packet) {\n  if ('opening' == this.readyState || 'open' == this.readyState) {\n    debug('socket receive: type \"%s\", data \"%s\"', packet.type, packet.data);\n\n    this.emit('packet', packet);\n\n    // Socket is live - any packet counts\n    this.emit('heartbeat');\n\n    switch (packet.type) {\n      case 'open':\n        this.onHandshake(parsejson(packet.data));\n        break;\n\n      case 'pong':\n        this.setPing();\n        break;\n\n      case 'error':\n        var err = new Error('server error');\n        err.code = packet.data;\n        this.emit('error', err);\n        break;\n\n      case 'message':\n        this.emit('data', packet.data);\n        this.emit('message', packet.data);\n        break;\n    }\n  } else {\n    debug('packet received with socket readyState \"%s\"', this.readyState);\n  }\n};\n\n/**\n * Called upon handshake completion.\n *\n * @param {Object} handshake obj\n * @api private\n */\n\nSocket.prototype.onHandshake = function (data) {\n  this.emit('handshake', data);\n  this.id = data.sid;\n  this.transport.query.sid = data.sid;\n  this.upgrades = this.filterUpgrades(data.upgrades);\n  this.pingInterval = data.pingInterval;\n  this.pingTimeout = data.pingTimeout;\n  this.onOpen();\n  // In case open handler closes socket\n  if  ('closed' == this.readyState) return;\n  this.setPing();\n\n  // Prolong liveness of socket on heartbeat\n  this.removeListener('heartbeat', this.onHeartbeat);\n  this.on('heartbeat', this.onHeartbeat);\n};\n\n/**\n * Resets ping timeout.\n *\n * @api private\n */\n\nSocket.prototype.onHeartbeat = function (timeout) {\n  clearTimeout(this.pingTimeoutTimer);\n  var self = this;\n  self.pingTimeoutTimer = setTimeout(function () {\n    if ('closed' == self.readyState) return;\n    self.onClose('ping timeout');\n  }, timeout || (self.pingInterval + self.pingTimeout));\n};\n\n/**\n * Pings server every `this.pingInterval` and expects response\n * within `this.pingTimeout` or closes connection.\n *\n * @api private\n */\n\nSocket.prototype.setPing = function () {\n  var self = this;\n  clearTimeout(self.pingIntervalTimer);\n  self.pingIntervalTimer = setTimeout(function () {\n    debug('writing ping packet - expecting pong within %sms', self.pingTimeout);\n    self.ping();\n    self.onHeartbeat(self.pingTimeout);\n  }, self.pingInterval);\n};\n\n/**\n* Sends a ping packet.\n*\n* @api public\n*/\n\nSocket.prototype.ping = function () {\n  this.sendPacket('ping');\n};\n\n/**\n * Called on `drain` event\n *\n * @api private\n */\n\nSocket.prototype.onDrain = function() {\n  for (var i = 0; i < this.prevBufferLen; i++) {\n    if (this.callbackBuffer[i]) {\n      this.callbackBuffer[i]();\n    }\n  }\n\n  this.writeBuffer.splice(0, this.prevBufferLen);\n  this.callbackBuffer.splice(0, this.prevBufferLen);\n\n  // setting prevBufferLen = 0 is very important\n  // for example, when upgrading, upgrade packet is sent over,\n  // and a nonzero prevBufferLen could cause problems on `drain`\n  this.prevBufferLen = 0;\n\n  if (this.writeBuffer.length == 0) {\n    this.emit('drain');\n  } else {\n    this.flush();\n  }\n};\n\n/**\n * Flush write buffers.\n *\n * @api private\n */\n\nSocket.prototype.flush = function () {\n  if ('closed' != this.readyState && this.transport.writable &&\n    !this.upgrading && this.writeBuffer.length) {\n    debug('flushing %d packets in socket', this.writeBuffer.length);\n    this.transport.send(this.writeBuffer);\n    // keep track of current length of writeBuffer\n    // splice writeBuffer and callbackBuffer on `drain`\n    this.prevBufferLen = this.writeBuffer.length;\n    this.emit('flush');\n  }\n};\n\n/**\n * Sends a message.\n *\n * @param {String} message.\n * @param {Function} callback function.\n * @return {Socket} for chaining.\n * @api public\n */\n\nSocket.prototype.write =\nSocket.prototype.send = function (msg, fn) {\n  this.sendPacket('message', msg, fn);\n  return this;\n};\n\n/**\n * Sends a packet.\n *\n * @param {String} packet type.\n * @param {String} data.\n * @param {Function} callback function.\n * @api private\n */\n\nSocket.prototype.sendPacket = function (type, data, fn) {\n  if ('closing' == this.readyState || 'closed' == this.readyState) {\n    return;\n  }\n\n  var packet = { type: type, data: data };\n  this.emit('packetCreate', packet);\n  this.writeBuffer.push(packet);\n  this.callbackBuffer.push(fn);\n  this.flush();\n};\n\n/**\n * Closes the connection.\n *\n * @api private\n */\n\nSocket.prototype.close = function () {\n  if ('opening' == this.readyState || 'open' == this.readyState) {\n    this.readyState = 'closing';\n\n    var self = this;\n\n    function close() {\n      self.onClose('forced close');\n      debug('socket closing - telling transport to close');\n      self.transport.close();\n    }\n\n    function cleanupAndClose() {\n      self.removeListener('upgrade', cleanupAndClose);\n      self.removeListener('upgradeError', cleanupAndClose);\n      close();\n    }\n\n    function waitForUpgrade() {\n      // wait for upgrade to finish since we can't send packets while pausing a transport\n      self.once('upgrade', cleanupAndClose);\n      self.once('upgradeError', cleanupAndClose);\n    }\n\n    if (this.writeBuffer.length) {\n      this.once('drain', function() {\n        if (this.upgrading) {\n          waitForUpgrade();\n        } else {\n          close();\n        }\n      });\n    } else if (this.upgrading) {\n      waitForUpgrade();\n    } else {\n      close();\n    }\n  }\n\n  return this;\n};\n\n/**\n * Called upon transport error\n *\n * @api private\n */\n\nSocket.prototype.onError = function (err) {\n  debug('socket error %j', err);\n  Socket.priorWebsocketSuccess = false;\n  this.emit('error', err);\n  this.onClose('transport error', err);\n};\n\n/**\n * Called upon transport close.\n *\n * @api private\n */\n\nSocket.prototype.onClose = function (reason, desc) {\n  if ('opening' == this.readyState || 'open' == this.readyState || 'closing' == this.readyState) {\n    debug('socket close with reason: \"%s\"', reason);\n    var self = this;\n\n    // clear timers\n    clearTimeout(this.pingIntervalTimer);\n    clearTimeout(this.pingTimeoutTimer);\n\n    // clean buffers in next tick, so developers can still\n    // grab the buffers on `close` event\n    setTimeout(function() {\n      self.writeBuffer = [];\n      self.callbackBuffer = [];\n      self.prevBufferLen = 0;\n    }, 0);\n\n    // stop event from firing again for transport\n    this.transport.removeAllListeners('close');\n\n    // ensure transport won't stay open\n    this.transport.close();\n\n    // ignore further transport communication\n    this.transport.removeAllListeners();\n\n    // set ready state\n    this.readyState = 'closed';\n\n    // clear session id\n    this.id = null;\n\n    // emit close event\n    this.emit('close', reason, desc);\n  }\n};\n\n/**\n * Filters upgrades, returning only those matching client transports.\n *\n * @param {Array} server upgrades\n * @api private\n *\n */\n\nSocket.prototype.filterUpgrades = function (upgrades) {\n  var filteredUpgrades = [];\n  for (var i = 0, j = upgrades.length; i<j; i++) {\n    if (~index(this.transports, upgrades[i])) filteredUpgrades.push(upgrades[i]);\n  }\n  return filteredUpgrades;\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./transport\":23,\"./transports\":24,\"component-emitter\":18,\"debug\":31,\"engine.io-parser\":34,\"indexof\":51,\"parsejson\":45,\"parseqs\":46,\"parseuri\":47}],23:[function(require,module,exports){\n/**\n * Module dependencies.\n */\n\nvar parser = require('engine.io-parser');\nvar Emitter = require('component-emitter');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Transport;\n\n/**\n * Transport abstract constructor.\n *\n * @param {Object} options.\n * @api private\n */\n\nfunction Transport (opts) {\n  this.path = opts.path;\n  this.hostname = opts.hostname;\n  this.port = opts.port;\n  this.secure = opts.secure;\n  this.query = opts.query;\n  this.timestampParam = opts.timestampParam;\n  this.timestampRequests = opts.timestampRequests;\n  this.readyState = '';\n  this.agent = opts.agent || false;\n  this.socket = opts.socket;\n  this.enablesXDR = opts.enablesXDR;\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx;\n  this.key = opts.key;\n  this.passphrase = opts.passphrase;\n  this.cert = opts.cert;\n  this.ca = opts.ca;\n  this.ciphers = opts.ciphers;\n  this.rejectUnauthorized = opts.rejectUnauthorized;\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Transport.prototype);\n\n/**\n * A counter used to prevent collisions in the timestamps used\n * for cache busting.\n */\n\nTransport.timestamps = 0;\n\n/**\n * Emits an error.\n *\n * @param {String} str\n * @return {Transport} for chaining\n * @api public\n */\n\nTransport.prototype.onError = function (msg, desc) {\n  var err = new Error(msg);\n  err.type = 'TransportError';\n  err.description = desc;\n  this.emit('error', err);\n  return this;\n};\n\n/**\n * Opens the transport.\n *\n * @api public\n */\n\nTransport.prototype.open = function () {\n  if ('closed' == this.readyState || '' == this.readyState) {\n    this.readyState = 'opening';\n    this.doOpen();\n  }\n\n  return this;\n};\n\n/**\n * Closes the transport.\n *\n * @api private\n */\n\nTransport.prototype.close = function () {\n  if ('opening' == this.readyState || 'open' == this.readyState) {\n    this.doClose();\n    this.onClose();\n  }\n\n  return this;\n};\n\n/**\n * Sends multiple packets.\n *\n * @param {Array} packets\n * @api private\n */\n\nTransport.prototype.send = function(packets){\n  if ('open' == this.readyState) {\n    this.write(packets);\n  } else {\n    throw new Error('Transport not open');\n  }\n};\n\n/**\n * Called upon open\n *\n * @api private\n */\n\nTransport.prototype.onOpen = function () {\n  this.readyState = 'open';\n  this.writable = true;\n  this.emit('open');\n};\n\n/**\n * Called with data.\n *\n * @param {String} data\n * @api private\n */\n\nTransport.prototype.onData = function(data){\n  var packet = parser.decodePacket(data, this.socket.binaryType);\n  this.onPacket(packet);\n};\n\n/**\n * Called with a decoded packet.\n */\n\nTransport.prototype.onPacket = function (packet) {\n  this.emit('packet', packet);\n};\n\n/**\n * Called upon close.\n *\n * @api private\n */\n\nTransport.prototype.onClose = function () {\n  this.readyState = 'closed';\n  this.emit('close');\n};\n\n},{\"component-emitter\":18,\"engine.io-parser\":34}],24:[function(require,module,exports){\n(function (global){\n/**\n * Module dependencies\n */\n\nvar XMLHttpRequest = require('xmlhttprequest');\nvar XHR = require('./polling-xhr');\nvar JSONP = require('./polling-jsonp');\nvar websocket = require('./websocket');\n\n/**\n * Export transports.\n */\n\nexports.polling = polling;\nexports.websocket = websocket;\n\n/**\n * Polling transport polymorphic constructor.\n * Decides on xhr vs jsonp based on feature detection.\n *\n * @api private\n */\n\nfunction polling(opts){\n  var xhr;\n  var xd = false;\n  var xs = false;\n  var jsonp = false !== opts.jsonp;\n\n  if (global.location) {\n    var isSSL = 'https:' == location.protocol;\n    var port = location.port;\n\n    // some user agents have empty `location.port`\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    xd = opts.hostname != location.hostname || port != opts.port;\n    xs = opts.secure != isSSL;\n  }\n\n  opts.xdomain = xd;\n  opts.xscheme = xs;\n  xhr = new XMLHttpRequest(opts);\n\n  if ('open' in xhr && !opts.forceJSONP) {\n    return new XHR(opts);\n  } else {\n    if (!jsonp) throw new Error('JSONP disabled');\n    return new JSONP(opts);\n  }\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./polling-jsonp\":25,\"./polling-xhr\":26,\"./websocket\":28,\"xmlhttprequest\":29}],25:[function(require,module,exports){\n(function (global){\n\n/**\n * Module requirements.\n */\n\nvar Polling = require('./polling');\nvar inherit = require('component-inherit');\n\n/**\n * Module exports.\n */\n\nmodule.exports = JSONPPolling;\n\n/**\n * Cached regular expressions.\n */\n\nvar rNewline = /\\n/g;\nvar rEscapedNewline = /\\\\n/g;\n\n/**\n * Global JSONP callbacks.\n */\n\nvar callbacks;\n\n/**\n * Callbacks count.\n */\n\nvar index = 0;\n\n/**\n * Noop.\n */\n\nfunction empty () { }\n\n/**\n * JSONP Polling constructor.\n *\n * @param {Object} opts.\n * @api public\n */\n\nfunction JSONPPolling (opts) {\n  Polling.call(this, opts);\n\n  this.query = this.query || {};\n\n  // define global callbacks array if not present\n  // we do this here (lazily) to avoid unneeded global pollution\n  if (!callbacks) {\n    // we need to consider multiple engines in the same page\n    if (!global.___eio) global.___eio = [];\n    callbacks = global.___eio;\n  }\n\n  // callback identifier\n  this.index = callbacks.length;\n\n  // add callback to jsonp global\n  var self = this;\n  callbacks.push(function (msg) {\n    self.onData(msg);\n  });\n\n  // append to query string\n  this.query.j = this.index;\n\n  // prevent spurious errors from being emitted when the window is unloaded\n  if (global.document && global.addEventListener) {\n    global.addEventListener('beforeunload', function () {\n      if (self.script) self.script.onerror = empty;\n    }, false);\n  }\n}\n\n/**\n * Inherits from Polling.\n */\n\ninherit(JSONPPolling, Polling);\n\n/*\n * JSONP only supports binary as base64 encoded strings\n */\n\nJSONPPolling.prototype.supportsBinary = false;\n\n/**\n * Closes the socket.\n *\n * @api private\n */\n\nJSONPPolling.prototype.doClose = function () {\n  if (this.script) {\n    this.script.parentNode.removeChild(this.script);\n    this.script = null;\n  }\n\n  if (this.form) {\n    this.form.parentNode.removeChild(this.form);\n    this.form = null;\n    this.iframe = null;\n  }\n\n  Polling.prototype.doClose.call(this);\n};\n\n/**\n * Starts a poll cycle.\n *\n * @api private\n */\n\nJSONPPolling.prototype.doPoll = function () {\n  var self = this;\n  var script = document.createElement('script');\n\n  if (this.script) {\n    this.script.parentNode.removeChild(this.script);\n    this.script = null;\n  }\n\n  script.async = true;\n  script.src = this.uri();\n  script.onerror = function(e){\n    self.onError('jsonp poll error',e);\n  };\n\n  var insertAt = document.getElementsByTagName('script')[0];\n  insertAt.parentNode.insertBefore(script, insertAt);\n  this.script = script;\n\n  var isUAgecko = 'undefined' != typeof navigator && /gecko/i.test(navigator.userAgent);\n  \n  if (isUAgecko) {\n    setTimeout(function () {\n      var iframe = document.createElement('iframe');\n      document.body.appendChild(iframe);\n      document.body.removeChild(iframe);\n    }, 100);\n  }\n};\n\n/**\n * Writes with a hidden iframe.\n *\n * @param {String} data to send\n * @param {Function} called upon flush.\n * @api private\n */\n\nJSONPPolling.prototype.doWrite = function (data, fn) {\n  var self = this;\n\n  if (!this.form) {\n    var form = document.createElement('form');\n    var area = document.createElement('textarea');\n    var id = this.iframeId = 'eio_iframe_' + this.index;\n    var iframe;\n\n    form.className = 'socketio';\n    form.style.position = 'absolute';\n    form.style.top = '-1000px';\n    form.style.left = '-1000px';\n    form.target = id;\n    form.method = 'POST';\n    form.setAttribute('accept-charset', 'utf-8');\n    area.name = 'd';\n    form.appendChild(area);\n    document.body.appendChild(form);\n\n    this.form = form;\n    this.area = area;\n  }\n\n  this.form.action = this.uri();\n\n  function complete () {\n    initIframe();\n    fn();\n  }\n\n  function initIframe () {\n    if (self.iframe) {\n      try {\n        self.form.removeChild(self.iframe);\n      } catch (e) {\n        self.onError('jsonp polling iframe removal error', e);\n      }\n    }\n\n    try {\n      // ie6 dynamic iframes with target=\"\" support (thanks Chris Lambacher)\n      var html = '<iframe src=\"javascript:0\" name=\"'+ self.iframeId +'\">';\n      iframe = document.createElement(html);\n    } catch (e) {\n      iframe = document.createElement('iframe');\n      iframe.name = self.iframeId;\n      iframe.src = 'javascript:0';\n    }\n\n    iframe.id = self.iframeId;\n\n    self.form.appendChild(iframe);\n    self.iframe = iframe;\n  }\n\n  initIframe();\n\n  // escape \\n to prevent it from being converted into \\r\\n by some UAs\n  // double escaping is required for escaped new lines because unescaping of new lines can be done safely on server-side\n  data = data.replace(rEscapedNewline, '\\\\\\n');\n  this.area.value = data.replace(rNewline, '\\\\n');\n\n  try {\n    this.form.submit();\n  } catch(e) {}\n\n  if (this.iframe.attachEvent) {\n    this.iframe.onreadystatechange = function(){\n      if (self.iframe.readyState == 'complete') {\n        complete();\n      }\n    };\n  } else {\n    this.iframe.onload = complete;\n  }\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./polling\":27,\"component-inherit\":30}],26:[function(require,module,exports){\n(function (global){\n/**\n * Module requirements.\n */\n\nvar XMLHttpRequest = require('xmlhttprequest');\nvar Polling = require('./polling');\nvar Emitter = require('component-emitter');\nvar inherit = require('component-inherit');\nvar debug = require('debug')('engine.io-client:polling-xhr');\n\n/**\n * Module exports.\n */\n\nmodule.exports = XHR;\nmodule.exports.Request = Request;\n\n/**\n * Empty function\n */\n\nfunction empty(){}\n\n/**\n * XHR Polling constructor.\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction XHR(opts){\n  Polling.call(this, opts);\n\n  if (global.location) {\n    var isSSL = 'https:' == location.protocol;\n    var port = location.port;\n\n    // some user agents have empty `location.port`\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    this.xd = opts.hostname != global.location.hostname ||\n      port != opts.port;\n    this.xs = opts.secure != isSSL;\n  }\n}\n\n/**\n * Inherits from Polling.\n */\n\ninherit(XHR, Polling);\n\n/**\n * XHR supports binary\n */\n\nXHR.prototype.supportsBinary = true;\n\n/**\n * Creates a request.\n *\n * @param {String} method\n * @api private\n */\n\nXHR.prototype.request = function(opts){\n  opts = opts || {};\n  opts.uri = this.uri();\n  opts.xd = this.xd;\n  opts.xs = this.xs;\n  opts.agent = this.agent || false;\n  opts.supportsBinary = this.supportsBinary;\n  opts.enablesXDR = this.enablesXDR;\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n\n  return new Request(opts);\n};\n\n/**\n * Sends data.\n *\n * @param {String} data to send.\n * @param {Function} called upon flush.\n * @api private\n */\n\nXHR.prototype.doWrite = function(data, fn){\n  var isBinary = typeof data !== 'string' && data !== undefined;\n  var req = this.request({ method: 'POST', data: data, isBinary: isBinary });\n  var self = this;\n  req.on('success', fn);\n  req.on('error', function(err){\n    self.onError('xhr post error', err);\n  });\n  this.sendXhr = req;\n};\n\n/**\n * Starts a poll cycle.\n *\n * @api private\n */\n\nXHR.prototype.doPoll = function(){\n  debug('xhr poll');\n  var req = this.request();\n  var self = this;\n  req.on('data', function(data){\n    self.onData(data);\n  });\n  req.on('error', function(err){\n    self.onError('xhr poll error', err);\n  });\n  this.pollXhr = req;\n};\n\n/**\n * Request constructor\n *\n * @param {Object} options\n * @api public\n */\n\nfunction Request(opts){\n  this.method = opts.method || 'GET';\n  this.uri = opts.uri;\n  this.xd = !!opts.xd;\n  this.xs = !!opts.xs;\n  this.async = false !== opts.async;\n  this.data = undefined != opts.data ? opts.data : null;\n  this.agent = opts.agent;\n  this.isBinary = opts.isBinary;\n  this.supportsBinary = opts.supportsBinary;\n  this.enablesXDR = opts.enablesXDR;\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx;\n  this.key = opts.key;\n  this.passphrase = opts.passphrase;\n  this.cert = opts.cert;\n  this.ca = opts.ca;\n  this.ciphers = opts.ciphers;\n  this.rejectUnauthorized = opts.rejectUnauthorized;\n\n  this.create();\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Request.prototype);\n\n/**\n * Creates the XHR object and sends the request.\n *\n * @api private\n */\n\nRequest.prototype.create = function(){\n  var opts = { agent: this.agent, xdomain: this.xd, xscheme: this.xs, enablesXDR: this.enablesXDR };\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n\n  var xhr = this.xhr = new XMLHttpRequest(opts);\n  var self = this;\n\n  try {\n    debug('xhr open %s: %s', this.method, this.uri);\n    xhr.open(this.method, this.uri, this.async);\n    if (this.supportsBinary) {\n      // This has to be done after open because Firefox is stupid\n      // http://stackoverflow.com/questions/13216903/get-binary-data-with-xmlhttprequest-in-a-firefox-extension\n      xhr.responseType = 'arraybuffer';\n    }\n\n    if ('POST' == this.method) {\n      try {\n        if (this.isBinary) {\n          xhr.setRequestHeader('Content-type', 'application/octet-stream');\n        } else {\n          xhr.setRequestHeader('Content-type', 'text/plain;charset=UTF-8');\n        }\n      } catch (e) {}\n    }\n\n    // ie6 check\n    if ('withCredentials' in xhr) {\n      xhr.withCredentials = true;\n    }\n\n    if (this.hasXDR()) {\n      xhr.onload = function(){\n        self.onLoad();\n      };\n      xhr.onerror = function(){\n        self.onError(xhr.responseText);\n      };\n    } else {\n      xhr.onreadystatechange = function(){\n        if (4 != xhr.readyState) return;\n        if (200 == xhr.status || 1223 == xhr.status) {\n          self.onLoad();\n        } else {\n          // make sure the `error` event handler that's user-set\n          // does not throw in the same tick and gets caught here\n          setTimeout(function(){\n            self.onError(xhr.status);\n          }, 0);\n        }\n      };\n    }\n\n    debug('xhr data %s', this.data);\n    xhr.send(this.data);\n  } catch (e) {\n    // Need to defer since .create() is called directly fhrom the constructor\n    // and thus the 'error' event can only be only bound *after* this exception\n    // occurs.  Therefore, also, we cannot throw here at all.\n    setTimeout(function() {\n      self.onError(e);\n    }, 0);\n    return;\n  }\n\n  if (global.document) {\n    this.index = Request.requestsCount++;\n    Request.requests[this.index] = this;\n  }\n};\n\n/**\n * Called upon successful response.\n *\n * @api private\n */\n\nRequest.prototype.onSuccess = function(){\n  this.emit('success');\n  this.cleanup();\n};\n\n/**\n * Called if we have data.\n *\n * @api private\n */\n\nRequest.prototype.onData = function(data){\n  this.emit('data', data);\n  this.onSuccess();\n};\n\n/**\n * Called upon error.\n *\n * @api private\n */\n\nRequest.prototype.onError = function(err){\n  this.emit('error', err);\n  this.cleanup(true);\n};\n\n/**\n * Cleans up house.\n *\n * @api private\n */\n\nRequest.prototype.cleanup = function(fromError){\n  if ('undefined' == typeof this.xhr || null === this.xhr) {\n    return;\n  }\n  // xmlhttprequest\n  if (this.hasXDR()) {\n    this.xhr.onload = this.xhr.onerror = empty;\n  } else {\n    this.xhr.onreadystatechange = empty;\n  }\n\n  if (fromError) {\n    try {\n      this.xhr.abort();\n    } catch(e) {}\n  }\n\n  if (global.document) {\n    delete Request.requests[this.index];\n  }\n\n  this.xhr = null;\n};\n\n/**\n * Called upon load.\n *\n * @api private\n */\n\nRequest.prototype.onLoad = function(){\n  var data;\n  try {\n    var contentType;\n    try {\n      contentType = this.xhr.getResponseHeader('Content-Type').split(';')[0];\n    } catch (e) {}\n    if (contentType === 'application/octet-stream') {\n      data = this.xhr.response;\n    } else {\n      if (!this.supportsBinary) {\n        data = this.xhr.responseText;\n      } else {\n        data = 'ok';\n      }\n    }\n  } catch (e) {\n    this.onError(e);\n  }\n  if (null != data) {\n    this.onData(data);\n  }\n};\n\n/**\n * Check if it has XDomainRequest.\n *\n * @api private\n */\n\nRequest.prototype.hasXDR = function(){\n  return 'undefined' !== typeof global.XDomainRequest && !this.xs && this.enablesXDR;\n};\n\n/**\n * Aborts the request.\n *\n * @api public\n */\n\nRequest.prototype.abort = function(){\n  this.cleanup();\n};\n\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\n\nif (global.document) {\n  Request.requestsCount = 0;\n  Request.requests = {};\n  if (global.attachEvent) {\n    global.attachEvent('onunload', unloadHandler);\n  } else if (global.addEventListener) {\n    global.addEventListener('beforeunload', unloadHandler, false);\n  }\n}\n\nfunction unloadHandler() {\n  for (var i in Request.requests) {\n    if (Request.requests.hasOwnProperty(i)) {\n      Request.requests[i].abort();\n    }\n  }\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./polling\":27,\"component-emitter\":18,\"component-inherit\":30,\"debug\":31,\"xmlhttprequest\":29}],27:[function(require,module,exports){\n/**\n * Module dependencies.\n */\n\nvar Transport = require('../transport');\nvar parseqs = require('parseqs');\nvar parser = require('engine.io-parser');\nvar inherit = require('component-inherit');\nvar debug = require('debug')('engine.io-client:polling');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Polling;\n\n/**\n * Is XHR2 supported?\n */\n\nvar hasXHR2 = (function() {\n  var XMLHttpRequest = require('xmlhttprequest');\n  var xhr = new XMLHttpRequest({ xdomain: false });\n  return null != xhr.responseType;\n})();\n\n/**\n * Polling interface.\n *\n * @param {Object} opts\n * @api private\n */\n\nfunction Polling(opts){\n  var forceBase64 = (opts && opts.forceBase64);\n  if (!hasXHR2 || forceBase64) {\n    this.supportsBinary = false;\n  }\n  Transport.call(this, opts);\n}\n\n/**\n * Inherits from Transport.\n */\n\ninherit(Polling, Transport);\n\n/**\n * Transport name.\n */\n\nPolling.prototype.name = 'polling';\n\n/**\n * Opens the socket (triggers polling). We write a PING message to determine\n * when the transport is open.\n *\n * @api private\n */\n\nPolling.prototype.doOpen = function(){\n  this.poll();\n};\n\n/**\n * Pauses polling.\n *\n * @param {Function} callback upon buffers are flushed and transport is paused\n * @api private\n */\n\nPolling.prototype.pause = function(onPause){\n  var pending = 0;\n  var self = this;\n\n  this.readyState = 'pausing';\n\n  function pause(){\n    debug('paused');\n    self.readyState = 'paused';\n    onPause();\n  }\n\n  if (this.polling || !this.writable) {\n    var total = 0;\n\n    if (this.polling) {\n      debug('we are currently polling - waiting to pause');\n      total++;\n      this.once('pollComplete', function(){\n        debug('pre-pause polling complete');\n        --total || pause();\n      });\n    }\n\n    if (!this.writable) {\n      debug('we are currently writing - waiting to pause');\n      total++;\n      this.once('drain', function(){\n        debug('pre-pause writing complete');\n        --total || pause();\n      });\n    }\n  } else {\n    pause();\n  }\n};\n\n/**\n * Starts polling cycle.\n *\n * @api public\n */\n\nPolling.prototype.poll = function(){\n  debug('polling');\n  this.polling = true;\n  this.doPoll();\n  this.emit('poll');\n};\n\n/**\n * Overloads onData to detect payloads.\n *\n * @api private\n */\n\nPolling.prototype.onData = function(data){\n  var self = this;\n  debug('polling got data %s', data);\n  var callback = function(packet, index, total) {\n    // if its the first message we consider the transport open\n    if ('opening' == self.readyState) {\n      self.onOpen();\n    }\n\n    // if its a close packet, we close the ongoing requests\n    if ('close' == packet.type) {\n      self.onClose();\n      return false;\n    }\n\n    // otherwise bypass onData and handle the message\n    self.onPacket(packet);\n  };\n\n  // decode payload\n  parser.decodePayload(data, this.socket.binaryType, callback);\n\n  // if an event did not trigger closing\n  if ('closed' != this.readyState) {\n    // if we got data we're not polling\n    this.polling = false;\n    this.emit('pollComplete');\n\n    if ('open' == this.readyState) {\n      this.poll();\n    } else {\n      debug('ignoring poll - transport state \"%s\"', this.readyState);\n    }\n  }\n};\n\n/**\n * For polling, send a close packet.\n *\n * @api private\n */\n\nPolling.prototype.doClose = function(){\n  var self = this;\n\n  function close(){\n    debug('writing close packet');\n    self.write([{ type: 'close' }]);\n  }\n\n  if ('open' == this.readyState) {\n    debug('transport open - closing');\n    close();\n  } else {\n    // in case we're trying to close while\n    // handshaking is in progress (GH-164)\n    debug('transport not open - deferring close');\n    this.once('open', close);\n  }\n};\n\n/**\n * Writes a packets payload.\n *\n * @param {Array} data packets\n * @param {Function} drain callback\n * @api private\n */\n\nPolling.prototype.write = function(packets){\n  var self = this;\n  this.writable = false;\n  var callbackfn = function() {\n    self.writable = true;\n    self.emit('drain');\n  };\n\n  var self = this;\n  parser.encodePayload(packets, this.supportsBinary, function(data) {\n    self.doWrite(data, callbackfn);\n  });\n};\n\n/**\n * Generates uri for connection.\n *\n * @api private\n */\n\nPolling.prototype.uri = function(){\n  var query = this.query || {};\n  var schema = this.secure ? 'https' : 'http';\n  var port = '';\n\n  // cache busting is forced\n  if (false !== this.timestampRequests) {\n    query[this.timestampParam] = +new Date + '-' + Transport.timestamps++;\n  }\n\n  if (!this.supportsBinary && !query.sid) {\n    query.b64 = 1;\n  }\n\n  query = parseqs.encode(query);\n\n  // avoid port if default for schema\n  if (this.port && (('https' == schema && this.port != 443) ||\n     ('http' == schema && this.port != 80))) {\n    port = ':' + this.port;\n  }\n\n  // prepend ? to query\n  if (query.length) {\n    query = '?' + query;\n  }\n\n  return schema + '://' + this.hostname + port + this.path + query;\n};\n\n},{\"../transport\":23,\"component-inherit\":30,\"debug\":31,\"engine.io-parser\":34,\"parseqs\":46,\"xmlhttprequest\":29}],28:[function(require,module,exports){\n/**\n * Module dependencies.\n */\n\nvar Transport = require('../transport');\nvar parser = require('engine.io-parser');\nvar parseqs = require('parseqs');\nvar inherit = require('component-inherit');\nvar debug = require('debug')('engine.io-client:websocket');\n\n/**\n * `ws` exposes a WebSocket-compatible interface in\n * Node, or the `WebSocket` or `MozWebSocket` globals\n * in the browser.\n */\n\nvar WebSocket = require('ws');\n\n/**\n * Module exports.\n */\n\nmodule.exports = WS;\n\n/**\n * WebSocket transport constructor.\n *\n * @api {Object} connection options\n * @api public\n */\n\nfunction WS(opts){\n  var forceBase64 = (opts && opts.forceBase64);\n  if (forceBase64) {\n    this.supportsBinary = false;\n  }\n  Transport.call(this, opts);\n}\n\n/**\n * Inherits from Transport.\n */\n\ninherit(WS, Transport);\n\n/**\n * Transport name.\n *\n * @api public\n */\n\nWS.prototype.name = 'websocket';\n\n/*\n * WebSockets support binary\n */\n\nWS.prototype.supportsBinary = true;\n\n/**\n * Opens socket.\n *\n * @api private\n */\n\nWS.prototype.doOpen = function(){\n  if (!this.check()) {\n    // let probe timeout\n    return;\n  }\n\n  var self = this;\n  var uri = this.uri();\n  var protocols = void(0);\n  var opts = { agent: this.agent };\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n\n  this.ws = new WebSocket(uri, protocols, opts);\n\n  if (this.ws.binaryType === undefined) {\n    this.supportsBinary = false;\n  }\n\n  this.ws.binaryType = 'arraybuffer';\n  this.addEventListeners();\n};\n\n/**\n * Adds event listeners to the socket\n *\n * @api private\n */\n\nWS.prototype.addEventListeners = function(){\n  var self = this;\n\n  this.ws.onopen = function(){\n    self.onOpen();\n  };\n  this.ws.onclose = function(){\n    self.onClose();\n  };\n  this.ws.onmessage = function(ev){\n    self.onData(ev.data);\n  };\n  this.ws.onerror = function(e){\n    self.onError('websocket error', e);\n  };\n};\n\n/**\n * Override `onData` to use a timer on iOS.\n * See: https://gist.github.com/mloughran/2052006\n *\n * @api private\n */\n\nif ('undefined' != typeof navigator\n  && /iPad|iPhone|iPod/i.test(navigator.userAgent)) {\n  WS.prototype.onData = function(data){\n    var self = this;\n    setTimeout(function(){\n      Transport.prototype.onData.call(self, data);\n    }, 0);\n  };\n}\n\n/**\n * Writes data to socket.\n *\n * @param {Array} array of packets.\n * @api private\n */\n\nWS.prototype.write = function(packets){\n  var self = this;\n  this.writable = false;\n  // encodePacket efficient as it uses WS framing\n  // no need for encodePayload\n  for (var i = 0, l = packets.length; i < l; i++) {\n    parser.encodePacket(packets[i], this.supportsBinary, function(data) {\n      //Sometimes the websocket has already been closed but the browser didn't\n      //have a chance of informing us about it yet, in that case send will\n      //throw an error\n      try {\n        self.ws.send(data);\n      } catch (e){\n        debug('websocket closed before onclose event');\n      }\n    });\n  }\n\n  function ondrain() {\n    self.writable = true;\n    self.emit('drain');\n  }\n  // fake drain\n  // defer to next tick to allow Socket to clear writeBuffer\n  setTimeout(ondrain, 0);\n};\n\n/**\n * Called upon close\n *\n * @api private\n */\n\nWS.prototype.onClose = function(){\n  Transport.prototype.onClose.call(this);\n};\n\n/**\n * Closes socket.\n *\n * @api private\n */\n\nWS.prototype.doClose = function(){\n  if (typeof this.ws !== 'undefined') {\n    this.ws.close();\n  }\n};\n\n/**\n * Generates uri for connection.\n *\n * @api private\n */\n\nWS.prototype.uri = function(){\n  var query = this.query || {};\n  var schema = this.secure ? 'wss' : 'ws';\n  var port = '';\n\n  // avoid port if default for schema\n  if (this.port && (('wss' == schema && this.port != 443)\n    || ('ws' == schema && this.port != 80))) {\n    port = ':' + this.port;\n  }\n\n  // append timestamp to URI\n  if (this.timestampRequests) {\n    query[this.timestampParam] = +new Date;\n  }\n\n  // communicate binary support capabilities\n  if (!this.supportsBinary) {\n    query.b64 = 1;\n  }\n\n  query = parseqs.encode(query);\n\n  // prepend ? to query\n  if (query.length) {\n    query = '?' + query;\n  }\n\n  return schema + '://' + this.hostname + port + this.path + query;\n};\n\n/**\n * Feature detection for WebSocket.\n *\n * @return {Boolean} whether this transport is available.\n * @api public\n */\n\nWS.prototype.check = function(){\n  return !!WebSocket && !('__initialize' in WebSocket && this.name === WS.prototype.name);\n};\n\n},{\"../transport\":23,\"component-inherit\":30,\"debug\":31,\"engine.io-parser\":34,\"parseqs\":46,\"ws\":48}],29:[function(require,module,exports){\n// browser shim for xmlhttprequest module\nvar hasCORS = require('has-cors');\n\nmodule.exports = function(opts) {\n  var xdomain = opts.xdomain;\n\n  // scheme must be same when usign XDomainRequest\n  // http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx\n  var xscheme = opts.xscheme;\n\n  // XDomainRequest has a flow of not sending cookie, therefore it should be disabled as a default.\n  // https://github.com/Automattic/engine.io-client/pull/217\n  var enablesXDR = opts.enablesXDR;\n\n  // XMLHttpRequest can be disabled on IE\n  try {\n    if ('undefined' != typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n      return new XMLHttpRequest();\n    }\n  } catch (e) { }\n\n  // Use XDomainRequest for IE8 if enablesXDR is true\n  // because loading bar keeps flashing when using jsonp-polling\n  // https://github.com/yujiosaka/socke.io-ie8-loading-example\n  try {\n    if ('undefined' != typeof XDomainRequest && !xscheme && enablesXDR) {\n      return new XDomainRequest();\n    }\n  } catch (e) { }\n\n  if (!xdomain) {\n    try {\n      return new ActiveXObject('Microsoft.XMLHTTP');\n    } catch(e) { }\n  }\n}\n\n},{\"has-cors\":43}],30:[function(require,module,exports){\n\nmodule.exports = function(a, b){\n  var fn = function(){};\n  fn.prototype = b.prototype;\n  a.prototype = new fn;\n  a.prototype.constructor = a;\n};\n},{}],31:[function(require,module,exports){\n\n/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  return ('WebkitAppearance' in document.documentElement.style) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (window.console && (console.firebug || (console.exception && console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31);\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  return JSON.stringify(v);\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs() {\n  var args = arguments;\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return args;\n\n  var c = 'color: ' + this.color;\n  args = [args[0], c, 'color: inherit'].concat(Array.prototype.slice.call(args, 1));\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n  return args;\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // This hackery is required for IE8,\n  // where the `console.log` function doesn't have 'apply'\n  return 'object' == typeof console\n    && 'function' == typeof console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      localStorage.removeItem('debug');\n    } else {\n      localStorage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = localStorage.debug;\n  } catch(e) {}\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n},{\"./debug\":32}],32:[function(require,module,exports){\n\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = debug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lowercased letter, i.e. \"n\".\n */\n\nexports.formatters = {};\n\n/**\n * Previously assigned color.\n */\n\nvar prevColor = 0;\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n *\n * @return {Number}\n * @api private\n */\n\nfunction selectColor() {\n  return exports.colors[prevColor++ % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction debug(namespace) {\n\n  // define the `disabled` version\n  function disabled() {\n  }\n  disabled.enabled = false;\n\n  // define the `enabled` version\n  function enabled() {\n\n    var self = enabled;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // add the `color` if not set\n    if (null == self.useColors) self.useColors = exports.useColors();\n    if (null == self.color && self.useColors) self.color = selectColor();\n\n    var args = Array.prototype.slice.call(arguments);\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %o\n      args = ['%o'].concat(args);\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    if ('function' === typeof exports.formatArgs) {\n      args = exports.formatArgs.apply(self, args);\n    }\n    var logFn = enabled.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n  enabled.enabled = true;\n\n  var fn = exports.enabled(namespace) ? enabled : disabled;\n\n  fn.namespace = namespace;\n\n  return fn;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  var split = (namespaces || '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n\n},{\"ms\":33}],33:[function(require,module,exports){\n/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} options\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options){\n  options = options || {};\n  if ('string' == typeof val) return parse(val);\n  return options.long\n    ? long(val)\n    : short(val);\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  var match = /^((?:\\d+)?\\.?\\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(str);\n  if (!match) return;\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 's':\n      return n * s;\n    case 'ms':\n      return n;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction short(ms) {\n  if (ms >= d) return Math.round(ms / d) + 'd';\n  if (ms >= h) return Math.round(ms / h) + 'h';\n  if (ms >= m) return Math.round(ms / m) + 'm';\n  if (ms >= s) return Math.round(ms / s) + 's';\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction long(ms) {\n  return plural(ms, d, 'day')\n    || plural(ms, h, 'hour')\n    || plural(ms, m, 'minute')\n    || plural(ms, s, 'second')\n    || ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) return;\n  if (ms < n * 1.5) return Math.floor(ms / n) + ' ' + name;\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n\n},{}],34:[function(require,module,exports){\n(function (global){\n/**\n * Module dependencies.\n */\n\nvar keys = require('./keys');\nvar hasBinary = require('has-binary');\nvar sliceBuffer = require('arraybuffer.slice');\nvar base64encoder = require('base64-arraybuffer');\nvar after = require('after');\nvar utf8 = require('utf8');\n\n/**\n * Check if we are running an android browser. That requires us to use\n * ArrayBuffer with polling transports...\n *\n * http://ghinda.net/jpeg-blob-ajax-android/\n */\n\nvar isAndroid = navigator.userAgent.match(/Android/i);\n\n/**\n * Check if we are running in PhantomJS.\n * Uploading a Blob with PhantomJS does not work correctly, as reported here:\n * https://github.com/ariya/phantomjs/issues/11395\n * @type boolean\n */\nvar isPhantomJS = /PhantomJS/i.test(navigator.userAgent);\n\n/**\n * When true, avoids using Blobs to encode payloads.\n * @type boolean\n */\nvar dontSendBlobs = isAndroid || isPhantomJS;\n\n/**\n * Current protocol version.\n */\n\nexports.protocol = 3;\n\n/**\n * Packet types.\n */\n\nvar packets = exports.packets = {\n    open:     0    // non-ws\n  , close:    1    // non-ws\n  , ping:     2\n  , pong:     3\n  , message:  4\n  , upgrade:  5\n  , noop:     6\n};\n\nvar packetslist = keys(packets);\n\n/**\n * Premade error packet.\n */\n\nvar err = { type: 'error', data: 'parser error' };\n\n/**\n * Create a blob api even for blob builder when vendor prefixes exist\n */\n\nvar Blob = require('blob');\n\n/**\n * Encodes a packet.\n *\n *     <packet type id> [ <data> ]\n *\n * Example:\n *\n *     5hello world\n *     3\n *     4\n *\n * Binary is encoded in an identical principle\n *\n * @api private\n */\n\nexports.encodePacket = function (packet, supportsBinary, utf8encode, callback) {\n  if ('function' == typeof supportsBinary) {\n    callback = supportsBinary;\n    supportsBinary = false;\n  }\n\n  if ('function' == typeof utf8encode) {\n    callback = utf8encode;\n    utf8encode = null;\n  }\n\n  var data = (packet.data === undefined)\n    ? undefined\n    : packet.data.buffer || packet.data;\n\n  if (global.ArrayBuffer && data instanceof ArrayBuffer) {\n    return encodeArrayBuffer(packet, supportsBinary, callback);\n  } else if (Blob && data instanceof global.Blob) {\n    return encodeBlob(packet, supportsBinary, callback);\n  }\n\n  // might be an object with { base64: true, data: dataAsBase64String }\n  if (data && data.base64) {\n    return encodeBase64Object(packet, callback);\n  }\n\n  // Sending data as a utf-8 string\n  var encoded = packets[packet.type];\n\n  // data fragment is optional\n  if (undefined !== packet.data) {\n    encoded += utf8encode ? utf8.encode(String(packet.data)) : String(packet.data);\n  }\n\n  return callback('' + encoded);\n\n};\n\nfunction encodeBase64Object(packet, callback) {\n  // packet data is an object { base64: true, data: dataAsBase64String }\n  var message = 'b' + exports.packets[packet.type] + packet.data.data;\n  return callback(message);\n}\n\n/**\n * Encode packet helpers for binary types\n */\n\nfunction encodeArrayBuffer(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  var data = packet.data;\n  var contentArray = new Uint8Array(data);\n  var resultBuffer = new Uint8Array(1 + data.byteLength);\n\n  resultBuffer[0] = packets[packet.type];\n  for (var i = 0; i < contentArray.length; i++) {\n    resultBuffer[i+1] = contentArray[i];\n  }\n\n  return callback(resultBuffer.buffer);\n}\n\nfunction encodeBlobAsArrayBuffer(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  var fr = new FileReader();\n  fr.onload = function() {\n    packet.data = fr.result;\n    exports.encodePacket(packet, supportsBinary, true, callback);\n  };\n  return fr.readAsArrayBuffer(packet.data);\n}\n\nfunction encodeBlob(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  if (dontSendBlobs) {\n    return encodeBlobAsArrayBuffer(packet, supportsBinary, callback);\n  }\n\n  var length = new Uint8Array(1);\n  length[0] = packets[packet.type];\n  var blob = new Blob([length.buffer, packet.data]);\n\n  return callback(blob);\n}\n\n/**\n * Encodes a packet with binary data in a base64 string\n *\n * @param {Object} packet, has `type` and `data`\n * @return {String} base64 encoded message\n */\n\nexports.encodeBase64Packet = function(packet, callback) {\n  var message = 'b' + exports.packets[packet.type];\n  if (Blob && packet.data instanceof Blob) {\n    var fr = new FileReader();\n    fr.onload = function() {\n      var b64 = fr.result.split(',')[1];\n      callback(message + b64);\n    };\n    return fr.readAsDataURL(packet.data);\n  }\n\n  var b64data;\n  try {\n    b64data = String.fromCharCode.apply(null, new Uint8Array(packet.data));\n  } catch (e) {\n    // iPhone Safari doesn't let you apply with typed arrays\n    var typed = new Uint8Array(packet.data);\n    var basic = new Array(typed.length);\n    for (var i = 0; i < typed.length; i++) {\n      basic[i] = typed[i];\n    }\n    b64data = String.fromCharCode.apply(null, basic);\n  }\n  message += global.btoa(b64data);\n  return callback(message);\n};\n\n/**\n * Decodes a packet. Changes format to Blob if requested.\n *\n * @return {Object} with `type` and `data` (if any)\n * @api private\n */\n\nexports.decodePacket = function (data, binaryType, utf8decode) {\n  // String data\n  if (typeof data == 'string' || data === undefined) {\n    if (data.charAt(0) == 'b') {\n      return exports.decodeBase64Packet(data.substr(1), binaryType);\n    }\n\n    if (utf8decode) {\n      try {\n        data = utf8.decode(data);\n      } catch (e) {\n        return err;\n      }\n    }\n    var type = data.charAt(0);\n\n    if (Number(type) != type || !packetslist[type]) {\n      return err;\n    }\n\n    if (data.length > 1) {\n      return { type: packetslist[type], data: data.substring(1) };\n    } else {\n      return { type: packetslist[type] };\n    }\n  }\n\n  var asArray = new Uint8Array(data);\n  var type = asArray[0];\n  var rest = sliceBuffer(data, 1);\n  if (Blob && binaryType === 'blob') {\n    rest = new Blob([rest]);\n  }\n  return { type: packetslist[type], data: rest };\n};\n\n/**\n * Decodes a packet encoded in a base64 string\n *\n * @param {String} base64 encoded message\n * @return {Object} with `type` and `data` (if any)\n */\n\nexports.decodeBase64Packet = function(msg, binaryType) {\n  var type = packetslist[msg.charAt(0)];\n  if (!global.ArrayBuffer) {\n    return { type: type, data: { base64: true, data: msg.substr(1) } };\n  }\n\n  var data = base64encoder.decode(msg.substr(1));\n\n  if (binaryType === 'blob' && Blob) {\n    data = new Blob([data]);\n  }\n\n  return { type: type, data: data };\n};\n\n/**\n * Encodes multiple messages (payload).\n *\n *     <length>:data\n *\n * Example:\n *\n *     11:hello world2:hi\n *\n * If any contents are binary, they will be encoded as base64 strings. Base64\n * encoded strings are marked with a b before the length specifier\n *\n * @param {Array} packets\n * @api private\n */\n\nexports.encodePayload = function (packets, supportsBinary, callback) {\n  if (typeof supportsBinary == 'function') {\n    callback = supportsBinary;\n    supportsBinary = null;\n  }\n\n  var isBinary = hasBinary(packets);\n\n  if (supportsBinary && isBinary) {\n    if (Blob && !dontSendBlobs) {\n      return exports.encodePayloadAsBlob(packets, callback);\n    }\n\n    return exports.encodePayloadAsArrayBuffer(packets, callback);\n  }\n\n  if (!packets.length) {\n    return callback('0:');\n  }\n\n  function setLengthHeader(message) {\n    return message.length + ':' + message;\n  }\n\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, !isBinary ? false : supportsBinary, true, function(message) {\n      doneCallback(null, setLengthHeader(message));\n    });\n  }\n\n  map(packets, encodeOne, function(err, results) {\n    return callback(results.join(''));\n  });\n};\n\n/**\n * Async array map using after\n */\n\nfunction map(ary, each, done) {\n  var result = new Array(ary.length);\n  var next = after(ary.length, done);\n\n  var eachWithIndex = function(i, el, cb) {\n    each(el, function(error, msg) {\n      result[i] = msg;\n      cb(error, result);\n    });\n  };\n\n  for (var i = 0; i < ary.length; i++) {\n    eachWithIndex(i, ary[i], next);\n  }\n}\n\n/*\n * Decodes data when a payload is maybe expected. Possible binary contents are\n * decoded from their base64 representation\n *\n * @param {String} data, callback method\n * @api public\n */\n\nexports.decodePayload = function (data, binaryType, callback) {\n  if (typeof data != 'string') {\n    return exports.decodePayloadAsBinary(data, binaryType, callback);\n  }\n\n  if (typeof binaryType === 'function') {\n    callback = binaryType;\n    binaryType = null;\n  }\n\n  var packet;\n  if (data == '') {\n    // parser error - ignoring payload\n    return callback(err, 0, 1);\n  }\n\n  var length = ''\n    , n, msg;\n\n  for (var i = 0, l = data.length; i < l; i++) {\n    var chr = data.charAt(i);\n\n    if (':' != chr) {\n      length += chr;\n    } else {\n      if ('' == length || (length != (n = Number(length)))) {\n        // parser error - ignoring payload\n        return callback(err, 0, 1);\n      }\n\n      msg = data.substr(i + 1, n);\n\n      if (length != msg.length) {\n        // parser error - ignoring payload\n        return callback(err, 0, 1);\n      }\n\n      if (msg.length) {\n        packet = exports.decodePacket(msg, binaryType, true);\n\n        if (err.type == packet.type && err.data == packet.data) {\n          // parser error in individual packet - ignoring payload\n          return callback(err, 0, 1);\n        }\n\n        var ret = callback(packet, i + n, l);\n        if (false === ret) return;\n      }\n\n      // advance cursor\n      i += n;\n      length = '';\n    }\n  }\n\n  if (length != '') {\n    // parser error - ignoring payload\n    return callback(err, 0, 1);\n  }\n\n};\n\n/**\n * Encodes multiple messages (payload) as binary.\n *\n * <1 = binary, 0 = string><number from 0-9><number from 0-9>[...]<number\n * 255><data>\n *\n * Example:\n * 1 3 255 1 2 3, if the binary contents are interpreted as 8 bit integers\n *\n * @param {Array} packets\n * @return {ArrayBuffer} encoded payload\n * @api private\n */\n\nexports.encodePayloadAsArrayBuffer = function(packets, callback) {\n  if (!packets.length) {\n    return callback(new ArrayBuffer(0));\n  }\n\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, true, true, function(data) {\n      return doneCallback(null, data);\n    });\n  }\n\n  map(packets, encodeOne, function(err, encodedPackets) {\n    var totalLength = encodedPackets.reduce(function(acc, p) {\n      var len;\n      if (typeof p === 'string'){\n        len = p.length;\n      } else {\n        len = p.byteLength;\n      }\n      return acc + len.toString().length + len + 2; // string/binary identifier + separator = 2\n    }, 0);\n\n    var resultArray = new Uint8Array(totalLength);\n\n    var bufferIndex = 0;\n    encodedPackets.forEach(function(p) {\n      var isString = typeof p === 'string';\n      var ab = p;\n      if (isString) {\n        var view = new Uint8Array(p.length);\n        for (var i = 0; i < p.length; i++) {\n          view[i] = p.charCodeAt(i);\n        }\n        ab = view.buffer;\n      }\n\n      if (isString) { // not true binary\n        resultArray[bufferIndex++] = 0;\n      } else { // true binary\n        resultArray[bufferIndex++] = 1;\n      }\n\n      var lenStr = ab.byteLength.toString();\n      for (var i = 0; i < lenStr.length; i++) {\n        resultArray[bufferIndex++] = parseInt(lenStr[i]);\n      }\n      resultArray[bufferIndex++] = 255;\n\n      var view = new Uint8Array(ab);\n      for (var i = 0; i < view.length; i++) {\n        resultArray[bufferIndex++] = view[i];\n      }\n    });\n\n    return callback(resultArray.buffer);\n  });\n};\n\n/**\n * Encode as Blob\n */\n\nexports.encodePayloadAsBlob = function(packets, callback) {\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, true, true, function(encoded) {\n      var binaryIdentifier = new Uint8Array(1);\n      binaryIdentifier[0] = 1;\n      if (typeof encoded === 'string') {\n        var view = new Uint8Array(encoded.length);\n        for (var i = 0; i < encoded.length; i++) {\n          view[i] = encoded.charCodeAt(i);\n        }\n        encoded = view.buffer;\n        binaryIdentifier[0] = 0;\n      }\n\n      var len = (encoded instanceof ArrayBuffer)\n        ? encoded.byteLength\n        : encoded.size;\n\n      var lenStr = len.toString();\n      var lengthAry = new Uint8Array(lenStr.length + 1);\n      for (var i = 0; i < lenStr.length; i++) {\n        lengthAry[i] = parseInt(lenStr[i]);\n      }\n      lengthAry[lenStr.length] = 255;\n\n      if (Blob) {\n        var blob = new Blob([binaryIdentifier.buffer, lengthAry.buffer, encoded]);\n        doneCallback(null, blob);\n      }\n    });\n  }\n\n  map(packets, encodeOne, function(err, results) {\n    return callback(new Blob(results));\n  });\n};\n\n/*\n * Decodes data when a payload is maybe expected. Strings are decoded by\n * interpreting each byte as a key code for entries marked to start with 0. See\n * description of encodePayloadAsBinary\n *\n * @param {ArrayBuffer} data, callback method\n * @api public\n */\n\nexports.decodePayloadAsBinary = function (data, binaryType, callback) {\n  if (typeof binaryType === 'function') {\n    callback = binaryType;\n    binaryType = null;\n  }\n\n  var bufferTail = data;\n  var buffers = [];\n\n  var numberTooLong = false;\n  while (bufferTail.byteLength > 0) {\n    var tailArray = new Uint8Array(bufferTail);\n    var isString = tailArray[0] === 0;\n    var msgLength = '';\n\n    for (var i = 1; ; i++) {\n      if (tailArray[i] == 255) break;\n\n      if (msgLength.length > 310) {\n        numberTooLong = true;\n        break;\n      }\n\n      msgLength += tailArray[i];\n    }\n\n    if(numberTooLong) return callback(err, 0, 1);\n\n    bufferTail = sliceBuffer(bufferTail, 2 + msgLength.length);\n    msgLength = parseInt(msgLength);\n\n    var msg = sliceBuffer(bufferTail, 0, msgLength);\n    if (isString) {\n      try {\n        msg = String.fromCharCode.apply(null, new Uint8Array(msg));\n      } catch (e) {\n        // iPhone Safari doesn't let you apply to typed arrays\n        var typed = new Uint8Array(msg);\n        msg = '';\n        for (var i = 0; i < typed.length; i++) {\n          msg += String.fromCharCode(typed[i]);\n        }\n      }\n    }\n\n    buffers.push(msg);\n    bufferTail = sliceBuffer(bufferTail, msgLength);\n  }\n\n  var total = buffers.length;\n  buffers.forEach(function(buffer, i) {\n    callback(exports.decodePacket(buffer, binaryType, true), i, total);\n  });\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./keys\":35,\"after\":36,\"arraybuffer.slice\":37,\"base64-arraybuffer\":38,\"blob\":39,\"has-binary\":40,\"utf8\":42}],35:[function(require,module,exports){\n\n/**\n * Gets the keys for an object.\n *\n * @return {Array} keys\n * @api private\n */\n\nmodule.exports = Object.keys || function keys (obj){\n  var arr = [];\n  var has = Object.prototype.hasOwnProperty;\n\n  for (var i in obj) {\n    if (has.call(obj, i)) {\n      arr.push(i);\n    }\n  }\n  return arr;\n};\n\n},{}],36:[function(require,module,exports){\nmodule.exports = after\n\nfunction after(count, callback, err_cb) {\n    var bail = false\n    err_cb = err_cb || noop\n    proxy.count = count\n\n    return (count === 0) ? callback() : proxy\n\n    function proxy(err, result) {\n        if (proxy.count <= 0) {\n            throw new Error('after called too many times')\n        }\n        --proxy.count\n\n        // after first error, rest are passed to err_cb\n        if (err) {\n            bail = true\n            callback(err)\n            // future error callbacks will go to error handler\n            callback = err_cb\n        } else if (proxy.count === 0 && !bail) {\n            callback(null, result)\n        }\n    }\n}\n\nfunction noop() {}\n\n},{}],37:[function(require,module,exports){\n/**\n * An abstraction for slicing an arraybuffer even when\n * ArrayBuffer.prototype.slice is not supported\n *\n * @api public\n */\n\nmodule.exports = function(arraybuffer, start, end) {\n  var bytes = arraybuffer.byteLength;\n  start = start || 0;\n  end = end || bytes;\n\n  if (arraybuffer.slice) { return arraybuffer.slice(start, end); }\n\n  if (start < 0) { start += bytes; }\n  if (end < 0) { end += bytes; }\n  if (end > bytes) { end = bytes; }\n\n  if (start >= bytes || start >= end || bytes === 0) {\n    return new ArrayBuffer(0);\n  }\n\n  var abv = new Uint8Array(arraybuffer);\n  var result = new Uint8Array(end - start);\n  for (var i = start, ii = 0; i < end; i++, ii++) {\n    result[ii] = abv[i];\n  }\n  return result.buffer;\n};\n\n},{}],38:[function(require,module,exports){\n/*\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n(function(chars){\n  \"use strict\";\n\n  exports.encode = function(arraybuffer) {\n    var bytes = new Uint8Array(arraybuffer),\n    i, len = bytes.length, base64 = \"\";\n\n    for (i = 0; i < len; i+=3) {\n      base64 += chars[bytes[i] >> 2];\n      base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n      base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n      base64 += chars[bytes[i + 2] & 63];\n    }\n\n    if ((len % 3) === 2) {\n      base64 = base64.substring(0, base64.length - 1) + \"=\";\n    } else if (len % 3 === 1) {\n      base64 = base64.substring(0, base64.length - 2) + \"==\";\n    }\n\n    return base64;\n  };\n\n  exports.decode =  function(base64) {\n    var bufferLength = base64.length * 0.75,\n    len = base64.length, i, p = 0,\n    encoded1, encoded2, encoded3, encoded4;\n\n    if (base64[base64.length - 1] === \"=\") {\n      bufferLength--;\n      if (base64[base64.length - 2] === \"=\") {\n        bufferLength--;\n      }\n    }\n\n    var arraybuffer = new ArrayBuffer(bufferLength),\n    bytes = new Uint8Array(arraybuffer);\n\n    for (i = 0; i < len; i+=4) {\n      encoded1 = chars.indexOf(base64[i]);\n      encoded2 = chars.indexOf(base64[i+1]);\n      encoded3 = chars.indexOf(base64[i+2]);\n      encoded4 = chars.indexOf(base64[i+3]);\n\n      bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n      bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n      bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return arraybuffer;\n  };\n})(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\");\n\n},{}],39:[function(require,module,exports){\n(function (global){\n/**\n * Create a blob builder even when vendor prefixes exist\n */\n\nvar BlobBuilder = global.BlobBuilder\n  || global.WebKitBlobBuilder\n  || global.MSBlobBuilder\n  || global.MozBlobBuilder;\n\n/**\n * Check if Blob constructor is supported\n */\n\nvar blobSupported = (function() {\n  try {\n    var b = new Blob(['hi']);\n    return b.size == 2;\n  } catch(e) {\n    return false;\n  }\n})();\n\n/**\n * Check if BlobBuilder is supported\n */\n\nvar blobBuilderSupported = BlobBuilder\n  && BlobBuilder.prototype.append\n  && BlobBuilder.prototype.getBlob;\n\nfunction BlobBuilderConstructor(ary, options) {\n  options = options || {};\n\n  var bb = new BlobBuilder();\n  for (var i = 0; i < ary.length; i++) {\n    bb.append(ary[i]);\n  }\n  return (options.type) ? bb.getBlob(options.type) : bb.getBlob();\n};\n\nmodule.exports = (function() {\n  if (blobSupported) {\n    return global.Blob;\n  } else if (blobBuilderSupported) {\n    return BlobBuilderConstructor;\n  } else {\n    return undefined;\n  }\n})();\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],40:[function(require,module,exports){\n(function (global){\n\n/*\n * Module requirements.\n */\n\nvar isArray = require('isarray');\n\n/**\n * Module exports.\n */\n\nmodule.exports = hasBinary;\n\n/**\n * Checks for binary data.\n *\n * Right now only Buffer and ArrayBuffer are supported..\n *\n * @param {Object} anything\n * @api public\n */\n\nfunction hasBinary(data) {\n\n  function _hasBinary(obj) {\n    if (!obj) return false;\n\n    if ( (global.Buffer && global.Buffer.isBuffer(obj)) ||\n         (global.ArrayBuffer && obj instanceof ArrayBuffer) ||\n         (global.Blob && obj instanceof Blob) ||\n         (global.File && obj instanceof File)\n        ) {\n      return true;\n    }\n\n    if (isArray(obj)) {\n      for (var i = 0; i < obj.length; i++) {\n          if (_hasBinary(obj[i])) {\n              return true;\n          }\n      }\n    } else if (obj && 'object' == typeof obj) {\n      if (obj.toJSON) {\n        obj = obj.toJSON();\n      }\n\n      for (var key in obj) {\n        if (obj.hasOwnProperty(key) && _hasBinary(obj[key])) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  return _hasBinary(data);\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"isarray\":41}],41:[function(require,module,exports){\nmodule.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n\n},{}],42:[function(require,module,exports){\n(function (global){\n/*! http://mths.be/utf8js v2.0.0 by @mathias */\n;(function(root) {\n\n\t// Detect free variables `exports`\n\tvar freeExports = typeof exports == 'object' && exports;\n\n\t// Detect free variable `module`\n\tvar freeModule = typeof module == 'object' && module &&\n\t\tmodule.exports == freeExports && module;\n\n\t// Detect free variable `global`, from Node.js or Browserified code,\n\t// and use it as `root`\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\troot = freeGlobal;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar stringFromCharCode = String.fromCharCode;\n\n\t// Taken from http://mths.be/punycode\n\tfunction ucs2decode(string) {\n\t\tvar output = [];\n\t\tvar counter = 0;\n\t\tvar length = string.length;\n\t\tvar value;\n\t\tvar extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t// Taken from http://mths.be/punycode\n\tfunction ucs2encode(array) {\n\t\tvar length = array.length;\n\t\tvar index = -1;\n\t\tvar value;\n\t\tvar output = '';\n\t\twhile (++index < length) {\n\t\t\tvalue = array[index];\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t}\n\t\treturn output;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tfunction createByte(codePoint, shift) {\n\t\treturn stringFromCharCode(((codePoint >> shift) & 0x3F) | 0x80);\n\t}\n\n\tfunction encodeCodePoint(codePoint) {\n\t\tif ((codePoint & 0xFFFFFF80) == 0) { // 1-byte sequence\n\t\t\treturn stringFromCharCode(codePoint);\n\t\t}\n\t\tvar symbol = '';\n\t\tif ((codePoint & 0xFFFFF800) == 0) { // 2-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 6) & 0x1F) | 0xC0);\n\t\t}\n\t\telse if ((codePoint & 0xFFFF0000) == 0) { // 3-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 12) & 0x0F) | 0xE0);\n\t\t\tsymbol += createByte(codePoint, 6);\n\t\t}\n\t\telse if ((codePoint & 0xFFE00000) == 0) { // 4-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 18) & 0x07) | 0xF0);\n\t\t\tsymbol += createByte(codePoint, 12);\n\t\t\tsymbol += createByte(codePoint, 6);\n\t\t}\n\t\tsymbol += stringFromCharCode((codePoint & 0x3F) | 0x80);\n\t\treturn symbol;\n\t}\n\n\tfunction utf8encode(string) {\n\t\tvar codePoints = ucs2decode(string);\n\n\t\t// console.log(JSON.stringify(codePoints.map(function(x) {\n\t\t// \treturn 'U+' + x.toString(16).toUpperCase();\n\t\t// })));\n\n\t\tvar length = codePoints.length;\n\t\tvar index = -1;\n\t\tvar codePoint;\n\t\tvar byteString = '';\n\t\twhile (++index < length) {\n\t\t\tcodePoint = codePoints[index];\n\t\t\tbyteString += encodeCodePoint(codePoint);\n\t\t}\n\t\treturn byteString;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tfunction readContinuationByte() {\n\t\tif (byteIndex >= byteCount) {\n\t\t\tthrow Error('Invalid byte index');\n\t\t}\n\n\t\tvar continuationByte = byteArray[byteIndex] & 0xFF;\n\t\tbyteIndex++;\n\n\t\tif ((continuationByte & 0xC0) == 0x80) {\n\t\t\treturn continuationByte & 0x3F;\n\t\t}\n\n\t\t// If we end up here, it’s not a continuation byte\n\t\tthrow Error('Invalid continuation byte');\n\t}\n\n\tfunction decodeSymbol() {\n\t\tvar byte1;\n\t\tvar byte2;\n\t\tvar byte3;\n\t\tvar byte4;\n\t\tvar codePoint;\n\n\t\tif (byteIndex > byteCount) {\n\t\t\tthrow Error('Invalid byte index');\n\t\t}\n\n\t\tif (byteIndex == byteCount) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Read first byte\n\t\tbyte1 = byteArray[byteIndex] & 0xFF;\n\t\tbyteIndex++;\n\n\t\t// 1-byte sequence (no continuation bytes)\n\t\tif ((byte1 & 0x80) == 0) {\n\t\t\treturn byte1;\n\t\t}\n\n\t\t// 2-byte sequence\n\t\tif ((byte1 & 0xE0) == 0xC0) {\n\t\t\tvar byte2 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x1F) << 6) | byte2;\n\t\t\tif (codePoint >= 0x80) {\n\t\t\t\treturn codePoint;\n\t\t\t} else {\n\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t}\n\t\t}\n\n\t\t// 3-byte sequence (may include unpaired surrogates)\n\t\tif ((byte1 & 0xF0) == 0xE0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tbyte3 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x0F) << 12) | (byte2 << 6) | byte3;\n\t\t\tif (codePoint >= 0x0800) {\n\t\t\t\treturn codePoint;\n\t\t\t} else {\n\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t}\n\t\t}\n\n\t\t// 4-byte sequence\n\t\tif ((byte1 & 0xF8) == 0xF0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tbyte3 = readContinuationByte();\n\t\t\tbyte4 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x0F) << 0x12) | (byte2 << 0x0C) |\n\t\t\t\t(byte3 << 0x06) | byte4;\n\t\t\tif (codePoint >= 0x010000 && codePoint <= 0x10FFFF) {\n\t\t\t\treturn codePoint;\n\t\t\t}\n\t\t}\n\n\t\tthrow Error('Invalid UTF-8 detected');\n\t}\n\n\tvar byteArray;\n\tvar byteCount;\n\tvar byteIndex;\n\tfunction utf8decode(byteString) {\n\t\tbyteArray = ucs2decode(byteString);\n\t\tbyteCount = byteArray.length;\n\t\tbyteIndex = 0;\n\t\tvar codePoints = [];\n\t\tvar tmp;\n\t\twhile ((tmp = decodeSymbol()) !== false) {\n\t\t\tcodePoints.push(tmp);\n\t\t}\n\t\treturn ucs2encode(codePoints);\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar utf8 = {\n\t\t'version': '2.0.0',\n\t\t'encode': utf8encode,\n\t\t'decode': utf8decode\n\t};\n\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine(function() {\n\t\t\treturn utf8;\n\t\t});\n\t}\telse if (freeExports && !freeExports.nodeType) {\n\t\tif (freeModule) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = utf8;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tvar object = {};\n\t\t\tvar hasOwnProperty = object.hasOwnProperty;\n\t\t\tfor (var key in utf8) {\n\t\t\t\thasOwnProperty.call(utf8, key) && (freeExports[key] = utf8[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.utf8 = utf8;\n\t}\n\n}(this));\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],43:[function(require,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar global = require('global');\n\n/**\n * Module exports.\n *\n * Logic borrowed from Modernizr:\n *\n *   - https://github.com/Modernizr/Modernizr/blob/master/feature-detects/cors.js\n */\n\ntry {\n  module.exports = 'XMLHttpRequest' in global &&\n    'withCredentials' in new global.XMLHttpRequest();\n} catch (err) {\n  // if XMLHttp support is disabled in IE then it will throw\n  // when trying to create\n  module.exports = false;\n}\n\n},{\"global\":44}],44:[function(require,module,exports){\n\n/**\n * Returns `this`. Execute this without a \"context\" (i.e. without it being\n * attached to an object of the left-hand side), and `this` points to the\n * \"global\" scope of the current JS execution.\n */\n\nmodule.exports = (function () { return this; })();\n\n},{}],45:[function(require,module,exports){\n(function (global){\n/**\n * JSON parse.\n *\n * @see Based on jQuery#parseJSON (MIT) and JSON2\n * @api private\n */\n\nvar rvalidchars = /^[\\],:{}\\s]*$/;\nvar rvalidescape = /\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g;\nvar rvalidtokens = /\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g;\nvar rvalidbraces = /(?:^|:|,)(?:\\s*\\[)+/g;\nvar rtrimLeft = /^\\s+/;\nvar rtrimRight = /\\s+$/;\n\nmodule.exports = function parsejson(data) {\n  if ('string' != typeof data || !data) {\n    return null;\n  }\n\n  data = data.replace(rtrimLeft, '').replace(rtrimRight, '');\n\n  // Attempt to parse using the native JSON parser first\n  if (global.JSON && JSON.parse) {\n    return JSON.parse(data);\n  }\n\n  if (rvalidchars.test(data.replace(rvalidescape, '@')\n      .replace(rvalidtokens, ']')\n      .replace(rvalidbraces, ''))) {\n    return (new Function('return ' + data))();\n  }\n};\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],46:[function(require,module,exports){\n/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\n\nexports.encode = function (obj) {\n  var str = '';\n\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      if (str.length) str += '&';\n      str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n    }\n  }\n\n  return str;\n};\n\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\n\nexports.decode = function(qs){\n  var qry = {};\n  var pairs = qs.split('&');\n  for (var i = 0, l = pairs.length; i < l; i++) {\n    var pair = pairs[i].split('=');\n    qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n  }\n  return qry;\n};\n\n},{}],47:[function(require,module,exports){\n/**\n * Parses an URI\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\n\nvar re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\nvar parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\n\nmodule.exports = function parseuri(str) {\n    var src = str,\n        b = str.indexOf('['),\n        e = str.indexOf(']');\n\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n\n    var m = re.exec(str || ''),\n        uri = {},\n        i = 14;\n\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n\n    return uri;\n};\n\n},{}],48:[function(require,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar global = (function() { return this; })();\n\n/**\n * WebSocket constructor.\n */\n\nvar WebSocket = global.WebSocket || global.MozWebSocket;\n\n/**\n * Module exports.\n */\n\nmodule.exports = WebSocket ? ws : null;\n\n/**\n * WebSocket constructor.\n *\n * The third `opts` options object gets ignored in web browsers, since it's\n * non-standard, and throws a TypeError if passed to the constructor.\n * See: https://github.com/einaros/ws/issues/227\n *\n * @param {String} uri\n * @param {Array} protocols (optional)\n * @param {Object) opts (optional)\n * @api public\n */\n\nfunction ws(uri, protocols, opts) {\n  var instance;\n  if (protocols) {\n    instance = new WebSocket(uri, protocols);\n  } else {\n    instance = new WebSocket(uri);\n  }\n  return instance;\n}\n\nif (WebSocket) ws.prototype = WebSocket.prototype;\n\n},{}],49:[function(require,module,exports){\n(function (global){\n\n/*\n * Module requirements.\n */\n\nvar isArray = require('isarray');\n\n/**\n * Module exports.\n */\n\nmodule.exports = hasBinary;\n\n/**\n * Checks for binary data.\n *\n * Right now only Buffer and ArrayBuffer are supported..\n *\n * @param {Object} anything\n * @api public\n */\n\nfunction hasBinary(data) {\n\n  function _hasBinary(obj) {\n    if (!obj) return false;\n\n    if ( (global.Buffer && global.Buffer.isBuffer(obj)) ||\n         (global.ArrayBuffer && obj instanceof ArrayBuffer) ||\n         (global.Blob && obj instanceof Blob) ||\n         (global.File && obj instanceof File)\n        ) {\n      return true;\n    }\n\n    if (isArray(obj)) {\n      for (var i = 0; i < obj.length; i++) {\n          if (_hasBinary(obj[i])) {\n              return true;\n          }\n      }\n    } else if (obj && 'object' == typeof obj) {\n      if (obj.toJSON) {\n        obj = obj.toJSON();\n      }\n\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && _hasBinary(obj[key])) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  return _hasBinary(data);\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"isarray\":50}],50:[function(require,module,exports){\narguments[4][41][0].apply(exports,arguments)\n},{\"dup\":41}],51:[function(require,module,exports){\n\nvar indexOf = [].indexOf;\n\nmodule.exports = function(arr, obj){\n  if (indexOf) return arr.indexOf(obj);\n  for (var i = 0; i < arr.length; ++i) {\n    if (arr[i] === obj) return i;\n  }\n  return -1;\n};\n},{}],52:[function(require,module,exports){\n\n/**\n * HOP ref.\n */\n\nvar has = Object.prototype.hasOwnProperty;\n\n/**\n * Return own keys in `obj`.\n *\n * @param {Object} obj\n * @return {Array}\n * @api public\n */\n\nexports.keys = Object.keys || function(obj){\n  var keys = [];\n  for (var key in obj) {\n    if (has.call(obj, key)) {\n      keys.push(key);\n    }\n  }\n  return keys;\n};\n\n/**\n * Return own values in `obj`.\n *\n * @param {Object} obj\n * @return {Array}\n * @api public\n */\n\nexports.values = function(obj){\n  var vals = [];\n  for (var key in obj) {\n    if (has.call(obj, key)) {\n      vals.push(obj[key]);\n    }\n  }\n  return vals;\n};\n\n/**\n * Merge `b` into `a`.\n *\n * @param {Object} a\n * @param {Object} b\n * @return {Object} a\n * @api public\n */\n\nexports.merge = function(a, b){\n  for (var key in b) {\n    if (has.call(b, key)) {\n      a[key] = b[key];\n    }\n  }\n  return a;\n};\n\n/**\n * Return length of `obj`.\n *\n * @param {Object} obj\n * @return {Number}\n * @api public\n */\n\nexports.length = function(obj){\n  return exports.keys(obj).length;\n};\n\n/**\n * Check if `obj` is empty.\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api public\n */\n\nexports.isEmpty = function(obj){\n  return 0 == exports.length(obj);\n};\n},{}],53:[function(require,module,exports){\n/**\n * Parses an URI\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\n\nvar re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\nvar parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host'\n  , 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\n\nmodule.exports = function parseuri(str) {\n  var m = re.exec(str || '')\n    , uri = {}\n    , i = 14;\n\n  while (i--) {\n    uri[parts[i]] = m[i] || '';\n  }\n\n  return uri;\n};\n\n},{}],54:[function(require,module,exports){\n(function (global){\n/*global Blob,File*/\n\n/**\n * Module requirements\n */\n\nvar isArray = require('isarray');\nvar isBuf = require('./is-buffer');\n\n/**\n * Replaces every Buffer | ArrayBuffer in packet with a numbered placeholder.\n * Anything with blobs or files should be fed through removeBlobs before coming\n * here.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @api public\n */\n\nexports.deconstructPacket = function(packet){\n  var buffers = [];\n  var packetData = packet.data;\n\n  function _deconstructPacket(data) {\n    if (!data) return data;\n\n    if (isBuf(data)) {\n      var placeholder = { _placeholder: true, num: buffers.length };\n      buffers.push(data);\n      return placeholder;\n    } else if (isArray(data)) {\n      var newData = new Array(data.length);\n      for (var i = 0; i < data.length; i++) {\n        newData[i] = _deconstructPacket(data[i]);\n      }\n      return newData;\n    } else if ('object' == typeof data && !(data instanceof Date)) {\n      var newData = {};\n      for (var key in data) {\n        newData[key] = _deconstructPacket(data[key]);\n      }\n      return newData;\n    }\n    return data;\n  }\n\n  var pack = packet;\n  pack.data = _deconstructPacket(packetData);\n  pack.attachments = buffers.length; // number of binary 'attachments'\n  return {packet: pack, buffers: buffers};\n};\n\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @api public\n */\n\nexports.reconstructPacket = function(packet, buffers) {\n  var curPlaceHolder = 0;\n\n  function _reconstructPacket(data) {\n    if (data && data._placeholder) {\n      var buf = buffers[data.num]; // appropriate buffer (should be natural order anyway)\n      return buf;\n    } else if (isArray(data)) {\n      for (var i = 0; i < data.length; i++) {\n        data[i] = _reconstructPacket(data[i]);\n      }\n      return data;\n    } else if (data && 'object' == typeof data) {\n      for (var key in data) {\n        data[key] = _reconstructPacket(data[key]);\n      }\n      return data;\n    }\n    return data;\n  }\n\n  packet.data = _reconstructPacket(packet.data);\n  packet.attachments = undefined; // no longer useful\n  return packet;\n};\n\n/**\n * Asynchronously removes Blobs or Files from data via\n * FileReader's readAsArrayBuffer method. Used before encoding\n * data as msgpack. Calls callback with the blobless data.\n *\n * @param {Object} data\n * @param {Function} callback\n * @api private\n */\n\nexports.removeBlobs = function(data, callback) {\n  function _removeBlobs(obj, curKey, containingObject) {\n    if (!obj) return obj;\n\n    // convert any blob\n    if ((global.Blob && obj instanceof Blob) ||\n        (global.File && obj instanceof File)) {\n      pendingBlobs++;\n\n      // async filereader\n      var fileReader = new FileReader();\n      fileReader.onload = function() { // this.result == arraybuffer\n        if (containingObject) {\n          containingObject[curKey] = this.result;\n        }\n        else {\n          bloblessData = this.result;\n        }\n\n        // if nothing pending its callback time\n        if(! --pendingBlobs) {\n          callback(bloblessData);\n        }\n      };\n\n      fileReader.readAsArrayBuffer(obj); // blob -> arraybuffer\n    } else if (isArray(obj)) { // handle array\n      for (var i = 0; i < obj.length; i++) {\n        _removeBlobs(obj[i], i, obj);\n      }\n    } else if (obj && 'object' == typeof obj && !isBuf(obj)) { // and object\n      for (var key in obj) {\n        _removeBlobs(obj[key], key, obj);\n      }\n    }\n  }\n\n  var pendingBlobs = 0;\n  var bloblessData = data;\n  _removeBlobs(bloblessData);\n  if (!pendingBlobs) {\n    callback(bloblessData);\n  }\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./is-buffer\":56,\"isarray\":57}],55:[function(require,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar debug = require('debug')('socket.io-parser');\nvar json = require('json3');\nvar isArray = require('isarray');\nvar Emitter = require('component-emitter');\nvar binary = require('./binary');\nvar isBuf = require('./is-buffer');\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nexports.protocol = 4;\n\n/**\n * Packet types.\n *\n * @api public\n */\n\nexports.types = [\n  'CONNECT',\n  'DISCONNECT',\n  'EVENT',\n  'BINARY_EVENT',\n  'ACK',\n  'BINARY_ACK',\n  'ERROR'\n];\n\n/**\n * Packet type `connect`.\n *\n * @api public\n */\n\nexports.CONNECT = 0;\n\n/**\n * Packet type `disconnect`.\n *\n * @api public\n */\n\nexports.DISCONNECT = 1;\n\n/**\n * Packet type `event`.\n *\n * @api public\n */\n\nexports.EVENT = 2;\n\n/**\n * Packet type `ack`.\n *\n * @api public\n */\n\nexports.ACK = 3;\n\n/**\n * Packet type `error`.\n *\n * @api public\n */\n\nexports.ERROR = 4;\n\n/**\n * Packet type 'binary event'\n *\n * @api public\n */\n\nexports.BINARY_EVENT = 5;\n\n/**\n * Packet type `binary ack`. For acks with binary arguments.\n *\n * @api public\n */\n\nexports.BINARY_ACK = 6;\n\n/**\n * Encoder constructor.\n *\n * @api public\n */\n\nexports.Encoder = Encoder;\n\n/**\n * Decoder constructor.\n *\n * @api public\n */\n\nexports.Decoder = Decoder;\n\n/**\n * A socket.io Encoder instance\n *\n * @api public\n */\n\nfunction Encoder() {}\n\n/**\n * Encode a packet as a single string if non-binary, or as a\n * buffer sequence, depending on packet type.\n *\n * @param {Object} obj - packet object\n * @param {Function} callback - function to handle encodings (likely engine.write)\n * @return Calls callback with Array of encodings\n * @api public\n */\n\nEncoder.prototype.encode = function(obj, callback){\n  debug('encoding packet %j', obj);\n\n  if (exports.BINARY_EVENT == obj.type || exports.BINARY_ACK == obj.type) {\n    encodeAsBinary(obj, callback);\n  }\n  else {\n    var encoding = encodeAsString(obj);\n    callback([encoding]);\n  }\n};\n\n/**\n * Encode packet as string.\n *\n * @param {Object} packet\n * @return {String} encoded\n * @api private\n */\n\nfunction encodeAsString(obj) {\n  var str = '';\n  var nsp = false;\n\n  // first is type\n  str += obj.type;\n\n  // attachments if we have them\n  if (exports.BINARY_EVENT == obj.type || exports.BINARY_ACK == obj.type) {\n    str += obj.attachments;\n    str += '-';\n  }\n\n  // if we have a namespace other than `/`\n  // we append it followed by a comma `,`\n  if (obj.nsp && '/' != obj.nsp) {\n    nsp = true;\n    str += obj.nsp;\n  }\n\n  // immediately followed by the id\n  if (null != obj.id) {\n    if (nsp) {\n      str += ',';\n      nsp = false;\n    }\n    str += obj.id;\n  }\n\n  // json data\n  if (null != obj.data) {\n    if (nsp) str += ',';\n    str += json.stringify(obj.data);\n  }\n\n  debug('encoded %j as %s', obj, str);\n  return str;\n}\n\n/**\n * Encode packet as 'buffer sequence' by removing blobs, and\n * deconstructing packet into object with placeholders and\n * a list of buffers.\n *\n * @param {Object} packet\n * @return {Buffer} encoded\n * @api private\n */\n\nfunction encodeAsBinary(obj, callback) {\n\n  function writeEncoding(bloblessData) {\n    var deconstruction = binary.deconstructPacket(bloblessData);\n    var pack = encodeAsString(deconstruction.packet);\n    var buffers = deconstruction.buffers;\n\n    buffers.unshift(pack); // add packet info to beginning of data list\n    callback(buffers); // write all the buffers\n  }\n\n  binary.removeBlobs(obj, writeEncoding);\n}\n\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n * @api public\n */\n\nfunction Decoder() {\n  this.reconstructor = null;\n}\n\n/**\n * Mix in `Emitter` with Decoder.\n */\n\nEmitter(Decoder.prototype);\n\n/**\n * Decodes an ecoded packet string into packet JSON.\n *\n * @param {String} obj - encoded packet\n * @return {Object} packet\n * @api public\n */\n\nDecoder.prototype.add = function(obj) {\n  var packet;\n  if ('string' == typeof obj) {\n    packet = decodeString(obj);\n    if (exports.BINARY_EVENT == packet.type || exports.BINARY_ACK == packet.type) { // binary packet's json\n      this.reconstructor = new BinaryReconstructor(packet);\n\n      // no attachments, labeled binary but no binary data to follow\n      if (this.reconstructor.reconPack.attachments === 0) {\n        this.emit('decoded', packet);\n      }\n    } else { // non-binary full packet\n      this.emit('decoded', packet);\n    }\n  }\n  else if (isBuf(obj) || obj.base64) { // raw binary data\n    if (!this.reconstructor) {\n      throw new Error('got binary data when not reconstructing a packet');\n    } else {\n      packet = this.reconstructor.takeBinaryData(obj);\n      if (packet) { // received final buffer\n        this.reconstructor = null;\n        this.emit('decoded', packet);\n      }\n    }\n  }\n  else {\n    throw new Error('Unknown type: ' + obj);\n  }\n};\n\n/**\n * Decode a packet String (JSON data)\n *\n * @param {String} str\n * @return {Object} packet\n * @api private\n */\n\nfunction decodeString(str) {\n  var p = {};\n  var i = 0;\n\n  // look up type\n  p.type = Number(str.charAt(0));\n  if (null == exports.types[p.type]) return error();\n\n  // look up attachments if type binary\n  if (exports.BINARY_EVENT == p.type || exports.BINARY_ACK == p.type) {\n    var buf = '';\n    while (str.charAt(++i) != '-') {\n      buf += str.charAt(i);\n      if (i == str.length) break;\n    }\n    if (buf != Number(buf) || str.charAt(i) != '-') {\n      throw new Error('Illegal attachments');\n    }\n    p.attachments = Number(buf);\n  }\n\n  // look up namespace (if any)\n  if ('/' == str.charAt(i + 1)) {\n    p.nsp = '';\n    while (++i) {\n      var c = str.charAt(i);\n      if (',' == c) break;\n      p.nsp += c;\n      if (i == str.length) break;\n    }\n  } else {\n    p.nsp = '/';\n  }\n\n  // look up id\n  var next = str.charAt(i + 1);\n  if ('' !== next && Number(next) == next) {\n    p.id = '';\n    while (++i) {\n      var c = str.charAt(i);\n      if (null == c || Number(c) != c) {\n        --i;\n        break;\n      }\n      p.id += str.charAt(i);\n      if (i == str.length) break;\n    }\n    p.id = Number(p.id);\n  }\n\n  // look up json data\n  if (str.charAt(++i)) {\n    try {\n      p.data = json.parse(str.substr(i));\n    } catch(e){\n      return error();\n    }\n  }\n\n  debug('decoded %s as %j', str, p);\n  return p;\n}\n\n/**\n * Deallocates a parser's resources\n *\n * @api public\n */\n\nDecoder.prototype.destroy = function() {\n  if (this.reconstructor) {\n    this.reconstructor.finishedReconstruction();\n  }\n};\n\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n * @api private\n */\n\nfunction BinaryReconstructor(packet) {\n  this.reconPack = packet;\n  this.buffers = [];\n}\n\n/**\n * Method to be called when binary data received from connection\n * after a BINARY_EVENT packet.\n *\n * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n * @return {null | Object} returns null if more binary data is expected or\n *   a reconstructed packet object if all buffers have been received.\n * @api private\n */\n\nBinaryReconstructor.prototype.takeBinaryData = function(binData) {\n  this.buffers.push(binData);\n  if (this.buffers.length == this.reconPack.attachments) { // done with buffer list\n    var packet = binary.reconstructPacket(this.reconPack, this.buffers);\n    this.finishedReconstruction();\n    return packet;\n  }\n  return null;\n};\n\n/**\n * Cleans up binary packet reconstruction variables.\n *\n * @api private\n */\n\nBinaryReconstructor.prototype.finishedReconstruction = function() {\n  this.reconPack = null;\n  this.buffers = [];\n};\n\nfunction error(data){\n  return {\n    type: exports.ERROR,\n    data: 'parser error'\n  };\n}\n\n},{\"./binary\":54,\"./is-buffer\":56,\"component-emitter\":18,\"debug\":19,\"isarray\":57,\"json3\":58}],56:[function(require,module,exports){\n(function (global){\n\nmodule.exports = isBuf;\n\n/**\n * Returns true if obj is a buffer or an arraybuffer.\n *\n * @api private\n */\n\nfunction isBuf(obj) {\n  return (global.Buffer && global.Buffer.isBuffer(obj)) ||\n         (global.ArrayBuffer && obj instanceof ArrayBuffer);\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],57:[function(require,module,exports){\narguments[4][41][0].apply(exports,arguments)\n},{\"dup\":41}],58:[function(require,module,exports){\n/*! JSON v3.2.6 | http://bestiejs.github.io/json3 | Copyright 2012-2013, Kit Cambridge | http://kit.mit-license.org */\n;(function (window) {\n  // Convenience aliases.\n  var getClass = {}.toString, isProperty, forEach, undef;\n\n  // Detect the `define` function exposed by asynchronous module loaders. The\n  // strict `define` check is necessary for compatibility with `r.js`.\n  var isLoader = typeof define === \"function\" && define.amd;\n\n  // Detect native implementations.\n  var nativeJSON = typeof JSON == \"object\" && JSON;\n\n  // Set up the JSON 3 namespace, preferring the CommonJS `exports` object if\n  // available.\n  var JSON3 = typeof exports == \"object\" && exports && !exports.nodeType && exports;\n\n  if (JSON3 && nativeJSON) {\n    // Explicitly delegate to the native `stringify` and `parse`\n    // implementations in CommonJS environments.\n    JSON3.stringify = nativeJSON.stringify;\n    JSON3.parse = nativeJSON.parse;\n  } else {\n    // Export for web browsers, JavaScript engines, and asynchronous module\n    // loaders, using the global `JSON` object if available.\n    JSON3 = window.JSON = nativeJSON || {};\n  }\n\n  // Test the `Date#getUTC*` methods. Based on work by @Yaffle.\n  var isExtended = new Date(-3509827334573292);\n  try {\n    // The `getUTCFullYear`, `Month`, and `Date` methods return nonsensical\n    // results for certain dates in Opera >= 10.53.\n    isExtended = isExtended.getUTCFullYear() == -109252 && isExtended.getUTCMonth() === 0 && isExtended.getUTCDate() === 1 &&\n      // Safari < 2.0.2 stores the internal millisecond time value correctly,\n      // but clips the values returned by the date methods to the range of\n      // signed 32-bit integers ([-2 ** 31, 2 ** 31 - 1]).\n      isExtended.getUTCHours() == 10 && isExtended.getUTCMinutes() == 37 && isExtended.getUTCSeconds() == 6 && isExtended.getUTCMilliseconds() == 708;\n  } catch (exception) {}\n\n  // Internal: Determines whether the native `JSON.stringify` and `parse`\n  // implementations are spec-compliant. Based on work by Ken Snyder.\n  function has(name) {\n    if (has[name] !== undef) {\n      // Return cached feature test result.\n      return has[name];\n    }\n\n    var isSupported;\n    if (name == \"bug-string-char-index\") {\n      // IE <= 7 doesn't support accessing string characters using square\n      // bracket notation. IE 8 only supports this for primitives.\n      isSupported = \"a\"[0] != \"a\";\n    } else if (name == \"json\") {\n      // Indicates whether both `JSON.stringify` and `JSON.parse` are\n      // supported.\n      isSupported = has(\"json-stringify\") && has(\"json-parse\");\n    } else {\n      var value, serialized = '{\"a\":[1,true,false,null,\"\\\\u0000\\\\b\\\\n\\\\f\\\\r\\\\t\"]}';\n      // Test `JSON.stringify`.\n      if (name == \"json-stringify\") {\n        var stringify = JSON3.stringify, stringifySupported = typeof stringify == \"function\" && isExtended;\n        if (stringifySupported) {\n          // A test function object with a custom `toJSON` method.\n          (value = function () {\n            return 1;\n          }).toJSON = value;\n          try {\n            stringifySupported =\n              // Firefox 3.1b1 and b2 serialize string, number, and boolean\n              // primitives as object literals.\n              stringify(0) === \"0\" &&\n              // FF 3.1b1, b2, and JSON 2 serialize wrapped primitives as object\n              // literals.\n              stringify(new Number()) === \"0\" &&\n              stringify(new String()) == '\"\"' &&\n              // FF 3.1b1, 2 throw an error if the value is `null`, `undefined`, or\n              // does not define a canonical JSON representation (this applies to\n              // objects with `toJSON` properties as well, *unless* they are nested\n              // within an object or array).\n              stringify(getClass) === undef &&\n              // IE 8 serializes `undefined` as `\"undefined\"`. Safari <= 5.1.7 and\n              // FF 3.1b3 pass this test.\n              stringify(undef) === undef &&\n              // Safari <= 5.1.7 and FF 3.1b3 throw `Error`s and `TypeError`s,\n              // respectively, if the value is omitted entirely.\n              stringify() === undef &&\n              // FF 3.1b1, 2 throw an error if the given value is not a number,\n              // string, array, object, Boolean, or `null` literal. This applies to\n              // objects with custom `toJSON` methods as well, unless they are nested\n              // inside object or array literals. YUI 3.0.0b1 ignores custom `toJSON`\n              // methods entirely.\n              stringify(value) === \"1\" &&\n              stringify([value]) == \"[1]\" &&\n              // Prototype <= 1.6.1 serializes `[undefined]` as `\"[]\"` instead of\n              // `\"[null]\"`.\n              stringify([undef]) == \"[null]\" &&\n              // YUI 3.0.0b1 fails to serialize `null` literals.\n              stringify(null) == \"null\" &&\n              // FF 3.1b1, 2 halts serialization if an array contains a function:\n              // `[1, true, getClass, 1]` serializes as \"[1,true,],\". FF 3.1b3\n              // elides non-JSON values from objects and arrays, unless they\n              // define custom `toJSON` methods.\n              stringify([undef, getClass, null]) == \"[null,null,null]\" &&\n              // Simple serialization test. FF 3.1b1 uses Unicode escape sequences\n              // where character escape codes are expected (e.g., `\\b` => `\\u0008`).\n              stringify({ \"a\": [value, true, false, null, \"\\x00\\b\\n\\f\\r\\t\"] }) == serialized &&\n              // FF 3.1b1 and b2 ignore the `filter` and `width` arguments.\n              stringify(null, value) === \"1\" &&\n              stringify([1, 2], null, 1) == \"[\\n 1,\\n 2\\n]\" &&\n              // JSON 2, Prototype <= 1.7, and older WebKit builds incorrectly\n              // serialize extended years.\n              stringify(new Date(-8.64e15)) == '\"-271821-04-20T00:00:00.000Z\"' &&\n              // The milliseconds are optional in ES 5, but required in 5.1.\n              stringify(new Date(8.64e15)) == '\"+275760-09-13T00:00:00.000Z\"' &&\n              // Firefox <= 11.0 incorrectly serializes years prior to 0 as negative\n              // four-digit years instead of six-digit years. Credits: @Yaffle.\n              stringify(new Date(-621987552e5)) == '\"-000001-01-01T00:00:00.000Z\"' &&\n              // Safari <= 5.1.5 and Opera >= 10.53 incorrectly serialize millisecond\n              // values less than 1000. Credits: @Yaffle.\n              stringify(new Date(-1)) == '\"1969-12-31T23:59:59.999Z\"';\n          } catch (exception) {\n            stringifySupported = false;\n          }\n        }\n        isSupported = stringifySupported;\n      }\n      // Test `JSON.parse`.\n      if (name == \"json-parse\") {\n        var parse = JSON3.parse;\n        if (typeof parse == \"function\") {\n          try {\n            // FF 3.1b1, b2 will throw an exception if a bare literal is provided.\n            // Conforming implementations should also coerce the initial argument to\n            // a string prior to parsing.\n            if (parse(\"0\") === 0 && !parse(false)) {\n              // Simple parsing test.\n              value = parse(serialized);\n              var parseSupported = value[\"a\"].length == 5 && value[\"a\"][0] === 1;\n              if (parseSupported) {\n                try {\n                  // Safari <= 5.1.2 and FF 3.1b1 allow unescaped tabs in strings.\n                  parseSupported = !parse('\"\\t\"');\n                } catch (exception) {}\n                if (parseSupported) {\n                  try {\n                    // FF 4.0 and 4.0.1 allow leading `+` signs and leading\n                    // decimal points. FF 4.0, 4.0.1, and IE 9-10 also allow\n                    // certain octal literals.\n                    parseSupported = parse(\"01\") !== 1;\n                  } catch (exception) {}\n                }\n                if (parseSupported) {\n                  try {\n                    // FF 4.0, 4.0.1, and Rhino 1.7R3-R4 allow trailing decimal\n                    // points. These environments, along with FF 3.1b1 and 2,\n                    // also allow trailing commas in JSON objects and arrays.\n                    parseSupported = parse(\"1.\") !== 1;\n                  } catch (exception) {}\n                }\n              }\n            }\n          } catch (exception) {\n            parseSupported = false;\n          }\n        }\n        isSupported = parseSupported;\n      }\n    }\n    return has[name] = !!isSupported;\n  }\n\n  if (!has(\"json\")) {\n    // Common `[[Class]]` name aliases.\n    var functionClass = \"[object Function]\";\n    var dateClass = \"[object Date]\";\n    var numberClass = \"[object Number]\";\n    var stringClass = \"[object String]\";\n    var arrayClass = \"[object Array]\";\n    var booleanClass = \"[object Boolean]\";\n\n    // Detect incomplete support for accessing string characters by index.\n    var charIndexBuggy = has(\"bug-string-char-index\");\n\n    // Define additional utility methods if the `Date` methods are buggy.\n    if (!isExtended) {\n      var floor = Math.floor;\n      // A mapping between the months of the year and the number of days between\n      // January 1st and the first of the respective month.\n      var Months = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];\n      // Internal: Calculates the number of days between the Unix epoch and the\n      // first day of the given month.\n      var getDay = function (year, month) {\n        return Months[month] + 365 * (year - 1970) + floor((year - 1969 + (month = +(month > 1))) / 4) - floor((year - 1901 + month) / 100) + floor((year - 1601 + month) / 400);\n      };\n    }\n\n    // Internal: Determines if a property is a direct property of the given\n    // object. Delegates to the native `Object#hasOwnProperty` method.\n    if (!(isProperty = {}.hasOwnProperty)) {\n      isProperty = function (property) {\n        var members = {}, constructor;\n        if ((members.__proto__ = null, members.__proto__ = {\n          // The *proto* property cannot be set multiple times in recent\n          // versions of Firefox and SeaMonkey.\n          \"toString\": 1\n        }, members).toString != getClass) {\n          // Safari <= 2.0.3 doesn't implement `Object#hasOwnProperty`, but\n          // supports the mutable *proto* property.\n          isProperty = function (property) {\n            // Capture and break the object's prototype chain (see section 8.6.2\n            // of the ES 5.1 spec). The parenthesized expression prevents an\n            // unsafe transformation by the Closure Compiler.\n            var original = this.__proto__, result = property in (this.__proto__ = null, this);\n            // Restore the original prototype chain.\n            this.__proto__ = original;\n            return result;\n          };\n        } else {\n          // Capture a reference to the top-level `Object` constructor.\n          constructor = members.constructor;\n          // Use the `constructor` property to simulate `Object#hasOwnProperty` in\n          // other environments.\n          isProperty = function (property) {\n            var parent = (this.constructor || constructor).prototype;\n            return property in this && !(property in parent && this[property] === parent[property]);\n          };\n        }\n        members = null;\n        return isProperty.call(this, property);\n      };\n    }\n\n    // Internal: A set of primitive types used by `isHostType`.\n    var PrimitiveTypes = {\n      'boolean': 1,\n      'number': 1,\n      'string': 1,\n      'undefined': 1\n    };\n\n    // Internal: Determines if the given object `property` value is a\n    // non-primitive.\n    var isHostType = function (object, property) {\n      var type = typeof object[property];\n      return type == 'object' ? !!object[property] : !PrimitiveTypes[type];\n    };\n\n    // Internal: Normalizes the `for...in` iteration algorithm across\n    // environments. Each enumerated key is yielded to a `callback` function.\n    forEach = function (object, callback) {\n      var size = 0, Properties, members, property;\n\n      // Tests for bugs in the current environment's `for...in` algorithm. The\n      // `valueOf` property inherits the non-enumerable flag from\n      // `Object.prototype` in older versions of IE, Netscape, and Mozilla.\n      (Properties = function () {\n        this.valueOf = 0;\n      }).prototype.valueOf = 0;\n\n      // Iterate over a new instance of the `Properties` class.\n      members = new Properties();\n      for (property in members) {\n        // Ignore all properties inherited from `Object.prototype`.\n        if (isProperty.call(members, property)) {\n          size++;\n        }\n      }\n      Properties = members = null;\n\n      // Normalize the iteration algorithm.\n      if (!size) {\n        // A list of non-enumerable properties inherited from `Object.prototype`.\n        members = [\"valueOf\", \"toString\", \"toLocaleString\", \"propertyIsEnumerable\", \"isPrototypeOf\", \"hasOwnProperty\", \"constructor\"];\n        // IE <= 8, Mozilla 1.0, and Netscape 6.2 ignore shadowed non-enumerable\n        // properties.\n        forEach = function (object, callback) {\n          var isFunction = getClass.call(object) == functionClass, property, length;\n          var hasProperty = !isFunction && typeof object.constructor != 'function' && isHostType(object, 'hasOwnProperty') ? object.hasOwnProperty : isProperty;\n          for (property in object) {\n            // Gecko <= 1.0 enumerates the `prototype` property of functions under\n            // certain conditions; IE does not.\n            if (!(isFunction && property == \"prototype\") && hasProperty.call(object, property)) {\n              callback(property);\n            }\n          }\n          // Manually invoke the callback for each non-enumerable property.\n          for (length = members.length; property = members[--length]; hasProperty.call(object, property) && callback(property));\n        };\n      } else if (size == 2) {\n        // Safari <= 2.0.4 enumerates shadowed properties twice.\n        forEach = function (object, callback) {\n          // Create a set of iterated properties.\n          var members = {}, isFunction = getClass.call(object) == functionClass, property;\n          for (property in object) {\n            // Store each property name to prevent double enumeration. The\n            // `prototype` property of functions is not enumerated due to cross-\n            // environment inconsistencies.\n            if (!(isFunction && property == \"prototype\") && !isProperty.call(members, property) && (members[property] = 1) && isProperty.call(object, property)) {\n              callback(property);\n            }\n          }\n        };\n      } else {\n        // No bugs detected; use the standard `for...in` algorithm.\n        forEach = function (object, callback) {\n          var isFunction = getClass.call(object) == functionClass, property, isConstructor;\n          for (property in object) {\n            if (!(isFunction && property == \"prototype\") && isProperty.call(object, property) && !(isConstructor = property === \"constructor\")) {\n              callback(property);\n            }\n          }\n          // Manually invoke the callback for the `constructor` property due to\n          // cross-environment inconsistencies.\n          if (isConstructor || isProperty.call(object, (property = \"constructor\"))) {\n            callback(property);\n          }\n        };\n      }\n      return forEach(object, callback);\n    };\n\n    // Public: Serializes a JavaScript `value` as a JSON string. The optional\n    // `filter` argument may specify either a function that alters how object and\n    // array members are serialized, or an array of strings and numbers that\n    // indicates which properties should be serialized. The optional `width`\n    // argument may be either a string or number that specifies the indentation\n    // level of the output.\n    if (!has(\"json-stringify\")) {\n      // Internal: A map of control characters and their escaped equivalents.\n      var Escapes = {\n        92: \"\\\\\\\\\",\n        34: '\\\\\"',\n        8: \"\\\\b\",\n        12: \"\\\\f\",\n        10: \"\\\\n\",\n        13: \"\\\\r\",\n        9: \"\\\\t\"\n      };\n\n      // Internal: Converts `value` into a zero-padded string such that its\n      // length is at least equal to `width`. The `width` must be <= 6.\n      var leadingZeroes = \"000000\";\n      var toPaddedString = function (width, value) {\n        // The `|| 0` expression is necessary to work around a bug in\n        // Opera <= 7.54u2 where `0 == -0`, but `String(-0) !== \"0\"`.\n        return (leadingZeroes + (value || 0)).slice(-width);\n      };\n\n      // Internal: Double-quotes a string `value`, replacing all ASCII control\n      // characters (characters with code unit values between 0 and 31) with\n      // their escaped equivalents. This is an implementation of the\n      // `Quote(value)` operation defined in ES 5.1 section 15.12.3.\n      var unicodePrefix = \"\\\\u00\";\n      var quote = function (value) {\n        var result = '\"', index = 0, length = value.length, isLarge = length > 10 && charIndexBuggy, symbols;\n        if (isLarge) {\n          symbols = value.split(\"\");\n        }\n        for (; index < length; index++) {\n          var charCode = value.charCodeAt(index);\n          // If the character is a control character, append its Unicode or\n          // shorthand escape sequence; otherwise, append the character as-is.\n          switch (charCode) {\n            case 8: case 9: case 10: case 12: case 13: case 34: case 92:\n              result += Escapes[charCode];\n              break;\n            default:\n              if (charCode < 32) {\n                result += unicodePrefix + toPaddedString(2, charCode.toString(16));\n                break;\n              }\n              result += isLarge ? symbols[index] : charIndexBuggy ? value.charAt(index) : value[index];\n          }\n        }\n        return result + '\"';\n      };\n\n      // Internal: Recursively serializes an object. Implements the\n      // `Str(key, holder)`, `JO(value)`, and `JA(value)` operations.\n      var serialize = function (property, object, callback, properties, whitespace, indentation, stack) {\n        var value, className, year, month, date, time, hours, minutes, seconds, milliseconds, results, element, index, length, prefix, result;\n        try {\n          // Necessary for host object support.\n          value = object[property];\n        } catch (exception) {}\n        if (typeof value == \"object\" && value) {\n          className = getClass.call(value);\n          if (className == dateClass && !isProperty.call(value, \"toJSON\")) {\n            if (value > -1 / 0 && value < 1 / 0) {\n              // Dates are serialized according to the `Date#toJSON` method\n              // specified in ES 5.1 section 15.9.5.44. See section 15.9.1.15\n              // for the ISO 8601 date time string format.\n              if (getDay) {\n                // Manually compute the year, month, date, hours, minutes,\n                // seconds, and milliseconds if the `getUTC*` methods are\n                // buggy. Adapted from @Yaffle's `date-shim` project.\n                date = floor(value / 864e5);\n                for (year = floor(date / 365.2425) + 1970 - 1; getDay(year + 1, 0) <= date; year++);\n                for (month = floor((date - getDay(year, 0)) / 30.42); getDay(year, month + 1) <= date; month++);\n                date = 1 + date - getDay(year, month);\n                // The `time` value specifies the time within the day (see ES\n                // 5.1 section 15.9.1.2). The formula `(A % B + B) % B` is used\n                // to compute `A modulo B`, as the `%` operator does not\n                // correspond to the `modulo` operation for negative numbers.\n                time = (value % 864e5 + 864e5) % 864e5;\n                // The hours, minutes, seconds, and milliseconds are obtained by\n                // decomposing the time within the day. See section 15.9.1.10.\n                hours = floor(time / 36e5) % 24;\n                minutes = floor(time / 6e4) % 60;\n                seconds = floor(time / 1e3) % 60;\n                milliseconds = time % 1e3;\n              } else {\n                year = value.getUTCFullYear();\n                month = value.getUTCMonth();\n                date = value.getUTCDate();\n                hours = value.getUTCHours();\n                minutes = value.getUTCMinutes();\n                seconds = value.getUTCSeconds();\n                milliseconds = value.getUTCMilliseconds();\n              }\n              // Serialize extended years correctly.\n              value = (year <= 0 || year >= 1e4 ? (year < 0 ? \"-\" : \"+\") + toPaddedString(6, year < 0 ? -year : year) : toPaddedString(4, year)) +\n                \"-\" + toPaddedString(2, month + 1) + \"-\" + toPaddedString(2, date) +\n                // Months, dates, hours, minutes, and seconds should have two\n                // digits; milliseconds should have three.\n                \"T\" + toPaddedString(2, hours) + \":\" + toPaddedString(2, minutes) + \":\" + toPaddedString(2, seconds) +\n                // Milliseconds are optional in ES 5.0, but required in 5.1.\n                \".\" + toPaddedString(3, milliseconds) + \"Z\";\n            } else {\n              value = null;\n            }\n          } else if (typeof value.toJSON == \"function\" && ((className != numberClass && className != stringClass && className != arrayClass) || isProperty.call(value, \"toJSON\"))) {\n            // Prototype <= 1.6.1 adds non-standard `toJSON` methods to the\n            // `Number`, `String`, `Date`, and `Array` prototypes. JSON 3\n            // ignores all `toJSON` methods on these objects unless they are\n            // defined directly on an instance.\n            value = value.toJSON(property);\n          }\n        }\n        if (callback) {\n          // If a replacement function was provided, call it to obtain the value\n          // for serialization.\n          value = callback.call(object, property, value);\n        }\n        if (value === null) {\n          return \"null\";\n        }\n        className = getClass.call(value);\n        if (className == booleanClass) {\n          // Booleans are represented literally.\n          return \"\" + value;\n        } else if (className == numberClass) {\n          // JSON numbers must be finite. `Infinity` and `NaN` are serialized as\n          // `\"null\"`.\n          return value > -1 / 0 && value < 1 / 0 ? \"\" + value : \"null\";\n        } else if (className == stringClass) {\n          // Strings are double-quoted and escaped.\n          return quote(\"\" + value);\n        }\n        // Recursively serialize objects and arrays.\n        if (typeof value == \"object\") {\n          // Check for cyclic structures. This is a linear search; performance\n          // is inversely proportional to the number of unique nested objects.\n          for (length = stack.length; length--;) {\n            if (stack[length] === value) {\n              // Cyclic structures cannot be serialized by `JSON.stringify`.\n              throw TypeError();\n            }\n          }\n          // Add the object to the stack of traversed objects.\n          stack.push(value);\n          results = [];\n          // Save the current indentation level and indent one additional level.\n          prefix = indentation;\n          indentation += whitespace;\n          if (className == arrayClass) {\n            // Recursively serialize array elements.\n            for (index = 0, length = value.length; index < length; index++) {\n              element = serialize(index, value, callback, properties, whitespace, indentation, stack);\n              results.push(element === undef ? \"null\" : element);\n            }\n            result = results.length ? (whitespace ? \"[\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"]\" : (\"[\" + results.join(\",\") + \"]\")) : \"[]\";\n          } else {\n            // Recursively serialize object members. Members are selected from\n            // either a user-specified list of property names, or the object\n            // itself.\n            forEach(properties || value, function (property) {\n              var element = serialize(property, value, callback, properties, whitespace, indentation, stack);\n              if (element !== undef) {\n                // According to ES 5.1 section 15.12.3: \"If `gap` {whitespace}\n                // is not the empty string, let `member` {quote(property) + \":\"}\n                // be the concatenation of `member` and the `space` character.\"\n                // The \"`space` character\" refers to the literal space\n                // character, not the `space` {width} argument provided to\n                // `JSON.stringify`.\n                results.push(quote(property) + \":\" + (whitespace ? \" \" : \"\") + element);\n              }\n            });\n            result = results.length ? (whitespace ? \"{\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"}\" : (\"{\" + results.join(\",\") + \"}\")) : \"{}\";\n          }\n          // Remove the object from the traversed object stack.\n          stack.pop();\n          return result;\n        }\n      };\n\n      // Public: `JSON.stringify`. See ES 5.1 section 15.12.3.\n      JSON3.stringify = function (source, filter, width) {\n        var whitespace, callback, properties, className;\n        if (typeof filter == \"function\" || typeof filter == \"object\" && filter) {\n          if ((className = getClass.call(filter)) == functionClass) {\n            callback = filter;\n          } else if (className == arrayClass) {\n            // Convert the property names array into a makeshift set.\n            properties = {};\n            for (var index = 0, length = filter.length, value; index < length; value = filter[index++], ((className = getClass.call(value)), className == stringClass || className == numberClass) && (properties[value] = 1));\n          }\n        }\n        if (width) {\n          if ((className = getClass.call(width)) == numberClass) {\n            // Convert the `width` to an integer and create a string containing\n            // `width` number of space characters.\n            if ((width -= width % 1) > 0) {\n              for (whitespace = \"\", width > 10 && (width = 10); whitespace.length < width; whitespace += \" \");\n            }\n          } else if (className == stringClass) {\n            whitespace = width.length <= 10 ? width : width.slice(0, 10);\n          }\n        }\n        // Opera <= 7.54u2 discards the values associated with empty string keys\n        // (`\"\"`) only if they are used directly within an object member list\n        // (e.g., `!(\"\" in { \"\": 1})`).\n        return serialize(\"\", (value = {}, value[\"\"] = source, value), callback, properties, whitespace, \"\", []);\n      };\n    }\n\n    // Public: Parses a JSON source string.\n    if (!has(\"json-parse\")) {\n      var fromCharCode = String.fromCharCode;\n\n      // Internal: A map of escaped control characters and their unescaped\n      // equivalents.\n      var Unescapes = {\n        92: \"\\\\\",\n        34: '\"',\n        47: \"/\",\n        98: \"\\b\",\n        116: \"\\t\",\n        110: \"\\n\",\n        102: \"\\f\",\n        114: \"\\r\"\n      };\n\n      // Internal: Stores the parser state.\n      var Index, Source;\n\n      // Internal: Resets the parser state and throws a `SyntaxError`.\n      var abort = function() {\n        Index = Source = null;\n        throw SyntaxError();\n      };\n\n      // Internal: Returns the next token, or `\"$\"` if the parser has reached\n      // the end of the source string. A token may be a string, number, `null`\n      // literal, or Boolean literal.\n      var lex = function () {\n        var source = Source, length = source.length, value, begin, position, isSigned, charCode;\n        while (Index < length) {\n          charCode = source.charCodeAt(Index);\n          switch (charCode) {\n            case 9: case 10: case 13: case 32:\n              // Skip whitespace tokens, including tabs, carriage returns, line\n              // feeds, and space characters.\n              Index++;\n              break;\n            case 123: case 125: case 91: case 93: case 58: case 44:\n              // Parse a punctuator token (`{`, `}`, `[`, `]`, `:`, or `,`) at\n              // the current position.\n              value = charIndexBuggy ? source.charAt(Index) : source[Index];\n              Index++;\n              return value;\n            case 34:\n              // `\"` delimits a JSON string; advance to the next character and\n              // begin parsing the string. String tokens are prefixed with the\n              // sentinel `@` character to distinguish them from punctuators and\n              // end-of-string tokens.\n              for (value = \"@\", Index++; Index < length;) {\n                charCode = source.charCodeAt(Index);\n                if (charCode < 32) {\n                  // Unescaped ASCII control characters (those with a code unit\n                  // less than the space character) are not permitted.\n                  abort();\n                } else if (charCode == 92) {\n                  // A reverse solidus (`\\`) marks the beginning of an escaped\n                  // control character (including `\"`, `\\`, and `/`) or Unicode\n                  // escape sequence.\n                  charCode = source.charCodeAt(++Index);\n                  switch (charCode) {\n                    case 92: case 34: case 47: case 98: case 116: case 110: case 102: case 114:\n                      // Revive escaped control characters.\n                      value += Unescapes[charCode];\n                      Index++;\n                      break;\n                    case 117:\n                      // `\\u` marks the beginning of a Unicode escape sequence.\n                      // Advance to the first character and validate the\n                      // four-digit code point.\n                      begin = ++Index;\n                      for (position = Index + 4; Index < position; Index++) {\n                        charCode = source.charCodeAt(Index);\n                        // A valid sequence comprises four hexdigits (case-\n                        // insensitive) that form a single hexadecimal value.\n                        if (!(charCode >= 48 && charCode <= 57 || charCode >= 97 && charCode <= 102 || charCode >= 65 && charCode <= 70)) {\n                          // Invalid Unicode escape sequence.\n                          abort();\n                        }\n                      }\n                      // Revive the escaped character.\n                      value += fromCharCode(\"0x\" + source.slice(begin, Index));\n                      break;\n                    default:\n                      // Invalid escape sequence.\n                      abort();\n                  }\n                } else {\n                  if (charCode == 34) {\n                    // An unescaped double-quote character marks the end of the\n                    // string.\n                    break;\n                  }\n                  charCode = source.charCodeAt(Index);\n                  begin = Index;\n                  // Optimize for the common case where a string is valid.\n                  while (charCode >= 32 && charCode != 92 && charCode != 34) {\n                    charCode = source.charCodeAt(++Index);\n                  }\n                  // Append the string as-is.\n                  value += source.slice(begin, Index);\n                }\n              }\n              if (source.charCodeAt(Index) == 34) {\n                // Advance to the next character and return the revived string.\n                Index++;\n                return value;\n              }\n              // Unterminated string.\n              abort();\n            default:\n              // Parse numbers and literals.\n              begin = Index;\n              // Advance past the negative sign, if one is specified.\n              if (charCode == 45) {\n                isSigned = true;\n                charCode = source.charCodeAt(++Index);\n              }\n              // Parse an integer or floating-point value.\n              if (charCode >= 48 && charCode <= 57) {\n                // Leading zeroes are interpreted as octal literals.\n                if (charCode == 48 && ((charCode = source.charCodeAt(Index + 1)), charCode >= 48 && charCode <= 57)) {\n                  // Illegal octal literal.\n                  abort();\n                }\n                isSigned = false;\n                // Parse the integer component.\n                for (; Index < length && ((charCode = source.charCodeAt(Index)), charCode >= 48 && charCode <= 57); Index++);\n                // Floats cannot contain a leading decimal point; however, this\n                // case is already accounted for by the parser.\n                if (source.charCodeAt(Index) == 46) {\n                  position = ++Index;\n                  // Parse the decimal component.\n                  for (; position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57); position++);\n                  if (position == Index) {\n                    // Illegal trailing decimal.\n                    abort();\n                  }\n                  Index = position;\n                }\n                // Parse exponents. The `e` denoting the exponent is\n                // case-insensitive.\n                charCode = source.charCodeAt(Index);\n                if (charCode == 101 || charCode == 69) {\n                  charCode = source.charCodeAt(++Index);\n                  // Skip past the sign following the exponent, if one is\n                  // specified.\n                  if (charCode == 43 || charCode == 45) {\n                    Index++;\n                  }\n                  // Parse the exponential component.\n                  for (position = Index; position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57); position++);\n                  if (position == Index) {\n                    // Illegal empty exponent.\n                    abort();\n                  }\n                  Index = position;\n                }\n                // Coerce the parsed value to a JavaScript number.\n                return +source.slice(begin, Index);\n              }\n              // A negative sign may only precede numbers.\n              if (isSigned) {\n                abort();\n              }\n              // `true`, `false`, and `null` literals.\n              if (source.slice(Index, Index + 4) == \"true\") {\n                Index += 4;\n                return true;\n              } else if (source.slice(Index, Index + 5) == \"false\") {\n                Index += 5;\n                return false;\n              } else if (source.slice(Index, Index + 4) == \"null\") {\n                Index += 4;\n                return null;\n              }\n              // Unrecognized token.\n              abort();\n          }\n        }\n        // Return the sentinel `$` character if the parser has reached the end\n        // of the source string.\n        return \"$\";\n      };\n\n      // Internal: Parses a JSON `value` token.\n      var get = function (value) {\n        var results, hasMembers;\n        if (value == \"$\") {\n          // Unexpected end of input.\n          abort();\n        }\n        if (typeof value == \"string\") {\n          if ((charIndexBuggy ? value.charAt(0) : value[0]) == \"@\") {\n            // Remove the sentinel `@` character.\n            return value.slice(1);\n          }\n          // Parse object and array literals.\n          if (value == \"[\") {\n            // Parses a JSON array, returning a new JavaScript array.\n            results = [];\n            for (;; hasMembers || (hasMembers = true)) {\n              value = lex();\n              // A closing square bracket marks the end of the array literal.\n              if (value == \"]\") {\n                break;\n              }\n              // If the array literal contains elements, the current token\n              // should be a comma separating the previous element from the\n              // next.\n              if (hasMembers) {\n                if (value == \",\") {\n                  value = lex();\n                  if (value == \"]\") {\n                    // Unexpected trailing `,` in array literal.\n                    abort();\n                  }\n                } else {\n                  // A `,` must separate each array element.\n                  abort();\n                }\n              }\n              // Elisions and leading commas are not permitted.\n              if (value == \",\") {\n                abort();\n              }\n              results.push(get(value));\n            }\n            return results;\n          } else if (value == \"{\") {\n            // Parses a JSON object, returning a new JavaScript object.\n            results = {};\n            for (;; hasMembers || (hasMembers = true)) {\n              value = lex();\n              // A closing curly brace marks the end of the object literal.\n              if (value == \"}\") {\n                break;\n              }\n              // If the object literal contains members, the current token\n              // should be a comma separator.\n              if (hasMembers) {\n                if (value == \",\") {\n                  value = lex();\n                  if (value == \"}\") {\n                    // Unexpected trailing `,` in object literal.\n                    abort();\n                  }\n                } else {\n                  // A `,` must separate each object member.\n                  abort();\n                }\n              }\n              // Leading commas are not permitted, object property names must be\n              // double-quoted strings, and a `:` must separate each property\n              // name and value.\n              if (value == \",\" || typeof value != \"string\" || (charIndexBuggy ? value.charAt(0) : value[0]) != \"@\" || lex() != \":\") {\n                abort();\n              }\n              results[value.slice(1)] = get(lex());\n            }\n            return results;\n          }\n          // Unexpected token encountered.\n          abort();\n        }\n        return value;\n      };\n\n      // Internal: Updates a traversed object member.\n      var update = function(source, property, callback) {\n        var element = walk(source, property, callback);\n        if (element === undef) {\n          delete source[property];\n        } else {\n          source[property] = element;\n        }\n      };\n\n      // Internal: Recursively traverses a parsed JSON object, invoking the\n      // `callback` function for each value. This is an implementation of the\n      // `Walk(holder, name)` operation defined in ES 5.1 section 15.12.2.\n      var walk = function (source, property, callback) {\n        var value = source[property], length;\n        if (typeof value == \"object\" && value) {\n          // `forEach` can't be used to traverse an array in Opera <= 8.54\n          // because its `Object#hasOwnProperty` implementation returns `false`\n          // for array indices (e.g., `![1, 2, 3].hasOwnProperty(\"0\")`).\n          if (getClass.call(value) == arrayClass) {\n            for (length = value.length; length--;) {\n              update(value, length, callback);\n            }\n          } else {\n            forEach(value, function (property) {\n              update(value, property, callback);\n            });\n          }\n        }\n        return callback.call(source, property, value);\n      };\n\n      // Public: `JSON.parse`. See ES 5.1 section 15.12.2.\n      JSON3.parse = function (source, callback) {\n        var result, value;\n        Index = 0;\n        Source = \"\" + source;\n        result = get(lex());\n        // If a JSON string contains multiple tokens, it is invalid.\n        if (lex() != \"$\") {\n          abort();\n        }\n        // Reset the parser state.\n        Index = Source = null;\n        return callback && getClass.call(callback) == functionClass ? walk((value = {}, value[\"\"] = result, value), \"\", callback) : result;\n      };\n    }\n  }\n\n  // Export for asynchronous module loaders.\n  if (isLoader) {\n    define(function () {\n      return JSON3;\n    });\n  }\n}(this));\n\n},{}],59:[function(require,module,exports){\nmodule.exports = toArray\n\nfunction toArray(list, index) {\n    var array = []\n\n    index = index || 0\n\n    for (var i = index || 0; i < list.length; i++) {\n        array[i - index] = list[i]\n    }\n\n    return array\n}\n\n},{}],60:[function(require,module,exports){\n'use strict';\n\n//jshint maxparams: 6\nmodule.exports = {\n  type: 'ClientSideAssembler',\n  deps: ['SocketBehaviour', 'Dimensions', 'Window', 'UpdateLoop', 'OnResize', 'OnInitialise'],\n  func: function (socketBehaviour, dimensions, window, updateLoop, resizeCallbacks, onInitialiseCallbacks) {\n\n    var each = require('lodash').each;\n    var $ = require('zepto-browserify').$;\n\n    var resizeCanvas = function () {\n      var dims = dimensions().get();\n\n      each(resizeCallbacks(), function(resizeCallback) {\n        resizeCallback(dims);\n      });\n    };\n\n    return {\n      assembleAndRun: function () {\n        each(onInitialiseCallbacks(), function (callback) {\n          callback();\n        });\n\n        socketBehaviour().connect();\n\n        $(window()).on('load resize', resizeCanvas);\n        updateLoop().run();\n      }\n    };\n  }\n};\n},{\"lodash\":7,\"zepto-browserify\":86}],61:[function(require,module,exports){\n'use strict';\n\nvar plugins = require('plug-n-play').configure(['View', 'InputMode', 'OnMute', 'OnPause', 'OnResume', 'OnUnmute', 'OnConnect', 'OnDisconnect', 'OnEachFrame', 'OnResize', 'OnPacket', 'OnSetup', 'OnError', 'OnInitialise']);\n\nmodule.exports = {\n  load: plugins.load,\n  set: plugins.set,\n  loadWindow: function (window) {\n    plugins.set('Window', window);\n  },\n  run: function () {\n    plugins.get('ClientSideAssembler').assembleAndRun();\n  },\n  loadDefaults: function () {\n    plugins.set('ServerUrl', 'http://localhost:3000/');\n    plugins.set('GameMode', 'game');\n    plugins.set('AspectRatio', 26 / 10);\n    plugins.set('WidescreenMinimumMargin', 32);\n    plugins.set('Element', 'canvas');\n    plugins.set('InputElement', 'input');\n\n    plugins.load(require('./ui/dimensions'));\n    plugins.load(require('./ui/effects'));\n    plugins.load(require('./events/on_connect'));\n    plugins.load(require('./events/on_disconnect'));\n    plugins.load(require('./events/on_resize'));\n    plugins.load(require('./events/acknowledge-packet'));\n    plugins.load(require('./events/initialise-state'));\n    plugins.load(require('./events/update-state'));\n    plugins.load(require('./events/initialise-views'));\n    plugins.load(require('./events/on-error'));\n    plugins.load(require('./state/tracker'));\n    plugins.load(require('./state/shortcuts'));\n    plugins.load(require('./input/keyboard'));\n    plugins.load(require('./update/loop'));\n    plugins.load(require('./socket/client'));\n    plugins.load(require('./socket/pending-acknowledgements'));\n\n    plugins.load(require('./views/fullscreen'));\n    plugins.load(require('./views/toggle_sound'));\n    plugins.load(require('./views/layout_icons'));\n    plugins.load(require('./views/player_observer_count'));\n    plugins.load(require('./views/pause_resume'));\n\n    plugins.load(require('./assembler'));\n  }\n};\n},{\"./assembler\":60,\"./events/acknowledge-packet\":62,\"./events/initialise-state\":63,\"./events/initialise-views\":64,\"./events/on-error\":65,\"./events/on_connect\":66,\"./events/on_disconnect\":67,\"./events/on_resize\":68,\"./events/update-state\":69,\"./input/keyboard\":70,\"./socket/client\":71,\"./socket/pending-acknowledgements\":72,\"./state/shortcuts\":73,\"./state/tracker\":74,\"./ui/dimensions\":75,\"./ui/effects\":76,\"./update/loop\":77,\"./views/fullscreen\":78,\"./views/layout_icons\":79,\"./views/pause_resume\":80,\"./views/player_observer_count\":81,\"./views/toggle_sound\":82,\"plug-n-play\":85}],62:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n  type: 'OnPacket',\n  deps: ['PendingAcknowledgements'],\n  func: function (pendingAcknowledgements) {\n    return function (packet) {\n      pendingAcknowledgements().add(packet.id);\n    };\n  }\n};\n},{}],63:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n  type: 'OnSetup',\n  deps: ['StateTracker'],\n  func: function (tracker) {\n    return function (state) {\n      tracker().updateState(state);\n    };\n  }\n};\n},{}],64:[function(require,module,exports){\n'use strict';\n\nvar each = require('lodash').each;\n\nmodule.exports = {\n  type: 'OnSetup',\n  deps: ['View', 'Dimensions'],\n  func: function (views, dimensions) {\n    return function () {\n      var dims = dimensions().get();\n\n      each(views(), function(view) {\n        view(dims);\n      });\n    };\n  }\n};\n},{\"lodash\":7}],65:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n  type: 'OnError',\n  func: function() {\n    return function(data) {\n      throw new Error(data);\n    };\n  }\n};\n},{}],66:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n  type: 'OnConnect',\n  func: function () {\n    var $ = require('zepto-browserify').$;\n\n    return function () {\n      $('.disconnected').hide();\n    };\n  }\n};\n},{\"zepto-browserify\":86}],67:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n  type: 'OnDisconnect',\n  func: function () {\n    var $ = require('zepto-browserify').$;\n\n    return function () {\n      $('.disconnected').show();\n    };\n  }\n};\n},{\"zepto-browserify\":86}],68:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n  type: 'OnResize',\n  deps: ['Element', 'InputElement'],\n  func: function (element, inputElement) {\n    var $ = require('zepto-browserify').$;\n\n    return function (dims) {\n      $('#' + element()).css('margin-top', dims.marginTopBottom);\n      $('#' + element()).css('width', dims.usableWidth);\n      $('#' + element()).css('height', dims.usableHeight);\n\n      $('#' + inputElement()).css('width', dims.usableWidth);\n      $('#' + inputElement()).css('height', dims.usableHeight);\n    };\n  }\n};\n},{\"zepto-browserify\":86}],69:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n  type: 'OnPacket',\n  deps: ['StateTracker'],\n  func: function (tracker) {\n    var lastReceivedId = 0;\n\n    return function (packet) {\n      if (packet.id <= lastReceivedId) {\n        return;\n      }\n      lastReceivedId = packet.id;\n\n      tracker().updateState(packet.gameState);\n    };\n  }\n};\n},{}],70:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n  deps: ['Window', 'InputElement'],\n  type: 'InputMode',\n  func: function (window, element) {\n    var _ = require('lodash');\n    var $ = require('zepto-browserify').$;\n\n    return {\n      InputMode: function () {\n        var x = 0;\n        var y = 0;\n        var touches = [];\n        var keys = {};\n        var singlePressKeys = {};\n\n        var keyMap = function () {\n          var map = {\n            '9': 'tab',\n            '17': 'control',\n            '18': 'alt',\n            '27': 'escape',\n            '32': 'space',\n            '37': 'left',\n            '38': 'up',\n            '39': 'right',\n            '40': 'down'\n          };\n          var i = 0;\n\n          for (i = 48; i <= 122; i += 1) {\n            if (i > 57 && i < 65) { continue; }\n            if (i > 90 && i < 97) { continue; }\n            if (map[i] !== undefined) {\n              continue;\n            }\n            map[i] = String.fromCharCode(i);\n          }\n\n          return map;\n        };\n\n        var mouseMap = function () {\n          return {\n            '1': 'button1',\n            '3': 'button2'\n          };\n        };\n\n        var singlePress = function (key) {\n          singlePressKeys[key] = true;\n        };\n\n        var press = function (key) {\n          keys[key] = true;\n        };\n\n        var release = function (key) {\n          keys[key] = false;\n        };\n\n        var bindToWindowEvents = function () {\n          $(window()).on('click', function (e) {\n            singlePress(mouseMap()[e.which]);\n            // e.preventDefault();\n          });\n\n          $(window()).on('mousedown', function (e) {\n            press(mouseMap()[e.which]);\n            e.preventDefault();\n          });\n\n          $(window()).on('mouseup', function (e) {\n            release(mouseMap()[e.which]);\n            e.preventDefault();\n          });\n\n          var elementId = '#' + element();\n\n          $(elementId).on('mousemove', function (e) {\n            x = e.layerX;\n            y = e.layerY;\n          });\n\n          $(elementId).on('touchstart', function (e) {\n            _.each(e.touches, function (touch) {\n              var x = touch.clientX - touch.target.offsetLeft;\n              var y = touch.clientY - touch.target.offsetTop;\n              touches.push({ id: touch.identifier, x: x, y: y, force: touch.webkitForce || 1 });\n            });\n          });\n\n          $(elementId).on('touchmove', function (e) {\n            _.each(e.touches, function (touch) {\n              var x = touch.clientX - touch.target.offsetLeft;\n              var y = touch.clientY - touch.target.offsetTop;\n              touches.push({ id: touch.identifier, x: x, y: y, force: touch.webkitForce || 1 });\n            });\n          });\n\n          $(elementId).on('touchend', function (e) {\n            var ids = _.map(e.changedTouches, function (touch) { return touch.identifier; });\n            touches = _.reject(touches, function (touch) { return ids.indexOf(touch.id) !== -1; });\n          });\n\n          $(elementId).on('touchleave', function (e) {\n            var ids = _.map(e.changedTouches, function (touch) { return touch.identifier; });\n            touches = _.reject(touches, function (touch) { return ids.indexOf(touch.id) !== -1; });\n          });\n\n          $(elementId).on('touchcancel', function (e) {\n            var ids = _.map(e.changedTouches, function (touch) { return touch.identifier; });\n            touches = _.reject(touches, function (touch) { return ids.indexOf(touch.id) !== -1; });\n          });\n\n\n          $(window().document).keypress(function (e) {\n            if (e.metaKey) { return; }\n\n            singlePress(keyMap()[e.which]);\n            //to ensure that both keypress and keydown fire on the same event. We can work around this\n            //but we'll need to get a replicable scene (this is only a problem for the space key)\n            // e.preventDefault();\n          });\n\n          $(window().document).keydown(function (e) {\n            if (e.metaKey) { return; }\n\n            press(keyMap()[e.which]);\n            // e.preventDefault();\n          });\n\n          $(window().document).keyup(function (e) {\n            release(keyMap()[e.which]);\n          });\n        };\n\n        bindToWindowEvents();\n\n        return {\n          getCurrentState: function () {\n            var inputData = {\n              mouse: {\n                x: x,\n                y: y\n              },\n              touches: touches\n            };\n\n            var keysToSend = [];\n            _.each(keys, function (value, key) {\n              if (value) {\n                keysToSend.push(key);\n              }\n            });\n            inputData.keys = keysToSend;\n\n            var singlePressKeysToSend = [];\n            _.each(singlePressKeys, function (value, key) {\n              if (value) {\n                singlePressKeysToSend.push(key);\n              }\n              singlePressKeys[key] = false;\n            });\n            inputData.singlePressKeys = singlePressKeysToSend;\n\n            return inputData;\n          }\n        };\n      }\n    };\n  }\n};\n},{\"lodash\":7,\"zepto-browserify\":86}],71:[function(require,module,exports){\n'use strict';\n\nvar each = require('lodash').each;\nvar extend = require('lodash').extend;\nvar $ = require('zepto-browserify').$;\n\n//jshint maxparams: 10\nmodule.exports = {\n  deps: ['Window', 'InputMode', 'GameMode', 'ServerUrl', 'OnConnect', 'OnDisconnect', 'PendingAcknowledgements', 'OnPacket', 'OnSetup', 'OnError'],\n  type: 'SocketBehaviour',\n  func: function (window, inputModes, gameMode, serverUrl, onConnectCallbacks, onDisconnectCallbacks, pendingAcknowledgements, onPacketCallbacks, onSetupCallbacks, onErrorCallbacks) {\n\n    var controls = [];\n\n    var configureEmitFunction = function (socket) {\n      return function () {\n        var packet = {\n          pendingAcks: pendingAcknowledgements().flush(),\n          sentTimestamp: Date.now()\n        };\n\n        each(controls, function (control) {\n          extend(packet, control.getCurrentState());\n        });\n\n        socket.emit('input', packet);\n      };\n    };\n\n    var url = function () {\n      return serverUrl() + gameMode() + '/primary';\n    };\n\n    return {\n      connect: function () {\n        var io = require('socket.io-client');\n        var socket = io.connect(url(), {reconnection: false});\n\n        if (window().document.hasFocus()) {\n          socket.emit('unpause');\n        }\n\n        socket.on('connect', function () {\n          each(onConnectCallbacks(), function (callback) {\n            callback();\n          });\n        });\n        socket.on('disconnect', function () {\n          each(onDisconnectCallbacks(), function (callback) {\n            callback();\n          });\n        });\n        socket.on('playerId', function (playerId) {\n          socket.playerId = playerId;\n        });\n        socket.on('initialState', function (state) {\n          each(onSetupCallbacks(), function (callback) {\n            callback(state);\n          });\n        });\n        socket.on('updateState', function (state) {\n          each(onPacketCallbacks(), function (callback) {\n            callback(state);\n          });\n        });\n        socket.on('error', function (data) {\n          each(onErrorCallbacks(), function (callback) {\n            callback(data);\n          });\n        });\n\n        $(window()).on('blur', function () { socket.emit('pause'); });\n        $(window()).on('focus', function () { socket.emit('unpause'); });\n        $(window()).on('mousedown', function () { socket.emit('unpause'); });\n        $(window()).on('mouseup', function () { socket.emit('unpause'); });\n\n        each(inputModes(), function (inputMode) {\n          controls.push(inputMode.InputMode());\n        });\n\n        var id = setInterval(configureEmitFunction (socket), 1000 / 120);\n        socket.on('disconnect', function () {\n          clearInterval(id);\n        });\n      }\n    };\n  }\n};\n},{\"lodash\":7,\"socket.io-client\":10,\"zepto-browserify\":86}],72:[function(require,module,exports){\n'use strict';\n\nvar clone = require('lodash').clone;\n\nmodule.exports = {\n    type: 'PendingAcknowledgements',\n    func: function () {\n        var acks = [];\n\n        var reset = function () {\n            acks = [];\n        };\n\n        return {\n            flush: function () {\n                var pending = clone(acks);\n\n                reset();\n\n                return pending;\n            },\n            add: function (packetId) {\n                acks.push({ id: packetId, rcvdTimestamp: Date.now(), names: []});\n            },\n            ackLast: function (name) {\n                acks[acks.length - 1].names.push(name);\n            }\n        };\n    }\n};\n},{\"lodash\":7}],73:[function(require,module,exports){\n'use strict';\n\nvar isEqual = require('lodash').isEqual;\n\nmodule.exports = {\n  type: 'StateTrackerHelpers',\n  func: function () {\n    return {\n      equals: function (expectedValue) {\n        return function (currentValue) {\n          return isEqual(currentValue, expectedValue);\n        };\n      }\n    };\n  }\n};\n},{\"lodash\":7}],74:[function(require,module,exports){\n'use strict';\n\nvar each = require('lodash').each;\nvar isArray = require('lodash').isArray;\nvar isEqual = require('lodash').isEqual;\nvar clone = require('lodash').clone;\nvar where = require('lodash').where;\n\nmodule.exports = {\n  type: 'StateTracker',\n  func: function () {\n    var priorState;\n    var currentState;\n    var changes = [];\n\n    var invokeCallback = function (callback, model, priorModel, data) {\n      if (isArray(data)) {\n        var args = clone(data);\n        args.unshift(model, priorModel);\n        callback.apply(this, args);\n      } else {\n        callback(model, priorModel, data);\n      }\n    };\n\n    var hasChanged = function (f) {\n      if (priorState === undefined) { return true; }\n\n      return !isEqual(f(priorState), f(currentState));\n    };\n\n    var currentValue = function (f) {\n      if (currentState === undefined) {\n        return undefined;\n      }\n\n      return f(currentState);\n    };\n    var priorValue = function (f) {\n      if (priorState === undefined) {\n        return undefined;\n      }\n\n      return f(priorState);\n    };\n    var currentElement = function (f, model) {\n      if (currentState === undefined) {\n        return undefined;\n      }\n\n      return where(f(currentState), {id: model.id})[0];\n    };\n    var priorElement = function (f, model) {\n      if (priorState === undefined) {\n        return undefined;\n      }\n\n      return where(f(priorState), {id: model.id})[0];\n    };\n    var elementAdded = function (f, model) {\n      return (where(f(priorState), {id: model.id}).length === 0);\n    };\n    var elementRemoved = function (f, model) {\n      return (where(f(currentState), {id: model.id}).length === 0);\n    };\n    var elementChanged = function (f, model) {\n      if (priorState === undefined) { return true; }\n\n      var current = where(f(currentState), {id: model.id});\n      var prior = where(f(priorState), {id: model.id});\n      return !isEqual(current, prior);\n    };\n    var handleObjects = function (change) {\n      if (hasChanged(change.focus)) {\n        if (!change.when) {\n          invokeCallback(change.callback, currentValue(change.focus), priorValue(change.focus), change.data);\n          return;\n        }\n\n        if (change.when(currentValue(change.focus))) {\n          invokeCallback(change.callback, currentValue(change.focus), priorValue(change.focus), change.data);\n        }\n      }\n    };\n    var handleArrays = function (change) {\n      each(change.operatesOn(change.focus), function (model) {\n        if (change.detectionFunc(change.focus, model)) {\n          invokeCallback(change.callback, currentElement(change.focus, model), priorElement(change.focus, model), change.data);\n        }\n      });\n    };\n    var sendCurrentContentsNow = function (change) {\n      invokeCallback(change.callback, currentValue(change.focus), undefined, change.data);\n    };\n\n    var handle = {\n      'array': handleArrays,\n      'object': handleObjects\n    };\n\n    var detectChangesAndNotifyObservers = function () {\n      each(changes, function (change) {\n        handle[change.type](change);\n      });\n    };\n\n    return {\n      get: function (model) {\n        return currentValue(model);\n      },\n      updateState: function (newState) {\n        priorState = currentState;\n        currentState = newState;\n\n        detectChangesAndNotifyObservers();\n      },\n      onChangeOf: function (model, callback, data) {\n        var change = {\n          type: 'object',\n          focus: model,\n          callback: callback,\n          data: data\n        };\n\n        changes.push(change);\n      },\n      onChangeTo: function (model, condition, callback, data) {\n        var change = {\n          type: 'object',\n          focus: model,\n          'when': condition,\n          callback: callback,\n          data: data\n        };\n\n        handleObjects(change);\n        changes.push(change);\n      },\n      onElementChanged: function (focusArray, callback, data) {\n        var change = {\n          type: 'array',\n          focus: focusArray,\n          callback: callback,\n          detectionFunc: elementChanged,\n          operatesOn: currentValue,\n          data: data\n        };\n\n        changes.push(change);\n      },\n      onElementAdded: function (focusArray, onCallback, existingCallback, data) {\n        var change = {\n          type: 'array',\n          focus: focusArray,\n          callback: onCallback,\n          detectionFunc: elementAdded,\n          operatesOn: currentValue,\n          data: data\n        };\n\n        changes.push(change);\n        sendCurrentContentsNow({\n          focus: focusArray,\n          callback: existingCallback,\n          data: data\n        });\n      },\n      onElementRemoved: function (focusArray, callback, data) {\n        var change = {\n          type: 'array',\n          focus: focusArray,\n          callback: callback,\n          detectionFunc: elementRemoved,\n          operatesOn: priorValue,\n          data: data\n        };\n\n        changes.push(change);\n      }\n    };\n  }\n};\n},{\"lodash\":7}],75:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n  deps: ['AspectRatio', 'WidescreenMinimumMargin', 'Window'],\n  type: 'Dimensions',\n  func: function (ratio, minMargin, window) {\n    return {\n      get: function () {\n        var actualWidth = window().innerWidth;\n        var actualHeight = window().innerHeight;\n        var heightBasedOnWidth = Math.round(actualWidth / ratio());\n        var widthBasedOnHeight = Math.round(actualHeight * ratio());\n        var totalMargin = minMargin() + minMargin();\n\n        var usableWidth;\n        var usableHeight;\n        var orientation;\n\n        if (heightBasedOnWidth >= actualHeight) {\n          if (widthBasedOnHeight + totalMargin > actualWidth) {\n            usableWidth = actualWidth - totalMargin;\n            usableHeight = heightBasedOnWidth;\n          } else {\n            usableWidth = widthBasedOnHeight;\n            usableHeight = actualHeight;\n          }\n\n          orientation = 'landscape';\n        } else {\n          if (heightBasedOnWidth + totalMargin > actualHeight) {\n            usableWidth = widthBasedOnHeight;\n            usableHeight = actualHeight - totalMargin;\n          } else {\n            usableWidth = actualWidth;\n            usableHeight = heightBasedOnWidth;\n          }\n\n          orientation = 'portrait';\n        }\n\n        return {\n          usableWidth: usableWidth,\n          usableHeight: usableHeight,\n          marginSides: Math.round(actualWidth - usableWidth) / 2,\n          marginTopBottom: Math.round(actualHeight - usableHeight) / 2,\n          orientation: orientation,\n          screenWidth: actualWidth,\n          screenHeight: actualHeight,\n          ratio: ratio()\n        };\n      }\n    };\n  }\n};\n},{}],76:[function(require,module,exports){\n'use strict';\n\nvar each = require('lodash').each;\nvar reject = require('lodash').reject;\n\nmodule.exports = {\n  deps: ['DefinePlugin'],\n  type: 'OnInitialise',\n  func: function (define) {\n    var effects = [];\n\n    return function () {\n      define()('OnEachFrame', function () {\n        return function (delta) {\n          each(effects, function (effect) {\n            effect.tick(delta);\n          });\n\n          effects = reject(effects, function (effect) {\n            return !effect.isAlive();\n          });\n        };\n      });\n\n      define()('RegisterEffect', function () {\n        return {\n          register: function (effect) {\n            effects.push(effect);\n          }\n        };\n      });\n    };\n  }\n};\n},{\"lodash\":7}],77:[function(require,module,exports){\n'use strict';\n\nvar each = require('lodash').each;\n\nmodule.exports = {\n  deps: ['Window', 'OnEachFrame', 'StateTracker'],\n  type: 'UpdateLoop',\n  func: function (window, frames, tracker) {\n    var priorStep = Date.now();\n\n    var paused = function (state) { return state.ensemble.paused; };\n\n    return {\n      run: function () {\n        if (tracker().get(paused)) {\n          priorStep = Date.now();\n        } else {\n          var now = Date.now();\n          var delta = (now - priorStep) / 1000;\n          priorStep = Date.now();\n\n          each(frames(), function(frame) {\n            frame(delta);\n          });\n        }\n\n        window().requestAnimationFrame(this.run.bind(this));\n      }\n    };\n    }\n};\n},{\"lodash\":7}],78:[function(require,module,exports){\n'use strict';\n\nvar screenfull = require('screenfull');\nvar $ = require('zepto-browserify').$;\n\nmodule.exports = {\n  type: 'View',\n  func: function () {\n    return function () {\n      $('.fullscreen').on('click', function () {\n        if (screenfull.enabled) {\n          screenfull.toggle();\n        }\n      });\n    };\n  }\n};\n},{\"screenfull\":9,\"zepto-browserify\":86}],79:[function(require,module,exports){\n'use strict';\n\nvar iconSize = 32;\nvar position = function (slot) { return slot * iconSize; };\nvar iconTop = function () { return 0; };\nvar textTop = function () { return +6; };\n\nvar landscape = function ($) {\n  var pos = 0;\n  $('.fullscreen').css('top', position(pos) - iconTop() + 'px').css('right', '0');\n  pos += 1;\n  $('.sound-on').css('top', position(pos) - iconTop() + 'px').css('right', '0');\n  $('.sound-off').css('top', position(pos) - iconTop() + 'px').css('right', '0');\n  pos += 1;\n  $('.disconnected').css('top', position(pos) - iconTop() + 'px').css('right', '0');\n  pos += 1;\n  $('.paused').css('top', position(pos) - iconTop() + 'px').css('right', '0');\n  pos += 1;\n  $('.players').css('top', position(pos) - iconTop() + 'px').css('right', '0');\n  pos += 1;\n  $('.player-count').css('top', position(pos) - textTop() + 'px').css('right', '0');\n  pos += 1;\n  $('.observers').css('top', position(pos) - iconTop() + 'px').css('right', '0');\n  pos += 1;\n  $('.observer-count').css('top', position(pos) - textTop() + 'px').css('right', '0');\n  pos += 1;\n};\n\nvar portrait = function ($) {\n  var pos = 0;\n  $('.fullscreen').css('right', position(pos) + 'px').css('top', iconTop() + 'px');\n  pos += 1;\n  $('.sound-on').css('right', position(pos) + 'px').css('top', iconTop() + 'px');\n  $('.sound-off').css('right', position(pos) + 'px').css('top', iconTop() + 'px');\n  pos += 1;\n  $('.disconnected').css('right', position(pos) + 'px').css('top', iconTop() + 'px');\n  pos += 1;\n  $('.paused').css('right', position(pos) + 'px').css('top', iconTop() + 'px');\n  pos += 1;\n  $('.players').css('right', position(pos) + 'px').css('top', iconTop() + 'px');\n  pos += 1;\n  $('.player-count').css('right', position(pos) + 'px').css('top', textTop() + 'px');\n  pos += 1;\n  $('.observers').css('right', position(pos) + 'px').css('top', iconTop() + 'px');\n  pos += 1;\n  $('.observer-count').css('right', position(pos) + 'px').css('top', textTop() + 'px');\n  pos += 1;\n};\n\nmodule.exports = {\n  type: 'OnResize',\n  func: function () {\n    var $ = require('zepto-browserify').$;\n\n    return function (dims) {\n      if (dims.orientation === 'landscape') {\n        landscape($);\n      } else {\n        portrait($);\n      }\n    };\n  }\n};\n},{\"zepto-browserify\":86}],80:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n  deps: ['OnPause', 'OnResume', 'StateTrackerHelpers', 'StateTracker'],\n  type: 'View',\n  func: function (onPauseCallbacks, onResumeCallbacks, trackerHelpers, tracker) {\n    var each = require('lodash').each;\n    var $ = require('zepto-browserify').$;\n    var equals = trackerHelpers().equals;\n\n    var pause = function () {\n      $('.paused').show();\n      $('#paused').show();\n\n      each(onPauseCallbacks(), function(onPauseCallback) {\n        onPauseCallback();\n      });\n    };\n    var resume = function () {\n      $('.paused').hide();\n      $('#paused').hide();\n\n      each(onResumeCallbacks(), function(onResumeCallback) {\n        onResumeCallback();\n      });\n    };\n\n    var paused = function (state) { return state.ensemble.paused; };\n\n    return function () {\n      tracker().onChangeTo(paused, equals(true), pause);\n      tracker().onChangeTo(paused, equals(false), resume);\n    };\n  }\n};\n},{\"lodash\":7,\"zepto-browserify\":86}],81:[function(require,module,exports){\n'use strict';\n\nvar numeral = require('numeral');\n\nmodule.exports = {\n  type: 'View',\n  deps: ['StateTracker'],\n  func: function (tracker) {\n    var $ = require('zepto-browserify').$;\n\n    var updatePlayerCount = function (currentValue) {\n      $('#player-count').text(numeral(currentValue).format('0a'));\n    };\n    var updateObserverCount = function (currentValue) {\n      $('#observer-count').text(numeral(currentValue).format('0a'));\n    };\n\n    var playerCount = function (state) { return state.ensemble.players; };\n    var observerCount = function (state) { return state.ensemble.observers; };\n\n    return function () {\n      tracker().onChangeOf(playerCount, updatePlayerCount);\n      tracker().onChangeOf(observerCount, updateObserverCount);\n    };\n  }\n};\n},{\"numeral\":8,\"zepto-browserify\":86}],82:[function(require,module,exports){\n'use strict';\n\nvar each = require('lodash').each;\nvar $ = require('zepto-browserify').$;\n\nmodule.exports = {\n  type: 'View',\n  deps: ['OnMute', 'OnUnmute'],\n  func: function (onMuteCallbacks, onUnmuteCallbacks) {\n    return function () {\n      $('.sound-off').hide();\n      $('.sound-on').on('click', function () {\n        $('.sound-on').hide();\n        $('.sound-off').show();\n\n        each(onMuteCallbacks, function(onMuteCallback) {\n          onMuteCallback();\n        });\n      });\n      $('.sound-off').on('click', function () {\n        $('.sound-off').hide();\n        $('.sound-on').show();\n\n        each(onUnmuteCallbacks, function(onUnmuteCallback) {\n          onUnmuteCallback();\n        });\n      });\n    };\n  }\n};\n},{\"lodash\":7,\"zepto-browserify\":86}],83:[function(require,module,exports){\narguments[4][7][0].apply(exports,arguments)\n},{\"dup\":7}],84:[function(require,module,exports){\n(function (__dirname){\n'use strict';\n\nvar addTrailingSlash = function(path) {\n\treturn path.substr(-1) === '/' ? path : path + '/';\n};\n\nvar normaliseRelativePath = function(path) {\n\treturn path.substr(0, 1) === '/' ? path : require('path').join(__dirname, path);\n};\n\nmodule.exports = {\n\tloadFromPath: function(pathToEntites, callback) {\n\t\tvar absolutePath = normaliseRelativePath(addTrailingSlash(pathToEntites));\n\n\t\tvar exports = {};\n\n\t\trequire('fs').readdirSync(absolutePath).forEach(function(file){\n\t\t\tif (file.substr(-3) !== '.js') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar name = file.replace('.js', '');\n\n\t\t\tif (callback) {\n\t\t\t\tcallback(require(absolutePath + file));\n\t\t\t} else {\n\t\t\t\texports[name] = require(absolutePath + file);\n\t\t\t}\n\t\t});\n\n\t\treturn exports;\n\t}\n};\n}).call(this,\"/node_modules/plug-n-play/src\")\n},{\"fs\":4,\"path\":5}],85:[function(require,module,exports){\n'use strict';\n\nvar loader = require('./folder-loader.js');\nvar isArray = require('lodash').isArray;\nvar each = require('lodash').each;\n\nvar plugins = {};\n\nvar get = function (name) {\n  if (!plugins[name]) {\n    throw new Error('No plugin defined for: ' + name);\n  }\n\n  return plugins[name];\n};\n\nvar load = function (module) {\n  module.deps = module.deps || [];\n\n  var args = [];\n  var i;\n\n  var deferredDependency = function (deferred) {\n    return function () {\n      if (arguments.length > 0) {\n        throw new Error('Incorrect use of deferred dependency. You\\'re probably going blah(p1, p2) when you should be going blah()(p1, p2).');\n      }\n\n      return get(deferred);\n    };\n  };\n\n  var dep;\n  for (i = 0; i < module.deps.length; i += 1) {\n    dep = module.deps[i];\n\n    args.push(deferredDependency(dep));\n  }\n\n  if (isArray(plugins[module.type])) {\n    plugins[module.type].push(module.func.apply(this, args));\n  } else {\n    plugins[module.type] = module.func.apply(this, args);\n  }\n};\n\nvar loadPath = function (path) {\n  loader.loadFromPath(path, load);\n};\n\nvar set = function (name, thing) {\n  plugins[name] = thing;\n};\n\nvar define = function (type, deps, func) {\n  if (deps instanceof Function) {\n    return {\n      type: type,\n      func: deps\n    };\n  } else {\n    return {\n      type: type,\n      deps: deps,\n      func: func\n    };\n  }\n};\n\nload({\n  type: 'DefinePlugin',\n  func: function () {\n    return function (type, deps, func) {\n      load(define(type, deps, func));\n    };\n  }\n});\n\nmodule.exports = {\n  configure: function(arrays) {\n    each(arrays, function(name) {\n      plugins[name] = [];\n    });\n\n    return {\n      load: load,\n      loadPath: loadPath,\n      set: set,\n      get: get\n    };\n  }\n};\n},{\"./folder-loader.js\":84,\"lodash\":83}],86:[function(require,module,exports){\n/* Zepto v1.1.6 - zepto event ajax form ie - zeptojs.com/license */\n\nvar Zepto = (function() {\n  var undefined, key, $, classList, emptyArray = [], slice = emptyArray.slice, filter = emptyArray.filter,\n    document = window.document,\n    elementDisplay = {}, classCache = {},\n    cssNumber = { 'column-count': 1, 'columns': 1, 'font-weight': 1, 'line-height': 1,'opacity': 1, 'z-index': 1, 'zoom': 1 },\n    fragmentRE = /^\\s*<(\\w+|!)[^>]*>/,\n    singleTagRE = /^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,\n    tagExpanderRE = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/ig,\n    rootNodeRE = /^(?:body|html)$/i,\n    capitalRE = /([A-Z])/g,\n\n    // special attributes that should be get/set via method calls\n    methodAttributes = ['val', 'css', 'html', 'text', 'data', 'width', 'height', 'offset'],\n\n    adjacencyOperators = [ 'after', 'prepend', 'before', 'append' ],\n    table = document.createElement('table'),\n    tableRow = document.createElement('tr'),\n    containers = {\n      'tr': document.createElement('tbody'),\n      'tbody': table, 'thead': table, 'tfoot': table,\n      'td': tableRow, 'th': tableRow,\n      '*': document.createElement('div')\n    },\n    readyRE = /complete|loaded|interactive/,\n    simpleSelectorRE = /^[\\w-]*$/,\n    class2type = {},\n    toString = class2type.toString,\n    zepto = {},\n    camelize, uniq,\n    tempParent = document.createElement('div'),\n    propMap = {\n      'tabindex': 'tabIndex',\n      'readonly': 'readOnly',\n      'for': 'htmlFor',\n      'class': 'className',\n      'maxlength': 'maxLength',\n      'cellspacing': 'cellSpacing',\n      'cellpadding': 'cellPadding',\n      'rowspan': 'rowSpan',\n      'colspan': 'colSpan',\n      'usemap': 'useMap',\n      'frameborder': 'frameBorder',\n      'contenteditable': 'contentEditable'\n    },\n    isArray = Array.isArray ||\n      function(object){ return object instanceof Array }\n\n  zepto.matches = function(element, selector) {\n    if (!selector || !element || element.nodeType !== 1) return false\n    var matchesSelector = element.webkitMatchesSelector || element.mozMatchesSelector ||\n                          element.oMatchesSelector || element.matchesSelector\n    if (matchesSelector) return matchesSelector.call(element, selector)\n    // fall back to performing a selector:\n    var match, parent = element.parentNode, temp = !parent\n    if (temp) (parent = tempParent).appendChild(element)\n    match = ~zepto.qsa(parent, selector).indexOf(element)\n    temp && tempParent.removeChild(element)\n    return match\n  }\n\n  function type(obj) {\n    return obj == null ? String(obj) :\n      class2type[toString.call(obj)] || \"object\"\n  }\n\n  function isFunction(value) { return type(value) == \"function\" }\n  function isWindow(obj)     { return obj != null && obj == obj.window }\n  function isDocument(obj)   { return obj != null && obj.nodeType == obj.DOCUMENT_NODE }\n  function isObject(obj)     { return type(obj) == \"object\" }\n  function isPlainObject(obj) {\n    return isObject(obj) && !isWindow(obj) && Object.getPrototypeOf(obj) == Object.prototype\n  }\n  function likeArray(obj) { return typeof obj.length == 'number' }\n\n  function compact(array) { return filter.call(array, function(item){ return item != null }) }\n  function flatten(array) { return array.length > 0 ? $.fn.concat.apply([], array) : array }\n  camelize = function(str){ return str.replace(/-+(.)?/g, function(match, chr){ return chr ? chr.toUpperCase() : '' }) }\n  function dasherize(str) {\n    return str.replace(/::/g, '/')\n           .replace(/([A-Z]+)([A-Z][a-z])/g, '$1_$2')\n           .replace(/([a-z\\d])([A-Z])/g, '$1_$2')\n           .replace(/_/g, '-')\n           .toLowerCase()\n  }\n  uniq = function(array){ return filter.call(array, function(item, idx){ return array.indexOf(item) == idx }) }\n\n  function classRE(name) {\n    return name in classCache ?\n      classCache[name] : (classCache[name] = new RegExp('(^|\\\\s)' + name + '(\\\\s|$)'))\n  }\n\n  function maybeAddPx(name, value) {\n    return (typeof value == \"number\" && !cssNumber[dasherize(name)]) ? value + \"px\" : value\n  }\n\n  function defaultDisplay(nodeName) {\n    var element, display\n    if (!elementDisplay[nodeName]) {\n      element = document.createElement(nodeName)\n      document.body.appendChild(element)\n      display = getComputedStyle(element, '').getPropertyValue(\"display\")\n      element.parentNode.removeChild(element)\n      display == \"none\" && (display = \"block\")\n      elementDisplay[nodeName] = display\n    }\n    return elementDisplay[nodeName]\n  }\n\n  function children(element) {\n    return 'children' in element ?\n      slice.call(element.children) :\n      $.map(element.childNodes, function(node){ if (node.nodeType == 1) return node })\n  }\n\n  // `$.zepto.fragment` takes a html string and an optional tag name\n  // to generate DOM nodes nodes from the given html string.\n  // The generated DOM nodes are returned as an array.\n  // This function can be overriden in plugins for example to make\n  // it compatible with browsers that don't support the DOM fully.\n  zepto.fragment = function(html, name, properties) {\n    var dom, nodes, container\n\n    // A special case optimization for a single tag\n    if (singleTagRE.test(html)) dom = $(document.createElement(RegExp.$1))\n\n    if (!dom) {\n      if (html.replace) html = html.replace(tagExpanderRE, \"<$1></$2>\")\n      if (name === undefined) name = fragmentRE.test(html) && RegExp.$1\n      if (!(name in containers)) name = '*'\n\n      container = containers[name]\n      container.innerHTML = '' + html\n      dom = $.each(slice.call(container.childNodes), function(){\n        container.removeChild(this)\n      })\n    }\n\n    if (isPlainObject(properties)) {\n      nodes = $(dom)\n      $.each(properties, function(key, value) {\n        if (methodAttributes.indexOf(key) > -1) nodes[key](value)\n        else nodes.attr(key, value)\n      })\n    }\n\n    return dom\n  }\n\n  // `$.zepto.Z` swaps out the prototype of the given `dom` array\n  // of nodes with `$.fn` and thus supplying all the Zepto functions\n  // to the array. Note that `__proto__` is not supported on Internet\n  // Explorer. This method can be overriden in plugins.\n  zepto.Z = function(dom, selector) {\n    dom = dom || []\n    dom.__proto__ = $.fn\n    dom.selector = selector || ''\n    return dom\n  }\n\n  // `$.zepto.isZ` should return `true` if the given object is a Zepto\n  // collection. This method can be overriden in plugins.\n  zepto.isZ = function(object) {\n    return object instanceof zepto.Z\n  }\n\n  // `$.zepto.init` is Zepto's counterpart to jQuery's `$.fn.init` and\n  // takes a CSS selector and an optional context (and handles various\n  // special cases).\n  // This method can be overriden in plugins.\n  zepto.init = function(selector, context) {\n    var dom\n    // If nothing given, return an empty Zepto collection\n    if (!selector) return zepto.Z()\n    // Optimize for string selectors\n    else if (typeof selector == 'string') {\n      selector = selector.trim()\n      // If it's a html fragment, create nodes from it\n      // Note: In both Chrome 21 and Firefox 15, DOM error 12\n      // is thrown if the fragment doesn't begin with <\n      if (selector[0] == '<' && fragmentRE.test(selector))\n        dom = zepto.fragment(selector, RegExp.$1, context), selector = null\n      // If there's a context, create a collection on that context first, and select\n      // nodes from there\n      else if (context !== undefined) return $(context).find(selector)\n      // If it's a CSS selector, use it to select nodes.\n      else dom = zepto.qsa(document, selector)\n    }\n    // If a function is given, call it when the DOM is ready\n    else if (isFunction(selector)) return $(document).ready(selector)\n    // If a Zepto collection is given, just return it\n    else if (zepto.isZ(selector)) return selector\n    else {\n      // normalize array if an array of nodes is given\n      if (isArray(selector)) dom = compact(selector)\n      // Wrap DOM nodes.\n      else if (isObject(selector))\n        dom = [selector], selector = null\n      // If it's a html fragment, create nodes from it\n      else if (fragmentRE.test(selector))\n        dom = zepto.fragment(selector.trim(), RegExp.$1, context), selector = null\n      // If there's a context, create a collection on that context first, and select\n      // nodes from there\n      else if (context !== undefined) return $(context).find(selector)\n      // And last but no least, if it's a CSS selector, use it to select nodes.\n      else dom = zepto.qsa(document, selector)\n    }\n    // create a new Zepto collection from the nodes found\n    return zepto.Z(dom, selector)\n  }\n\n  // `$` will be the base `Zepto` object. When calling this\n  // function just call `$.zepto.init, which makes the implementation\n  // details of selecting nodes and creating Zepto collections\n  // patchable in plugins.\n  $ = function(selector, context){\n    return zepto.init(selector, context)\n  }\n\n  function extend(target, source, deep) {\n    for (key in source)\n      if (deep && (isPlainObject(source[key]) || isArray(source[key]))) {\n        if (isPlainObject(source[key]) && !isPlainObject(target[key]))\n          target[key] = {}\n        if (isArray(source[key]) && !isArray(target[key]))\n          target[key] = []\n        extend(target[key], source[key], deep)\n      }\n      else if (source[key] !== undefined) target[key] = source[key]\n  }\n\n  // Copy all but undefined properties from one or more\n  // objects to the `target` object.\n  $.extend = function(target){\n    var deep, args = slice.call(arguments, 1)\n    if (typeof target == 'boolean') {\n      deep = target\n      target = args.shift()\n    }\n    args.forEach(function(arg){ extend(target, arg, deep) })\n    return target\n  }\n\n  // `$.zepto.qsa` is Zepto's CSS selector implementation which\n  // uses `document.querySelectorAll` and optimizes for some special cases, like `#id`.\n  // This method can be overriden in plugins.\n  zepto.qsa = function(element, selector){\n    var found,\n        maybeID = selector[0] == '#',\n        maybeClass = !maybeID && selector[0] == '.',\n        nameOnly = maybeID || maybeClass ? selector.slice(1) : selector, // Ensure that a 1 char tag name still gets checked\n        isSimple = simpleSelectorRE.test(nameOnly)\n    return (isDocument(element) && isSimple && maybeID) ?\n      ( (found = element.getElementById(nameOnly)) ? [found] : [] ) :\n      (element.nodeType !== 1 && element.nodeType !== 9) ? [] :\n      slice.call(\n        isSimple && !maybeID ?\n          maybeClass ? element.getElementsByClassName(nameOnly) : // If it's simple, it could be a class\n          element.getElementsByTagName(selector) : // Or a tag\n          element.querySelectorAll(selector) // Or it's not simple, and we need to query all\n      )\n  }\n\n  function filtered(nodes, selector) {\n    return selector == null ? $(nodes) : $(nodes).filter(selector)\n  }\n\n  $.contains = document.documentElement.contains ?\n    function(parent, node) {\n      return parent !== node && parent.contains(node)\n    } :\n    function(parent, node) {\n      while (node && (node = node.parentNode))\n        if (node === parent) return true\n      return false\n    }\n\n  function funcArg(context, arg, idx, payload) {\n    return isFunction(arg) ? arg.call(context, idx, payload) : arg\n  }\n\n  function setAttribute(node, name, value) {\n    value == null ? node.removeAttribute(name) : node.setAttribute(name, value)\n  }\n\n  // access className property while respecting SVGAnimatedString\n  function className(node, value){\n    var klass = node.className || '',\n        svg   = klass && klass.baseVal !== undefined\n\n    if (value === undefined) return svg ? klass.baseVal : klass\n    svg ? (klass.baseVal = value) : (node.className = value)\n  }\n\n  // \"true\"  => true\n  // \"false\" => false\n  // \"null\"  => null\n  // \"42\"    => 42\n  // \"42.5\"  => 42.5\n  // \"08\"    => \"08\"\n  // JSON    => parse if valid\n  // String  => self\n  function deserializeValue(value) {\n    try {\n      return value ?\n        value == \"true\" ||\n        ( value == \"false\" ? false :\n          value == \"null\" ? null :\n          +value + \"\" == value ? +value :\n          /^[\\[\\{]/.test(value) ? $.parseJSON(value) :\n          value )\n        : value\n    } catch(e) {\n      return value\n    }\n  }\n\n  $.type = type\n  $.isFunction = isFunction\n  $.isWindow = isWindow\n  $.isArray = isArray\n  $.isPlainObject = isPlainObject\n\n  $.isEmptyObject = function(obj) {\n    var name\n    for (name in obj) return false\n    return true\n  }\n\n  $.inArray = function(elem, array, i){\n    return emptyArray.indexOf.call(array, elem, i)\n  }\n\n  $.camelCase = camelize\n  $.trim = function(str) {\n    return str == null ? \"\" : String.prototype.trim.call(str)\n  }\n\n  // plugin compatibility\n  $.uuid = 0\n  $.support = { }\n  $.expr = { }\n\n  $.map = function(elements, callback){\n    var value, values = [], i, key\n    if (likeArray(elements))\n      for (i = 0; i < elements.length; i++) {\n        value = callback(elements[i], i)\n        if (value != null) values.push(value)\n      }\n    else\n      for (key in elements) {\n        value = callback(elements[key], key)\n        if (value != null) values.push(value)\n      }\n    return flatten(values)\n  }\n\n  $.each = function(elements, callback){\n    var i, key\n    if (likeArray(elements)) {\n      for (i = 0; i < elements.length; i++)\n        if (callback.call(elements[i], i, elements[i]) === false) return elements\n    } else {\n      for (key in elements)\n        if (callback.call(elements[key], key, elements[key]) === false) return elements\n    }\n\n    return elements\n  }\n\n  $.grep = function(elements, callback){\n    return filter.call(elements, callback)\n  }\n\n  if (window.JSON) $.parseJSON = JSON.parse\n\n  // Populate the class2type map\n  $.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"), function(i, name) {\n    class2type[ \"[object \" + name + \"]\" ] = name.toLowerCase()\n  })\n\n  // Define methods that will be available on all\n  // Zepto collections\n  $.fn = {\n    // Because a collection acts like an array\n    // copy over these useful array functions.\n    forEach: emptyArray.forEach,\n    reduce: emptyArray.reduce,\n    push: emptyArray.push,\n    sort: emptyArray.sort,\n    indexOf: emptyArray.indexOf,\n    concat: emptyArray.concat,\n\n    // `map` and `slice` in the jQuery API work differently\n    // from their array counterparts\n    map: function(fn){\n      return $($.map(this, function(el, i){ return fn.call(el, i, el) }))\n    },\n    slice: function(){\n      return $(slice.apply(this, arguments))\n    },\n\n    ready: function(callback){\n      // need to check if document.body exists for IE as that browser reports\n      // document ready when it hasn't yet created the body element\n      if (readyRE.test(document.readyState) && document.body) callback($)\n      else document.addEventListener('DOMContentLoaded', function(){ callback($) }, false)\n      return this\n    },\n    get: function(idx){\n      return idx === undefined ? slice.call(this) : this[idx >= 0 ? idx : idx + this.length]\n    },\n    toArray: function(){ return this.get() },\n    size: function(){\n      return this.length\n    },\n    remove: function(){\n      return this.each(function(){\n        if (this.parentNode != null)\n          this.parentNode.removeChild(this)\n      })\n    },\n    each: function(callback){\n      emptyArray.every.call(this, function(el, idx){\n        return callback.call(el, idx, el) !== false\n      })\n      return this\n    },\n    filter: function(selector){\n      if (isFunction(selector)) return this.not(this.not(selector))\n      return $(filter.call(this, function(element){\n        return zepto.matches(element, selector)\n      }))\n    },\n    add: function(selector,context){\n      return $(uniq(this.concat($(selector,context))))\n    },\n    is: function(selector){\n      return this.length > 0 && zepto.matches(this[0], selector)\n    },\n    not: function(selector){\n      var nodes=[]\n      if (isFunction(selector) && selector.call !== undefined)\n        this.each(function(idx){\n          if (!selector.call(this,idx)) nodes.push(this)\n        })\n      else {\n        var excludes = typeof selector == 'string' ? this.filter(selector) :\n          (likeArray(selector) && isFunction(selector.item)) ? slice.call(selector) : $(selector)\n        this.forEach(function(el){\n          if (excludes.indexOf(el) < 0) nodes.push(el)\n        })\n      }\n      return $(nodes)\n    },\n    has: function(selector){\n      return this.filter(function(){\n        return isObject(selector) ?\n          $.contains(this, selector) :\n          $(this).find(selector).size()\n      })\n    },\n    eq: function(idx){\n      return idx === -1 ? this.slice(idx) : this.slice(idx, + idx + 1)\n    },\n    first: function(){\n      var el = this[0]\n      return el && !isObject(el) ? el : $(el)\n    },\n    last: function(){\n      var el = this[this.length - 1]\n      return el && !isObject(el) ? el : $(el)\n    },\n    find: function(selector){\n      var result, $this = this\n      if (!selector) result = $()\n      else if (typeof selector == 'object')\n        result = $(selector).filter(function(){\n          var node = this\n          return emptyArray.some.call($this, function(parent){\n            return $.contains(parent, node)\n          })\n        })\n      else if (this.length == 1) result = $(zepto.qsa(this[0], selector))\n      else result = this.map(function(){ return zepto.qsa(this, selector) })\n      return result\n    },\n    closest: function(selector, context){\n      var node = this[0], collection = false\n      if (typeof selector == 'object') collection = $(selector)\n      while (node && !(collection ? collection.indexOf(node) >= 0 : zepto.matches(node, selector)))\n        node = node !== context && !isDocument(node) && node.parentNode\n      return $(node)\n    },\n    parents: function(selector){\n      var ancestors = [], nodes = this\n      while (nodes.length > 0)\n        nodes = $.map(nodes, function(node){\n          if ((node = node.parentNode) && !isDocument(node) && ancestors.indexOf(node) < 0) {\n            ancestors.push(node)\n            return node\n          }\n        })\n      return filtered(ancestors, selector)\n    },\n    parent: function(selector){\n      return filtered(uniq(this.pluck('parentNode')), selector)\n    },\n    children: function(selector){\n      return filtered(this.map(function(){ return children(this) }), selector)\n    },\n    contents: function() {\n      return this.map(function() { return slice.call(this.childNodes) })\n    },\n    siblings: function(selector){\n      return filtered(this.map(function(i, el){\n        return filter.call(children(el.parentNode), function(child){ return child!==el })\n      }), selector)\n    },\n    empty: function(){\n      return this.each(function(){ this.innerHTML = '' })\n    },\n    // `pluck` is borrowed from Prototype.js\n    pluck: function(property){\n      return $.map(this, function(el){ return el[property] })\n    },\n    show: function(){\n      return this.each(function(){\n        this.style.display == \"none\" && (this.style.display = '')\n        if (getComputedStyle(this, '').getPropertyValue(\"display\") == \"none\")\n          this.style.display = defaultDisplay(this.nodeName)\n      })\n    },\n    replaceWith: function(newContent){\n      return this.before(newContent).remove()\n    },\n    wrap: function(structure){\n      var func = isFunction(structure)\n      if (this[0] && !func)\n        var dom   = $(structure).get(0),\n            clone = dom.parentNode || this.length > 1\n\n      return this.each(function(index){\n        $(this).wrapAll(\n          func ? structure.call(this, index) :\n            clone ? dom.cloneNode(true) : dom\n        )\n      })\n    },\n    wrapAll: function(structure){\n      if (this[0]) {\n        $(this[0]).before(structure = $(structure))\n        var children\n        // drill down to the inmost element\n        while ((children = structure.children()).length) structure = children.first()\n        $(structure).append(this)\n      }\n      return this\n    },\n    wrapInner: function(structure){\n      var func = isFunction(structure)\n      return this.each(function(index){\n        var self = $(this), contents = self.contents(),\n            dom  = func ? structure.call(this, index) : structure\n        contents.length ? contents.wrapAll(dom) : self.append(dom)\n      })\n    },\n    unwrap: function(){\n      this.parent().each(function(){\n        $(this).replaceWith($(this).children())\n      })\n      return this\n    },\n    clone: function(){\n      return this.map(function(){ return this.cloneNode(true) })\n    },\n    hide: function(){\n      return this.css(\"display\", \"none\")\n    },\n    toggle: function(setting){\n      return this.each(function(){\n        var el = $(this)\n        ;(setting === undefined ? el.css(\"display\") == \"none\" : setting) ? el.show() : el.hide()\n      })\n    },\n    prev: function(selector){ return $(this.pluck('previousElementSibling')).filter(selector || '*') },\n    next: function(selector){ return $(this.pluck('nextElementSibling')).filter(selector || '*') },\n    html: function(html){\n      return 0 in arguments ?\n        this.each(function(idx){\n          var originHtml = this.innerHTML\n          $(this).empty().append( funcArg(this, html, idx, originHtml) )\n        }) :\n        (0 in this ? this[0].innerHTML : null)\n    },\n    text: function(text){\n      return 0 in arguments ?\n        this.each(function(idx){\n          var newText = funcArg(this, text, idx, this.textContent)\n          this.textContent = newText == null ? '' : ''+newText\n        }) :\n        (0 in this ? this[0].textContent : null)\n    },\n    attr: function(name, value){\n      var result\n      return (typeof name == 'string' && !(1 in arguments)) ?\n        (!this.length || this[0].nodeType !== 1 ? undefined :\n          (!(result = this[0].getAttribute(name)) && name in this[0]) ? this[0][name] : result\n        ) :\n        this.each(function(idx){\n          if (this.nodeType !== 1) return\n          if (isObject(name)) for (key in name) setAttribute(this, key, name[key])\n          else setAttribute(this, name, funcArg(this, value, idx, this.getAttribute(name)))\n        })\n    },\n    removeAttr: function(name){\n      return this.each(function(){ this.nodeType === 1 && name.split(' ').forEach(function(attribute){\n        setAttribute(this, attribute)\n      }, this)})\n    },\n    prop: function(name, value){\n      name = propMap[name] || name\n      return (1 in arguments) ?\n        this.each(function(idx){\n          this[name] = funcArg(this, value, idx, this[name])\n        }) :\n        (this[0] && this[0][name])\n    },\n    data: function(name, value){\n      var attrName = 'data-' + name.replace(capitalRE, '-$1').toLowerCase()\n\n      var data = (1 in arguments) ?\n        this.attr(attrName, value) :\n        this.attr(attrName)\n\n      return data !== null ? deserializeValue(data) : undefined\n    },\n    val: function(value){\n      return 0 in arguments ?\n        this.each(function(idx){\n          this.value = funcArg(this, value, idx, this.value)\n        }) :\n        (this[0] && (this[0].multiple ?\n           $(this[0]).find('option').filter(function(){ return this.selected }).pluck('value') :\n           this[0].value)\n        )\n    },\n    offset: function(coordinates){\n      if (coordinates) return this.each(function(index){\n        var $this = $(this),\n            coords = funcArg(this, coordinates, index, $this.offset()),\n            parentOffset = $this.offsetParent().offset(),\n            props = {\n              top:  coords.top  - parentOffset.top,\n              left: coords.left - parentOffset.left\n            }\n\n        if ($this.css('position') == 'static') props['position'] = 'relative'\n        $this.css(props)\n      })\n      if (!this.length) return null\n      var obj = this[0].getBoundingClientRect()\n      return {\n        left: obj.left + window.pageXOffset,\n        top: obj.top + window.pageYOffset,\n        width: Math.round(obj.width),\n        height: Math.round(obj.height)\n      }\n    },\n    css: function(property, value){\n      if (arguments.length < 2) {\n        var computedStyle, element = this[0]\n        if(!element) return\n        computedStyle = getComputedStyle(element, '')\n        if (typeof property == 'string')\n          return element.style[camelize(property)] || computedStyle.getPropertyValue(property)\n        else if (isArray(property)) {\n          var props = {}\n          $.each(property, function(_, prop){\n            props[prop] = (element.style[camelize(prop)] || computedStyle.getPropertyValue(prop))\n          })\n          return props\n        }\n      }\n\n      var css = ''\n      if (type(property) == 'string') {\n        if (!value && value !== 0)\n          this.each(function(){ this.style.removeProperty(dasherize(property)) })\n        else\n          css = dasherize(property) + \":\" + maybeAddPx(property, value)\n      } else {\n        for (key in property)\n          if (!property[key] && property[key] !== 0)\n            this.each(function(){ this.style.removeProperty(dasherize(key)) })\n          else\n            css += dasherize(key) + ':' + maybeAddPx(key, property[key]) + ';'\n      }\n\n      return this.each(function(){ this.style.cssText += ';' + css })\n    },\n    index: function(element){\n      return element ? this.indexOf($(element)[0]) : this.parent().children().indexOf(this[0])\n    },\n    hasClass: function(name){\n      if (!name) return false\n      return emptyArray.some.call(this, function(el){\n        return this.test(className(el))\n      }, classRE(name))\n    },\n    addClass: function(name){\n      if (!name) return this\n      return this.each(function(idx){\n        if (!('className' in this)) return\n        classList = []\n        var cls = className(this), newName = funcArg(this, name, idx, cls)\n        newName.split(/\\s+/g).forEach(function(klass){\n          if (!$(this).hasClass(klass)) classList.push(klass)\n        }, this)\n        classList.length && className(this, cls + (cls ? \" \" : \"\") + classList.join(\" \"))\n      })\n    },\n    removeClass: function(name){\n      return this.each(function(idx){\n        if (!('className' in this)) return\n        if (name === undefined) return className(this, '')\n        classList = className(this)\n        funcArg(this, name, idx, classList).split(/\\s+/g).forEach(function(klass){\n          classList = classList.replace(classRE(klass), \" \")\n        })\n        className(this, classList.trim())\n      })\n    },\n    toggleClass: function(name, when){\n      if (!name) return this\n      return this.each(function(idx){\n        var $this = $(this), names = funcArg(this, name, idx, className(this))\n        names.split(/\\s+/g).forEach(function(klass){\n          (when === undefined ? !$this.hasClass(klass) : when) ?\n            $this.addClass(klass) : $this.removeClass(klass)\n        })\n      })\n    },\n    scrollTop: function(value){\n      if (!this.length) return\n      var hasScrollTop = 'scrollTop' in this[0]\n      if (value === undefined) return hasScrollTop ? this[0].scrollTop : this[0].pageYOffset\n      return this.each(hasScrollTop ?\n        function(){ this.scrollTop = value } :\n        function(){ this.scrollTo(this.scrollX, value) })\n    },\n    scrollLeft: function(value){\n      if (!this.length) return\n      var hasScrollLeft = 'scrollLeft' in this[0]\n      if (value === undefined) return hasScrollLeft ? this[0].scrollLeft : this[0].pageXOffset\n      return this.each(hasScrollLeft ?\n        function(){ this.scrollLeft = value } :\n        function(){ this.scrollTo(value, this.scrollY) })\n    },\n    position: function() {\n      if (!this.length) return\n\n      var elem = this[0],\n        // Get *real* offsetParent\n        offsetParent = this.offsetParent(),\n        // Get correct offsets\n        offset       = this.offset(),\n        parentOffset = rootNodeRE.test(offsetParent[0].nodeName) ? { top: 0, left: 0 } : offsetParent.offset()\n\n      // Subtract element margins\n      // note: when an element has margin: auto the offsetLeft and marginLeft\n      // are the same in Safari causing offset.left to incorrectly be 0\n      offset.top  -= parseFloat( $(elem).css('margin-top') ) || 0\n      offset.left -= parseFloat( $(elem).css('margin-left') ) || 0\n\n      // Add offsetParent borders\n      parentOffset.top  += parseFloat( $(offsetParent[0]).css('border-top-width') ) || 0\n      parentOffset.left += parseFloat( $(offsetParent[0]).css('border-left-width') ) || 0\n\n      // Subtract the two offsets\n      return {\n        top:  offset.top  - parentOffset.top,\n        left: offset.left - parentOffset.left\n      }\n    },\n    offsetParent: function() {\n      return this.map(function(){\n        var parent = this.offsetParent || document.body\n        while (parent && !rootNodeRE.test(parent.nodeName) && $(parent).css(\"position\") == \"static\")\n          parent = parent.offsetParent\n        return parent\n      })\n    }\n  }\n\n  // for now\n  $.fn.detach = $.fn.remove\n\n  // Generate the `width` and `height` functions\n  ;['width', 'height'].forEach(function(dimension){\n    var dimensionProperty =\n      dimension.replace(/./, function(m){ return m[0].toUpperCase() })\n\n    $.fn[dimension] = function(value){\n      var offset, el = this[0]\n      if (value === undefined) return isWindow(el) ? el['inner' + dimensionProperty] :\n        isDocument(el) ? el.documentElement['scroll' + dimensionProperty] :\n        (offset = this.offset()) && offset[dimension]\n      else return this.each(function(idx){\n        el = $(this)\n        el.css(dimension, funcArg(this, value, idx, el[dimension]()))\n      })\n    }\n  })\n\n  function traverseNode(node, fun) {\n    fun(node)\n    for (var i = 0, len = node.childNodes.length; i < len; i++)\n      traverseNode(node.childNodes[i], fun)\n  }\n\n  // Generate the `after`, `prepend`, `before`, `append`,\n  // `insertAfter`, `insertBefore`, `appendTo`, and `prependTo` methods.\n  adjacencyOperators.forEach(function(operator, operatorIndex) {\n    var inside = operatorIndex % 2 //=> prepend, append\n\n    $.fn[operator] = function(){\n      // arguments can be nodes, arrays of nodes, Zepto objects and HTML strings\n      var argType, nodes = $.map(arguments, function(arg) {\n            argType = type(arg)\n            return argType == \"object\" || argType == \"array\" || arg == null ?\n              arg : zepto.fragment(arg)\n          }),\n          parent, copyByClone = this.length > 1\n      if (nodes.length < 1) return this\n\n      return this.each(function(_, target){\n        parent = inside ? target : target.parentNode\n\n        // convert all methods to a \"before\" operation\n        target = operatorIndex == 0 ? target.nextSibling :\n                 operatorIndex == 1 ? target.firstChild :\n                 operatorIndex == 2 ? target :\n                 null\n\n        var parentInDocument = $.contains(document.documentElement, parent)\n\n        nodes.forEach(function(node){\n          if (copyByClone) node = node.cloneNode(true)\n          else if (!parent) return $(node).remove()\n\n          parent.insertBefore(node, target)\n          if (parentInDocument) traverseNode(node, function(el){\n            if (el.nodeName != null && el.nodeName.toUpperCase() === 'SCRIPT' &&\n               (!el.type || el.type === 'text/javascript') && !el.src)\n              window['eval'].call(window, el.innerHTML)\n          })\n        })\n      })\n    }\n\n    // after    => insertAfter\n    // prepend  => prependTo\n    // before   => insertBefore\n    // append   => appendTo\n    $.fn[inside ? operator+'To' : 'insert'+(operatorIndex ? 'Before' : 'After')] = function(html){\n      $(html)[operator](this)\n      return this\n    }\n  })\n\n  zepto.Z.prototype = $.fn\n\n  // Export internal API functions in the `$.zepto` namespace\n  zepto.uniq = uniq\n  zepto.deserializeValue = deserializeValue\n  $.zepto = zepto\n\n  return $\n})()\n\nwindow.Zepto = Zepto\nwindow.$ === undefined && (window.$ = Zepto)\n\n// Added by github/jiyinyiyong to create an npm package\nexports.Zepto = window.Zepto\nexports.$ = window.$\n\n;(function($){\n  var _zid = 1, undefined,\n      slice = Array.prototype.slice,\n      isFunction = $.isFunction,\n      isString = function(obj){ return typeof obj == 'string' },\n      handlers = {},\n      specialEvents={},\n      focusinSupported = 'onfocusin' in window,\n      focus = { focus: 'focusin', blur: 'focusout' },\n      hover = { mouseenter: 'mouseover', mouseleave: 'mouseout' }\n\n  specialEvents.click = specialEvents.mousedown = specialEvents.mouseup = specialEvents.mousemove = 'MouseEvents'\n\n  function zid(element) {\n    return element._zid || (element._zid = _zid++)\n  }\n  function findHandlers(element, event, fn, selector) {\n    event = parse(event)\n    if (event.ns) var matcher = matcherFor(event.ns)\n    return (handlers[zid(element)] || []).filter(function(handler) {\n      return handler\n        && (!event.e  || handler.e == event.e)\n        && (!event.ns || matcher.test(handler.ns))\n        && (!fn       || zid(handler.fn) === zid(fn))\n        && (!selector || handler.sel == selector)\n    })\n  }\n  function parse(event) {\n    var parts = ('' + event).split('.')\n    return {e: parts[0], ns: parts.slice(1).sort().join(' ')}\n  }\n  function matcherFor(ns) {\n    return new RegExp('(?:^| )' + ns.replace(' ', ' .* ?') + '(?: |$)')\n  }\n\n  function eventCapture(handler, captureSetting) {\n    return handler.del &&\n      (!focusinSupported && (handler.e in focus)) ||\n      !!captureSetting\n  }\n\n  function realEvent(type) {\n    return hover[type] || (focusinSupported && focus[type]) || type\n  }\n\n  function add(element, events, fn, data, selector, delegator, capture){\n    var id = zid(element), set = (handlers[id] || (handlers[id] = []))\n    events.split(/\\s/).forEach(function(event){\n      if (event == 'ready') return $(document).ready(fn)\n      var handler   = parse(event)\n      handler.fn    = fn\n      handler.sel   = selector\n      // emulate mouseenter, mouseleave\n      if (handler.e in hover) fn = function(e){\n        var related = e.relatedTarget\n        if (!related || (related !== this && !$.contains(this, related)))\n          return handler.fn.apply(this, arguments)\n      }\n      handler.del   = delegator\n      var callback  = delegator || fn\n      handler.proxy = function(e){\n        e = compatible(e)\n        if (e.isImmediatePropagationStopped()) return\n        e.data = data\n        var result = callback.apply(element, e._args == undefined ? [e] : [e].concat(e._args))\n        if (result === false) e.preventDefault(), e.stopPropagation()\n        return result\n      }\n      handler.i = set.length\n      set.push(handler)\n      if ('addEventListener' in element)\n        element.addEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture))\n    })\n  }\n  function remove(element, events, fn, selector, capture){\n    var id = zid(element)\n    ;(events || '').split(/\\s/).forEach(function(event){\n      findHandlers(element, event, fn, selector).forEach(function(handler){\n        delete handlers[id][handler.i]\n      if ('removeEventListener' in element)\n        element.removeEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture))\n      })\n    })\n  }\n\n  $.event = { add: add, remove: remove }\n\n  $.proxy = function(fn, context) {\n    var args = (2 in arguments) && slice.call(arguments, 2)\n    if (isFunction(fn)) {\n      var proxyFn = function(){ return fn.apply(context, args ? args.concat(slice.call(arguments)) : arguments) }\n      proxyFn._zid = zid(fn)\n      return proxyFn\n    } else if (isString(context)) {\n      if (args) {\n        args.unshift(fn[context], fn)\n        return $.proxy.apply(null, args)\n      } else {\n        return $.proxy(fn[context], fn)\n      }\n    } else {\n      throw new TypeError(\"expected function\")\n    }\n  }\n\n  $.fn.bind = function(event, data, callback){\n    return this.on(event, data, callback)\n  }\n  $.fn.unbind = function(event, callback){\n    return this.off(event, callback)\n  }\n  $.fn.one = function(event, selector, data, callback){\n    return this.on(event, selector, data, callback, 1)\n  }\n\n  var returnTrue = function(){return true},\n      returnFalse = function(){return false},\n      ignoreProperties = /^([A-Z]|returnValue$|layer[XY]$)/,\n      eventMethods = {\n        preventDefault: 'isDefaultPrevented',\n        stopImmediatePropagation: 'isImmediatePropagationStopped',\n        stopPropagation: 'isPropagationStopped'\n      }\n\n  function compatible(event, source) {\n    if (source || !event.isDefaultPrevented) {\n      source || (source = event)\n\n      $.each(eventMethods, function(name, predicate) {\n        var sourceMethod = source[name]\n        event[name] = function(){\n          this[predicate] = returnTrue\n          return sourceMethod && sourceMethod.apply(source, arguments)\n        }\n        event[predicate] = returnFalse\n      })\n\n      if (source.defaultPrevented !== undefined ? source.defaultPrevented :\n          'returnValue' in source ? source.returnValue === false :\n          source.getPreventDefault && source.getPreventDefault())\n        event.isDefaultPrevented = returnTrue\n    }\n    return event\n  }\n\n  function createProxy(event) {\n    var key, proxy = { originalEvent: event }\n    for (key in event)\n      if (!ignoreProperties.test(key) && event[key] !== undefined) proxy[key] = event[key]\n\n    return compatible(proxy, event)\n  }\n\n  $.fn.delegate = function(selector, event, callback){\n    return this.on(event, selector, callback)\n  }\n  $.fn.undelegate = function(selector, event, callback){\n    return this.off(event, selector, callback)\n  }\n\n  $.fn.live = function(event, callback){\n    $(document.body).delegate(this.selector, event, callback)\n    return this\n  }\n  $.fn.die = function(event, callback){\n    $(document.body).undelegate(this.selector, event, callback)\n    return this\n  }\n\n  $.fn.on = function(event, selector, data, callback, one){\n    var autoRemove, delegator, $this = this\n    if (event && !isString(event)) {\n      $.each(event, function(type, fn){\n        $this.on(type, selector, data, fn, one)\n      })\n      return $this\n    }\n\n    if (!isString(selector) && !isFunction(callback) && callback !== false)\n      callback = data, data = selector, selector = undefined\n    if (isFunction(data) || data === false)\n      callback = data, data = undefined\n\n    if (callback === false) callback = returnFalse\n\n    return $this.each(function(_, element){\n      if (one) autoRemove = function(e){\n        remove(element, e.type, callback)\n        return callback.apply(this, arguments)\n      }\n\n      if (selector) delegator = function(e){\n        var evt, match = $(e.target).closest(selector, element).get(0)\n        if (match && match !== element) {\n          evt = $.extend(createProxy(e), {currentTarget: match, liveFired: element})\n          return (autoRemove || callback).apply(match, [evt].concat(slice.call(arguments, 1)))\n        }\n      }\n\n      add(element, event, callback, data, selector, delegator || autoRemove)\n    })\n  }\n  $.fn.off = function(event, selector, callback){\n    var $this = this\n    if (event && !isString(event)) {\n      $.each(event, function(type, fn){\n        $this.off(type, selector, fn)\n      })\n      return $this\n    }\n\n    if (!isString(selector) && !isFunction(callback) && callback !== false)\n      callback = selector, selector = undefined\n\n    if (callback === false) callback = returnFalse\n\n    return $this.each(function(){\n      remove(this, event, callback, selector)\n    })\n  }\n\n  $.fn.trigger = function(event, args){\n    event = (isString(event) || $.isPlainObject(event)) ? $.Event(event) : compatible(event)\n    event._args = args\n    return this.each(function(){\n      // handle focus(), blur() by calling them directly\n      if (event.type in focus && typeof this[event.type] == \"function\") this[event.type]()\n      // items in the collection might not be DOM elements\n      else if ('dispatchEvent' in this) this.dispatchEvent(event)\n      else $(this).triggerHandler(event, args)\n    })\n  }\n\n  // triggers event handlers on current element just as if an event occurred,\n  // doesn't trigger an actual event, doesn't bubble\n  $.fn.triggerHandler = function(event, args){\n    var e, result\n    this.each(function(i, element){\n      e = createProxy(isString(event) ? $.Event(event) : event)\n      e._args = args\n      e.target = element\n      $.each(findHandlers(element, event.type || event), function(i, handler){\n        result = handler.proxy(e)\n        if (e.isImmediatePropagationStopped()) return false\n      })\n    })\n    return result\n  }\n\n  // shortcut methods for `.bind(event, fn)` for each event type\n  ;('focusin focusout focus blur load resize scroll unload click dblclick '+\n  'mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave '+\n  'change select keydown keypress keyup error').split(' ').forEach(function(event) {\n    $.fn[event] = function(callback) {\n      return (0 in arguments) ?\n        this.bind(event, callback) :\n        this.trigger(event)\n    }\n  })\n\n  $.Event = function(type, props) {\n    if (!isString(type)) props = type, type = props.type\n    var event = document.createEvent(specialEvents[type] || 'Events'), bubbles = true\n    if (props) for (var name in props) (name == 'bubbles') ? (bubbles = !!props[name]) : (event[name] = props[name])\n    event.initEvent(type, bubbles, true)\n    return compatible(event)\n  }\n\n})(Zepto)\n\n;(function($){\n  var jsonpID = 0,\n      document = window.document,\n      key,\n      name,\n      rscript = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,\n      scriptTypeRE = /^(?:text|application)\\/javascript/i,\n      xmlTypeRE = /^(?:text|application)\\/xml/i,\n      jsonType = 'application/json',\n      htmlType = 'text/html',\n      blankRE = /^\\s*$/,\n      originAnchor = document.createElement('a')\n\n  originAnchor.href = window.location.href\n\n  // trigger a custom event and return false if it was cancelled\n  function triggerAndReturn(context, eventName, data) {\n    var event = $.Event(eventName)\n    $(context).trigger(event, data)\n    return !event.isDefaultPrevented()\n  }\n\n  // trigger an Ajax \"global\" event\n  function triggerGlobal(settings, context, eventName, data) {\n    if (settings.global) return triggerAndReturn(context || document, eventName, data)\n  }\n\n  // Number of active Ajax requests\n  $.active = 0\n\n  function ajaxStart(settings) {\n    if (settings.global && $.active++ === 0) triggerGlobal(settings, null, 'ajaxStart')\n  }\n  function ajaxStop(settings) {\n    if (settings.global && !(--$.active)) triggerGlobal(settings, null, 'ajaxStop')\n  }\n\n  // triggers an extra global event \"ajaxBeforeSend\" that's like \"ajaxSend\" but cancelable\n  function ajaxBeforeSend(xhr, settings) {\n    var context = settings.context\n    if (settings.beforeSend.call(context, xhr, settings) === false ||\n        triggerGlobal(settings, context, 'ajaxBeforeSend', [xhr, settings]) === false)\n      return false\n\n    triggerGlobal(settings, context, 'ajaxSend', [xhr, settings])\n  }\n  function ajaxSuccess(data, xhr, settings, deferred) {\n    var context = settings.context, status = 'success'\n    settings.success.call(context, data, status, xhr)\n    if (deferred) deferred.resolveWith(context, [data, status, xhr])\n    triggerGlobal(settings, context, 'ajaxSuccess', [xhr, settings, data])\n    ajaxComplete(status, xhr, settings)\n  }\n  // type: \"timeout\", \"error\", \"abort\", \"parsererror\"\n  function ajaxError(error, type, xhr, settings, deferred) {\n    var context = settings.context\n    settings.error.call(context, xhr, type, error)\n    if (deferred) deferred.rejectWith(context, [xhr, type, error])\n    triggerGlobal(settings, context, 'ajaxError', [xhr, settings, error || type])\n    ajaxComplete(type, xhr, settings)\n  }\n  // status: \"success\", \"notmodified\", \"error\", \"timeout\", \"abort\", \"parsererror\"\n  function ajaxComplete(status, xhr, settings) {\n    var context = settings.context\n    settings.complete.call(context, xhr, status)\n    triggerGlobal(settings, context, 'ajaxComplete', [xhr, settings])\n    ajaxStop(settings)\n  }\n\n  // Empty function, used as default callback\n  function empty() {}\n\n  $.ajaxJSONP = function(options, deferred){\n    if (!('type' in options)) return $.ajax(options)\n\n    var _callbackName = options.jsonpCallback,\n      callbackName = ($.isFunction(_callbackName) ?\n        _callbackName() : _callbackName) || ('jsonp' + (++jsonpID)),\n      script = document.createElement('script'),\n      originalCallback = window[callbackName],\n      responseData,\n      abort = function(errorType) {\n        $(script).triggerHandler('error', errorType || 'abort')\n      },\n      xhr = { abort: abort }, abortTimeout\n\n    if (deferred) deferred.promise(xhr)\n\n    $(script).on('load error', function(e, errorType){\n      clearTimeout(abortTimeout)\n      $(script).off().remove()\n\n      if (e.type == 'error' || !responseData) {\n        ajaxError(null, errorType || 'error', xhr, options, deferred)\n      } else {\n        ajaxSuccess(responseData[0], xhr, options, deferred)\n      }\n\n      window[callbackName] = originalCallback\n      if (responseData && $.isFunction(originalCallback))\n        originalCallback(responseData[0])\n\n      originalCallback = responseData = undefined\n    })\n\n    if (ajaxBeforeSend(xhr, options) === false) {\n      abort('abort')\n      return xhr\n    }\n\n    window[callbackName] = function(){\n      responseData = arguments\n    }\n\n    script.src = options.url.replace(/\\?(.+)=\\?/, '?$1=' + callbackName)\n    document.head.appendChild(script)\n\n    if (options.timeout > 0) abortTimeout = setTimeout(function(){\n      abort('timeout')\n    }, options.timeout)\n\n    return xhr\n  }\n\n  $.ajaxSettings = {\n    // Default type of request\n    type: 'GET',\n    // Callback that is executed before request\n    beforeSend: empty,\n    // Callback that is executed if the request succeeds\n    success: empty,\n    // Callback that is executed the the server drops error\n    error: empty,\n    // Callback that is executed on request complete (both: error and success)\n    complete: empty,\n    // The context for the callbacks\n    context: null,\n    // Whether to trigger \"global\" Ajax events\n    global: true,\n    // Transport\n    xhr: function () {\n      return new window.XMLHttpRequest()\n    },\n    // MIME types mapping\n    // IIS returns Javascript as \"application/x-javascript\"\n    accepts: {\n      script: 'text/javascript, application/javascript, application/x-javascript',\n      json:   jsonType,\n      xml:    'application/xml, text/xml',\n      html:   htmlType,\n      text:   'text/plain'\n    },\n    // Whether the request is to another domain\n    crossDomain: false,\n    // Default timeout\n    timeout: 0,\n    // Whether data should be serialized to string\n    processData: true,\n    // Whether the browser should be allowed to cache GET responses\n    cache: true\n  }\n\n  function mimeToDataType(mime) {\n    if (mime) mime = mime.split(';', 2)[0]\n    return mime && ( mime == htmlType ? 'html' :\n      mime == jsonType ? 'json' :\n      scriptTypeRE.test(mime) ? 'script' :\n      xmlTypeRE.test(mime) && 'xml' ) || 'text'\n  }\n\n  function appendQuery(url, query) {\n    if (query == '') return url\n    return (url + '&' + query).replace(/[&?]{1,2}/, '?')\n  }\n\n  // serialize payload and append it to the URL for GET requests\n  function serializeData(options) {\n    if (options.processData && options.data && $.type(options.data) != \"string\")\n      options.data = $.param(options.data, options.traditional)\n    if (options.data && (!options.type || options.type.toUpperCase() == 'GET'))\n      options.url = appendQuery(options.url, options.data), options.data = undefined\n  }\n\n  $.ajax = function(options){\n    var settings = $.extend({}, options || {}),\n        deferred = $.Deferred && $.Deferred(),\n        urlAnchor\n    for (key in $.ajaxSettings) if (settings[key] === undefined) settings[key] = $.ajaxSettings[key]\n\n    ajaxStart(settings)\n\n    if (!settings.crossDomain) {\n      urlAnchor = document.createElement('a')\n      urlAnchor.href = settings.url\n      urlAnchor.href = urlAnchor.href\n      settings.crossDomain = (originAnchor.protocol + '//' + originAnchor.host) !== (urlAnchor.protocol + '//' + urlAnchor.host)\n    }\n\n    if (!settings.url) settings.url = window.location.toString()\n    serializeData(settings)\n\n    var dataType = settings.dataType, hasPlaceholder = /\\?.+=\\?/.test(settings.url)\n    if (hasPlaceholder) dataType = 'jsonp'\n\n    if (settings.cache === false || (\n         (!options || options.cache !== true) &&\n         ('script' == dataType || 'jsonp' == dataType)\n        ))\n      settings.url = appendQuery(settings.url, '_=' + Date.now())\n\n    if ('jsonp' == dataType) {\n      if (!hasPlaceholder)\n        settings.url = appendQuery(settings.url,\n          settings.jsonp ? (settings.jsonp + '=?') : settings.jsonp === false ? '' : 'callback=?')\n      return $.ajaxJSONP(settings, deferred)\n    }\n\n    var mime = settings.accepts[dataType],\n        headers = { },\n        setHeader = function(name, value) { headers[name.toLowerCase()] = [name, value] },\n        protocol = /^([\\w-]+:)\\/\\//.test(settings.url) ? RegExp.$1 : window.location.protocol,\n        xhr = settings.xhr(),\n        nativeSetHeader = xhr.setRequestHeader,\n        abortTimeout\n\n    if (deferred) deferred.promise(xhr)\n\n    if (!settings.crossDomain) setHeader('X-Requested-With', 'XMLHttpRequest')\n    setHeader('Accept', mime || '*/*')\n    if (mime = settings.mimeType || mime) {\n      if (mime.indexOf(',') > -1) mime = mime.split(',', 2)[0]\n      xhr.overrideMimeType && xhr.overrideMimeType(mime)\n    }\n    if (settings.contentType || (settings.contentType !== false && settings.data && settings.type.toUpperCase() != 'GET'))\n      setHeader('Content-Type', settings.contentType || 'application/x-www-form-urlencoded')\n\n    if (settings.headers) for (name in settings.headers) setHeader(name, settings.headers[name])\n    xhr.setRequestHeader = setHeader\n\n    xhr.onreadystatechange = function(){\n      if (xhr.readyState == 4) {\n        xhr.onreadystatechange = empty\n        clearTimeout(abortTimeout)\n        var result, error = false\n        if ((xhr.status >= 200 && xhr.status < 300) || xhr.status == 304 || (xhr.status == 0 && protocol == 'file:')) {\n          dataType = dataType || mimeToDataType(settings.mimeType || xhr.getResponseHeader('content-type'))\n          result = xhr.responseText\n\n          try {\n            // http://perfectionkills.com/global-eval-what-are-the-options/\n            if (dataType == 'script')    (1,eval)(result)\n            else if (dataType == 'xml')  result = xhr.responseXML\n            else if (dataType == 'json') result = blankRE.test(result) ? null : $.parseJSON(result)\n          } catch (e) { error = e }\n\n          if (error) ajaxError(error, 'parsererror', xhr, settings, deferred)\n          else ajaxSuccess(result, xhr, settings, deferred)\n        } else {\n          ajaxError(xhr.statusText || null, xhr.status ? 'error' : 'abort', xhr, settings, deferred)\n        }\n      }\n    }\n\n    if (ajaxBeforeSend(xhr, settings) === false) {\n      xhr.abort()\n      ajaxError(null, 'abort', xhr, settings, deferred)\n      return xhr\n    }\n\n    if (settings.xhrFields) for (name in settings.xhrFields) xhr[name] = settings.xhrFields[name]\n\n    var async = 'async' in settings ? settings.async : true\n    xhr.open(settings.type, settings.url, async, settings.username, settings.password)\n\n    for (name in headers) nativeSetHeader.apply(xhr, headers[name])\n\n    if (settings.timeout > 0) abortTimeout = setTimeout(function(){\n        xhr.onreadystatechange = empty\n        xhr.abort()\n        ajaxError(null, 'timeout', xhr, settings, deferred)\n      }, settings.timeout)\n\n    // avoid sending empty string (#319)\n    xhr.send(settings.data ? settings.data : null)\n    return xhr\n  }\n\n  // handle optional data/success arguments\n  function parseArguments(url, data, success, dataType) {\n    if ($.isFunction(data)) dataType = success, success = data, data = undefined\n    if (!$.isFunction(success)) dataType = success, success = undefined\n    return {\n      url: url\n    , data: data\n    , success: success\n    , dataType: dataType\n    }\n  }\n\n  $.get = function(/* url, data, success, dataType */){\n    return $.ajax(parseArguments.apply(null, arguments))\n  }\n\n  $.post = function(/* url, data, success, dataType */){\n    var options = parseArguments.apply(null, arguments)\n    options.type = 'POST'\n    return $.ajax(options)\n  }\n\n  $.getJSON = function(/* url, data, success */){\n    var options = parseArguments.apply(null, arguments)\n    options.dataType = 'json'\n    return $.ajax(options)\n  }\n\n  $.fn.load = function(url, data, success){\n    if (!this.length) return this\n    var self = this, parts = url.split(/\\s/), selector,\n        options = parseArguments(url, data, success),\n        callback = options.success\n    if (parts.length > 1) options.url = parts[0], selector = parts[1]\n    options.success = function(response){\n      self.html(selector ?\n        $('<div>').html(response.replace(rscript, \"\")).find(selector)\n        : response)\n      callback && callback.apply(self, arguments)\n    }\n    $.ajax(options)\n    return this\n  }\n\n  var escape = encodeURIComponent\n\n  function serialize(params, obj, traditional, scope){\n    var type, array = $.isArray(obj), hash = $.isPlainObject(obj)\n    $.each(obj, function(key, value) {\n      type = $.type(value)\n      if (scope) key = traditional ? scope :\n        scope + '[' + (hash || type == 'object' || type == 'array' ? key : '') + ']'\n      // handle data in serializeArray() format\n      if (!scope && array) params.add(value.name, value.value)\n      // recurse into nested objects\n      else if (type == \"array\" || (!traditional && type == \"object\"))\n        serialize(params, value, traditional, key)\n      else params.add(key, value)\n    })\n  }\n\n  $.param = function(obj, traditional){\n    var params = []\n    params.add = function(key, value) {\n      if ($.isFunction(value)) value = value()\n      if (value == null) value = \"\"\n      this.push(escape(key) + '=' + escape(value))\n    }\n    serialize(params, obj, traditional)\n    return params.join('&').replace(/%20/g, '+')\n  }\n})(Zepto)\n\n;(function($){\n  $.fn.serializeArray = function() {\n    var name, type, result = [],\n      add = function(value) {\n        if (value.forEach) return value.forEach(add)\n        result.push({ name: name, value: value })\n      }\n    if (this[0]) $.each(this[0].elements, function(_, field){\n      type = field.type, name = field.name\n      if (name && field.nodeName.toLowerCase() != 'fieldset' &&\n        !field.disabled && type != 'submit' && type != 'reset' && type != 'button' && type != 'file' &&\n        ((type != 'radio' && type != 'checkbox') || field.checked))\n          add($(field).val())\n    })\n    return result\n  }\n\n  $.fn.serialize = function(){\n    var result = []\n    this.serializeArray().forEach(function(elm){\n      result.push(encodeURIComponent(elm.name) + '=' + encodeURIComponent(elm.value))\n    })\n    return result.join('&')\n  }\n\n  $.fn.submit = function(callback) {\n    if (0 in arguments) this.bind('submit', callback)\n    else if (this.length) {\n      var event = $.Event('submit')\n      this.eq(0).trigger(event)\n      if (!event.isDefaultPrevented()) this.get(0).submit()\n    }\n    return this\n  }\n\n})(Zepto)\n\n;(function($){\n  // __proto__ doesn't exist on IE<11, so redefine\n  // the Z function to use object extension instead\n  if (!('__proto__' in {})) {\n    $.extend($.zepto, {\n      Z: function(dom, selector){\n        dom = dom || []\n        $.extend(dom, $.fn)\n        dom.selector = selector || ''\n        dom.__Z = true\n        return dom\n      },\n      // this is a kludge but works\n      isZ: function(object){\n        return $.type(object) === 'array' && '__Z' in object\n      }\n    })\n  }\n\n  // getComputedStyle shouldn't freak out when called\n  // without a valid element as argument\n  try {\n    getComputedStyle(undefined)\n  } catch(e) {\n    var nativeGetComputedStyle = getComputedStyle;\n    window.getComputedStyle = function(element){\n      try {\n        return nativeGetComputedStyle(element)\n      } catch(e) {\n        return null\n      }\n    }\n  }\n})(Zepto)\n;\n},{}]},{},[1]);\n"],"sourceRoot":"/source/"}