{"version":3,"sources":["game.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","global","entryPoint","loadWindow","window","loadDefaults","load","run","this","self","./views/bouncing-ball","ensemblejs-client",2,"$","type","deps","func","element","dimensions","tracker","canvas","context","dims","updateBall","currentPosition","priorPosition","colour","fillStyle","undefined","beginPath","arc","x","y","Math","PI","closePath","fill","theBallPosition","state","ball","position","speed","updateClientPosition","delta","update","clearRect","width","height","get","setup","id","usableWidth","usableHeight","getContext","append","screenResized","zepto-browserify",3,4,"process","normalizeArray","parts","allowAboveRoot","up","last","splice","unshift","filter","xs","res","push","splitPathRe","splitPath","filename","exec","slice","resolve","resolvedPath","resolvedAbsolute","arguments","path","cwd","TypeError","charAt","split","p","join","normalize","isAbsolute","trailingSlash","substr","paths","Array","prototype","index","relative","from","to","trim","arr","start","end","fromParts","toParts","min","samePartsLength","outputParts","concat","sep","delimiter","dirname","result","root","dir","basename","ext","extname","str","len","_process",5,"drainQueue","draining","currentQueue","queue","noop","nextTick","fun","setTimeout","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","name","chdir","umask",6,"baseCompareAscending","value","other","valIsReflexive","othIsReflexive","baseFindIndex","array","predicate","fromRight","baseIndexOf","fromIndex","indexOfNaN","baseIsFunction","baseToString","charAtCallback","string","charCodeAt","charsLeftIndex","chars","indexOf","charsRightIndex","compareAscending","object","criteria","compareMultiple","orders","objCriteria","othCriteria","ordersLength","deburrLetter","letter","deburredLetters","escapeHtmlChar","chr","htmlEscapes","escapeStringChar","stringEscapes","isObjectLike","isSpace","charCode","replaceHolders","placeholder","resIndex","PLACEHOLDER","sortedUniq","iteratee","seen","computed","trimmedLeftIndex","trimmedRightIndex","unescapeHtmlChar","htmlUnescapes","runInContext","lodash","isArray","LazyWrapper","LodashWrapper","hasOwnProperty","wrapperClone","baseLodash","chainAll","actions","__wrapped__","__actions__","__chain__","__dir__","__dropCount__","__filtered__","__iteratees__","__takeCount__","POSITIVE_INFINITY","__views__","lazyClone","iteratees","views","arrayCopy","lazyReverse","clone","lazyValue","baseWrapperValue","isRight","view","getView","takeCount","nativeMin","iterLength","outer","iterIndex","data","LAZY_DROP_WHILE_FLAG","done","count","limit","LAZY_MAP_FLAG","LAZY_FILTER_FLAG","MapCache","__data__","mapDelete","key","has","mapGet","mapHas","mapSet","SetCache","values","hash","nativeCreate","set","Set","cacheIndexOf","cache","isObject","cachePush","add","source","arrayEach","arrayEachRight","arrayEvery","arrayFilter","arrayMap","arrayMax","NEGATIVE_INFINITY","arrayMin","arrayReduce","accumulator","initFromArray","arrayReduceRight","arraySome","arraySum","assignDefaults","objectValue","sourceValue","assignOwnDefaults","baseAssign","customizer","props","keys","baseCopy","baseAt","collection","isArr","isLength","propsLength","parseFloat","isIndex","baseCallback","thisArg","argCount","bindCallback","identity","baseMatches","baseProperty","baseMatchesProperty","baseClone","isDeep","stackA","stackB","initCloneArray","tag","objToString","isFunc","funcTag","objectTag","argsTag","cloneableTags","initCloneByTag","initCloneObject","baseForOwn","subValue","baseDelay","wait","args","FUNC_ERROR_TEXT","apply","baseDifference","getIndexOf","isCommon","createCache","valuesLength","valuesIndex","baseEvery","baseEach","baseFill","baseFilter","baseFind","eachFunc","retKey","baseFlatten","isStrict","isArguments","valIndex","valLength","baseForIn","baseFor","keysIn","baseForOwnRight","baseForRight","baseFunctions","isFunction","baseIsEqual","isLoose","valType","othType","baseIsEqualDeep","equalFunc","objIsArr","othIsArr","objTag","arrayTag","othTag","isTypedArray","objIsObj","othIsObj","isSameTag","equalByTag","valWrapped","othWrapped","equalArrays","equalObjects","pop","baseIsMatch","strictCompareFlags","noCustomizer","objValue","srcValue","baseMap","constant","isStrictComparable","toObject","baseMerge","isSrcArr","baseMergeDeep","mergeFunc","isPlainObject","toPlainObject","baseRandom","max","floor","nativeRandom","baseReduce","initFromCollection","baseSlice","baseSome","baseSortBy","comparer","sort","baseSortByOrder","baseSum","baseUniq","isLarge","seenIndex","baseValues","baseWhile","isDrop","action","binaryIndex","retHighest","low","high","HALF_MAX_ARRAY_LENGTH","mid","binaryIndexBy","valIsNaN","valIsUndef","isReflexive","setLow","MAX_ARRAY_INDEX","bufferClone","buffer","bufferSlice","composeArgs","partials","holders","holdersLength","argsIndex","argsLength","nativeMax","leftIndex","leftLength","composeArgsRight","holdersIndex","rightIndex","rightLength","pad","createAggregator","setter","initializer","getCallback","createAssigner","assigner","guard","isIterateeCall","createBaseEach","iterable","createBaseFor","keysFunc","createBindWrapper","wrapper","fn","Ctor","createCtorWrapper","createCompounder","callback","words","deburr","thisBinding","baseCreate","createCurry","flag","curryFunc","arity","createWrapper","createExtremum","arrayFunc","isMin","noIteratee","isString","toIterable","extremumBy","createFind","createFindIndex","createFindKey","objectFunc","createFlow","funcs","funcName","getFuncName","getData","isLaziable","thru","plant","createForEach","createForIn","createForOwn","createPadDir","createPadding","createPartial","partialFunc","restParam","createReduce","createHybridWrapper","bitmask","partialsRight","holdersRight","argPos","ary","isCurry","isCurryRight","argsHolders","newArgPos","newArity","newsHolders","newHoldersRight","newPartials","newPartialsRight","PARTIAL_FLAG","PARTIAL_RIGHT_FLAG","isCurryBound","BIND_FLAG","BIND_KEY_FLAG","newData","setData","isBind","isBindKey","reorder","isAry","ARY_FLAG","CURRY_FLAG","CURRY_BOUND_FLAG","CURRY_RIGHT_FLAG","strLength","nativeIsFinite","padLength","repeat","ceil","createPartialWrapper","createSortedIndex","mergeData","baseSetData","arrLength","othLength","arrValue","othValue","othIndex","boolTag","dateTag","errorTag","message","numberTag","regexpTag","stringTag","objProps","objLength","othProps","skipCtor","objCtor","constructor","othCtor","exValue","current","target","transforms","size","input","Object","arrayBufferTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","byteOffset","reFlags","lastIndex","MAX_SAFE_INTEGER","prereq","srcBitmask","newBitmask","isCombo","REARG_FLAG","pickByArray","pickByCallback","indexes","oldArray","shimIsPlainObject","support","shimKeys","allowIndexes","nonEnumArgs","chunk","compact","drop","dropRight","dropRightWhile","dropWhile","first","flatten","flattenDeep","initial","intersection","caches","lastIndexOf","pull","remove","rest","take","takeRight","takeRightWhile","takeWhile","uniq","isSorted","unzip","getLength","xor","zipObject","chain","tap","interceptor","wrapperChain","wrapperCommit","wrapperPlant","parent","previous","wrapperReverse","reverse","wrapperToString","wrapperValue","every","findWhere","find","includes","map","pluck","reject","sample","shuffle","rand","some","sortBy","sortByAll","sortByOrder","where","after","temp","before","debounce","options","cancel","timeoutId","clearTimeout","maxTimeoutId","trailingCall","delayed","remaining","now","stamp","isCalled","lastCalled","maxDelayed","trailing","maxWait","debounced","leading","leadingCall","memoize","resolver","memoized","Cache","negate","otherArgs","spread","throttle","debounceOptions","wrap","cloneDeep","isBoolean","isDate","isElement","nodeType","isEmpty","isEqual","isError","isMatch","isNaN","isNumber","isNative","reNative","test","fnToString","reHostCtor","isNull","isRegExp","typedArrayTags","isUndefined","toArray","create","properties","functions","invert","multiValue","isProto","skipIndexes","mapValues","pairs","defaultValue","transform","valuesIn","inRange","random","floating","noMin","noMax","capitalize","toUpperCase","replace","reLatin1","reComboMarks","endsWith","escape","reHasUnescapedHtml","reUnescapedHtml","escapeRegExp","reHasRegExpChars","reRegExpChars","parseInt","radix","nativeParseInt","startsWith","template","otherOptions","settings","templateSettings","isEscaping","isEvaluating","imports","importsKeys","importsValues","interpolate","reNoMatch","reDelimiters","RegExp","reInterpolate","reEsTemplate","evaluate","sourceURL","templateCounter","match","escapeValue","interpolateValue","esTemplateValue","evaluateValue","offset","reUnescapedString","variable","reEmptyStringLeading","reEmptyStringMiddle","reEmptyStringTrailing","attempt","Function","trimLeft","trimRight","trunc","DEFAULT_TRUNC_LENGTH","omission","DEFAULT_TRUNC_OMISSION","separator","search","newEnd","substring","unescape","reHasEscapedHtml","reEscapedHtml","pattern","reWords","matches","matchesProperty","mixin","isObj","methodNames","methodName","noConflict","_","oldDash","property","propertyOf","range","step","times","MAX_ARRAY_LENGTH","uniqueId","prefix","idCounter","augend","addend","sum","defaults","pick","contextProps","Date","Number","String","arrayProto","objectProto","stringProto","document","toString","ArrayBuffer","getPrototypeOf","propertyIsEnumerable","Uint8Array","WeakMap","Float64Array","nativeIsArray","isFinite","nativeKeys","nativeNow","nativeNumIsFinite","pow","FLOAT64_BYTES_PER_ELEMENT","BYTES_PER_ELEMENT","metaMap","realNames","funcDecomp","funcNames","dom","createDocumentFragment","reEscape","reEvaluate","baseEachRight","byteLength","floatLength","otherFunc","HOT_SPAN","HOT_COUNT","difference","findIndex","findLastIndex","pullAt","sortedIndex","sortedLastIndex","union","arrays","without","zip","at","countBy","findLast","forEach","forEachRight","groupBy","indexBy","invoke","partition","reduce","reduceRight","getTime","bind","bindAll","bindKey","curry","curryRight","defer","delay","flow","flowRight","partial","partialRight","rearg","valueOf","objProto","assign","findKey","findLastKey","forIn","forInRight","forOwn","forOwnRight","merge","omit","camelCase","word","toLowerCase","kebabCase","padLeft","padRight","whitespace","reHexPrefix","snakeCase","startCase","backflow","collect","compose","each","eachRight","extend","methods","select","tail","unique","all","any","contains","detect","foldl","foldr","head","include","inject","VERSION","isFilter","isDropWhile","filtered","whileName","takeName","dropName","operationName","createCallback","lodashFunc","checkIteratee","retUnwrapped","isHybrid","isLazy","useLazy","onlyLazy","chainName","names","commit","toJSON","mapTag","setTag","weakMapTag","upper","lower","À","Á","Â","Ã","Ä","Å","à","á","â","ã","ä","å","Ç","ç","Ð","ð","È","É","Ê","Ë","è","é","ê","ë","Ì","Í","Î","Ï","ì","í","î","ï","Ñ","ñ","Ò","Ó","Ô","Õ","Ö","Ø","ò","ó","ô","õ","ö","ø","Ù","Ú","Û","Ü","ù","ú","û","ü","Ý","ý","ÿ","Æ","æ","Þ","þ","ß","&","<",">","\"","'","`","&amp;","&lt;","&gt;","&quot;","&#39;","&#96;","objectTypes","function","\\","\n","\r"," "," ","freeExports","freeModule","freeGlobal","freeSelf","freeWindow","moduleExports","define","amd",7,"Numeral","number","_value","toFixed","precision","roundingFunction","optionals","optionalsRegExp","output","power","formatNumeral","format","formatCurrency","formatPercentage","formatTime","formatNumber","unformatNumeral","thousandRegExp","millionRegExp","billionRegExp","trillionRegExp","stringOriginal","suffixes","bytesMultiplier","unformatTime","zeroFormat","languages","currentLanguage","delimiters","decimal","abbreviations","thousand","currency","symbol","million","billion","trillion","spliceIndex","symbolIndex","openParenIndex","minusSignIndex","space","hours","minutes","seconds","round","timeArray","w","thousands","negP","signed","optDec","abbr","abbrK","abbrM","abbrB","abbrT","abbrForce","bytes","ord","abs","d","neg","ordinal","loadLanguage","multiplier","correctionFactor","prev","next","mp","mn","Infinity","numeral","defaultFormat","hasModule","isNumeral","unformat","obj","language","languageData","b","opt_initialValue","isValueSet","inputString","cback","accum","curr","currI","O","corrFactor","subtract","multiply","divide","ender",8,"__dirname","addTrailingSlash","normaliseRelativePath","loadFromPath","pathToEntites","absolutePath","readdirSync","file","fs",9,"loader","plugins","dep","deferredDependency","deferred","loadPath","thing","configure","./folder-loader.js",10,"isCommonjs","keyboardAllowed","Element","val","fnMap","ret","screenfull","request","elem","requestFullscreen","documentElement","navigator","userAgent","ALLOW_KEYBOARD_INPUT","exit","exitFullscreen","toggle","isFullscreen","raw","defineProperties","fullscreenElement","enumerable","enabled","fullscreenEnabled",11,"./lib/",12,"lookup","uri","opts","io","parsed","url","forceNew","multiplex","debug","Manager","socket","parser","managers","protocol","connect","Socket","./manager","./socket","./url","socket.io-parser",13,"nsps","subs","reconnection","reconnectionAttempts","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","Backoff","jitter","timeout","readyState","connected","encoding","packetBuffer","encoder","Encoder","decoder","Decoder","autoConnect","open","eio","Emitter","emitAll","nsp","updateSocketIds","engine","v","_reconnection","_reconnectionAttempts","_reconnectionDelay","setMin","_randomizationFactor","setJitter","_reconnectionDelayMax","setMax","_timeout","maybeReconnectOnOpen","reconnecting","attempts","reconnect","skipReconnect","openSub","onopen","errorSub","cleanup","err","timer","destroy","close","ondata","ondecoded","packet","onerror","encode","encodedPackets","write","processPacketQueue","pack","shift","sub","disconnect","reset","onclose","reason","duration","onreconnect","./on","backo2","component-bind","component-emitter","engine.io-client","indexof","object-component",14,"ev",15,"json","ids","acks","receiveBuffer","sendBuffer","disconnected","hasBin","events","connect_error","connect_timeout","error","reconnect_attempt","reconnect_failed","reconnect_error","subEvents","send","parserType","EVENT","BINARY_EVENT","CONNECT","onpacket","onconnect","onevent","ACK","onack","BINARY_ACK","DISCONNECT","ondisconnect","ERROR","ack","sent","emitBuffered","has-binary","to-array",16,"loc","location","host","hostname","parseuri","port","href",17,"ms","factor","deviation",18,19,"addEventListener","event","_callbacks","removeEventListener","callbacks","cb","listeners","hasListeners",20,"fmt","coerce","humanize","console","log","stack","skips","enable","localStorage","disable","sec","hour",21,22,"engine.io-parser",23,"secure","query","pieces","agent","parseqs","decode","upgrade","forceJSONP","jsonp","forceBase64","enablesXDR","timestampParam","timestampRequests","transports","writeBuffer","callbackBuffer","policyPort","rememberUpgrade","binaryType","onlyBinaryUpgrades","pfx","passphrase","cert","ca","ciphers","rejectUnauthorized","parsejson","priorWebsocketSuccess","Transport","createTransport","EIO","transport","sid","setTransport","onDrain","onPacket","onError","onClose","probe","onTransportOpen","upgradeLosesBinary","supportsBinary","failed","msg","upgrading","pause","flush","freezeTransport","onTransportClose","onupgrade","onOpen","upgrades","onHandshake","setPing","filterUpgrades","pingInterval","pingTimeout","onHeartbeat","pingTimeoutTimer","pingIntervalTimer","ping","sendPacket","prevBufferLen","writable","cleanupAndClose","waitForUpgrade","desc","filteredUpgrades","j","./transport","./transports",24,"timestamps","description","doOpen","doClose","packets","onData","decodePacket",25,"polling","xhr","xd","isSSL","xdomain","xscheme","XMLHttpRequest","XHR","JSONP","websocket","./polling-jsonp","./polling-xhr","./websocket","xmlhttprequest",26,"empty","JSONPPolling","Polling","___eio","script","inherit","rNewline","rEscapedNewline","parentNode","removeChild","form","iframe","doPoll","createElement","async","src","insertAt","getElementsByTagName","insertBefore","isUAgecko","body","appendChild","doWrite","complete","initIframe","html","iframeId","area","className","style","top","left","method","setAttribute","submit","attachEvent","onreadystatechange","onload","./polling","component-inherit",27,"Request","isBinary","unloadHandler","requests","abort","req","sendXhr","pollXhr","responseType","setRequestHeader","withCredentials","hasXDR","onLoad","responseText","status","requestsCount","onSuccess","fromError","contentType","getResponseHeader","response","XDomainRequest",28,"hasXHR2","poll","onPause","total","decodePayload","callbackfn","encodePayload","schema","b64","../transport",29,"WS","WebSocket","check","protocols","ws","addEventListeners","onmessage","ondrain","encodePacket",30,"hasCORS","ActiveXObject","has-cors",31,32,"useColors","firebug","exception","table","$1","formatArgs","namespace","diff","c","color","lastC","save","namespaces","removeItem","colors","formatters","JSON","stringify","./debug",33,"selectColor","prevColor","disabled","prevTime","formatter","logFn",34,"parse","h","m","short","long","plural",35,"encodeBase64Object","encodeArrayBuffer","encodeBase64Packet","contentArray","resultBuffer","encodeBlobAsArrayBuffer","fr","FileReader","readAsArrayBuffer","encodeBlob","dontSendBlobs","blob","Blob","eachWithIndex","el","hasBinary","sliceBuffer","base64encoder","utf8","isAndroid","isPhantomJS","pong","packetslist","utf8encode","base64","encoded","readAsDataURL","b64data","fromCharCode","typed","basic","btoa","utf8decode","decodeBase64Packet","asArray","setLengthHeader","encodeOne","doneCallback","encodePayloadAsBlob","encodePayloadAsArrayBuffer","results","decodePayloadAsBinary","totalLength","acc","resultArray","bufferIndex","ab","lenStr","binaryIdentifier","lengthAry","bufferTail","buffers","numberTooLong","tailArray","msgLength","./keys","arraybuffer.slice","base64-arraybuffer",36,37,"err_cb","proxy","bail",38,"arraybuffer","abv","ii",39,"encoded1","encoded2","encoded3","encoded4","bufferLength",40,"BlobBuilderConstructor","bb","BlobBuilder","getBlob","WebKitBlobBuilder","MSBlobBuilder","MozBlobBuilder","blobSupported","blobBuilderSupported",41,"_hasBinary","Buffer","isBuffer","File","isarray",42,43,"ucs2decode","extra","counter","ucs2encode","stringFromCharCode","createByte","codePoint","encodeCodePoint","codePoints","byteString","readContinuationByte","byteIndex","byteCount","continuationByte","byteArray","decodeSymbol","byte1","byte2","byte3","byte4","tmp",44,45,46,"rvalidchars","rvalidescape","rvalidtokens","rvalidbraces","rtrimLeft","rtrimRight",47,"encodeURIComponent","qs","qry","pair","decodeURIComponent",48,"re","authority","ipv6uri",49,"instance","MozWebSocket",50,51,"dup",52,53,"vals",54,55,"isBuf","deconstructPacket","_deconstructPacket","_placeholder","num","packetData","attachments","reconstructPacket","_reconstructPacket","buf","removeBlobs","_removeBlobs","curKey","containingObject","pendingBlobs","fileReader","bloblessData","./is-buffer",56,"encodeAsString","encodeAsBinary","writeEncoding","deconstruction","binary","reconstructor","decodeString","types","BinaryReconstructor","reconPack","takeBinaryData","finishedReconstruction","binData","./binary","json3",57,58,59,"undef","isSupported","serialized","JSON3","stringifySupported","isExtended","getClass","parseSupported","isProperty","isLoader","nativeJSON","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","functionClass","dateClass","numberClass","stringClass","arrayClass","booleanClass","charIndexBuggy","Months","getDay","year","month","members","__proto__","original","PrimitiveTypes","boolean","isHostType","Properties","isConstructor","hasProperty","Escapes",92,"leadingZeroes","toPaddedString","unicodePrefix","quote","symbols","serialize","indentation","date","time","milliseconds","Index","Source","Unescapes",98,116,110,102,114,"SyntaxError","lex","begin","isSigned","hasMembers","walk",60,"list",61,"Zepto","class2type","isWindow","isDocument","DOCUMENT_NODE","likeArray","item","dasherize","classRE","classCache","maybeAddPx","cssNumber","defaultDisplay","nodeName","display","elementDisplay","getComputedStyle","getPropertyValue","children","childNodes","node","deep","nodes","selector","funcArg","arg","idx","payload","removeAttribute","klass","svg","baseVal","deserializeValue","parseJSON","traverseNode","classList","camelize","emptyArray","column-count","columns","font-weight","line-height","opacity","z-index","zoom","fragmentRE","singleTagRE","tagExpanderRE","rootNodeRE","capitalRE","methodAttributes","adjacencyOperators","tableRow","containers","tr","tbody","thead","tfoot","td","th","*","readyRE","simpleSelectorRE","zepto","tempParent","propMap","tabindex","readonly","for","class","maxlength","cellspacing","cellpadding","rowspan","colspan","usemap","frameborder","contenteditable","matchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","qsa","fragment","container","innerHTML","attr","Z","isZ","init","ready","found","maybeID","maybeClass","nameOnly","isSimple","getElementById","getElementsByClassName","querySelectorAll","isEmptyObject","inArray","uuid","expr","elements","grep","not","is","excludes","eq","$this","closest","parents","ancestors","contents","siblings","child","show","replaceWith","newContent","structure","wrapAll","cloneNode","wrapInner","unwrap","hide","css","setting","originHtml","text","newText","textContent","getAttribute","removeAttr","attribute","prop","attrName","multiple","selected","coordinates","coords","parentOffset","offsetParent","getBoundingClientRect","pageXOffset","pageYOffset","computedStyle","removeProperty","cssText","hasClass","addClass","cls","newName","removeClass","toggleClass","when","scrollTop","hasScrollTop","scrollTo","scrollX","scrollLeft","hasScrollLeft","scrollY","detach","dimension","dimensionProperty","operator","operatorIndex","inside","argType","copyByClone","nextSibling","firstChild","parentInDocument","zid","_zid","findHandlers","ns","matcher","matcherFor","handlers","handler","sel","eventCapture","captureSetting","del","focusinSupported","focus","realEvent","hover","delegator","capture","related","relatedTarget","compatible","isImmediatePropagationStopped","_args","preventDefault","stopPropagation","isDefaultPrevented","eventMethods","sourceMethod","returnTrue","returnFalse","defaultPrevented","returnValue","getPreventDefault","createProxy","originalEvent","ignoreProperties","specialEvents","blur","mouseenter","mouseleave","click","mousedown","mouseup","mousemove","proxyFn","unbind","one","stopImmediatePropagation","delegate","undelegate","live","die","autoRemove","evt","currentTarget","liveFired","trigger","Event","dispatchEvent","triggerHandler","createEvent","bubbles","initEvent","triggerAndReturn","eventName","triggerGlobal","ajaxStart","active","ajaxStop","ajaxBeforeSend","beforeSend","ajaxSuccess","success","resolveWith","ajaxComplete","ajaxError","rejectWith","mimeToDataType","mime","htmlType","jsonType","scriptTypeRE","xmlTypeRE","appendQuery","serializeData","processData","param","traditional","parseArguments","dataType","params","scope","jsonpID","rscript","blankRE","originAnchor","ajaxJSONP","ajax","responseData","abortTimeout","_callbackName","jsonpCallback","callbackName","originalCallback","errorType","promise","ajaxSettings","accepts","xml","crossDomain","urlAnchor","Deferred","hasPlaceholder","headers","setHeader","nativeSetHeader","mimeType","overrideMimeType","eval","responseXML","statusText","xhrFields","username","password","post","getJSON","serializeArray","field","checked","elm","__Z","nativeGetComputedStyle",62,"displayBehaviour","socketBehaviour","inputElement","updateLoop","assembleAndRun","Display","SocketBehaviour","resizeCanvas","marginTopBottom","resize","UpdateLoop","updateDisplay",63,"./assembler","./events/on_connect","./events/on_disconnect","./input/keyboard","./socket/client","./socket/pending-acknowledgements","./state/shortcuts","./state/tracker","./ui/dimensions","./ui/display","./update/loop","./views/fullscreen","./views/layout_icons","./views/pause_resume","./views/player_observer_count","./views/toggle_sound","plug-n-play",64,65,66,"InputMode","touches","singlePressKeys","keyMap","mouseMap","singlePress","press","release","bindToWindowEvents","which","elementId","layerX","layerY","touch","clientX","offsetLeft","clientY","offsetTop","identifier","force","webkitForce","changedTouches","keypress","metaKey","keydown","keyup","getCurrentState","inputData","keysToSend","singlePressKeysToSend",67,"inputModes","gameMode","serverUrl","onConnectCallbacks","onDisconnectCallbacks","pendingAcknowledgements","controls","configureEmitFunction","pendingAcks","sentTimestamp","control","setupFunc","updateFunc","hasFocus","inputMode","setInterval","clearInterval","socket.io-client",68,"pending","packetId","rcvdTimestamp","ackLast",69,"equals","expectedValue","currentValue",70,"priorState","currentState","changes","invokeCallback","model","priorModel","hasChanged","priorValue","currentElement","priorElement","elementAdded","elementRemoved","elementChanged","prior","handleObjects","change","handleArrays","operatesOn","detectionFunc","sendCurrentContentsNow","handle","detectChangesAndNotifyObservers","updateState","newState","onChangeOf","onChangeTo","condition","onElementChanged","focusArray","onElementAdded","onCallback","existingCallback","onElementRemoved",71,"ratio","minMargin","orientation","actualWidth","innerWidth","actualHeight","innerHeight","heightBasedOnWidth","widthBasedOnHeight","totalMargin","marginSides","screenWidth","screenHeight",72,"effects","priorStep","lastReceivedId","setupComplete","levelPart","register","effect","gameState","doUpdate","dt","tick","isAlive","dontUpdate","paused","ensemble",73,"requestAnimationFrame",74,75,"iconSize","slot","iconTop","textTop","landscape","pos","portrait",76,"onPauseCallbacks","onResumeCallbacks","trackerHelpers","onPauseCallback","resume","onResumeCallback",77,"updatePlayerCount","updateObserverCount","playerCount","players","observerCount","observers",78,"onMuteCallbacks","onUnmuteCallbacks","onMuteCallback","onUnmuteCallback",79],"mappings":"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","file":"game.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar entryPoint = require('ensemblejs-client');\nentryPoint.loadWindow((typeof window !== \"undefined\" ? window.window : typeof global !== \"undefined\" ? global.window : null));\nentryPoint.loadDefaults();\nentryPoint.load(require('./views/bouncing-ball'));\nentryPoint.run();\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./views/bouncing-ball\":2,\"ensemblejs-client\":63}],2:[function(require,module,exports){\n'use strict';\n\nvar $ = require('zepto-browserify').$;\n\nmodule.exports = {\n  type: 'View',\n  deps: ['Element', 'Dimensions', 'StateTracker'],\n  func: function (element, dimensions, tracker) {\n    var canvas;\n    var context;\n    var dims;\n\n    var updateBall = function(currentPosition, priorPosition, colour) {\n      context.fillStyle = colour;\n\n      if (currentPosition === undefined) {\n        context.beginPath();\n        context.arc(priorPosition.x,priorPosition.y,25,0,2*Math.PI);\n        context.closePath();\n        context.fill();\n      } else {\n        context.beginPath();\n        context.arc(currentPosition.x,currentPosition.y,25,0,2*Math.PI);\n        context.closePath();\n        context.fill();\n      }\n    };\n\n    var theBallPosition = function (state) {\n      return state['bouncing-ball-game'].ball.position;\n    };\n\n    var position = {\n      x: 100,\n      y: 50\n    };\n    var speed = {\n      x: 100,\n      y: 50\n    };\n\n    var updateClientPosition = function(delta) {\n      position.x += speed.x * delta;\n      position.y += speed.y * delta;\n\n      if ((position.x > 500) || (position.x < 0)) {\n        speed.x = speed.x * -1;\n      }\n      if ((position.y > 500) || (position.y < 0)) {\n        speed.y = speed.y * -1;\n      }\n    };\n\n    return {\n      update: function (delta) {\n        if (context === undefined) {\n          return;\n        }\n\n        updateClientPosition(delta);\n\n        context.clearRect(0, 0, canvas[0].width, canvas[0].height);\n\n        updateBall(tracker().get(theBallPosition), undefined, 'blue');\n        updateBall(position, undefined, 'red');\n      },\n      setup: function () {\n        dims = dimensions().get();\n\n        canvas = $('<canvas/>', { id: 'scene' });\n        canvas[0].width = dims.usableWidth;\n        canvas[0].height = dims.usableHeight;\n        context = canvas[0].getContext('2d');\n\n        $('#' + element()).append(canvas);\n      },\n      screenResized: function () {\n        dims = dimensions().get();\n\n        if (canvas !== undefined) {\n          canvas[0].width = dims.usableWidth;\n          canvas[0].height = dims.usableHeight;\n        }\n      }\n    };\n  }\n};\n},{\"zepto-browserify\":79}],3:[function(require,module,exports){\n\n},{}],4:[function(require,module,exports){\n(function (process){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// Split a filename into [root, dir, basename, ext], unix version\n// 'root' is just a slash, or nothing.\nvar splitPathRe =\n    /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;\nvar splitPath = function(filename) {\n  return splitPathRe.exec(filename).slice(1);\n};\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function(path) {\n  var result = splitPath(path),\n      root = result[0],\n      dir = result[1];\n\n  if (!root && !dir) {\n    // No dirname whatsoever\n    return '.';\n  }\n\n  if (dir) {\n    // It has a dirname, strip trailing slash\n    dir = dir.substr(0, dir.length - 1);\n  }\n\n  return root + dir;\n};\n\n\nexports.basename = function(path, ext) {\n  var f = splitPath(path)[2];\n  // TODO: make this comparison case-insensitive on windows?\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\n\nexports.extname = function(path) {\n  return splitPath(path)[3];\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n\n}).call(this,require('_process'))\n},{\"_process\":5}],5:[function(require,module,exports){\n// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    draining = true;\n    var currentQueue;\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        var i = -1;\n        while (++i < len) {\n            currentQueue[i]();\n        }\n        len = queue.length;\n    }\n    draining = false;\n}\nprocess.nextTick = function (fun) {\n    queue.push(fun);\n    if (!draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n},{}],6:[function(require,module,exports){\n(function (global){\n/**\n * @license\n * lodash 3.6.0 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern -d -o ./index.js`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '3.6.0';\n\n  /** Used to compose bitmasks for wrapper metadata. */\n  var BIND_FLAG = 1,\n      BIND_KEY_FLAG = 2,\n      CURRY_BOUND_FLAG = 4,\n      CURRY_FLAG = 8,\n      CURRY_RIGHT_FLAG = 16,\n      PARTIAL_FLAG = 32,\n      PARTIAL_RIGHT_FLAG = 64,\n      ARY_FLAG = 128,\n      REARG_FLAG = 256;\n\n  /** Used as default options for `_.trunc`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect when a function becomes hot. */\n  var HOT_COUNT = 150,\n      HOT_SPAN = 16;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_DROP_WHILE_FLAG = 0,\n      LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2;\n\n  /** Used as the `TypeError` message for \"Functions\" methods. */\n  var FUNC_ERROR_TEXT = 'Expected a function';\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      objectTag = '[object Object]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      weakMapTag = '[object WeakMap]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39|#96);/g,\n      reUnescapedHtml = /[&<>\"'`]/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /**\n   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n   */\n  var reComboMarks = /[\\u0300-\\u036f\\ufe20-\\ufe23]/g;\n\n  /**\n   * Used to match [ES template delimiters](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-template-literal-lexical-components).\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect hexadecimal string values. */\n  var reHexPrefix = /^0[xX]/;\n\n  /** Used to detect host constructors (Safari > 5). */\n  var reHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to match latin-1 supplementary letters (excluding mathematical operators). */\n  var reLatin1 = /[\\xc0-\\xd6\\xd8-\\xde\\xdf-\\xf6\\xf8-\\xff]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /**\n   * Used to match `RegExp` [special characters](http://www.regular-expressions.info/characters.html#special).\n   * In addition to special characters the forward slash is escaped to allow for\n   * easier `eval` use and `Function` compilation.\n   */\n  var reRegExpChars = /[.*+?^${}()|[\\]\\/\\\\]/g,\n      reHasRegExpChars = RegExp(reRegExpChars.source);\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to match words to create compound words. */\n  var reWords = (function() {\n    var upper = '[A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]',\n        lower = '[a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff]+';\n\n    return RegExp(upper + '+(?=' + upper + lower + ')|' + upper + '?' + lower + '|' + upper + '+|[0-9]+', 'g');\n  }());\n\n  /** Used to detect and test for whitespace. */\n  var whitespace = (\n    // Basic whitespace characters.\n    ' \\t\\x0b\\f\\xa0\\ufeff' +\n\n    // Line terminators.\n    '\\n\\r\\u2028\\u2029' +\n\n    // Unicode category \"Zs\" space separators.\n    '\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000'\n  );\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'ArrayBuffer', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Math', 'Number',\n    'Object', 'RegExp', 'Set', 'String', '_', 'clearTimeout', 'document',\n    'isFinite', 'parseInt', 'setTimeout', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap',\n    'window'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dateTag] = typedArrayTags[errorTag] =\n  typedArrayTags[funcTag] = typedArrayTags[mapTag] =\n  typedArrayTags[numberTag] = typedArrayTags[objectTag] =\n  typedArrayTags[regexpTag] = typedArrayTags[setTag] =\n  typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[boolTag] =\n  cloneableTags[dateTag] = cloneableTags[float32Tag] =\n  cloneableTags[float64Tag] = cloneableTags[int8Tag] =\n  cloneableTags[int16Tag] = cloneableTags[int32Tag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[stringTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[mapTag] = cloneableTags[setTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used as an internal `_.debounce` options object by `_.throttle`. */\n  var debounceOptions = {\n    'leading': false,\n    'maxWait': 0,\n    'trailing': false\n  };\n\n  /** Used to map latin-1 supplementary letters to basic latin letters. */\n  var deburredLetters = {\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcC': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xeC': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '`': '&#96;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\",\n    '&#96;': '`'\n  };\n\n  /** Used to determine if values are of the language type `Object`. */\n  var objectTypes = {\n    'function': true,\n    'object': true\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Detect free variable `exports`. */\n  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = objectTypes[typeof module] && module && !module.nodeType && module;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = freeExports && freeModule && typeof global == 'object' && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = objectTypes[typeof self] && self && self.Object && self;\n\n  /** Detect free variable `window`. */\n  var freeWindow = objectTypes[typeof window] && window && window.Object && window;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports && freeExports;\n\n  /**\n   * Used as a reference to the global object.\n   *\n   * The `this` value is used if it is the global object to avoid Greasemonkey's\n   * restricted `window` object, otherwise the `window` object is used.\n   */\n  var root = freeGlobal || ((freeWindow !== (this && this.window)) && freeWindow) || freeSelf || this;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * The base implementation of `compareAscending` which compares values and\n   * sorts them in ascending order without guaranteeing a stable sort.\n   *\n   * @private\n   * @param {*} value The value to compare to `other`.\n   * @param {*} other The value to compare to `value`.\n   * @returns {number} Returns the sort order indicator for `value`.\n   */\n  function baseCompareAscending(value, other) {\n    if (value !== other) {\n      var valIsReflexive = value === value,\n          othIsReflexive = other === other;\n\n      if (value > other || !valIsReflexive || (typeof value == 'undefined' && othIsReflexive)) {\n        return 1;\n      }\n      if (value < other || !othIsReflexive || (typeof other == 'undefined' && valIsReflexive)) {\n        return -1;\n      }\n    }\n    return 0;\n  }\n\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for callback shorthands and `this` binding.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseFindIndex(array, predicate, fromRight) {\n    var length = array.length,\n        index = fromRight ? length : -1;\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without support for binary searches.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    if (value !== value) {\n      return indexOfNaN(array, fromIndex);\n    }\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isFunction` without support for environments\n   * with incorrect `typeof` results.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n   */\n  function baseIsFunction(value) {\n    // Avoid a Chakra JIT bug in compatibility modes of IE 11.\n    // See https://github.com/jashkenas/underscore/issues/1621 for more details.\n    return typeof value == 'function' || false;\n  }\n\n  /**\n   * Converts `value` to a string if it is not one. An empty string is returned\n   * for `null` or `undefined` values.\n   *\n   * @private\n   * @param {*} value The value to process.\n   * @returns {string} Returns the string.\n   */\n  function baseToString(value) {\n    if (typeof value == 'string') {\n      return value;\n    }\n    return value == null ? '' : (value + '');\n  }\n\n  /**\n   * Used by `_.max` and `_.min` as the default callback for string values.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the code unit of the first character of the string.\n   */\n  function charAtCallback(string) {\n    return string.charCodeAt(0);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimLeft` to get the index of the first character\n   * of `string` that is not found in `chars`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @param {string} chars The characters to find.\n   * @returns {number} Returns the index of the first character not found in `chars`.\n   */\n  function charsLeftIndex(string, chars) {\n    var index = -1,\n        length = string.length;\n\n    while (++index < length && chars.indexOf(string.charAt(index)) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimRight` to get the index of the last character\n   * of `string` that is not found in `chars`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @param {string} chars The characters to find.\n   * @returns {number} Returns the index of the last character not found in `chars`.\n   */\n  function charsRightIndex(string, chars) {\n    var index = string.length;\n\n    while (index-- && chars.indexOf(string.charAt(index)) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.sortBy` to compare transformed elements of a collection and stable\n   * sort them in ascending order.\n   *\n   * @private\n   * @param {Object} object The object to compare to `other`.\n   * @param {Object} other The object to compare to `object`.\n   * @returns {number} Returns the sort order indicator for `object`.\n   */\n  function compareAscending(object, other) {\n    return baseCompareAscending(object.criteria, other.criteria) || (object.index - other.index);\n  }\n\n  /**\n   * Used by `_.sortByOrder` to compare multiple properties of each element\n   * in a collection and stable sort them in the following order:\n   *\n   * If orders is unspecified, sort in ascending order for all properties.\n   * Otherwise, for each property, sort in ascending order if its corresponding value in\n   * orders is true, and descending order if false.\n   *\n   * @private\n   * @param {Object} object The object to compare to `other`.\n   * @param {Object} other The object to compare to `object`.\n   * @param {boolean[]} orders The order to sort by for each property.\n   * @returns {number} Returns the sort order indicator for `object`.\n   */\n  function compareMultiple(object, other, orders) {\n    var index = -1,\n        objCriteria = object.criteria,\n        othCriteria = other.criteria,\n        length = objCriteria.length,\n        ordersLength = orders.length;\n\n    while (++index < length) {\n      var result = baseCompareAscending(objCriteria[index], othCriteria[index]);\n      if (result) {\n        if (index >= ordersLength) {\n          return result;\n        }\n        return result * (orders[index] ? 1 : -1);\n      }\n    }\n    // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n    // that causes it, under certain circumstances, to provide the same value for\n    // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n    // for more details.\n    //\n    // This also ensures a stable sort in V8 and other engines.\n    // See https://code.google.com/p/v8/issues/detail?id=90 for more details.\n    return object.index - other.index;\n  }\n\n  /**\n   * Used by `_.deburr` to convert latin-1 supplementary letters to basic latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  function deburrLetter(letter) {\n    return deburredLetters[letter];\n  }\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeHtmlChar(chr) {\n    return htmlEscapes[chr];\n  }\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled\n   * string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the index at which the first occurrence of `NaN` is found in `array`.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched `NaN`, else `-1`.\n   */\n  function indexOfNaN(array, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 0 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      var other = array[index];\n      if (other !== other) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * Checks if `value` is object-like.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n   */\n  function isObjectLike(value) {\n    return !!value && typeof value == 'object';\n  }\n\n  /**\n   * Used by `trimmedLeftIndex` and `trimmedRightIndex` to determine if a\n   * character code is whitespace.\n   *\n   * @private\n   * @param {number} charCode The character code to inspect.\n   * @returns {boolean} Returns `true` if `charCode` is whitespace, else `false`.\n   */\n  function isSpace(charCode) {\n    return ((charCode <= 160 && (charCode >= 9 && charCode <= 13) || charCode == 32 || charCode == 160) || charCode == 5760 || charCode == 6158 ||\n      (charCode >= 8192 && (charCode <= 8202 || charCode == 8232 || charCode == 8233 || charCode == 8239 || charCode == 8287 || charCode == 12288 || charCode == 65279)));\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = -1,\n        result = [];\n\n    while (++index < length) {\n      if (array[index] === placeholder) {\n        array[index] = PLACEHOLDER;\n        result[++resIndex] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * An implementation of `_.uniq` optimized for sorted arrays without support\n   * for callback shorthands and `this` binding.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} [iteratee] The function invoked per iteration.\n   * @returns {Array} Returns the new duplicate-value-free array.\n   */\n  function sortedUniq(array, iteratee) {\n    var seen,\n        index = -1,\n        length = array.length,\n        resIndex = -1,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index],\n          computed = iteratee ? iteratee(value, index, array) : value;\n\n      if (!index || seen !== computed) {\n        seen = computed;\n        result[++resIndex] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimLeft` to get the index of the first non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the first non-whitespace character.\n   */\n  function trimmedLeftIndex(string) {\n    var index = -1,\n        length = string.length;\n\n    while (++index < length && isSpace(string.charCodeAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimRight` to get the index of the last non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the last non-whitespace character.\n   */\n  function trimmedRightIndex(string) {\n    var index = string.length;\n\n    while (index-- && isSpace(string.charCodeAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  function unescapeHtmlChar(chr) {\n    return htmlUnescapes[chr];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the given `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @category Utility\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // using `context` to mock `Date#getTime` use in `_.now`\n   * var mock = _.runInContext({\n   *   'Date': function() {\n   *     return { 'getTime': getTimeMock };\n   *   }\n   * });\n   *\n   * // or creating a suped-up `defer` in Node.js\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  function runInContext(context) {\n    // Avoid issues with some ES3 environments that attempt to use values, named\n    // after built-in constructors like `Object`, for the creation of literals.\n    // ES5 clears this up by stating that literals must use built-in constructors.\n    // See https://es5.github.io/#x11.1.5 for more details.\n    context = context ? _.defaults(root.Object(), context, _.pick(root, contextProps)) : root;\n\n    /** Native constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Number = context.Number,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for native method references. */\n    var arrayProto = Array.prototype,\n        objectProto = Object.prototype,\n        stringProto = String.prototype;\n\n    /** Used to detect DOM support. */\n    var document = (document = context.window) && document.document;\n\n    /** Used to resolve the decompiled source of functions. */\n    var fnToString = Function.prototype.toString;\n\n    /** Used to the length of n-tuples for `_.unzip`. */\n    var getLength = baseProperty('length');\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /**\n     * Used to resolve the [`toStringTag`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.prototype.tostring)\n     * of values.\n     */\n    var objToString = objectProto.toString;\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = context._;\n\n    /** Used to detect if a method is native. */\n    var reNative = RegExp('^' +\n      escapeRegExp(objToString)\n      .replace(/toString|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Native method references. */\n    var ArrayBuffer = isNative(ArrayBuffer = context.ArrayBuffer) && ArrayBuffer,\n        bufferSlice = isNative(bufferSlice = ArrayBuffer && new ArrayBuffer(0).slice) && bufferSlice,\n        ceil = Math.ceil,\n        clearTimeout = context.clearTimeout,\n        floor = Math.floor,\n        getPrototypeOf = isNative(getPrototypeOf = Object.getPrototypeOf) && getPrototypeOf,\n        push = arrayProto.push,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        Set = isNative(Set = context.Set) && Set,\n        setTimeout = context.setTimeout,\n        splice = arrayProto.splice,\n        Uint8Array = isNative(Uint8Array = context.Uint8Array) && Uint8Array,\n        WeakMap = isNative(WeakMap = context.WeakMap) && WeakMap;\n\n    /** Used to clone array buffers. */\n    var Float64Array = (function() {\n      // Safari 5 errors when using an array buffer to initialize a typed array\n      // where the array buffer's `byteLength` is not a multiple of the typed\n      // array's `BYTES_PER_ELEMENT`.\n      try {\n        var func = isNative(func = context.Float64Array) && func,\n            result = new func(new ArrayBuffer(10), 0, 1) && func;\n      } catch(e) {}\n      return result;\n    }());\n\n    /* Native method references for those with the same name as other `lodash` methods. */\n    var nativeIsArray = isNative(nativeIsArray = Array.isArray) && nativeIsArray,\n        nativeCreate = isNative(nativeCreate = Object.create) && nativeCreate,\n        nativeIsFinite = context.isFinite,\n        nativeKeys = isNative(nativeKeys = Object.keys) && nativeKeys,\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = isNative(nativeNow = Date.now) && nativeNow,\n        nativeNumIsFinite = isNative(nativeNumIsFinite = Number.isFinite) && nativeNumIsFinite,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random;\n\n    /** Used as references for `-Infinity` and `Infinity`. */\n    var NEGATIVE_INFINITY = Number.NEGATIVE_INFINITY,\n        POSITIVE_INFINITY = Number.POSITIVE_INFINITY;\n\n    /** Used as references for the maximum length and index of an array. */\n    var MAX_ARRAY_LENGTH = Math.pow(2, 32) - 1,\n        MAX_ARRAY_INDEX =  MAX_ARRAY_LENGTH - 1,\n        HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n    /** Used as the size, in bytes, of each `Float64Array` element. */\n    var FLOAT64_BYTES_PER_ELEMENT = Float64Array ? Float64Array.BYTES_PER_ELEMENT : 0;\n\n    /**\n     * Used as the [maximum length](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-number.max_safe_integer)\n     * of an array-like value.\n     */\n    var MAX_SAFE_INTEGER = Math.pow(2, 53) - 1;\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /** Used to lookup unminified function names. */\n    var realNames = {};\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit chaining.\n     * Methods that operate on and return arrays, collections, and functions can\n     * be chained together. Methods that return a boolean or single value will\n     * automatically end the chain returning the unwrapped value. Explicit chaining\n     * may be enabled using `_.chain`. The execution of chained methods is lazy,\n     * that is, execution is deferred until `_#value` is implicitly or explicitly\n     * called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion. Shortcut\n     * fusion is an optimization that merges iteratees to avoid creating intermediate\n     * arrays and reduce the number of iteratee executions.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `reverse`, `shift`, `slice`, `sort`,\n     * `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `compact`, `drop`, `dropRight`, `dropRightWhile`, `dropWhile`, `filter`,\n     * `first`, `initial`, `last`, `map`, `pluck`, `reject`, `rest`, `reverse`,\n     * `slice`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, `toArray`,\n     * and `where`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `at`, `before`, `bind`, `bindAll`, `bindKey`,\n     * `callback`, `chain`, `chunk`, `commit`, `compact`, `concat`, `constant`,\n     * `countBy`, `create`, `curry`, `debounce`, `defaults`, `defer`, `delay`,\n     * `difference`, `drop`, `dropRight`, `dropRightWhile`, `dropWhile`, `fill`,\n     * `filter`, `flatten`, `flattenDeep`, `flow`, `flowRight`, `forEach`,\n     * `forEachRight`, `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `functions`,\n     * `groupBy`, `indexBy`, `initial`, `intersection`, `invert`, `invoke`, `keys`,\n     * `keysIn`, `map`, `mapValues`, `matches`, `matchesProperty`, `memoize`, `merge`,\n     * `mixin`, `negate`, `noop`, `omit`, `once`, `pairs`, `partial`, `partialRight`,\n     * `partition`, `pick`, `plant`, `pluck`, `property`, `propertyOf`, `pull`,\n     * `pullAt`, `push`, `range`, `rearg`, `reject`, `remove`, `rest`, `reverse`,\n     * `shuffle`, `slice`, `sort`, `sortBy`, `sortByAll`, `sortByOrder`, `splice`,\n     * `spread`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, `tap`,\n     * `throttle`, `thru`, `times`, `toArray`, `toPlainObject`, `transform`,\n     * `union`, `uniq`, `unshift`, `unzip`, `values`, `valuesIn`, `where`,\n     * `without`, `wrap`, `xor`, `zip`, and `zipObject`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `clone`, `cloneDeep`, `deburr`,\n     * `endsWith`, `escape`, `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`,\n     * `findLast`, `findLastIndex`, `findLastKey`, `findWhere`, `first`, `has`,\n     * `identity`, `includes`, `indexOf`, `inRange`, `isArguments`, `isArray`,\n     * `isBoolean`, `isDate`, `isElement`, `isEmpty`, `isEqual`, `isError`,\n     * `isFinite`,`isFunction`, `isMatch`, `isNative`, `isNaN`, `isNull`, `isNumber`,\n     * `isObject`, `isPlainObject`, `isRegExp`, `isString`, `isUndefined`,\n     * `isTypedArray`, `join`, `kebabCase`, `last`, `lastIndexOf`, `max`, `min`,\n     * `noConflict`, `now`, `pad`, `padLeft`, `padRight`, `parseInt`, `pop`,\n     * `random`, `reduce`, `reduceRight`, `repeat`, `result`, `runInContext`,\n     * `shift`, `size`, `snakeCase`, `some`, `sortedIndex`, `sortedLastIndex`,\n     * `startCase`, `startsWith`, `sum`, `template`, `trim`, `trimLeft`,\n     * `trimRight`, `trunc`, `unescape`, `uniqueId`, `value`, and `words`\n     *\n     * The wrapper method `sample` will return a wrapped value when `n` is provided,\n     * otherwise an unwrapped value is returned.\n     *\n     * @name _\n     * @constructor\n     * @category Chain\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // returns an unwrapped value\n     * wrapped.reduce(function(sum, n) {\n     *   return sum + n;\n     * });\n     * // => 6\n     *\n     * // returns a wrapped value\n     * var squares = wrapped.map(function(n) {\n     *   return n * n;\n     * });\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__chain__') && hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The function whose prototype all chaining wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable chaining for all wrapper methods.\n     * @param {Array} [actions=[]] Actions to peform to resolve the unwrapped value.\n     */\n    function LodashWrapper(value, chainAll, actions) {\n      this.__wrapped__ = value;\n      this.__actions__ = actions || [];\n      this.__chain__ = !!chainAll;\n    }\n\n    /**\n     * An object environment feature flags.\n     *\n     * @static\n     * @memberOf _\n     * @type Object\n     */\n    var support = lodash.support = {};\n\n    (function(x) {\n\n      /**\n       * Detect if functions can be decompiled by `Function#toString`\n       * (all but Firefox OS certified apps, older Opera mobile browsers, and\n       * the PlayStation 3; forced `false` for Windows 8 apps).\n       *\n       * @memberOf _.support\n       * @type boolean\n       */\n      support.funcDecomp = /\\bthis\\b/.test(function() { return this; });\n\n      /**\n       * Detect if `Function#name` is supported (all but IE).\n       *\n       * @memberOf _.support\n       * @type boolean\n       */\n      support.funcNames = typeof Function.name == 'string';\n\n      /**\n       * Detect if the DOM is supported.\n       *\n       * @memberOf _.support\n       * @type boolean\n       */\n      try {\n        support.dom = document.createDocumentFragment().nodeType === 11;\n      } catch(e) {\n        support.dom = false;\n      }\n\n      /**\n       * Detect if `arguments` object indexes are non-enumerable.\n       *\n       * In Firefox < 4, IE < 9, PhantomJS, and Safari < 5.1 `arguments` object\n       * indexes are non-enumerable. Chrome < 25 and Node.js < 0.11.0 treat\n       * `arguments` object indexes as non-enumerable and fail `hasOwnProperty`\n       * checks for indexes that exceed their function's formal parameters with\n       * associated values of `0`.\n       *\n       * @memberOf _.support\n       * @type boolean\n       */\n      try {\n        support.nonEnumArgs = !propertyIsEnumerable.call(arguments, 1);\n      } catch(e) {\n        support.nonEnumArgs = true;\n      }\n    }(0, 0));\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB). Change the following template settings to use\n     * alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type Object\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type string\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type Object\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type Function\n         */\n        '_': lodash\n      }\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = null;\n      this.__dir__ = 1;\n      this.__dropCount__ = 0;\n      this.__filtered__ = false;\n      this.__iteratees__ = null;\n      this.__takeCount__ = POSITIVE_INFINITY;\n      this.__views__ = null;\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var actions = this.__actions__,\n          iteratees = this.__iteratees__,\n          views = this.__views__,\n          result = new LazyWrapper(this.__wrapped__);\n\n      result.__actions__ = actions ? arrayCopy(actions) : null;\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = iteratees ? arrayCopy(iteratees) : null;\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = views ? arrayCopy(views) : null;\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value();\n      if (!isArray(array)) {\n        return baseWrapperValue(array, this.__actions__);\n      }\n      var dir = this.__dir__,\n          isRight = dir < 0,\n          view = getView(0, array.length, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          takeCount = nativeMin(length, this.__takeCount__),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees ? iteratees.length : 0,\n          resIndex = 0,\n          result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type;\n\n          if (type == LAZY_DROP_WHILE_FLAG) {\n            if (data.done && (isRight ? (index > data.index) : (index < data.index))) {\n              data.count = 0;\n              data.done = false;\n            }\n            data.index = index;\n            if (!data.done) {\n              var limit = data.limit;\n              if (!(data.done = limit > -1 ? (data.count++ >= limit) : !iteratee(value))) {\n                continue outer;\n              }\n            }\n          } else {\n            var computed = iteratee(value);\n            if (type == LAZY_MAP_FLAG) {\n              value = computed;\n            } else if (!computed) {\n              if (type == LAZY_FILTER_FLAG) {\n                continue outer;\n              } else {\n                break outer;\n              }\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a cache object to store key/value pairs.\n     *\n     * @private\n     * @static\n     * @name Cache\n     * @memberOf _.memoize\n     */\n    function MapCache() {\n      this.__data__ = {};\n    }\n\n    /**\n     * Removes `key` and its value from the cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed successfully, else `false`.\n     */\n    function mapDelete(key) {\n      return this.has(key) && delete this.__data__[key];\n    }\n\n    /**\n     * Gets the cached value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the cached value.\n     */\n    function mapGet(key) {\n      return key == '__proto__' ? undefined : this.__data__[key];\n    }\n\n    /**\n     * Checks if a cached value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapHas(key) {\n      return key != '__proto__' && hasOwnProperty.call(this.__data__, key);\n    }\n\n    /**\n     * Adds `value` to `key` of the cache.\n     *\n     * @private\n     * @name set\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the value to cache.\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache object.\n     */\n    function mapSet(key, value) {\n      if (key != '__proto__') {\n        this.__data__[key] = value;\n      }\n      return this;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates a cache object to store unique values.\n     *\n     * @private\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var length = values ? values.length : 0;\n\n      this.data = { 'hash': nativeCreate(null), 'set': new Set };\n      while (length--) {\n        this.push(values[length]);\n      }\n    }\n\n    /**\n     * Checks if `value` is in `cache` mimicking the return signature of\n     * `_.indexOf` by returning `0` if the value is found, else `-1`.\n     *\n     * @private\n     * @param {Object} cache The cache to search.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `0` if `value` is found, else `-1`.\n     */\n    function cacheIndexOf(cache, value) {\n      var data = cache.data,\n          result = (typeof value == 'string' || isObject(value)) ? data.set.has(value) : data.hash[value];\n\n      return result ? 0 : -1;\n    }\n\n    /**\n     * Adds `value` to the cache.\n     *\n     * @private\n     * @name push\n     * @memberOf SetCache\n     * @param {*} value The value to cache.\n     */\n    function cachePush(value) {\n      var data = this.data;\n      if (typeof value == 'string' || isObject(value)) {\n        data.set.add(value);\n      } else {\n        data.hash[value] = true;\n      }\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayCopy(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.forEach` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayEach(array, iteratee) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        if (iteratee(array[index], index, array) === false) {\n          break;\n        }\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.forEachRight` for arrays without support for\n     * callback shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayEachRight(array, iteratee) {\n      var length = array.length;\n\n      while (length--) {\n        if (iteratee(array[length], length, array) === false) {\n          break;\n        }\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.every` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     */\n    function arrayEvery(array, predicate) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        if (!predicate(array[index], index, array)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * A specialized version of `_.filter` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function arrayFilter(array, predicate) {\n      var index = -1,\n          length = array.length,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result[++resIndex] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.map` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function arrayMap(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = iteratee(array[index], index, array);\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.max` for arrays without support for iteratees.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the maximum value.\n     */\n    function arrayMax(array) {\n      var index = -1,\n          length = array.length,\n          result = NEGATIVE_INFINITY;\n\n      while (++index < length) {\n        var value = array[index];\n        if (value > result) {\n          result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.min` for arrays without support for iteratees.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the minimum value.\n     */\n    function arrayMin(array) {\n      var index = -1,\n          length = array.length,\n          result = POSITIVE_INFINITY;\n\n      while (++index < length) {\n        var value = array[index];\n        if (value < result) {\n          result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.reduce` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {boolean} [initFromArray] Specify using the first element of `array`\n     *  as the initial value.\n     * @returns {*} Returns the accumulated value.\n     */\n    function arrayReduce(array, iteratee, accumulator, initFromArray) {\n      var index = -1,\n          length = array.length;\n\n      if (initFromArray && length) {\n        accumulator = array[++index];\n      }\n      while (++index < length) {\n        accumulator = iteratee(accumulator, array[index], index, array);\n      }\n      return accumulator;\n    }\n\n    /**\n     * A specialized version of `_.reduceRight` for arrays without support for\n     * callback shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {boolean} [initFromArray] Specify using the last element of `array`\n     *  as the initial value.\n     * @returns {*} Returns the accumulated value.\n     */\n    function arrayReduceRight(array, iteratee, accumulator, initFromArray) {\n      var length = array.length;\n      if (initFromArray && length) {\n        accumulator = array[--length];\n      }\n      while (length--) {\n        accumulator = iteratee(accumulator, array[length], length, array);\n      }\n      return accumulator;\n    }\n\n    /**\n     * A specialized version of `_.some` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function arraySome(array, predicate) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        if (predicate(array[index], index, array)) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `_.sum` for arrays without support for iteratees.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the sum.\n     */\n    function arraySum(array) {\n      var length = array.length,\n          result = 0;\n\n      while (length--) {\n        result += +array[length] || 0;\n      }\n      return result;\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assign` use.\n     *\n     * @private\n     * @param {*} objectValue The destination object property value.\n     * @param {*} sourceValue The source object property value.\n     * @returns {*} Returns the value to assign to the destination object.\n     */\n    function assignDefaults(objectValue, sourceValue) {\n      return typeof objectValue == 'undefined' ? sourceValue : objectValue;\n    }\n\n    /**\n     * Used by `_.template` to customize its `_.assign` use.\n     *\n     * **Note:** This method is like `assignDefaults` except that it ignores\n     * inherited property values when checking if a property is `undefined`.\n     *\n     * @private\n     * @param {*} objectValue The destination object property value.\n     * @param {*} sourceValue The source object property value.\n     * @param {string} key The key associated with the object and source values.\n     * @param {Object} object The destination object.\n     * @returns {*} Returns the value to assign to the destination object.\n     */\n    function assignOwnDefaults(objectValue, sourceValue, key, object) {\n      return (typeof objectValue == 'undefined' || !hasOwnProperty.call(object, key))\n        ? sourceValue\n        : objectValue;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for argument juggling,\n     * multiple sources, and `this` binding `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {Function} [customizer] The function to customize assigning values.\n     * @returns {Object} Returns the destination object.\n     */\n    function baseAssign(object, source, customizer) {\n      var props = keys(source);\n      if (!customizer) {\n        return baseCopy(source, object, props);\n      }\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index],\n            value = object[key],\n            result = customizer(value, source[key], key, object, source);\n\n        if ((result === result ? (result !== value) : (value === value)) ||\n            (typeof value == 'undefined' && !(key in object))) {\n          object[key] = result;\n        }\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `_.at` without support for strings and individual\n     * key arguments.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {number[]|string[]} [props] The property names or indexes of elements to pick.\n     * @returns {Array} Returns the new array of picked elements.\n     */\n    function baseAt(collection, props) {\n      var index = -1,\n          length = collection.length,\n          isArr = isLength(length),\n          propsLength = props.length,\n          result = Array(propsLength);\n\n      while(++index < propsLength) {\n        var key = props[index];\n        if (isArr) {\n          key = parseFloat(key);\n          result[index] = isIndex(key, length) ? collection[key] : undefined;\n        } else {\n          result[index] = collection[key];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies the properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @param {Array} props The property names to copy.\n     * @returns {Object} Returns `object`.\n     */\n    function baseCopy(source, object, props) {\n      if (!props) {\n        props = object;\n        object = {};\n      }\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n        object[key] = source[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `_.callback` which supports specifying the\n     * number of arguments to provide to `func`.\n     *\n     * @private\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {number} [argCount] The number of arguments to provide to `func`.\n     * @returns {Function} Returns the callback.\n     */\n    function baseCallback(func, thisArg, argCount) {\n      var type = typeof func;\n      if (type == 'function') {\n        return typeof thisArg == 'undefined'\n          ? func\n          : bindCallback(func, thisArg, argCount);\n      }\n      if (func == null) {\n        return identity;\n      }\n      if (type == 'object') {\n        return baseMatches(func);\n      }\n      return typeof thisArg == 'undefined'\n        ? baseProperty(func + '')\n        : baseMatchesProperty(func + '', thisArg);\n    }\n\n    /**\n     * The base implementation of `_.clone` without support for argument juggling\n     * and `this` binding `customizer` functions.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @param {Function} [customizer] The function to customize cloning values.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The object `value` belongs to.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates clones with source counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, isDeep, customizer, key, object, stackA, stackB) {\n      var result;\n      if (customizer) {\n        result = object ? customizer(value, key, object) : customizer(value);\n      }\n      if (typeof result != 'undefined') {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return arrayCopy(value, result);\n        }\n      } else {\n        var tag = objToString.call(value),\n            isFunc = tag == funcTag;\n\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          result = initCloneObject(isFunc ? {} : value);\n          if (!isDeep) {\n            return baseCopy(value, result, keys(value));\n          }\n        } else {\n          return cloneableTags[tag]\n            ? initCloneByTag(value, tag, isDeep)\n            : (object ? value : {});\n        }\n      }\n      // Check for circular references and return corresponding clone.\n      stackA || (stackA = []);\n      stackB || (stackB = []);\n\n      var length = stackA.length;\n      while (length--) {\n        if (stackA[length] == value) {\n          return stackB[length];\n        }\n      }\n      // Add the source value to the stack of traversed objects and associate it with its clone.\n      stackA.push(value);\n      stackB.push(result);\n\n      // Recursively populate clone (susceptible to call stack limits).\n      (isArr ? arrayEach : baseForOwn)(value, function(subValue, key) {\n        result[key] = baseClone(subValue, isDeep, customizer, key, value, stackA, stackB);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} prototype The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function Object() {}\n      return function(prototype) {\n        if (isObject(prototype)) {\n          Object.prototype = prototype;\n          var result = new Object;\n          Object.prototype = null;\n        }\n        return result || context.Object();\n      };\n    }());\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts an index\n     * of where to slice the arguments to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Object} args The arguments provide to `func`.\n     * @returns {number} Returns the timer id.\n     */\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * The base implementation of `_.difference` which accepts a single array\n     * of values to exclude.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values) {\n      var length = array ? array.length : 0,\n          result = [];\n\n      if (!length) {\n        return result;\n      }\n      var index = -1,\n          indexOf = getIndexOf(),\n          isCommon = indexOf == baseIndexOf,\n          cache = (isCommon && values.length >= 200) ? createCache(values) : null,\n          valuesLength = values.length;\n\n      if (cache) {\n        indexOf = cacheIndexOf;\n        isCommon = false;\n        values = cache;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index];\n\n        if (isCommon && value === value) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === value) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (indexOf(values, value, 0) < 0) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object|string} Returns `collection`.\n     */\n    var baseEach = createBaseEach(baseForOwn);\n\n    /**\n     * The base implementation of `_.forEachRight` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object|string} Returns `collection`.\n     */\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n\n    /**\n     * The base implementation of `_.every` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = start == null ? 0 : (+start || 0);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (typeof end == 'undefined' || end > length) ? length : (+end || 0);\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : (end >>> 0);\n      start >>>= 0;\n\n      while (start < length) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.find`, `_.findLast`, `_.findKey`, and `_.findLastKey`,\n     * without support for callback shorthands and `this` binding, which iterates\n     * over `collection` using the provided `eachFunc`.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {Function} eachFunc The function to iterate over `collection`.\n     * @param {boolean} [retKey] Specify returning the key of the found element\n     *  instead of the element itself.\n     * @returns {*} Returns the found element or its key, else `undefined`.\n     */\n    function baseFind(collection, predicate, eachFunc, retKey) {\n      var result;\n      eachFunc(collection, function(value, key, collection) {\n        if (predicate(value, key, collection)) {\n          result = retKey ? key : value;\n          return false;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with added support for restricting\n     * flattening and specifying the start index.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {boolean} isDeep Specify a deep flatten.\n     * @param {boolean} isStrict Restrict flattening to arrays and `arguments` objects.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, isDeep, isStrict) {\n      var index = -1,\n          length = array.length,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n\n        if (isObjectLike(value) && isLength(value.length) && (isArray(value) || isArguments(value))) {\n          if (isDeep) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            value = baseFlatten(value, isDeep, isStrict);\n          }\n          var valIndex = -1,\n              valLength = value.length;\n\n          result.length += valLength;\n          while (++valIndex < valLength) {\n            result[++resIndex] = value[valIndex];\n          }\n        } else if (!isStrict) {\n          result[++resIndex] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForIn` and `baseForOwn` which iterates\n     * over `object` properties returned by `keysFunc` invoking `iteratee` for\n     * each property. Iterator functions may exit iteration early by explicitly\n     * returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseFor = createBaseFor();\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseForRight = createBaseFor(true);\n\n    /**\n     * The base implementation of `_.forIn` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForIn(object, iteratee) {\n      return baseFor(object, iteratee, keysIn);\n    }\n\n    /**\n     * The base implementation of `_.forOwn` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from those provided.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the new array of filtered property names.\n     */\n    function baseFunctions(object, props) {\n      var index = -1,\n          length = props.length,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var key = props[index];\n        if (isFunction(object[key])) {\n          result[++resIndex] = key;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` without support for `this` binding\n     * `customizer` functions.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparing values.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA] Tracks traversed `value` objects.\n     * @param {Array} [stackB] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, customizer, isLoose, stackA, stackB) {\n      // Exit early for identical values.\n      if (value === other) {\n        // Treat `+0` vs. `-0` as not equal.\n        return value !== 0 || (1 / value == 1 / other);\n      }\n      var valType = typeof value,\n          othType = typeof other;\n\n      // Exit early for unlike primitive values.\n      if ((valType != 'function' && valType != 'object' && othType != 'function' && othType != 'object') ||\n          value == null || other == null) {\n        // Return `false` unless both values are `NaN`.\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, baseIsEqual, customizer, isLoose, stackA, stackB);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} [customizer] The function to customize comparing objects.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA=[]] Tracks traversed `value` objects.\n     * @param {Array} [stackB=[]] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, equalFunc, customizer, isLoose, stackA, stackB) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = arrayTag,\n          othTag = arrayTag;\n\n      if (!objIsArr) {\n        objTag = objToString.call(object);\n        if (objTag == argsTag) {\n          objTag = objectTag;\n        } else if (objTag != objectTag) {\n          objIsArr = isTypedArray(object);\n        }\n      }\n      if (!othIsArr) {\n        othTag = objToString.call(other);\n        if (othTag == argsTag) {\n          othTag = objectTag;\n        } else if (othTag != objectTag) {\n          othIsArr = isTypedArray(other);\n        }\n      }\n      var objIsObj = (objTag == objectTag || (isLoose && objTag == funcTag)),\n          othIsObj = (othTag == objectTag || (isLoose && othTag == funcTag)),\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && !(objIsArr || objIsObj)) {\n        return equalByTag(object, other, objTag);\n      }\n      if (isLoose) {\n        if (!isSameTag && !(objIsObj && othIsObj)) {\n          return false;\n        }\n      } else {\n        var valWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (valWrapped || othWrapped) {\n          return equalFunc(valWrapped ? object.value() : object, othWrapped ? other.value() : other, customizer, isLoose, stackA, stackB);\n        }\n        if (!isSameTag) {\n          return false;\n        }\n      }\n      // Assume cyclic values are equal.\n      // For more information on detecting circular references see https://es5.github.io/#JO.\n      stackA || (stackA = []);\n      stackB || (stackB = []);\n\n      var length = stackA.length;\n      while (length--) {\n        if (stackA[length] == object) {\n          return stackB[length] == other;\n        }\n      }\n      // Add `object` and `other` to the stack of traversed objects.\n      stackA.push(object);\n      stackB.push(other);\n\n      var result = (objIsArr ? equalArrays : equalObjects)(object, other, equalFunc, customizer, isLoose, stackA, stackB);\n\n      stackA.pop();\n      stackB.pop();\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The source property names to match.\n     * @param {Array} values The source values to match.\n     * @param {Array} strictCompareFlags Strict comparison flags for source values.\n     * @param {Function} [customizer] The function to customize comparing objects.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, props, values, strictCompareFlags, customizer) {\n      var index = -1,\n          length = props.length,\n          noCustomizer = !customizer;\n\n      while (++index < length) {\n        if ((noCustomizer && strictCompareFlags[index])\n              ? values[index] !== object[props[index]]\n              : !(props[index] in object)\n            ) {\n          return false;\n        }\n      }\n      index = -1;\n      while (++index < length) {\n        var key = props[index],\n            objValue = object[key],\n            srcValue = values[index];\n\n        if (noCustomizer && strictCompareFlags[index]) {\n          var result = typeof objValue != 'undefined' || (key in object);\n        } else {\n          result = customizer ? customizer(objValue, srcValue, key) : undefined;\n          if (typeof result == 'undefined') {\n            result = baseIsEqual(srcValue, objValue, customizer, true);\n          }\n        }\n        if (!result) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var result = [];\n      baseEach(collection, function(value, key, collection) {\n        result.push(iteratee(value, key, collection));\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which does not clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new function.\n     */\n    function baseMatches(source) {\n      var props = keys(source),\n          length = props.length;\n\n      if (!length) {\n        return constant(true);\n      }\n      if (length == 1) {\n        var key = props[0],\n            value = source[key];\n\n        if (isStrictComparable(value)) {\n          return function(object) {\n            return object != null && object[key] === value &&\n              (typeof value != 'undefined' || (key in toObject(object)));\n          };\n        }\n      }\n      var values = Array(length),\n          strictCompareFlags = Array(length);\n\n      while (length--) {\n        value = source[props[length]];\n        values[length] = value;\n        strictCompareFlags[length] = isStrictComparable(value);\n      }\n      return function(object) {\n        return object != null && baseIsMatch(toObject(object), props, values, strictCompareFlags);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which does not coerce `key`\n     * to a string.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @param {*} value The value to compare.\n     * @returns {Function} Returns the new function.\n     */\n    function baseMatchesProperty(key, value) {\n      if (isStrictComparable(value)) {\n        return function(object) {\n          return object != null && object[key] === value &&\n            (typeof value != 'undefined' || (key in toObject(object)));\n        };\n      }\n      return function(object) {\n        return object != null && baseIsEqual(value, object[key], null, true);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for argument juggling,\n     * multiple sources, and `this` binding `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {Function} [customizer] The function to customize merging properties.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates values with source counterparts.\n     * @returns {Object} Returns the destination object.\n     */\n    function baseMerge(object, source, customizer, stackA, stackB) {\n      if (!isObject(object)) {\n        return object;\n      }\n      var isSrcArr = isLength(source.length) && (isArray(source) || isTypedArray(source));\n      (isSrcArr ? arrayEach : baseForOwn)(source, function(srcValue, key, source) {\n        if (isObjectLike(srcValue)) {\n          stackA || (stackA = []);\n          stackB || (stackB = []);\n          return baseMergeDeep(object, source, key, baseMerge, customizer, stackA, stackB);\n        }\n        var value = object[key],\n            result = customizer ? customizer(value, srcValue, key, object, source) : undefined,\n            isCommon = typeof result == 'undefined';\n\n        if (isCommon) {\n          result = srcValue;\n        }\n        if ((isSrcArr || typeof result != 'undefined') &&\n            (isCommon || (result === result ? (result !== value) : (value === value)))) {\n          object[key] = result;\n        }\n      });\n      return object;\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize merging properties.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates values with source counterparts.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseMergeDeep(object, source, key, mergeFunc, customizer, stackA, stackB) {\n      var length = stackA.length,\n          srcValue = source[key];\n\n      while (length--) {\n        if (stackA[length] == srcValue) {\n          object[key] = stackB[length];\n          return;\n        }\n      }\n      var value = object[key],\n          result = customizer ? customizer(value, srcValue, key, object, source) : undefined,\n          isCommon = typeof result == 'undefined';\n\n      if (isCommon) {\n        result = srcValue;\n        if (isLength(srcValue.length) && (isArray(srcValue) || isTypedArray(srcValue))) {\n          result = isArray(value)\n            ? value\n            : ((value && value.length) ? arrayCopy(value) : []);\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          result = isArguments(value)\n            ? toPlainObject(value)\n            : (isPlainObject(value) ? value : {});\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      // Add the source value to the stack of traversed objects and associate\n      // it with its merged value.\n      stackA.push(srcValue);\n      stackB.push(result);\n\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        object[key] = mergeFunc(result, srcValue, customizer, stackA, stackB);\n      } else if (result === result ? (result !== value) : (value === value)) {\n        object[key] = result;\n      }\n    }\n\n    /**\n     * The base implementation of `_.property` which does not coerce `key` to a string.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @returns {Function} Returns the new function.\n     */\n    function baseProperty(key) {\n      return function(object) {\n        return object == null ? undefined : object[key];\n      };\n    }\n\n    /**\n     * The base implementation of `_.random` without support for argument juggling\n     * and returning floating-point numbers.\n     *\n     * @private\n     * @param {number} min The minimum possible value.\n     * @param {number} max The maximum possible value.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(min, max) {\n      return min + floor(nativeRandom() * (max - min + 1));\n    }\n\n    /**\n     * The base implementation of `_.reduce` and `_.reduceRight` without support\n     * for callback shorthands and `this` binding, which iterates over `collection`\n     * using the provided `eachFunc`.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {*} accumulator The initial value.\n     * @param {boolean} initFromCollection Specify using the first or last element\n     *  of `collection` as the initial value.\n     * @param {Function} eachFunc The function to iterate over `collection`.\n     * @returns {*} Returns the accumulated value.\n     */\n    function baseReduce(collection, iteratee, accumulator, initFromCollection, eachFunc) {\n      eachFunc(collection, function(value, index, collection) {\n        accumulator = initFromCollection\n          ? (initFromCollection = false, value)\n          : iteratee(accumulator, value, index, collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop detection.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      start = start == null ? 0 : (+start || 0);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (typeof end == 'undefined' || end > length) ? length : (+end || 0);\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortBy` which uses `comparer` to define\n     * the sort order of `array` and replaces criteria objects with their\n     * corresponding values.\n     *\n     * @private\n     * @param {Array} array The array to sort.\n     * @param {Function} comparer The function to define sort order.\n     * @returns {Array} Returns `array`.\n     */\n    function baseSortBy(array, comparer) {\n      var length = array.length;\n\n      array.sort(comparer);\n      while (length--) {\n        array[length] = array[length].value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.sortByOrder` without param guards.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {string[]} props The property names to sort by.\n     * @param {boolean[]} orders The sort orders of `props`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseSortByOrder(collection, props, orders) {\n      var index = -1,\n          length = collection.length,\n          result = isLength(length) ? Array(length) : [];\n\n      baseEach(collection, function(value) {\n        var length = props.length,\n            criteria = Array(length);\n\n        while (length--) {\n          criteria[length] = value == null ? undefined : value[props[length]];\n        }\n        result[++index] = { 'criteria': criteria, 'index': index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.sum` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {number} Returns the sum.\n     */\n    function baseSum(collection, iteratee) {\n      var result = 0;\n      baseEach(collection, function(value, index, collection) {\n        result += +iteratee(value, index, collection) || 0;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.uniq` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The function invoked per iteration.\n     * @returns {Array} Returns the new duplicate-value-free array.\n     */\n    function baseUniq(array, iteratee) {\n      var index = -1,\n          indexOf = getIndexOf(),\n          length = array.length,\n          isCommon = indexOf == baseIndexOf,\n          isLarge = isCommon && length >= 200,\n          seen = isLarge ? createCache() : null,\n          result = [];\n\n      if (seen) {\n        indexOf = cacheIndexOf;\n        isCommon = false;\n      } else {\n        isLarge = false;\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value, index, array) : value;\n\n        if (isCommon && value === value) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (indexOf(seen, computed, 0) < 0) {\n          if (iteratee || isLarge) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.values` and `_.valuesIn` which creates an\n     * array of `object` property values corresponding to the property names\n     * returned by `keysFunc`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} props The property names to get values for.\n     * @returns {Object} Returns the array of property values.\n     */\n    function baseValues(object, props) {\n      var index = -1,\n          length = props.length,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = object[props[index]];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.dropRightWhile`, `_.dropWhile`, `_.takeRightWhile`,\n     * and `_.takeWhile` without support for callback shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) && predicate(array[index], index, array)) {}\n      return isDrop\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to peform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      var index = -1,\n          length = actions.length;\n\n      while (++index < length) {\n        var args = [result],\n            action = actions[index];\n\n        push.apply(args, action.args);\n        result = action.func.apply(action.thisArg, args);\n      }\n      return result;\n    }\n\n    /**\n     * Performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function binaryIndex(array, value, retHighest) {\n      var low = 0,\n          high = array ? array.length : low;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if (retHighest ? (computed <= value) : (computed < value)) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return binaryIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * This function is like `binaryIndex` except that it invokes `iteratee` for\n     * `value` and each element of `array` to compute their sort ranking. The\n     * iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function binaryIndexBy(array, value, iteratee, retHighest) {\n      value = iteratee(value);\n\n      var low = 0,\n          high = array ? array.length : 0,\n          valIsNaN = value !== value,\n          valIsUndef = typeof value == 'undefined';\n\n      while (low < high) {\n        var mid = floor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            isReflexive = computed === computed;\n\n        if (valIsNaN) {\n          var setLow = isReflexive || retHighest;\n        } else if (valIsUndef) {\n          setLow = isReflexive && (retHighest || typeof computed != 'undefined');\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * A specialized version of `baseCallback` which only supports `this` binding\n     * and specifying the number of arguments to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {number} [argCount] The number of arguments to provide to `func`.\n     * @returns {Function} Returns the callback.\n     */\n    function bindCallback(func, thisArg, argCount) {\n      if (typeof func != 'function') {\n        return identity;\n      }\n      if (typeof thisArg == 'undefined') {\n        return func;\n      }\n      switch (argCount) {\n        case 1: return function(value) {\n          return func.call(thisArg, value);\n        };\n        case 3: return function(value, index, collection) {\n          return func.call(thisArg, value, index, collection);\n        };\n        case 4: return function(accumulator, value, index, collection) {\n          return func.call(thisArg, accumulator, value, index, collection);\n        };\n        case 5: return function(value, other, key, object, source) {\n          return func.call(thisArg, value, other, key, object, source);\n        };\n      }\n      return function() {\n        return func.apply(thisArg, arguments);\n      };\n    }\n\n    /**\n     * Creates a clone of the given array buffer.\n     *\n     * @private\n     * @param {ArrayBuffer} buffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function bufferClone(buffer) {\n      return bufferSlice.call(buffer, 0);\n    }\n    if (!bufferSlice) {\n      // PhantomJS has `ArrayBuffer` and `Uint8Array` but not `Float64Array`.\n      bufferClone = !(ArrayBuffer && Uint8Array) ? constant(null) : function(buffer) {\n        var byteLength = buffer.byteLength,\n            floatLength = Float64Array ? floor(byteLength / FLOAT64_BYTES_PER_ELEMENT) : 0,\n            offset = floatLength * FLOAT64_BYTES_PER_ELEMENT,\n            result = new ArrayBuffer(byteLength);\n\n        if (floatLength) {\n          var view = new Float64Array(result, 0, floatLength);\n          view.set(new Float64Array(buffer, 0, floatLength));\n        }\n        if (byteLength != offset) {\n          view = new Uint8Array(result, offset);\n          view.set(new Uint8Array(buffer, offset));\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array|Object} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders) {\n      var holdersLength = holders.length,\n          argsIndex = -1,\n          argsLength = nativeMax(args.length - holdersLength, 0),\n          leftIndex = -1,\n          leftLength = partials.length,\n          result = Array(argsLength + leftLength);\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        result[holders[argsIndex]] = args[argsIndex];\n      }\n      while (argsLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array|Object} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders) {\n      var holdersIndex = -1,\n          holdersLength = holders.length,\n          argsIndex = -1,\n          argsLength = nativeMax(args.length - holdersLength, 0),\n          rightIndex = -1,\n          rightLength = partials.length,\n          result = Array(argsLength + rightLength);\n\n      while (++argsIndex < argsLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var pad = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[pad + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        result[pad + holders[holdersIndex]] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * Creates a function that aggregates a collection, creating an accumulator\n     * object composed from the results of running each element in the collection\n     * through an iteratee.\n     *\n     * **Note:** This function is used to create `_.countBy`, `_.groupBy`, `_.indexBy`,\n     * and `_.partition`.\n     *\n     * @private\n     * @param {Function} setter The function to set keys and values of the accumulator object.\n     * @param {Function} [initializer] The function to initialize the accumulator object.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee, thisArg) {\n        var result = initializer ? initializer() : {};\n        iteratee = getCallback(iteratee, thisArg, 3);\n\n        if (isArray(collection)) {\n          var index = -1,\n              length = collection.length;\n\n          while (++index < length) {\n            var value = collection[index];\n            setter(result, value, iteratee(value, index, collection), collection);\n          }\n        } else {\n          baseEach(collection, function(value, key, collection) {\n            setter(result, value, iteratee(value, key, collection), collection);\n          });\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that assigns properties of source object(s) to a given\n     * destination object.\n     *\n     * **Note:** This function is used to create `_.assign`, `_.defaults`, and `_.merge`.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return function() {\n        var args = arguments,\n            length = args.length,\n            object = args[0];\n\n        if (length < 2 || object == null) {\n          return object;\n        }\n        var customizer = args[length - 2],\n            thisArg = args[length - 1],\n            guard = args[3];\n\n        if (length > 3 && typeof customizer == 'function') {\n          customizer = bindCallback(customizer, thisArg, 5);\n          length -= 2;\n        } else {\n          customizer = (length > 2 && typeof thisArg == 'function') ? thisArg : null;\n          length -= (customizer ? 1 : 0);\n        }\n        if (guard && isIterateeCall(args[1], args[2], guard)) {\n          customizer = length == 3 ? null : customizer;\n          length = 2;\n        }\n        var index = 0;\n        while (++index < length) {\n          var source = args[index];\n          if (source) {\n            assigner(object, source, customizer);\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseEach(eachFunc, fromRight) {\n      return function(collection, iteratee) {\n        var length = collection ? collection.length : 0;\n        if (!isLength(length)) {\n          return eachFunc(collection, iteratee);\n        }\n        var index = fromRight ? length : -1,\n            iterable = toObject(collection);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n        return collection;\n      };\n    }\n\n    /**\n     * Creates a base function for `_.forIn` or `_.forInRight`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseFor(fromRight) {\n      return function(object, iteratee, keysFunc) {\n        var iterable = toObject(object),\n            props = keysFunc(object),\n            length = props.length,\n            index = fromRight ? length : -1;\n\n        while ((fromRight ? index-- : ++index < length)) {\n          var key = props[index];\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` and invokes it with the `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to bind.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new bound function.\n     */\n    function createBindWrapper(func, thisArg) {\n      var Ctor = createCtorWrapper(func);\n\n      function wrapper() {\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(thisArg, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `Set` cache object to optimize linear searches of large arrays.\n     *\n     * @private\n     * @param {Array} [values] The values to cache.\n     * @returns {null|Object} Returns the new cache object if `Set` is supported, else `null`.\n     */\n    var createCache = !(nativeCreate && Set) ? constant(null) : function(values) {\n      return new SetCache(values);\n    };\n\n    /**\n     * Creates a function that produces compound words out of the words in a\n     * given string.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        var index = -1,\n            array = words(deburr(string)),\n            length = array.length,\n            result = '';\n\n        while (++index < length) {\n          result = callback(result, array[index], index);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtorWrapper(Ctor) {\n      return function() {\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, arguments);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a `_.curry` or `_.curryRight` function.\n     *\n     * @private\n     * @param {boolean} flag The curry bit flag.\n     * @returns {Function} Returns the new curry function.\n     */\n    function createCurry(flag) {\n      function curryFunc(func, arity, guard) {\n        if (guard && isIterateeCall(func, arity, guard)) {\n          arity = null;\n        }\n        var result = createWrapper(func, flag, null, null, null, null, null, arity);\n        result.placeholder = curryFunc.placeholder;\n        return result;\n      }\n      return curryFunc;\n    }\n\n    /**\n     * Creates a `_.max` or `_.min` function.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to get the extremum value from an array.\n     * @param {boolean} [isMin] Specify returning the minimum, instead of the maximum,\n     *  extremum value.\n     * @returns {Function} Returns the new extremum function.\n     */\n    function createExtremum(arrayFunc, isMin) {\n      return function(collection, iteratee, thisArg) {\n        if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\n          iteratee = null;\n        }\n        var func = getCallback(),\n            noIteratee = iteratee == null;\n\n        if (!(func === baseCallback && noIteratee)) {\n          noIteratee = false;\n          iteratee = func(iteratee, thisArg, 3);\n        }\n        if (noIteratee) {\n          var isArr = isArray(collection);\n          if (!isArr && isString(collection)) {\n            iteratee = charAtCallback;\n          } else {\n            return arrayFunc(isArr ? collection : toIterable(collection));\n          }\n        }\n        return extremumBy(collection, iteratee, isMin);\n      };\n    }\n\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFind(eachFunc, fromRight) {\n      return function(collection, predicate, thisArg) {\n        predicate = getCallback(predicate, thisArg, 3);\n        if (isArray(collection)) {\n          var index = baseFindIndex(collection, predicate, fromRight);\n          return index > -1 ? collection[index] : undefined;\n        }\n        return baseFind(collection, predicate, eachFunc);\n      }\n    }\n\n    /**\n     * Creates a `_.findIndex` or `_.findLastIndex` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFindIndex(fromRight) {\n      return function(array, predicate, thisArg) {\n        if (!(array && array.length)) {\n          return -1;\n        }\n        predicate = getCallback(predicate, thisArg, 3);\n        return baseFindIndex(array, predicate, fromRight);\n      };\n    }\n\n    /**\n     * Creates a `_.findKey` or `_.findLastKey` function.\n     *\n     * @private\n     * @param {Function} objectFunc The function to iterate over an object.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFindKey(objectFunc) {\n      return function(object, predicate, thisArg) {\n        predicate = getCallback(predicate, thisArg, 3);\n        return baseFind(object, predicate, objectFunc, true);\n      };\n    }\n\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n    function createFlow(fromRight) {\n      return function() {\n        var length = arguments.length;\n        if (!length) {\n          return function() { return arguments[0]; };\n        }\n        var wrapper,\n            index = fromRight ? length : -1,\n            leftIndex = 0,\n            funcs = Array(length);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          var func = funcs[leftIndex++] = arguments[index];\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n          var funcName = wrapper ? '' : getFuncName(func);\n          wrapper = funcName == 'wrapper' ? new LodashWrapper([]) : wrapper;\n        }\n        index = wrapper ? -1 : length;\n        while (++index < length) {\n          func = funcs[index];\n          funcName = getFuncName(func);\n\n          var data = funcName == 'wrapper' ? getData(func) : null;\n          if (data && isLaziable(data[0])) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = (func.length == 1 && isLaziable(func)) ? wrapper[funcName]() : wrapper.thru(func);\n          }\n        }\n        return function() {\n          var args = arguments;\n          if (wrapper && args.length == 1 && isArray(args[0])) {\n            return wrapper.plant(args[0]).value();\n          }\n          var index = 0,\n              result = funcs[index].apply(this, args);\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n          return result;\n        };\n      };\n    }\n\n    /**\n     * Creates a function for `_.forEach` or `_.forEachRight`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over an array.\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @returns {Function} Returns the new each function.\n     */\n    function createForEach(arrayFunc, eachFunc) {\n      return function(collection, iteratee, thisArg) {\n        return (typeof iteratee == 'function' && typeof thisArg == 'undefined' && isArray(collection))\n          ? arrayFunc(collection, iteratee)\n          : eachFunc(collection, bindCallback(iteratee, thisArg, 3));\n      };\n    }\n\n    /**\n     * Creates a function for `_.forIn` or `_.forInRight`.\n     *\n     * @private\n     * @param {Function} objectFunc The function to iterate over an object.\n     * @returns {Function} Returns the new each function.\n     */\n    function createForIn(objectFunc) {\n      return function(object, iteratee, thisArg) {\n        if (typeof iteratee != 'function' || typeof thisArg != 'undefined') {\n          iteratee = bindCallback(iteratee, thisArg, 3);\n        }\n        return objectFunc(object, iteratee, keysIn);\n      };\n    }\n\n    /**\n     * Creates a function for `_.forOwn` or `_.forOwnRight`.\n     *\n     * @private\n     * @param {Function} objectFunc The function to iterate over an object.\n     * @returns {Function} Returns the new each function.\n     */\n    function createForOwn(objectFunc) {\n      return function(object, iteratee, thisArg) {\n        if (typeof iteratee != 'function' || typeof thisArg != 'undefined') {\n          iteratee = bindCallback(iteratee, thisArg, 3);\n        }\n        return objectFunc(object, iteratee);\n      };\n    }\n\n    /**\n     * Creates a function for `_.padLeft` or `_.padRight`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify padding from the right.\n     * @returns {Function} Returns the new pad function.\n     */\n    function createPadDir(fromRight) {\n      return function(string, length, chars) {\n        string = baseToString(string);\n        return string && ((fromRight ? string : '') + createPadding(string, length, chars) + (fromRight ? '' : string));\n      };\n    }\n\n    /**\n     * Creates a `_.partial` or `_.partialRight` function.\n     *\n     * @private\n     * @param {boolean} flag The partial bit flag.\n     * @returns {Function} Returns the new partial function.\n     */\n    function createPartial(flag) {\n      var partialFunc = restParam(function(func, partials) {\n        var holders = replaceHolders(partials, partialFunc.placeholder);\n        return createWrapper(func, flag, null, partials, holders);\n      });\n      return partialFunc;\n    }\n\n    /**\n     * Creates a function for `_.reduce` or `_.reduceRight`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over an array.\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @returns {Function} Returns the new each function.\n     */\n    function createReduce(arrayFunc, eachFunc) {\n      return function(collection, iteratee, accumulator, thisArg) {\n        var initFromArray = arguments.length < 3;\n        return (typeof iteratee == 'function' && typeof thisArg == 'undefined' && isArray(collection))\n          ? arrayFunc(collection, iteratee, accumulator, initFromArray)\n          : baseReduce(collection, getCallback(iteratee, thisArg, 4), accumulator, initFromArray, eachFunc);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` and invokes it with optional `this`\n     * binding of, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to reference.\n     * @param {number} bitmask The bitmask of flags. See `createWrapper` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybridWrapper(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & ARY_FLAG,\n          isBind = bitmask & BIND_FLAG,\n          isBindKey = bitmask & BIND_KEY_FLAG,\n          isCurry = bitmask & CURRY_FLAG,\n          isCurryBound = bitmask & CURRY_BOUND_FLAG,\n          isCurryRight = bitmask & CURRY_RIGHT_FLAG;\n\n      var Ctor = !isBindKey && createCtorWrapper(func),\n          key = func;\n\n      function wrapper() {\n        // Avoid `arguments` object use disqualifying optimizations by\n        // converting it to an array before providing it to other functions.\n        var length = arguments.length,\n            index = length,\n            args = Array(length);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight);\n        }\n        if (isCurry || isCurryRight) {\n          var placeholder = wrapper.placeholder,\n              argsHolders = replaceHolders(args, placeholder);\n\n          length -= argsHolders.length;\n          if (length < arity) {\n            var newArgPos = argPos ? arrayCopy(argPos) : null,\n                newArity = nativeMax(arity - length, 0),\n                newsHolders = isCurry ? argsHolders : null,\n                newHoldersRight = isCurry ? null : argsHolders,\n                newPartials = isCurry ? args : null,\n                newPartialsRight = isCurry ? null : args;\n\n            bitmask |= (isCurry ? PARTIAL_FLAG : PARTIAL_RIGHT_FLAG);\n            bitmask &= ~(isCurry ? PARTIAL_RIGHT_FLAG : PARTIAL_FLAG);\n\n            if (!isCurryBound) {\n              bitmask &= ~(BIND_FLAG | BIND_KEY_FLAG);\n            }\n            var newData = [func, bitmask, thisArg, newPartials, newsHolders, newPartialsRight, newHoldersRight, newArgPos, ary, newArity],\n                result = createHybridWrapper.apply(undefined, newData);\n\n            if (isLaziable(func)) {\n              setData(result, newData);\n            }\n            result.placeholder = placeholder;\n            return result;\n          }\n        }\n        var thisBinding = isBind ? thisArg : this;\n        if (isBindKey) {\n          func = thisBinding[key];\n        }\n        if (argPos) {\n          args = reorder(args, argPos);\n        }\n        if (isAry && ary < args.length) {\n          args.length = ary;\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? (Ctor || createCtorWrapper(func)) : func;\n        return fn.apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates the padding required for `string` based on the given `length`.\n     * The `chars` string is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {string} string The string to create padding for.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the pad for `string`.\n     */\n    function createPadding(string, length, chars) {\n      var strLength = string.length;\n      length = +length;\n\n      if (strLength >= length || !nativeIsFinite(length)) {\n        return '';\n      }\n      var padLength = length - strLength;\n      chars = chars == null ? ' ' : (chars + '');\n      return repeat(chars, ceil(padLength / chars.length)).slice(0, padLength);\n    }\n\n    /**\n     * Creates a function that wraps `func` and invokes it with the optional `this`\n     * binding of `thisArg` and the `partials` prepended to those provided to\n     * the wrapper.\n     *\n     * @private\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {number} bitmask The bitmask of flags. See `createWrapper` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to the new function.\n     * @returns {Function} Returns the new bound function.\n     */\n    function createPartialWrapper(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & BIND_FLAG,\n          Ctor = createCtorWrapper(func);\n\n      function wrapper() {\n        // Avoid `arguments` object use disqualifying optimizations by\n        // converting it to an array before providing it `func`.\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(argsLength + leftLength);\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.sortedIndex` or `_.sortedLastIndex` function.\n     *\n     * @private\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {Function} Returns the new index function.\n     */\n    function createSortedIndex(retHighest) {\n      return function(array, value, iteratee, thisArg) {\n        var func = getCallback(iteratee);\n        return (func === baseCallback && iteratee == null)\n          ? binaryIndex(array, value, retHighest)\n          : binaryIndexBy(array, value, func(iteratee, thisArg, 1), retHighest);\n      };\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to reference.\n     * @param {number} bitmask The bitmask of flags.\n     *  The bitmask may be composed of the following flags:\n     *     1 - `_.bind`\n     *     2 - `_.bindKey`\n     *     4 - `_.curry` or `_.curryRight` of a bound function\n     *     8 - `_.curry`\n     *    16 - `_.curryRight`\n     *    32 - `_.partial`\n     *    64 - `_.partialRight`\n     *   128 - `_.rearg`\n     *   256 - `_.ary`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrapper(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(PARTIAL_FLAG | PARTIAL_RIGHT_FLAG);\n        partials = holders = null;\n      }\n      length -= (holders ? holders.length : 0);\n      if (bitmask & PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = null;\n      }\n      var data = isBindKey ? null : getData(func),\n          newData = [func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity];\n\n      if (data) {\n        mergeData(newData, data);\n        bitmask = newData[1];\n        arity = newData[9];\n      }\n      newData[9] = arity == null\n        ? (isBindKey ? 0 : func.length)\n        : (nativeMax(arity - length, 0) || 0);\n\n      if (bitmask == BIND_FLAG) {\n        var result = createBindWrapper(newData[0], newData[2]);\n      } else if ((bitmask == PARTIAL_FLAG || bitmask == (BIND_FLAG | PARTIAL_FLAG)) && !newData[4].length) {\n        result = createPartialWrapper.apply(undefined, newData);\n      } else {\n        result = createHybridWrapper.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setter(result, newData);\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} [customizer] The function to customize comparing arrays.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA] Tracks traversed `value` objects.\n     * @param {Array} [stackB] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, equalFunc, customizer, isLoose, stackA, stackB) {\n      var index = -1,\n          arrLength = array.length,\n          othLength = other.length,\n          result = true;\n\n      if (arrLength != othLength && !(isLoose && othLength > arrLength)) {\n        return false;\n      }\n      // Deep compare the contents, ignoring non-numeric properties.\n      while (result && ++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index];\n\n        result = undefined;\n        if (customizer) {\n          result = isLoose\n            ? customizer(othValue, arrValue, index)\n            : customizer(arrValue, othValue, index);\n        }\n        if (typeof result == 'undefined') {\n          // Recursively compare arrays (susceptible to call stack limits).\n          if (isLoose) {\n            var othIndex = othLength;\n            while (othIndex--) {\n              othValue = other[othIndex];\n              result = (arrValue && arrValue === othValue) || equalFunc(arrValue, othValue, customizer, isLoose, stackA, stackB);\n              if (result) {\n                break;\n              }\n            }\n          } else {\n            result = (arrValue && arrValue === othValue) || equalFunc(arrValue, othValue, customizer, isLoose, stackA, stackB);\n          }\n        }\n      }\n      return !!result;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} value The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag) {\n      switch (tag) {\n        case boolTag:\n        case dateTag:\n          // Coerce dates and booleans to numbers, dates to milliseconds and booleans\n          // to `1` or `0` treating invalid dates coerced to `NaN` as not equal.\n          return +object == +other;\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case numberTag:\n          // Treat `NaN` vs. `NaN` as equal.\n          return (object != +object)\n            ? other != +other\n            // But, treat `-0` vs. `+0` as not equal.\n            : (object == 0 ? ((1 / object) == (1 / other)) : object == +other);\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings primitives and string\n          // objects as equal. See https://es5.github.io/#x15.10.6.4 for more details.\n          return object == (other + '');\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} [customizer] The function to customize comparing values.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA] Tracks traversed `value` objects.\n     * @param {Array} [stackB] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, equalFunc, customizer, isLoose, stackA, stackB) {\n      var objProps = keys(object),\n          objLength = objProps.length,\n          othProps = keys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isLoose) {\n        return false;\n      }\n      var skipCtor = isLoose,\n          index = -1;\n\n      while (++index < objLength) {\n        var key = objProps[index],\n            result = isLoose ? key in other : hasOwnProperty.call(other, key);\n\n        if (result) {\n          var objValue = object[key],\n              othValue = other[key];\n\n          result = undefined;\n          if (customizer) {\n            result = isLoose\n              ? customizer(othValue, objValue, key)\n              : customizer(objValue, othValue, key);\n          }\n          if (typeof result == 'undefined') {\n            // Recursively compare objects (susceptible to call stack limits).\n            result = (objValue && objValue === othValue) || equalFunc(objValue, othValue, customizer, isLoose, stackA, stackB);\n          }\n        }\n        if (!result) {\n          return false;\n        }\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n      if (!skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor &&\n            ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Gets the extremum value of `collection` invoking `iteratee` for each value\n     * in `collection` to generate the criterion by which the value is ranked.\n     * The `iteratee` is invoked with three arguments: (value, index, collection).\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {boolean} [isMin] Specify returning the minimum, instead of the\n     *  maximum, extremum value.\n     * @returns {*} Returns the extremum value.\n     */\n    function extremumBy(collection, iteratee, isMin) {\n      var exValue = isMin ? POSITIVE_INFINITY : NEGATIVE_INFINITY,\n          computed = exValue,\n          result = computed;\n\n      baseEach(collection, function(value, index, collection) {\n        var current = iteratee(value, index, collection);\n        if ((isMin ? (current < computed) : (current > computed)) ||\n            (current === exValue && current === result)) {\n          computed = current;\n          result = value;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * Gets the appropriate \"callback\" function. If the `_.callback` method is\n     * customized this function returns the custom method, otherwise it returns\n     * the `baseCallback` function. If arguments are provided the chosen function\n     * is invoked with them and its result is returned.\n     *\n     * @private\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getCallback(func, thisArg, argCount) {\n      var result = lodash.callback || callback;\n      result = result === callback ? baseCallback : result;\n      return argCount ? result(func, thisArg, argCount) : result;\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n    var getFuncName = (function() {\n      if (!support.funcNames) {\n        return constant('');\n      }\n      if (constant.name == 'constant') {\n        return baseProperty('name');\n      }\n      return function(func) {\n        var result = func.name,\n            array = realNames[result],\n            length = array ? array.length : 0;\n\n        while (length--) {\n          var data = array[length],\n              otherFunc = data.func;\n\n          if (otherFunc == null || otherFunc == func) {\n            return data.name;\n          }\n        }\n        return result;\n      };\n    }());\n\n    /**\n     * Gets the appropriate \"indexOf\" function. If the `_.indexOf` method is\n     * customized this function returns the custom method, otherwise it returns\n     * the `baseIndexOf` function. If arguments are provided the chosen function\n     * is invoked with them and its result is returned.\n     *\n     * @private\n     * @returns {Function|number} Returns the chosen function or its result.\n     */\n    function getIndexOf(collection, target, fromIndex) {\n      var result = lodash.indexOf || indexOf;\n      result = result === indexOf ? baseIndexOf : result;\n      return collection ? result(collection, target, fromIndex) : result;\n    }\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} [transforms] The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms ? transforms.length : 0;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length);\n\n      // Add array properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      var Ctor = object.constructor;\n      if (!(typeof Ctor == 'function' && Ctor instanceof Ctor)) {\n        Ctor = Object;\n      }\n      return new Ctor;\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return bufferClone(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          var buffer = object.buffer;\n          return new Ctor(isDeep ? bufferClone(buffer) : buffer, object.byteOffset, object.length);\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          var result = new Ctor(object.source, reFlags.exec(object));\n          result.lastIndex = object.lastIndex;\n      }\n      return result;\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      value = +value;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n      return value > -1 && value % 1 == 0 && value < length;\n    }\n\n    /**\n     * Checks if the provided arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call, else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number') {\n        var length = object.length,\n            prereq = isLength(length) && isIndex(index, length);\n      } else {\n        prereq = type == 'string' && index in object;\n      }\n      if (prereq) {\n        var other = object[index];\n        return value === value ? (value === other) : (other !== other);\n      }\n      return false;\n    }\n\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart, else `false`.\n     */\n    function isLaziable(func) {\n      var funcName = getFuncName(func);\n      return !!funcName && func === lodash[funcName] && funcName in LazyWrapper.prototype;\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This function is based on [`ToLength`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength).\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     */\n    function isLength(value) {\n      return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && (value === 0 ? ((1 / value) > 0) : !isObject(value));\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers required to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and `_.rearg`\n     * augment function arguments, making the order in which they are executed important,\n     * preventing the merging of metadata. However, we make an exception for a safe\n     * common case where curried functions have `_.ary` and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < ARY_FLAG;\n\n      var isCombo =\n        (srcBitmask == ARY_FLAG && bitmask == CURRY_FLAG) ||\n        (srcBitmask == ARY_FLAG && bitmask == REARG_FLAG && data[7].length <= source[8]) ||\n        (srcBitmask == (ARY_FLAG | REARG_FLAG) && bitmask == CURRY_FLAG);\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= (bitmask & BIND_FLAG) ? 0 : CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : arrayCopy(value);\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : arrayCopy(source[4]);\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : arrayCopy(value);\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : arrayCopy(source[6]);\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = arrayCopy(value);\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * A specialized version of `_.pick` that picks `object` properties specified\n     * by the `props` array.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} props The property names to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function pickByArray(object, props) {\n      object = toObject(object);\n\n      var index = -1,\n          length = props.length,\n          result = {};\n\n      while (++index < length) {\n        var key = props[index];\n        if (key in object) {\n          result[key] = object[key];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.pick` that picks `object` properties `predicate`\n     * returns truthy for.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Object} Returns the new object.\n     */\n    function pickByCallback(object, predicate) {\n      var result = {};\n      baseForIn(object, function(value, key, object) {\n        if (predicate(value, key, object)) {\n          result[key] = value;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = arrayCopy(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity function\n     * to avoid garbage collection pauses in V8. See [V8 issue 2070](https://code.google.com/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = (function() {\n      var count = 0,\n          lastCalled = 0;\n\n      return function(key, value) {\n        var stamp = now(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return key;\n          }\n        } else {\n          count = 0;\n        }\n        return baseSetData(key, value);\n      };\n    }());\n\n    /**\n     * A fallback implementation of `_.isPlainObject` which checks if `value`\n     * is an object created by the `Object` constructor or has a `[[Prototype]]`\n     * of `null`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     */\n    function shimIsPlainObject(value) {\n      var Ctor,\n          support = lodash.support;\n\n      // Exit early for non `Object` objects.\n      if (!(isObjectLike(value) && objToString.call(value) == objectTag) ||\n          (!hasOwnProperty.call(value, 'constructor') &&\n            (Ctor = value.constructor, typeof Ctor == 'function' && !(Ctor instanceof Ctor)))) {\n        return false;\n      }\n      // IE < 9 iterates inherited properties before own properties. If the first\n      // iterated property is an object's own property then there are no inherited\n      // enumerable properties.\n      var result;\n      // In most environments an object's own properties are iterated before\n      // its inherited properties. If the last iterated property is an object's\n      // own property then there are no inherited enumerable properties.\n      baseForIn(value, function(subValue, key) {\n        result = key;\n      });\n      return typeof result == 'undefined' || hasOwnProperty.call(value, result);\n    }\n\n    /**\n     * A fallback implementation of `Object.keys` which creates an array of the\n     * own enumerable property names of `object`.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the array of property names.\n     */\n    function shimKeys(object) {\n      var props = keysIn(object),\n          propsLength = props.length,\n          length = propsLength && object.length,\n          support = lodash.support;\n\n      var allowIndexes = length && isLength(length) &&\n        (isArray(object) || (support.nonEnumArgs && isArguments(object)));\n\n      var index = -1,\n          result = [];\n\n      while (++index < propsLength) {\n        var key = props[index];\n        if ((allowIndexes && isIndex(key, length)) || hasOwnProperty.call(object, key)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to an array-like object if it is not one.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {Array|Object} Returns the array-like object.\n     */\n    function toIterable(value) {\n      if (value == null) {\n        return [];\n      }\n      if (!isLength(value.length)) {\n        return values(value);\n      }\n      return isObject(value) ? value : Object(value);\n    }\n\n    /**\n     * Converts `value` to an object if it is not one.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {Object} Returns the object.\n     */\n    function toObject(value) {\n      return isObject(value) ? value : Object(value);\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      return wrapper instanceof LazyWrapper\n        ? wrapper.clone()\n        : new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__, arrayCopy(wrapper.__actions__));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `collection` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the new array containing chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if (guard ? isIterateeCall(array, size, guard) : size == null) {\n        size = 1;\n      } else {\n        size = nativeMax(+size || 1, 1);\n      }\n      var index = 0,\n          length = array ? array.length : 0,\n          resIndex = -1,\n          result = Array(ceil(length / size));\n\n      while (index < length) {\n        result[++resIndex] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array ? array.length : 0,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[++resIndex] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array excluding all values of the provided arrays using\n     * `SameValueZero` for equality comparisons.\n     *\n     * **Note:** [`SameValueZero`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * comparisons are like strict equality comparisons, e.g. `===`, except that\n     * `NaN` matches `NaN`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The arrays of values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.difference([1, 2, 3], [4, 2]);\n     * // => [1, 3]\n     */\n    var difference = restParam(function(array, values) {\n      return (isArray(array) || isArguments(array))\n        ? baseDifference(array, baseFlatten(values, false, true))\n        : [];\n    });\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      return baseSlice(array, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      n = length - (+n || 0);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * bound to `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that match the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRightWhile([1, 2, 3], function(n) {\n     *   return n > 1;\n     * });\n     * // => [1]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.dropRightWhile(users, { 'user': 'pebbles', 'active': false }), 'user');\n     * // => ['barney', 'fred']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.dropRightWhile(users, 'active', false), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.dropRightWhile(users, 'active'), 'user');\n     * // => ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3), true, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * bound to `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropWhile([1, 2, 3], function(n) {\n     *   return n < 3;\n     * });\n     * // => [3]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.dropWhile(users, { 'user': 'barney', 'active': false }), 'user');\n     * // => ['fred', 'pebbles']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.dropWhile(users, 'active', false), 'user');\n     * // => ['pebbles']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.dropWhile(users, 'active'), 'user');\n     * // => ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3), true)\n        : [];\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8], '*', 1, 2);\n     * // => [4, '*', 8]\n     */\n    function fill(array, value, start, end) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(chr) {\n     *   return chr.user == 'barney';\n     * });\n     * // => 0\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findIndex(users, 'active', false);\n     * // => 0\n     *\n     * // using the `_.property` callback shorthand\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    var findIndex = createFindIndex();\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(chr) {\n     *   return chr.user == 'pebbles';\n     * });\n     * // => 2\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findLastIndex(users, 'active', false);\n     * // => 2\n     *\n     * // using the `_.property` callback shorthand\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    var findLastIndex = createFindIndex(true);\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @alias head\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.first([1, 2, 3]);\n     * // => 1\n     *\n     * _.first([]);\n     * // => undefined\n     */\n    function first(array) {\n      return array ? array[0] : undefined;\n    }\n\n    /**\n     * Flattens a nested array. If `isDeep` is `true` the array is recursively\n     * flattened, otherwise it is only flattened a single level.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {boolean} [isDeep] Specify a deep flatten.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, 3, [4]]]);\n     * // => [1, 2, 3, [4]]\n     *\n     * // using `isDeep`\n     * _.flatten([1, [2, 3, [4]]], true);\n     * // => [1, 2, 3, 4]\n     */\n    function flatten(array, isDeep, guard) {\n      var length = array ? array.length : 0;\n      if (guard && isIterateeCall(array, isDeep, guard)) {\n        isDeep = false;\n      }\n      return length ? baseFlatten(array, isDeep) : [];\n    }\n\n    /**\n     * Recursively flattens a nested array.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to recursively flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, 3, [4]]]);\n     * // => [1, 2, 3, 4]\n     */\n    function flattenDeep(array) {\n      var length = array ? array.length : 0;\n      return length ? baseFlatten(array, true) : [];\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using `SameValueZero` for equality comparisons. If `fromIndex` is negative,\n     * it is used as the offset from the end of `array`. If `array` is sorted\n     * providing `true` for `fromIndex` performs a faster binary search.\n     *\n     * **Note:** [`SameValueZero`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * comparisons are like strict equality comparisons, e.g. `===`, except that\n     * `NaN` matches `NaN`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {*} value The value to search for.\n     * @param {boolean|number} [fromIndex=0] The index to search from or `true`\n     *  to perform a binary search on a sorted array.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // using `fromIndex`\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     *\n     * // performing a binary search\n     * _.indexOf([1, 1, 2, 2], 2, true);\n     * // => 2\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return -1;\n      }\n      if (typeof fromIndex == 'number') {\n        fromIndex = fromIndex < 0 ? nativeMax(length + fromIndex, 0) : fromIndex;\n      } else if (fromIndex) {\n        var index = binaryIndex(array, value),\n            other = array[index];\n\n        if (value === value ? (value === other) : (other !== other)) {\n          return index;\n        }\n        return -1;\n      }\n      return baseIndexOf(array, value, fromIndex || 0);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      return dropRight(array, 1);\n    }\n\n    /**\n     * Creates an array of unique values in all provided arrays using `SameValueZero`\n     * for equality comparisons.\n     *\n     * **Note:** [`SameValueZero`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * comparisons are like strict equality comparisons, e.g. `===`, except that\n     * `NaN` matches `NaN`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of shared values.\n     * @example\n     * _.intersection([1, 2], [4, 2], [2, 1]);\n     * // => [2]\n     */\n    function intersection() {\n      var args = [],\n          argsIndex = -1,\n          argsLength = arguments.length,\n          caches = [],\n          indexOf = getIndexOf(),\n          isCommon = indexOf == baseIndexOf;\n\n      while (++argsIndex < argsLength) {\n        var value = arguments[argsIndex];\n        if (isArray(value) || isArguments(value)) {\n          args.push(value);\n          caches.push((isCommon && value.length >= 120) ? createCache(argsIndex && value) : null);\n        }\n      }\n      argsLength = args.length;\n      var array = args[0],\n          index = -1,\n          length = array ? array.length : 0,\n          result = [],\n          seen = caches[0];\n\n      outer:\n      while (++index < length) {\n        value = array[index];\n        if ((seen ? cacheIndexOf(seen, value) : indexOf(result, value, 0)) < 0) {\n          argsIndex = argsLength;\n          while (--argsIndex) {\n            var cache = caches[argsIndex];\n            if ((cache ? cacheIndexOf(cache, value) : indexOf(args[argsIndex], value, 0)) < 0) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(value);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array ? array.length : 0;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {*} value The value to search for.\n     * @param {boolean|number} [fromIndex=array.length-1] The index to search from\n     *  or `true` to perform a binary search on a sorted array.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // using `fromIndex`\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     *\n     * // performing a binary search\n     * _.lastIndexOf([1, 1, 2, 2], 2, true);\n     * // => 3\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (typeof fromIndex == 'number') {\n        index = (fromIndex < 0 ? nativeMax(length + fromIndex, 0) : nativeMin(fromIndex || 0, length - 1)) + 1;\n      } else if (fromIndex) {\n        index = binaryIndex(array, value, true) - 1;\n        var other = array[index];\n        if (value === value ? (value === other) : (other !== other)) {\n          return index;\n        }\n        return -1;\n      }\n      if (value !== value) {\n        return indexOfNaN(array, index, true);\n      }\n      while (index--) {\n        if (array[index] === value) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Removes all provided values from `array` using `SameValueZero` for equality\n     * comparisons.\n     *\n     * **Notes:**\n     *  - Unlike `_.without`, this method mutates `array`\n     *  - [`SameValueZero`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     *    comparisons are like strict equality comparisons, e.g. `===`, except\n     *    that `NaN` matches `NaN`\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3, 1, 2, 3];\n     *\n     * _.pull(array, 2, 3);\n     * console.log(array);\n     * // => [1, 1]\n     */\n    function pull() {\n      var args = arguments,\n          array = args[0];\n\n      if (!(array && array.length)) {\n        return array;\n      }\n      var index = 0,\n          indexOf = getIndexOf(),\n          length = args.length;\n\n      while (++index < length) {\n        var fromIndex = 0,\n            value = args[index];\n\n        while ((fromIndex = indexOf(array, value, fromIndex)) > -1) {\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to the given indexes and returns\n     * an array of the removed elements. Indexes may be specified as an array of\n     * indexes or as individual arguments.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove,\n     *  specified as individual indexes or arrays of indexes.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [5, 10, 15, 20];\n     * var evens = _.pullAt(array, 1, 3);\n     *\n     * console.log(array);\n     * // => [5, 15]\n     *\n     * console.log(evens);\n     * // => [10, 20]\n     */\n    var pullAt = restParam(function(array, indexes) {\n      array || (array = []);\n      indexes = baseFlatten(indexes);\n\n      var length = indexes.length,\n          result = baseAt(array, indexes);\n\n      indexes.sort(baseCompareAscending);\n      while (length--) {\n        var index = parseFloat(indexes[length]);\n        if (index != previous && isIndex(index)) {\n          var previous = index;\n          splice.call(array, index, 1);\n        }\n      }\n      return result;\n    });\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is bound to\n     * `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate, thisArg) {\n      var index = -1,\n          length = array ? array.length : 0,\n          result = [];\n\n      predicate = getCallback(predicate, thisArg, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          splice.call(array, index--, 1);\n          length--;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @alias tail\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.rest([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function rest(array) {\n      return drop(array, 1);\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This function is used instead of `Array#slice` to support node\n     * lists in IE < 9 and to ensure dense arrays are returned.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value` should\n     * be inserted into `array` in order to maintain its sort order. If an iteratee\n     * function is provided it is invoked for `value` and each element of `array`\n     * to compute their sort ranking. The iteratee is bound to `thisArg` and\n     * invoked with one argument; (value).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     *\n     * _.sortedIndex([4, 4, 5, 5], 5);\n     * // => 2\n     *\n     * var dict = { 'data': { 'thirty': 30, 'forty': 40, 'fifty': 50 } };\n     *\n     * // using an iteratee function\n     * _.sortedIndex(['thirty', 'fifty'], 'forty', function(word) {\n     *   return this.data[word];\n     * }, dict);\n     * // => 1\n     *\n     * // using the `_.property` callback shorthand\n     * _.sortedIndex([{ 'x': 30 }, { 'x': 50 }], { 'x': 40 }, 'x');\n     * // => 1\n     */\n    var sortedIndex = createSortedIndex();\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 4, 5, 5], 5);\n     * // => 4\n     */\n    var sortedLastIndex = createSortedIndex(true);\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      n = length - (+n || 0);\n      return baseSlice(array, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is bound to `thisArg`\n     * and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRightWhile([1, 2, 3], function(n) {\n     *   return n > 1;\n     * });\n     * // => [2, 3]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.takeRightWhile(users, { 'user': 'pebbles', 'active': false }), 'user');\n     * // => ['pebbles']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.takeRightWhile(users, 'active', false), 'user');\n     * // => ['fred', 'pebbles']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.takeRightWhile(users, 'active'), 'user');\n     * // => []\n     */\n    function takeRightWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3), false, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is bound to\n     * `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeWhile([1, 2, 3], function(n) {\n     *   return n < 3;\n     * });\n     * // => [1, 2]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false},\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.takeWhile(users, { 'user': 'barney', 'active': false }), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.takeWhile(users, 'active', false), 'user');\n     * // => ['barney', 'fred']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.takeWhile(users, 'active'), 'user');\n     * // => []\n     */\n    function takeWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3))\n        : [];\n    }\n\n    /**\n     * Creates an array of unique values, in order, of the provided arrays using\n     * `SameValueZero` for equality comparisons.\n     *\n     * **Note:** [`SameValueZero`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * comparisons are like strict equality comparisons, e.g. `===`, except that\n     * `NaN` matches `NaN`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([1, 2], [4, 2], [2, 1]);\n     * // => [1, 2, 4]\n     */\n    var union = restParam(function(arrays) {\n      return baseUniq(baseFlatten(arrays, false, true));\n    });\n\n    /**\n     * Creates a duplicate-value-free version of an array using `SameValueZero`\n     * for equality comparisons. Providing `true` for `isSorted` performs a faster\n     * search algorithm for sorted arrays. If an iteratee function is provided it\n     * is invoked for each value in the array to generate the criterion by which\n     * uniqueness is computed. The `iteratee` is bound to `thisArg` and invoked\n     * with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * **Note:** [`SameValueZero`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * comparisons are like strict equality comparisons, e.g. `===`, except that\n     * `NaN` matches `NaN`.\n     *\n     * @static\n     * @memberOf _\n     * @alias unique\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {boolean} [isSorted] Specify the array is sorted.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new duplicate-value-free array.\n     * @example\n     *\n     * _.uniq([1, 2, 1]);\n     * // => [1, 2]\n     *\n     * // using `isSorted`\n     * _.uniq([1, 1, 2], true);\n     * // => [1, 2]\n     *\n     * // using an iteratee function\n     * _.uniq([1, 2.5, 1.5, 2], function(n) {\n     *   return this.floor(n);\n     * }, Math);\n     * // => [1, 2.5]\n     *\n     * // using the `_.property` callback shorthand\n     * _.uniq([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniq(array, isSorted, iteratee, thisArg) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (isSorted != null && typeof isSorted != 'boolean') {\n        thisArg = iteratee;\n        iteratee = isIterateeCall(array, isSorted, thisArg) ? null : isSorted;\n        isSorted = false;\n      }\n      var func = getCallback();\n      if (!(func === baseCallback && iteratee == null)) {\n        iteratee = func(iteratee, thisArg, 3);\n      }\n      return (isSorted && getIndexOf() == baseIndexOf)\n        ? sortedUniq(array, iteratee)\n        : baseUniq(array, iteratee);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-`_.zip`\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['fred', 'barney'], [30, 40], [true, false]);\n     * // => [['fred', 30, true], ['barney', 40, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['fred', 'barney'], [30, 40], [true, false]]\n     */\n    function unzip(array) {\n      var index = -1,\n          length = (array && array.length && arrayMax(arrayMap(array, getLength))) >>> 0,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = arrayMap(array, baseProperty(index));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array excluding all provided values using `SameValueZero` for\n     * equality comparisons.\n     *\n     * **Note:** [`SameValueZero`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * comparisons are like strict equality comparisons, e.g. `===`, except that\n     * `NaN` matches `NaN`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to filter.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.without([1, 2, 1, 3], 1, 2);\n     * // => [3]\n     */\n    var without = restParam(function(array, values) {\n      return (isArray(array) || isArguments(array))\n        ? baseDifference(array, values)\n        : [];\n    });\n\n    /**\n     * Creates an array that is the [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the provided arrays.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of values.\n     * @example\n     *\n     * _.xor([1, 2], [4, 2]);\n     * // => [1, 4]\n     */\n    function xor() {\n      var index = -1,\n          length = arguments.length;\n\n      while (++index < length) {\n        var array = arguments[index];\n        if (isArray(array) || isArguments(array)) {\n          var result = result\n            ? baseDifference(result, array).concat(baseDifference(array, result))\n            : array;\n        }\n      }\n      return result ? baseUniq(result) : [];\n    }\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the first\n     * elements of the given arrays, the second of which contains the second elements\n     * of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['fred', 'barney'], [30, 40], [true, false]);\n     * // => [['fred', 30, true], ['barney', 40, false]]\n     */\n    var zip = restParam(unzip);\n\n    /**\n     * The inverse of `_.pairs`; this method returns an object composed from arrays\n     * of property names and values. Provide either a single two dimensional array,\n     * e.g. `[[key1, value1], [key2, value2]]` or two arrays, one of property names\n     * and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @alias object\n     * @category Array\n     * @param {Array} props The property names.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject([['fred', 30], ['barney', 40]]);\n     * // => { 'fred': 30, 'barney': 40 }\n     *\n     * _.zipObject(['fred', 'barney'], [30, 40]);\n     * // => { 'fred': 30, 'barney': 40 }\n     */\n    function zipObject(props, values) {\n      var index = -1,\n          length = props ? props.length : 0,\n          result = {};\n\n      if (length && !values && !isArray(props[0])) {\n        values = [];\n      }\n      while (++index < length) {\n        var key = props[index];\n        if (values) {\n          result[key] = values[index];\n        } else if (key) {\n          result[key[0]] = key[1];\n        }\n      }\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object that wraps `value` with explicit method\n     * chaining enabled.\n     *\n     * @static\n     * @memberOf _\n     * @category Chain\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _.chain(users)\n     *   .sortBy('age')\n     *   .map(function(chr) {\n     *     return chr.user + ' is ' + chr.age;\n     *   })\n     *   .first()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor is\n     * bound to `thisArg` and invoked with one argument; (value). The purpose of\n     * this method is to \"tap into\" a method chain in order to perform operations\n     * on intermediate results within the chain.\n     *\n     * @static\n     * @memberOf _\n     * @category Chain\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @param {*} [thisArg] The `this` binding of `interceptor`.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor, thisArg) {\n      interceptor.call(thisArg, value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     *\n     * @static\n     * @memberOf _\n     * @category Chain\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @param {*} [thisArg] The `this` binding of `interceptor`.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n    function thru(value, interceptor, thisArg) {\n      return interceptor.call(thisArg, value);\n    }\n\n    /**\n     * Enables explicit method chaining on the wrapper object.\n     *\n     * @name chain\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // without explicit chaining\n     * _(users).first();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // with explicit chaining\n     * _(users).chain()\n     *   .first()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chained sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapper = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapper = wrapper.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapper.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Creates a clone of the chained sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapper = _(array).map(function(value) {\n     *   return Math.pow(value, 2);\n     * });\n     *\n     * var other = [3, 4];\n     * var otherWrapper = wrapper.plant(other);\n     *\n     * otherWrapper.value();\n     * // => [9, 16]\n     *\n     * wrapper.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * Reverses the wrapped array so the first element becomes the last, the\n     * second element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new reversed `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n      if (value instanceof LazyWrapper) {\n        if (this.__actions__.length) {\n          value = new LazyWrapper(this);\n        }\n        return new LodashWrapper(value.reverse(), this.__chain__);\n      }\n      return this.thru(function(value) {\n        return value.reverse();\n      });\n    }\n\n    /**\n     * Produces the result of coercing the unwrapped value to a string.\n     *\n     * @name toString\n     * @memberOf _\n     * @category Chain\n     * @returns {string} Returns the coerced string value.\n     * @example\n     *\n     * _([1, 2, 3]).toString();\n     * // => '1,2,3'\n     */\n    function wrapperToString() {\n      return (this.value() + '');\n    }\n\n    /**\n     * Executes the chained sequence to extract the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @alias run, toJSON, valueOf\n     * @category Chain\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements corresponding to the given keys, or indexes,\n     * of `collection`. Keys may be specified as individual arguments or as arrays\n     * of keys.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {...(number|number[]|string|string[])} [props] The property names\n     *  or indexes of elements to pick, specified individually or in arrays.\n     * @returns {Array} Returns the new array of picked elements.\n     * @example\n     *\n     * _.at(['a', 'b', 'c'], [0, 2]);\n     * // => ['a', 'c']\n     *\n     * _.at(['barney', 'fred', 'pebbles'], 0, 2);\n     * // => ['barney', 'pebbles']\n     */\n    var at = restParam(function(collection, props) {\n      var length = collection ? collection.length : 0;\n      if (isLength(length)) {\n        collection = toIterable(collection);\n      }\n      return baseAt(collection, baseFlatten(props));\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through `iteratee`. The corresponding value\n     * of each key is the number of times the key was returned by `iteratee`.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([4.3, 6.1, 6.4], function(n) {\n     *   return Math.floor(n);\n     * });\n     * // => { '4': 1, '6': 2 }\n     *\n     * _.countBy([4.3, 6.1, 6.4], function(n) {\n     *   return this.floor(n);\n     * }, Math);\n     * // => { '4': 1, '6': 2 }\n     *\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      hasOwnProperty.call(result, key) ? ++result[key] : (result[key] = 1);\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * The predicate is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias all\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': false },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.every(users, 'active', false);\n     * // => true\n     *\n     * // using the `_.property` callback shorthand\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (thisArg && isIterateeCall(collection, predicate, thisArg)) {\n        predicate = null;\n      }\n      if (typeof predicate != 'function' || typeof thisArg != 'undefined') {\n        predicate = getCallback(predicate, thisArg, 3);\n      }\n      return func(collection, predicate);\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is bound to `thisArg` and\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias select\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the new filtered array.\n     * @example\n     *\n     * _.filter([4, 5, 6], function(n) {\n     *   return n % 2 == 0;\n     * });\n     * // => [4, 6]\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.filter(users, { 'age': 36, 'active': true }), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.filter(users, 'active', false), 'user');\n     * // => ['fred']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.filter(users, 'active'), 'user');\n     * // => ['barney']\n     */\n    function filter(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      predicate = getCallback(predicate, thisArg, 3);\n      return func(collection, predicate);\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is bound to `thisArg` and\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias detect\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.result(_.find(users, function(chr) {\n     *   return chr.age < 40;\n     * }), 'user');\n     * // => 'barney'\n     *\n     * // using the `_.matches` callback shorthand\n     * _.result(_.find(users, { 'age': 1, 'active': true }), 'user');\n     * // => 'pebbles'\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.result(_.find(users, 'active', false), 'user');\n     * // => 'fred'\n     *\n     * // using the `_.property` callback shorthand\n     * _.result(_.find(users, 'active'), 'user');\n     * // => 'barney'\n     */\n    var find = createFind(baseEach);\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    var findLast = createFind(baseEachRight, true);\n\n    /**\n     * Performs a deep comparison between each element in `collection` and the\n     * source object, returning the first element that has equivalent property\n     * values.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. For comparing a single\n     * own or inherited property value see `_.matchesProperty`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Object} source The object of property values to match.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.result(_.findWhere(users, { 'age': 36, 'active': true }), 'user');\n     * // => 'barney'\n     *\n     * _.result(_.findWhere(users, { 'age': 40, 'active': false }), 'user');\n     * // => 'fred'\n     */\n    function findWhere(collection, source) {\n      return find(collection, baseMatches(source));\n    }\n\n    /**\n     * Iterates over elements of `collection` invoking `iteratee` for each element.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection). Iterator functions may exit iteration early\n     * by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a `length` property\n     * are iterated like arrays. To avoid this behavior `_.forIn` or `_.forOwn`\n     * may be used for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @alias each\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array|Object|string} Returns `collection`.\n     * @example\n     *\n     * _([1, 2]).forEach(function(n) {\n     *   console.log(n);\n     * }).value();\n     * // => logs each value from left to right and returns the array\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(n, key) {\n     *   console.log(n, key);\n     * });\n     * // => logs each value-key pair and returns the object (iteration order is not guaranteed)\n     */\n    var forEach = createForEach(arrayEach, baseEach);\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array|Object|string} Returns `collection`.\n     * @example\n     *\n     * _([1, 2]).forEachRight(function(n) {\n     *   console.log(n);\n     * }).value();\n     * // => logs each value from right to left and returns the array\n     */\n    var forEachRight = createForEach(arrayEachRight, baseEachRight);\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through `iteratee`. The corresponding value\n     * of each key is an array of the elements responsible for generating the key.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([4.2, 6.1, 6.4], function(n) {\n     *   return Math.floor(n);\n     * });\n     * // => { '4': [4.2], '6': [6.1, 6.4] }\n     *\n     * _.groupBy([4.2, 6.1, 6.4], function(n) {\n     *   return this.floor(n);\n     * }, Math);\n     * // => { '4': [4.2], '6': [6.1, 6.4] }\n     *\n     * // using the `_.property` callback shorthand\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        result[key] = [value];\n      }\n    });\n\n    /**\n     * Checks if `value` is in `collection` using `SameValueZero` for equality\n     * comparisons. If `fromIndex` is negative, it is used as the offset from\n     * the end of `collection`.\n     *\n     * **Note:** [`SameValueZero`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * comparisons are like strict equality comparisons, e.g. `===`, except that\n     * `NaN` matches `NaN`.\n     *\n     * @static\n     * @memberOf _\n     * @alias contains, include\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {*} target The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.reduce`.\n     * @returns {boolean} Returns `true` if a matching element is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'user': 'fred', 'age': 40 }, 'fred');\n     * // => true\n     *\n     * _.includes('pebbles', 'eb');\n     * // => true\n     */\n    function includes(collection, target, fromIndex, guard) {\n      var length = collection ? collection.length : 0;\n      if (!isLength(length)) {\n        collection = values(collection);\n        length = collection.length;\n      }\n      if (!length) {\n        return false;\n      }\n      if (typeof fromIndex != 'number' || (guard && isIterateeCall(target, fromIndex, guard))) {\n        fromIndex = 0;\n      } else {\n        fromIndex = fromIndex < 0 ? nativeMax(length + fromIndex, 0) : (fromIndex || 0);\n      }\n      return (typeof collection == 'string' || !isArray(collection) && isString(collection))\n        ? (fromIndex < length && collection.indexOf(target, fromIndex) > -1)\n        : (getIndexOf(collection, target, fromIndex) > -1);\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through `iteratee`. The corresponding value\n     * of each key is the last element responsible for generating the key. The\n     * iteratee function is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var keyData = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.indexBy(keyData, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.indexBy(keyData, function(object) {\n     *   return String.fromCharCode(object.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.indexBy(keyData, function(object) {\n     *   return this.fromCharCode(object.code);\n     * }, String);\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     */\n    var indexBy = createAggregator(function(result, value, key) {\n      result[key] = value;\n    });\n\n    /**\n     * Invokes the method named by `methodName` on each element in `collection`,\n     * returning an array of the results of each invoked method. Any additional\n     * arguments are provided to each invoked method. If `methodName` is a function\n     * it is invoked for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|string} methodName The name of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invoke([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invoke([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    var invoke = restParam(function(collection, methodName, args) {\n      var index = -1,\n          isFunc = typeof methodName == 'function',\n          length = collection ? collection.length : 0,\n          result = isLength(length) ? Array(length) : [];\n\n      baseEach(collection, function(value) {\n        var func = isFunc ? methodName : (value != null && value[methodName]);\n        result[++index] = func ? func.apply(value, args) : undefined;\n      });\n      return result;\n    });\n\n    /**\n     * Creates an array of values by running each element in `collection` through\n     * `iteratee`. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * Many lodash methods are guarded to work as interatees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `callback`, `chunk`, `clone`, `create`, `curry`, `curryRight`, `drop`,\n     * `dropRight`, `every`, `fill`, `flatten`, `invert`, `max`, `min`, `parseInt`,\n     * `slice`, `sortBy`, `take`, `takeRight`, `template`, `trim`, `trimLeft`,\n     * `trimRight`, `trunc`, `random`, `range`, `sample`, `some`, `uniq`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @alias collect\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     *  create a `_.property` or `_.matches` style callback respectively.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function timesThree(n) {\n     *   return n * 3;\n     * }\n     *\n     * _.map([1, 2], timesThree);\n     * // => [3, 6]\n     *\n     * _.map({ 'a': 1, 'b': 2 }, timesThree);\n     * // => [3, 6] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // using the `_.property` callback shorthand\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee, thisArg) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      iteratee = getCallback(iteratee, thisArg, 3);\n      return func(collection, iteratee);\n    }\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, while the second of which\n     * contains elements `predicate` returns falsey for. The predicate is bound\n     * to `thisArg` and invoked with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * _.partition([1, 2, 3], function(n) {\n     *   return n % 2;\n     * });\n     * // => [[1, 3], [2]]\n     *\n     * _.partition([1.2, 2.3, 3.4], function(n) {\n     *   return this.floor(n) % 2;\n     * }, Math);\n     * // => [[1.2, 3.4], [2.3]]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * var mapper = function(array) {\n     *   return _.pluck(array, 'user');\n     * };\n     *\n     * // using the `_.matches` callback shorthand\n     * _.map(_.partition(users, { 'age': 1, 'active': false }), mapper);\n     * // => [['pebbles'], ['barney', 'fred']]\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.map(_.partition(users, 'active', false), mapper);\n     * // => [['barney', 'pebbles'], ['fred']]\n     *\n     * // using the `_.property` callback shorthand\n     * _.map(_.partition(users, 'active'), mapper);\n     * // => [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Gets the value of `key` from all elements in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {string} key The key of the property to pluck.\n     * @returns {Array} Returns the property values.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.pluck(users, 'user');\n     * // => ['barney', 'fred']\n     *\n     * var userIndex = _.indexBy(users, 'user');\n     * _.pluck(userIndex, 'age');\n     * // => [36, 40] (iteration order is not guaranteed)\n     */\n    function pluck(collection, key) {\n      return map(collection, baseProperty(key));\n    }\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` through `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not provided the first element of `collection` is used as the initial\n     * value. The `iteratee` is bound to `thisArg` and invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as interatees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `includes`, `merge`, `sortByAll`, and `sortByOrder`\n     *\n     * @static\n     * @memberOf _\n     * @alias foldl, inject\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.reduce([1, 2], function(sum, n) {\n     *   return sum + n;\n     * });\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2 }, function(result, n, key) {\n     *   result[key] = n * 3;\n     *   return result;\n     * }, {});\n     * // => { 'a': 3, 'b': 6 } (iteration order is not guaranteed)\n     */\n    var reduce = createReduce(arrayReduce, baseEach);\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias foldr\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    var reduceRight =  createReduce(arrayReduceRight, baseEachRight);\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the new filtered array.\n     * @example\n     *\n     * _.reject([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 0;\n     * });\n     * // => [1, 3]\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.reject(users, { 'age': 40, 'active': true }), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.reject(users, 'active', false), 'user');\n     * // => ['fred']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.reject(users, 'active'), 'user');\n     * // => ['barney']\n     */\n    function reject(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      predicate = getCallback(predicate, thisArg, 3);\n      return func(collection, function(value, index, collection) {\n        return !predicate(value, index, collection);\n      });\n    }\n\n    /**\n     * Gets a random element or `n` random elements from a collection.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to sample.\n     * @param {number} [n] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {*} Returns the random sample(s).\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     *\n     * _.sample([1, 2, 3, 4], 2);\n     * // => [3, 1]\n     */\n    function sample(collection, n, guard) {\n      if (guard ? isIterateeCall(collection, n, guard) : n == null) {\n        collection = toIterable(collection);\n        var length = collection.length;\n        return length > 0 ? collection[baseRandom(0, length - 1)] : undefined;\n      }\n      var result = shuffle(collection);\n      result.length = nativeMin(n < 0 ? 0 : (+n || 0), result.length);\n      return result;\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      collection = toIterable(collection);\n\n      var index = -1,\n          length = collection.length,\n          result = Array(length);\n\n      while (++index < length) {\n        var rand = baseRandom(0, index);\n        if (index != rand) {\n          result[index] = result[rand];\n        }\n        result[rand] = collection[index];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the size of `collection`.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      var length = collection ? collection.length : 0;\n      return isLength(length) ? length : keys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * The function returns as soon as it finds a passing value and does not iterate\n     * over the entire collection. The predicate is bound to `thisArg` and invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias any\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.some(users, 'active', false);\n     * // => true\n     *\n     * // using the `_.property` callback shorthand\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (thisArg && isIterateeCall(collection, predicate, thisArg)) {\n        predicate = null;\n      }\n      if (typeof predicate != 'function' || typeof thisArg != 'undefined') {\n        predicate = getCallback(predicate, thisArg, 3);\n      }\n      return func(collection, predicate);\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection through `iteratee`. This method performs\n     * a stable sort, that is, it preserves the original sort order of equal elements.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Array|Function|Object|string} [iteratee=_.identity] The function\n     *  invoked per iteration. If a property name or an object is provided it is\n     *  used to create a `_.property` or `_.matches` style callback respectively.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * _.sortBy([1, 2, 3], function(n) {\n     *   return Math.sin(n);\n     * });\n     * // => [3, 1, 2]\n     *\n     * _.sortBy([1, 2, 3], function(n) {\n     *   return this.sin(n);\n     * }, Math);\n     * // => [3, 1, 2]\n     *\n     * var users = [\n     *   { 'user': 'fred' },\n     *   { 'user': 'pebbles' },\n     *   { 'user': 'barney' }\n     * ];\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.sortBy(users, 'user'), 'user');\n     * // => ['barney', 'fred', 'pebbles']\n     */\n    function sortBy(collection, iteratee, thisArg) {\n      if (collection == null) {\n        return [];\n      }\n      var index = -1,\n          length = collection.length,\n          result = isLength(length) ? Array(length) : [];\n\n      if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\n        iteratee = null;\n      }\n      iteratee = getCallback(iteratee, thisArg, 3);\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = { 'criteria': iteratee(value, key, collection), 'index': index, 'value': value };\n      });\n      return baseSortBy(result, compareAscending);\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it sorts by property names\n     * instead of an iteratee function.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {...(string|string[])} props The property names to sort by,\n     *  specified as individual property names or arrays of property names.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 26 },\n     *   { 'user': 'fred',   'age': 30 }\n     * ];\n     *\n     * _.map(_.sortByAll(users, ['user', 'age']), _.values);\n     * // => [['barney', 26], ['barney', 36], ['fred', 30], ['fred', 40]]\n     */\n    function sortByAll() {\n      var args = arguments,\n          collection = args[0],\n          guard = args[3],\n          index = 0,\n          length = args.length - 1;\n\n      if (collection == null) {\n        return [];\n      }\n      var props = Array(length);\n      while (index < length) {\n        props[index] = args[++index];\n      }\n      if (guard && isIterateeCall(args[1], args[2], guard)) {\n        props = args[1];\n      }\n      return baseSortByOrder(collection, baseFlatten(props), []);\n    }\n\n    /**\n     * This method is like `_.sortByAll` except that it allows specifying the\n     * sort orders of the property names to sort by. A truthy value in `orders`\n     * will sort the corresponding property name in ascending order while a\n     * falsey value will sort it in descending order.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {string[]} props The property names to sort by.\n     * @param {boolean[]} orders The sort orders of `props`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 26 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 30 }\n     * ];\n     *\n     * // sort by `user` in ascending order and by `age` in descending order\n     * _.map(_.sortByOrder(users, ['user', 'age'], [true, false]), _.values);\n     * // => [['barney', 36], ['barney', 26], ['fred', 40], ['fred', 30]]\n     */\n    function sortByOrder(collection, props, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n      if (guard && isIterateeCall(props, orders, guard)) {\n        orders = null;\n      }\n      if (!isArray(props)) {\n        props = props == null ? [] : [props];\n      }\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n      return baseSortByOrder(collection, props, orders);\n    }\n\n    /**\n     * Performs a deep comparison between each element in `collection` and the\n     * source object, returning an array of all elements that have equivalent\n     * property values.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. For comparing a single\n     * own or inherited property value see `_.matchesProperty`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Object} source The object of property values to match.\n     * @returns {Array} Returns the new filtered array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false, 'pets': ['hoppy'] },\n     *   { 'user': 'fred',   'age': 40, 'active': true, 'pets': ['baby puss', 'dino'] }\n     * ];\n     *\n     * _.pluck(_.where(users, { 'age': 36, 'active': false }), 'user');\n     * // => ['barney']\n     *\n     * _.pluck(_.where(users, { 'pets': ['dino'] }), 'user');\n     * // => ['fred']\n     */\n    function where(collection, source) {\n      return filter(collection, baseMatches(source));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the number of milliseconds that have elapsed since the Unix epoch\n     * (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @category Date\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => logs the number of milliseconds it took for the deferred function to be invoked\n     */\n    var now = nativeNow || function() {\n      return new Date().getTime();\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it is called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => logs 'done saving!' after the two async saves have completed\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        if (typeof n == 'function') {\n          var temp = n;\n          n = func;\n          func = temp;\n        } else {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n      }\n      n = nativeIsFinite(n = +n) ? n : 0;\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that accepts up to `n` arguments ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      if (guard && isIterateeCall(func, n, guard)) {\n        n = null;\n      }\n      n = (func && n == null) ? func.length : nativeMax(+n || 0, 0);\n      return createWrapper(func, ARY_FLAG, null, null, null, null, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it is called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery('#add').on('click', _.before(5, addContactToList));\n     * // => allows adding up to 4 contacts to the list\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        if (typeof n == 'function') {\n          var temp = n;\n          n = func;\n          func = temp;\n        } else {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n      }\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        } else {\n          func = null;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and prepends any additional `_.bind` arguments to those provided to the\n     * bound function.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind` this method does not set the `length`\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var greet = function(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * };\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // using placeholders\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    var bind = restParam(function(func, thisArg, partials) {\n      var bitmask = BIND_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, bind.placeholder);\n        bitmask |= PARTIAL_FLAG;\n      }\n      return createWrapper(func, bitmask, thisArg, partials, holders);\n    });\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method. Method names may be specified as individual arguments or as arrays\n     * of method names. If no method names are provided all enumerable function\n     * properties, own and inherited, of `object` are bound.\n     *\n     * **Note:** This method does not set the `length` property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} [methodNames] The object method names to bind,\n     *  specified as individual method names or arrays of method names.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'onClick': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view);\n     * jQuery('#docs').on('click', view.onClick);\n     * // => logs 'clicked docs' when the element is clicked\n     */\n    var bindAll = restParam(function(object, methodNames) {\n      methodNames = methodNames.length ? baseFlatten(methodNames) : functions(object);\n\n      var index = -1,\n          length = methodNames.length;\n\n      while (++index < length) {\n        var key = methodNames[index];\n        object[key] = createWrapper(object[key], BIND_FLAG, object);\n      }\n      return object;\n    });\n\n    /**\n     * Creates a function that invokes the method at `object[key]` and prepends\n     * any additional `_.bindKey` arguments to those provided to the bound function.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist.\n     * See [Peter Michaux's article](http://michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Object} object The object the method belongs to.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // using placeholders\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    var bindKey = restParam(function(object, key, partials) {\n      var bitmask = BIND_FLAG | BIND_KEY_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, bindKey.placeholder);\n        bitmask |= PARTIAL_FLAG;\n      }\n      return createWrapper(key, bitmask, object, partials, holders);\n    });\n\n    /**\n     * Creates a function that accepts one or more arguments of `func` that when\n     * called either invokes `func` returning its result, if all `func` arguments\n     * have been provided, or returns a function that accepts one or more of the\n     * remaining `func` arguments, and so on. The arity of `func` may be specified\n     * if `func.length` is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method does not set the `length` property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // using placeholders\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    var curry = createCurry(CURRY_FLAG);\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method does not set the `length` property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // using placeholders\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    var curryRight = createCurry(CURRY_RIGHT_FLAG);\n\n    /**\n     * Creates a function that delays invoking `func` until after `wait` milliseconds\n     * have elapsed since the last time it was invoked. The created function comes\n     * with a `cancel` method to cancel delayed invocations. Provide an options\n     * object to indicate that `func` should be invoked on the leading and/or\n     * trailing edge of the `wait` timeout. Subsequent calls to the debounced\n     * function return the result of the last `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is invoked\n     * on the trailing edge of the timeout only if the the debounced function is\n     * invoked more than once during the `wait` timeout.\n     *\n     * See [David Corbacho's article](http://drupalmotion.com/article/debounce-and-throttle-visual-explanation)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.leading=false] Specify invoking on the leading\n     *  edge of the timeout.\n     * @param {number} [options.maxWait] The maximum time `func` is allowed to be\n     *  delayed before it is invoked.\n     * @param {boolean} [options.trailing=true] Specify invoking on the trailing\n     *  edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // avoid costly calculations while the window size is in flux\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // invoke `sendMail` when the click event is fired, debouncing subsequent calls\n     * jQuery('#postbox').on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // ensure `batchLog` is invoked once after 1 second of debounced calls\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', _.debounce(batchLog, 250, {\n     *   'maxWait': 1000\n     * }));\n     *\n     * // cancel a debounced call\n     * var todoChanges = _.debounce(batchLog, 1000);\n     * Object.observe(models.todo, todoChanges);\n     *\n     * Object.observe(models, function(changes) {\n     *   if (_.find(changes, { 'user': 'todo', 'type': 'delete'})) {\n     *     todoChanges.cancel();\n     *   }\n     * }, ['delete']);\n     *\n     * // ...at some point `models.todo` is changed\n     * models.todo.completed = true;\n     *\n     * // ...before 1 second has passed `models.todo` is deleted\n     * // which cancels the debounced `todoChanges` call\n     * delete models.todo;\n     */\n    function debounce(func, wait, options) {\n      var args,\n          maxTimeoutId,\n          result,\n          stamp,\n          thisArg,\n          timeoutId,\n          trailingCall,\n          lastCalled = 0,\n          maxWait = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = wait < 0 ? 0 : (+wait || 0);\n      if (options === true) {\n        var leading = true;\n        trailing = false;\n      } else if (isObject(options)) {\n        leading = options.leading;\n        maxWait = 'maxWait' in options && nativeMax(+options.maxWait || 0, wait);\n        trailing = 'trailing' in options ? options.trailing : trailing;\n      }\n\n      function cancel() {\n        if (timeoutId) {\n          clearTimeout(timeoutId);\n        }\n        if (maxTimeoutId) {\n          clearTimeout(maxTimeoutId);\n        }\n        maxTimeoutId = timeoutId = trailingCall = undefined;\n      }\n\n      function delayed() {\n        var remaining = wait - (now() - stamp);\n        if (remaining <= 0 || remaining > wait) {\n          if (maxTimeoutId) {\n            clearTimeout(maxTimeoutId);\n          }\n          var isCalled = trailingCall;\n          maxTimeoutId = timeoutId = trailingCall = undefined;\n          if (isCalled) {\n            lastCalled = now();\n            result = func.apply(thisArg, args);\n            if (!timeoutId && !maxTimeoutId) {\n              args = thisArg = null;\n            }\n          }\n        } else {\n          timeoutId = setTimeout(delayed, remaining);\n        }\n      }\n\n      function maxDelayed() {\n        if (timeoutId) {\n          clearTimeout(timeoutId);\n        }\n        maxTimeoutId = timeoutId = trailingCall = undefined;\n        if (trailing || (maxWait !== wait)) {\n          lastCalled = now();\n          result = func.apply(thisArg, args);\n          if (!timeoutId && !maxTimeoutId) {\n            args = thisArg = null;\n          }\n        }\n      }\n\n      function debounced() {\n        args = arguments;\n        stamp = now();\n        thisArg = this;\n        trailingCall = trailing && (timeoutId || !leading);\n\n        if (maxWait === false) {\n          var leadingCall = leading && !timeoutId;\n        } else {\n          if (!maxTimeoutId && !leading) {\n            lastCalled = stamp;\n          }\n          var remaining = maxWait - (stamp - lastCalled),\n              isCalled = remaining <= 0 || remaining > maxWait;\n\n          if (isCalled) {\n            if (maxTimeoutId) {\n              maxTimeoutId = clearTimeout(maxTimeoutId);\n            }\n            lastCalled = stamp;\n            result = func.apply(thisArg, args);\n          }\n          else if (!maxTimeoutId) {\n            maxTimeoutId = setTimeout(maxDelayed, remaining);\n          }\n        }\n        if (isCalled && timeoutId) {\n          timeoutId = clearTimeout(timeoutId);\n        }\n        else if (!timeoutId && wait !== maxWait) {\n          timeoutId = setTimeout(delayed, wait);\n        }\n        if (leadingCall) {\n          isCalled = true;\n          result = func.apply(thisArg, args);\n        }\n        if (isCalled && !timeoutId && !maxTimeoutId) {\n          args = thisArg = null;\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke the function with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // logs 'deferred' after one or more milliseconds\n     */\n    var defer = restParam(function(func, args) {\n      return baseDelay(func, 1, args);\n    });\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke the function with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => logs 'later' after one second\n     */\n    var delay = restParam(function(func, wait, args) {\n      return baseDelay(func, wait, args);\n    });\n\n    /**\n     * Creates a function that returns the result of invoking the provided\n     * functions with the `this` binding of the created function, where each\n     * successive invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {...Function} [funcs] Functions to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow(_.add, square);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flow = createFlow();\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the provided functions from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias backflow, compose\n     * @category Function\n     * @param {...Function} [funcs] Functions to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight(square, _.add);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flowRight = createFlow(true);\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is coerced to a string and used as the\n     * cache key. The `func` is invoked with the `this` binding of the memoized\n     * function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the [`Map`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-properties-of-the-map-prototype-object)\n     * method interface of `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoizing function.\n     * @example\n     *\n     * var upperCase = _.memoize(function(string) {\n     *   return string.toUpperCase();\n     * });\n     *\n     * upperCase('fred');\n     * // => 'FRED'\n     *\n     * // modifying the result cache\n     * upperCase.cache.set('fred', 'BARNEY');\n     * upperCase('fred');\n     * // => 'BARNEY'\n     *\n     * // replacing `_.memoize.Cache`\n     * var object = { 'user': 'fred' };\n     * var other = { 'user': 'barney' };\n     * var identity = _.memoize(_.identity);\n     *\n     * identity(object);\n     * // => { 'user': 'fred' }\n     * identity(other);\n     * // => { 'user': 'fred' }\n     *\n     * _.memoize.Cache = WeakMap;\n     * var identity = _.memoize(_.identity);\n     *\n     * identity(object);\n     * // => { 'user': 'fred' }\n     * identity(other);\n     * // => { 'user': 'barney' }\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments,\n            cache = memoized.cache,\n            key = resolver ? resolver.apply(this, args) : args[0];\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        cache.set(key, result);\n        return result;\n      };\n      memoized.cache = new memoize.Cache;\n      return memoized;\n    }\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        return !predicate.apply(this, arguments);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first call. The `func` is invoked\n     * with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // `initialize` invokes `createApplication` once\n     */\n    function once(func) {\n      return before(func, 2);\n    }\n\n    /**\n     * Creates a function that invokes `func` with `partial` arguments prepended\n     * to those provided to the new function. This method is like `_.bind` except\n     * it does **not** alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method does not set the `length` property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * var greet = function(greeting, name) {\n     *   return greeting + ' ' + name;\n     * };\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // using placeholders\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    var partial = createPartial(PARTIAL_FLAG);\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to those provided to the new function.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method does not set the `length` property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * var greet = function(greeting, name) {\n     *   return greeting + ' ' + name;\n     * };\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // using placeholders\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    var partialRight = createPartial(PARTIAL_RIGHT_FLAG);\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified indexes where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes,\n     *  specified as individual indexes or arrays of indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, 2, 0, 1);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     *\n     * var map = _.rearg(_.map, [1, 0]);\n     * map(function(n) {\n     *   return n * 3;\n     * }, [1, 2, 3]);\n     * // => [3, 6, 9]\n     */\n    var rearg = restParam(function(func, indexes) {\n      return createWrapper(func, REARG_FLAG, null, null, null, baseFlatten(indexes));\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as an array.\n     *\n     * **Note:** This method is based on the [rest parameter](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.restParam(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n    function restParam(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = nativeMax(typeof start == 'undefined' ? (func.length - 1) : (+start || 0), 0);\n      return function() {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            rest = Array(length);\n\n        while (++index < length) {\n          rest[index] = args[start + index];\n        }\n        switch (start) {\n          case 0: return func.call(this, rest);\n          case 1: return func.call(this, args[0], rest);\n          case 2: return func.call(this, args[0], args[1], rest);\n        }\n        var otherArgs = Array(start + 1);\n        index = -1;\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n        otherArgs[start] = rest;\n        return func.apply(this, otherArgs);\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the created\n     * function and an array of arguments much like [`Function#apply`](https://es5.github.io/#x15.3.4.3).\n     *\n     * **Note:** This method is based on the [spread operator](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * // with a Promise\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function(array) {\n        return func.apply(this, array);\n      };\n    }\n\n    /**\n     * Creates a function that only invokes `func` at most once per every `wait`\n     * milliseconds. The created function comes with a `cancel` method to cancel\n     * delayed invocations. Provide an options object to indicate that `func`\n     * should be invoked on the leading and/or trailing edge of the `wait` timeout.\n     * Subsequent calls to the throttled function return the result of the last\n     * `func` call.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is invoked\n     * on the trailing edge of the timeout only if the the throttled function is\n     * invoked more than once during the `wait` timeout.\n     *\n     * See [David Corbacho's article](http://drupalmotion.com/article/debounce-and-throttle-visual-explanation)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.leading=true] Specify invoking on the leading\n     *  edge of the timeout.\n     * @param {boolean} [options.trailing=true] Specify invoking on the trailing\n     *  edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // avoid excessively updating the position while scrolling\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // invoke `renewToken` when the click event is fired, but not more than once every 5 minutes\n     * jQuery('.interactive').on('click', _.throttle(renewToken, 300000, {\n     *   'trailing': false\n     * }));\n     *\n     * // cancel a trailing throttled call\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (options === false) {\n        leading = false;\n      } else if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      debounceOptions.leading = leading;\n      debounceOptions.maxWait = +wait;\n      debounceOptions.trailing = trailing;\n      return debounce(func, wait, debounceOptions);\n    }\n\n    /**\n     * Creates a function that provides `value` to the wrapper function as its\n     * first argument. Any additional arguments provided to the function are\n     * appended to those provided to the wrapper function. The wrapper is invoked\n     * with the `this` binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} wrapper The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      wrapper = wrapper == null ? identity : wrapper;\n      return createWrapper(wrapper, PARTIAL_FLAG, null, [value], []);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a clone of `value`. If `isDeep` is `true` nested objects are cloned,\n     * otherwise they are assigned by reference. If `customizer` is provided it is\n     * invoked to produce the cloned values. If `customizer` returns `undefined`\n     * cloning is handled by the method instead. The `customizer` is bound to\n     * `thisArg` and invoked with two argument; (value [, index|key, object]).\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm).\n     * The enumerable properties of `arguments` objects and objects created by\n     * constructors other than `Object` are cloned to plain `Object` objects. An\n     * empty object is returned for uncloneable values such as functions, DOM nodes,\n     * Maps, Sets, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @param {Function} [customizer] The function to customize cloning values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {*} Returns the cloned value.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * var shallow = _.clone(users);\n     * shallow[0] === users[0];\n     * // => true\n     *\n     * var deep = _.clone(users, true);\n     * deep[0] === users[0];\n     * // => false\n     *\n     * // using a customizer callback\n     * var el = _.clone(document.body, function(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * });\n     *\n     * el === document.body\n     * // => false\n     * el.nodeName\n     * // => BODY\n     * el.childNodes.length;\n     * // => 0\n     */\n    function clone(value, isDeep, customizer, thisArg) {\n      if (isDeep && typeof isDeep != 'boolean' && isIterateeCall(value, isDeep, customizer)) {\n        isDeep = false;\n      }\n      else if (typeof isDeep == 'function') {\n        thisArg = customizer;\n        customizer = isDeep;\n        isDeep = false;\n      }\n      customizer = typeof customizer == 'function' && bindCallback(customizer, thisArg, 1);\n      return baseClone(value, isDeep, customizer);\n    }\n\n    /**\n     * Creates a deep clone of `value`. If `customizer` is provided it is invoked\n     * to produce the cloned values. If `customizer` returns `undefined` cloning\n     * is handled by the method instead. The `customizer` is bound to `thisArg`\n     * and invoked with two argument; (value [, index|key, object]).\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm).\n     * The enumerable properties of `arguments` objects and objects created by\n     * constructors other than `Object` are cloned to plain `Object` objects. An\n     * empty object is returned for uncloneable values such as functions, DOM nodes,\n     * Maps, Sets, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to deep clone.\n     * @param {Function} [customizer] The function to customize cloning values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {*} Returns the deep cloned value.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * var deep = _.cloneDeep(users);\n     * deep[0] === users[0];\n     * // => false\n     *\n     * // using a customizer callback\n     * var el = _.cloneDeep(document.body, function(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * });\n     *\n     * el === document.body\n     * // => false\n     * el.nodeName\n     * // => BODY\n     * el.childNodes.length;\n     * // => 20\n     */\n    function cloneDeep(value, customizer, thisArg) {\n      customizer = typeof customizer == 'function' && bindCallback(customizer, thisArg, 1);\n      return baseClone(value, true, customizer);\n    }\n\n    /**\n     * Checks if `value` is classified as an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    function isArguments(value) {\n      var length = isObjectLike(value) ? value.length : undefined;\n      return isLength(length) && objToString.call(value) == argsTag;\n    }\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(function() { return arguments; }());\n     * // => false\n     */\n    var isArray = nativeIsArray || function(value) {\n      return isObjectLike(value) && isLength(value.length) && objToString.call(value) == arrayTag;\n    };\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false || (isObjectLike(value) && objToString.call(value) == boolTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    function isDate(value) {\n      return isObjectLike(value) && objToString.call(value) == dateTag;\n    }\n\n    /**\n     * Checks if `value` is a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return !!value && value.nodeType === 1 && isObjectLike(value) &&\n        (objToString.call(value).indexOf('Element') > -1);\n    }\n    // Fallback for environments without DOM support.\n    if (!support.dom) {\n      isElement = function(value) {\n        return !!value && value.nodeType === 1 && isObjectLike(value) && !isPlainObject(value);\n      };\n    }\n\n    /**\n     * Checks if `value` is empty. A value is considered empty unless it is an\n     * `arguments` object, array, string, or jQuery-like collection with a length\n     * greater than `0` or an object with own enumerable properties.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {Array|Object|string} value The value to inspect.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n      var length = value.length;\n      if (isLength(length) && (isArray(value) || isString(value) || isArguments(value) ||\n          (isObjectLike(value) && isFunction(value.splice)))) {\n        return !length;\n      }\n      return !keys(value).length;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent. If `customizer` is provided it is invoked to compare values.\n     * If `customizer` returns `undefined` comparisons are handled by the method\n     * instead. The `customizer` is bound to `thisArg` and invoked with three\n     * arguments: (value, other [, index|key]).\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. Functions and DOM nodes\n     * are **not** supported. Provide a customizer function to extend support\n     * for comparing other values.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparing values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     * var other = { 'user': 'fred' };\n     *\n     * object == other;\n     * // => false\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * // using a customizer callback\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqual(array, other, function(value, other) {\n     *   if (_.every([value, other], RegExp.prototype.test, /^h(?:i|ello)$/)) {\n     *     return true;\n     *   }\n     * });\n     * // => true\n     */\n    function isEqual(value, other, customizer, thisArg) {\n      customizer = typeof customizer == 'function' && bindCallback(customizer, thisArg, 3);\n      if (!customizer && isStrictComparable(value) && isStrictComparable(other)) {\n        return value === other;\n      }\n      var result = customizer ? customizer(value, other) : undefined;\n      return typeof result == 'undefined' ? baseIsEqual(value, other, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      return isObjectLike(value) && typeof value.message == 'string' && objToString.call(value) == errorTag;\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on [`Number.isFinite`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-number.isfinite).\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(10);\n     * // => true\n     *\n     * _.isFinite('10');\n     * // => false\n     *\n     * _.isFinite(true);\n     * // => false\n     *\n     * _.isFinite(Object(10));\n     * // => false\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     */\n    var isFinite = nativeNumIsFinite || function(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    };\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    var isFunction = !(baseIsFunction(/x/) || (Uint8Array && !baseIsFunction(Uint8Array))) ? baseIsFunction : function(value) {\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in older versions of Chrome and Safari which return 'function' for regexes\n      // and Safari 8 equivalents which return 'object' for typed array constructors.\n      return objToString.call(value) == funcTag;\n    };\n\n    /**\n     * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n     * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(1);\n     * // => false\n     */\n    function isObject(value) {\n      // Avoid a V8 JIT bug in Chrome 19-20.\n      // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n      var type = typeof value;\n      return type == 'function' || (!!value && type == 'object');\n    }\n\n    /**\n     * Performs a deep comparison between `object` and `source` to determine if\n     * `object` contains equivalent property values. If `customizer` is provided\n     * it is invoked to compare values. If `customizer` returns `undefined`\n     * comparisons are handled by the method instead. The `customizer` is bound\n     * to `thisArg` and invoked with three arguments: (value, other, index|key).\n     *\n     * **Note:** This method supports comparing properties of arrays, booleans,\n     * `Date` objects, numbers, `Object` objects, regexes, and strings. Functions\n     * and DOM nodes are **not** supported. Provide a customizer function to extend\n     * support for comparing other values.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize comparing values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': 40 };\n     *\n     * _.isMatch(object, { 'age': 40 });\n     * // => true\n     *\n     * _.isMatch(object, { 'age': 36 });\n     * // => false\n     *\n     * // using a customizer callback\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatch(object, source, function(value, other) {\n     *   return _.every([value, other], RegExp.prototype.test, /^h(?:i|ello)$/) || undefined;\n     * });\n     * // => true\n     */\n    function isMatch(object, source, customizer, thisArg) {\n      var props = keys(source),\n          length = props.length;\n\n      if (!length) {\n        return true;\n      }\n      if (object == null) {\n        return false;\n      }\n      customizer = typeof customizer == 'function' && bindCallback(customizer, thisArg, 3);\n      if (!customizer && length == 1) {\n        var key = props[0],\n            value = source[key];\n\n        if (isStrictComparable(value)) {\n          return value === object[key] && (typeof value != 'undefined' || (key in toObject(object)));\n        }\n      }\n      var values = Array(length),\n          strictCompareFlags = Array(length);\n\n      while (length--) {\n        value = values[length] = source[props[length]];\n        strictCompareFlags[length] = isStrictComparable(value);\n      }\n      return baseIsMatch(toObject(object), props, values, strictCompareFlags, customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is not the same as [`isNaN`](https://es5.github.io/#x15.1.2.4)\n     * which returns `true` for `undefined` and other non-numeric values.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some host objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a native function.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function, else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (value == null) {\n        return false;\n      }\n      if (objToString.call(value) == funcTag) {\n        return reNative.test(fnToString.call(value));\n      }\n      return isObjectLike(value) && reHostCtor.test(value);\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are classified\n     * as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isNumber(8.4);\n     * // => true\n     *\n     * _.isNumber(NaN);\n     * // => true\n     *\n     * _.isNumber('8.4');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' || (isObjectLike(value) && objToString.call(value) == numberTag);\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * **Note:** This method assumes objects created by the `Object` constructor\n     * have no inherited enumerable properties.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    var isPlainObject = !getPrototypeOf ? shimIsPlainObject : function(value) {\n      if (!(value && objToString.call(value) == objectTag)) {\n        return false;\n      }\n      var valueOf = value.valueOf,\n          objProto = isNative(valueOf) && (objProto = getPrototypeOf(valueOf)) && getPrototypeOf(objProto);\n\n      return objProto\n        ? (value == objProto || getPrototypeOf(value) == objProto)\n        : shimIsPlainObject(value);\n    };\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    function isRegExp(value) {\n      return (isObjectLike(value) && objToString.call(value) == regexpTag) || false;\n    }\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' || (isObjectLike(value) && objToString.call(value) == stringTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    function isTypedArray(value) {\n      return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[objToString.call(value)];\n    }\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return typeof value == 'undefined';\n    }\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * (function() {\n     *   return _.toArray(arguments).slice(1);\n     * }(1, 2, 3));\n     * // => [2, 3]\n     */\n    function toArray(value) {\n      var length = value ? value.length : 0;\n      if (!isLength(length)) {\n        return values(value);\n      }\n      if (!length) {\n        return [];\n      }\n      return arrayCopy(value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable\n     * properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return baseCopy(value, keysIn(value));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable properties of source object(s) to the destination\n     * object. Subsequent sources overwrite property assignments of previous sources.\n     * If `customizer` is provided it is invoked to produce the assigned values.\n     * The `customizer` is bound to `thisArg` and invoked with five arguments:\n     * (objectValue, sourceValue, key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @param {Function} [customizer] The function to customize assigning values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.assign({ 'user': 'barney' }, { 'age': 40 }, { 'user': 'fred' });\n     * // => { 'user': 'fred', 'age': 40 }\n     *\n     * // using a customizer callback\n     * var defaults = _.partialRight(_.assign, function(value, other) {\n     *   return typeof value == 'undefined' ? other : value;\n     * });\n     *\n     * defaults({ 'user': 'barney' }, { 'age': 36 }, { 'user': 'fred' });\n     * // => { 'user': 'barney', 'age': 36 }\n     */\n    var assign = createAssigner(baseAssign);\n\n    /**\n     * Creates an object that inherits from the given `prototype` object. If a\n     * `properties` object is provided its own enumerable properties are assigned\n     * to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties, guard) {\n      var result = baseCreate(prototype);\n      if (guard && isIterateeCall(prototype, properties, guard)) {\n        properties = null;\n      }\n      return properties ? baseCopy(properties, result, keys(properties)) : result;\n    }\n\n    /**\n     * Assigns own enumerable properties of source object(s) to the destination\n     * object for all destination properties that resolve to `undefined`. Once a\n     * property is set, additional values of the same property are ignored.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.defaults({ 'user': 'barney' }, { 'age': 36 }, { 'user': 'fred' });\n     * // => { 'user': 'barney', 'age': 36 }\n     */\n    var defaults = restParam(function(args) {\n      var object = args[0];\n      if (object == null) {\n        return object;\n      }\n      args.push(assignDefaults);\n      return assign.apply(undefined, args);\n    });\n\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {string|undefined} Returns the key of the matched element, else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(chr) {\n     *   return chr.age < 40;\n     * });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findKey(users, 'active', false);\n     * // => 'fred'\n     *\n     * // using the `_.property` callback shorthand\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    var findKey = createFindKey(baseForOwn);\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {string|undefined} Returns the key of the matched element, else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(chr) {\n     *   return chr.age < 40;\n     * });\n     * // => returns `pebbles` assuming `_.findKey` returns `barney`\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findLastKey(users, 'active', false);\n     * // => 'fred'\n     *\n     * // using the `_.property` callback shorthand\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    var findLastKey = createFindKey(baseForOwnRight);\n\n    /**\n     * Iterates over own and inherited enumerable properties of an object invoking\n     * `iteratee` for each property. The `iteratee` is bound to `thisArg` and invoked\n     * with three arguments: (value, key, object). Iterator functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'a', 'b', and 'c' (iteration order is not guaranteed)\n     */\n    var forIn = createForIn(baseFor);\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'c', 'b', and 'a' assuming `_.forIn ` logs 'a', 'b', and 'c'\n     */\n    var forInRight = createForIn(baseForRight);\n\n    /**\n     * Iterates over own enumerable properties of an object invoking `iteratee`\n     * for each property. The `iteratee` is bound to `thisArg` and invoked with\n     * three arguments: (value, key, object). Iterator functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'a' and 'b' (iteration order is not guaranteed)\n     */\n    var forOwn = createForOwn(baseForOwn);\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'b' and 'a' assuming `_.forOwn` logs 'a' and 'b'\n     */\n    var forOwnRight = createForOwn(baseForOwnRight);\n\n    /**\n     * Creates an array of function property names from all enumerable properties,\n     * own and inherited, of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @alias methods\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the new array of property names.\n     * @example\n     *\n     * _.functions(_);\n     * // => ['after', 'ary', 'assign', ...]\n     */\n    function functions(object) {\n      return baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Checks if `key` exists as a direct property of `object` instead of an\n     * inherited property.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` is a direct property, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 3 };\n     *\n     * _.has(object, 'b');\n     * // => true\n     */\n    function has(object, key) {\n      return object ? hasOwnProperty.call(object, key) : false;\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite property\n     * assignments of previous values unless `multiValue` is `true`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {boolean} [multiValue] Allow multiple values per key.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     *\n     * // with `multiValue`\n     * _.invert(object, true);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function invert(object, multiValue, guard) {\n      if (guard && isIterateeCall(object, multiValue, guard)) {\n        multiValue = null;\n      }\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = {};\n\n      while (++index < length) {\n        var key = props[index],\n            value = object[key];\n\n        if (multiValue) {\n          if (hasOwnProperty.call(result, value)) {\n            result[value].push(key);\n          } else {\n            result[value] = [key];\n          }\n        }\n        else {\n          result[value] = key;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    var keys = !nativeKeys ? shimKeys : function(object) {\n      if (object) {\n        var Ctor = object.constructor,\n            length = object.length;\n      }\n      if ((typeof Ctor == 'function' && Ctor.prototype === object) ||\n          (typeof object != 'function' && (length && isLength(length)))) {\n        return shimKeys(object);\n      }\n      return isObject(object) ? nativeKeys(object) : [];\n    };\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      if (object == null) {\n        return [];\n      }\n      if (!isObject(object)) {\n        object = Object(object);\n      }\n      var length = object.length;\n      length = (length && isLength(length) &&\n        (isArray(object) || (support.nonEnumArgs && isArguments(object))) && length) || 0;\n\n      var Ctor = object.constructor,\n          index = -1,\n          isProto = typeof Ctor == 'function' && Ctor.prototype === object,\n          result = Array(length),\n          skipIndexes = length > 0;\n\n      while (++index < length) {\n        result[index] = (index + '');\n      }\n      for (var key in object) {\n        if (!(skipIndexes && isIndex(key, length)) &&\n            !(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an object with the same keys as `object` and values generated by\n     * running each own enumerable property of `object` through `iteratee`. The\n     * iteratee function is bound to `thisArg` and invoked with three arguments:\n     * (value, key, object).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the new mapped object.\n     * @example\n     *\n     * _.mapValues({ 'a': 1, 'b': 2 }, function(n) {\n     *   return n * 3;\n     * });\n     * // => { 'a': 3, 'b': 6 }\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * // using the `_.property` callback shorthand\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    function mapValues(object, iteratee, thisArg) {\n      var result = {};\n      iteratee = getCallback(iteratee, thisArg, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        result[key] = iteratee(value, key, object);\n      });\n      return result;\n    }\n\n    /**\n     * Recursively merges own enumerable properties of the source object(s), that\n     * don't resolve to `undefined` into the destination object. Subsequent sources\n     * overwrite property assignments of previous sources. If `customizer` is\n     * provided it is invoked to produce the merged values of the destination and\n     * source properties. If `customizer` returns `undefined` merging is handled\n     * by the method instead. The `customizer` is bound to `thisArg` and invoked\n     * with five arguments: (objectValue, sourceValue, key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @param {Function} [customizer] The function to customize merging properties.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var users = {\n     *   'data': [{ 'user': 'barney' }, { 'user': 'fred' }]\n     * };\n     *\n     * var ages = {\n     *   'data': [{ 'age': 36 }, { 'age': 40 }]\n     * };\n     *\n     * _.merge(users, ages);\n     * // => { 'data': [{ 'user': 'barney', 'age': 36 }, { 'user': 'fred', 'age': 40 }] }\n     *\n     * // using a customizer callback\n     * var object = {\n     *   'fruits': ['apple'],\n     *   'vegetables': ['beet']\n     * };\n     *\n     * var other = {\n     *   'fruits': ['banana'],\n     *   'vegetables': ['carrot']\n     * };\n     *\n     * _.merge(object, other, function(a, b) {\n     *   if (_.isArray(a)) {\n     *     return a.concat(b);\n     *   }\n     * });\n     * // => { 'fruits': ['apple', 'banana'], 'vegetables': ['beet', 'carrot'] }\n     */\n    var merge = createAssigner(baseMerge);\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable properties of `object` that are not omitted.\n     * Property names may be specified as individual arguments or as arrays of\n     * property names. If `predicate` is provided it is invoked for each property\n     * of `object` omitting the properties `predicate` returns truthy for. The\n     * predicate is bound to `thisArg` and invoked with three arguments:\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function|...(string|string[])} [predicate] The function invoked per\n     *  iteration or property names to omit, specified as individual property\n     *  names or arrays of property names.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': 40 };\n     *\n     * _.omit(object, 'age');\n     * // => { 'user': 'fred' }\n     *\n     * _.omit(object, _.isNumber);\n     * // => { 'user': 'fred' }\n     */\n    var omit = restParam(function(object, props) {\n      if (object == null) {\n        return {};\n      }\n      if (typeof props[0] != 'function') {\n        var props = arrayMap(baseFlatten(props), String);\n        return pickByArray(object, baseDifference(keysIn(object), props));\n      }\n      var predicate = bindCallback(props[0], props[1], 3);\n      return pickByCallback(object, function(value, key, object) {\n        return !predicate(value, key, object);\n      });\n    });\n\n    /**\n     * Creates a two dimensional array of the key-value pairs for `object`,\n     * e.g. `[[key1, value1], [key2, value2]]`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the new array of key-value pairs.\n     * @example\n     *\n     * _.pairs({ 'barney': 36, 'fred': 40 });\n     * // => [['barney', 36], ['fred', 40]] (iteration order is not guaranteed)\n     */\n    function pairs(object) {\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = Array(length);\n\n      while (++index < length) {\n        var key = props[index];\n        result[index] = [key, object[key]];\n      }\n      return result;\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties. Property\n     * names may be specified as individual arguments or as arrays of property\n     * names. If `predicate` is provided it is invoked for each property of `object`\n     * picking the properties `predicate` returns truthy for. The predicate is\n     * bound to `thisArg` and invoked with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function|...(string|string[])} [predicate] The function invoked per\n     *  iteration or property names to pick, specified as individual property\n     *  names or arrays of property names.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': 40 };\n     *\n     * _.pick(object, 'user');\n     * // => { 'user': 'fred' }\n     *\n     * _.pick(object, _.isString);\n     * // => { 'user': 'fred' }\n     */\n    var pick = restParam(function(object, props) {\n      if (object == null) {\n        return {};\n      }\n      return typeof props[0] == 'function'\n        ? pickByCallback(object, bindCallback(props[0], props[1], 3))\n        : pickByArray(object, baseFlatten(props));\n    });\n\n    /**\n     * Resolves the value of property `key` on `object`. If the value of `key` is\n     * a function it is invoked with the `this` binding of `object` and its result\n     * is returned, else the property value is returned. If the property value is\n     * `undefined` the `defaultValue` is used in its place.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the property to resolve.\n     * @param {*} [defaultValue] The value returned if the property value\n     *  resolves to `undefined`.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': _.constant(40) };\n     *\n     * _.result(object, 'user');\n     * // => 'fred'\n     *\n     * _.result(object, 'age');\n     * // => 40\n     *\n     * _.result(object, 'status', 'busy');\n     * // => 'busy'\n     *\n     * _.result(object, 'status', _.constant('busy'));\n     * // => 'busy'\n     */\n    function result(object, key, defaultValue) {\n      var value = object == null ? undefined : object[key];\n      if (typeof value == 'undefined') {\n        value = defaultValue;\n      }\n      return isFunction(value) ? value.call(object) : value;\n    }\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own enumerable\n     * properties through `iteratee`, with each invocation potentially mutating\n     * the `accumulator` object. The `iteratee` is bound to `thisArg` and invoked\n     * with four arguments: (accumulator, value, key, object). Iterator functions\n     * may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Array|Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * });\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2 }, function(result, n, key) {\n     *   result[key] = n * 3;\n     * });\n     * // => { 'a': 3, 'b': 6 }\n     */\n    function transform(object, iteratee, accumulator, thisArg) {\n      var isArr = isArray(object) || isTypedArray(object);\n      iteratee = getCallback(iteratee, thisArg, 4);\n\n      if (accumulator == null) {\n        if (isArr || isObject(object)) {\n          var Ctor = object.constructor;\n          if (isArr) {\n            accumulator = isArray(object) ? new Ctor : [];\n          } else {\n            accumulator = baseCreate(isFunction(Ctor) && Ctor.prototype);\n          }\n        } else {\n          accumulator = {};\n        }\n      }\n      (isArr ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Creates an array of the own enumerable property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return baseValues(object, keys(object));\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property values\n     * of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return baseValues(object, keysIn(object));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Checks if `n` is between `start` and up to but not including, `end`. If\n     * `end` is not specified it is set to `start` with `start` then set to `0`.\n     *\n     * @static\n     * @memberOf _\n     * @category Number\n     * @param {number} n The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `n` is in the range, else `false`.\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     */\n    function inRange(value, start, end) {\n      start = +start || 0;\n      if (typeof end === 'undefined') {\n        end = start;\n        start = 0;\n      } else {\n        end = +end || 0;\n      }\n      return value >= start && value < end;\n    }\n\n    /**\n     * Produces a random number between `min` and `max` (inclusive). If only one\n     * argument is provided a number between `0` and the given number is returned.\n     * If `floating` is `true`, or either `min` or `max` are floats, a floating-point\n     * number is returned instead of an integer.\n     *\n     * @static\n     * @memberOf _\n     * @category Number\n     * @param {number} [min=0] The minimum possible value.\n     * @param {number} [max=1] The maximum possible value.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(min, max, floating) {\n      if (floating && isIterateeCall(min, max, floating)) {\n        max = floating = null;\n      }\n      var noMin = min == null,\n          noMax = max == null;\n\n      if (floating == null) {\n        if (noMax && typeof min == 'boolean') {\n          floating = min;\n          min = 1;\n        }\n        else if (typeof max == 'boolean') {\n          floating = max;\n          noMax = true;\n        }\n      }\n      if (noMin && noMax) {\n        max = 1;\n        noMax = false;\n      }\n      min = +min || 0;\n      if (noMax) {\n        max = min;\n        min = 0;\n      } else {\n        max = +max || 0;\n      }\n      if (floating || min % 1 || max % 1) {\n        var rand = nativeRandom();\n        return nativeMin(min + (rand * (max - min + parseFloat('1e-' + ((rand + '').length - 1)))), max);\n      }\n      return baseRandom(min, max);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__foo_bar__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? (word.charAt(0).toUpperCase() + word.slice(1)) : word);\n    });\n\n    /**\n     * Capitalizes the first character of `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('fred');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      string = baseToString(string);\n      return string && (string.charAt(0).toUpperCase() + string.slice(1));\n    }\n\n    /**\n     * Deburrs `string` by converting [latin-1 supplementary letters](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * to basic latin letters and removing [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('déjà vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = baseToString(string);\n      return string && string.replace(reLatin1, deburrLetter).replace(reComboMarks, '');\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to search.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search from.\n     * @returns {boolean} Returns `true` if `string` ends with `target`, else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = baseToString(string);\n      target = (target + '');\n\n      var length = string.length;\n      position = typeof position == 'undefined'\n        ? length\n        : nativeMin(position < 0 ? 0 : (+position || 0), length);\n\n      position -= target.length;\n      return position >= 0 && string.indexOf(target, position) == position;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', \"'\", and \"\\`\", in `string` to\n     * their corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional characters\n     * use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't require escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value.\n     * See [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * Backticks are escaped because in Internet Explorer < 9, they can break out\n     * of attribute values or HTML comments. See [#102](https://html5sec.org/#102),\n     * [#108](https://html5sec.org/#108), and [#133](https://html5sec.org/#133) of\n     * the [HTML5 Security Cheatsheet](https://html5sec.org/) for more details.\n     *\n     * When working with HTML you should always [quote attribute values](http://wonko.com/post/html-escaping)\n     * to reduce XSS vectors.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      // Reset `lastIndex` because in IE < 9 `String#replace` does not.\n      string = baseToString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"\\\", \"/\", \"^\", \"$\", \".\", \"|\", \"?\",\n     * \"*\", \"+\", \"(\", \")\", \"[\", \"]\", \"{\" and \"}\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https:\\/\\/lodash\\.com\\/\\)'\n     */\n    function escapeRegExp(string) {\n      string = baseToString(string);\n      return (string && reHasRegExpChars.test(string))\n        ? string.replace(reRegExpChars, '\\\\$&')\n        : string;\n    }\n\n    /**\n     * Converts `string` to [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__foo_bar__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Pads `string` on the left and right sides if it is shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = baseToString(string);\n      length = +length;\n\n      var strLength = string.length;\n      if (strLength >= length || !nativeIsFinite(length)) {\n        return string;\n      }\n      var mid = (length - strLength) / 2,\n          leftLength = floor(mid),\n          rightLength = ceil(mid);\n\n      chars = createPadding('', rightLength, chars);\n      return chars.slice(0, leftLength) + string + chars;\n    }\n\n    /**\n     * Pads `string` on the left side if it is shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padLeft('abc', 6);\n     * // => '   abc'\n     *\n     * _.padLeft('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padLeft('abc', 3);\n     * // => 'abc'\n     */\n    var padLeft = createPadDir();\n\n    /**\n     * Pads `string` on the right side if it is shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padRight('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padRight('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padRight('abc', 3);\n     * // => 'abc'\n     */\n    var padRight = createPadDir(true);\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a hexadecimal,\n     * in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the [ES5 implementation](https://es5.github.io/#E)\n     * of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      if (guard && isIterateeCall(string, radix, guard)) {\n        radix = 0;\n      }\n      return nativeParseInt(string, radix);\n    }\n    // Fallback for environments with pre-ES5 implementations.\n    if (nativeParseInt(whitespace + '08') != 8) {\n      parseInt = function(string, radix, guard) {\n        // Firefox < 21 and Opera < 15 follow ES3 for `parseInt`.\n        // Chrome fails to trim leading <BOM> whitespace characters.\n        // See https://code.google.com/p/v8/issues/detail?id=3109 for more details.\n        if (guard ? isIterateeCall(string, radix, guard) : radix == null) {\n          radix = 0;\n        } else if (radix) {\n          radix = +radix;\n        }\n        string = trim(string);\n        return nativeParseInt(string, radix || (reHexPrefix.test(string) ? 16 : 10));\n      };\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=0] The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n) {\n      var result = '';\n      string = baseToString(string);\n      n = +n;\n      if (n < 1 || !string || !nativeIsFinite(n)) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = floor(n / 2);\n        string += string;\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * Converts `string` to [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--foo-bar');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string` to [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__foo_bar__');\n     * // => 'Foo Bar'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + (word.charAt(0).toUpperCase() + word.slice(1));\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to search.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`, else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = baseToString(string);\n      position = position == null\n        ? 0\n        : nativeMin(position < 0 ? 0 : (+position || 0), string.length);\n\n      return string.lastIndexOf(target, position) == position;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is provided it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options] The options object.\n     * @param {RegExp} [options.escape] The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate] The \"evaluate\" delimiter.\n     * @param {Object} [options.imports] An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate] The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL] The sourceURL of the template's compiled source.\n     * @param {string} [options.variable] The data object variable name.\n     * @param- {Object} [otherOptions] Enables the legacy `options` param signature.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // using the \"interpolate\" delimiter to create a compiled template\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // using the HTML \"escape\" delimiter to escape data property values\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // using the \"evaluate\" delimiter to execute JavaScript and generate HTML\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // using the internal `print` function in \"evaluate\" delimiters\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // using the ES delimiter as an alternative to the default \"interpolate\" delimiter\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // using custom template delimiters\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // using backslashes to treat delimiters as plain text\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // using the `imports` option to import `jQuery` as `jq`\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // using the `sourceURL` option to specify a custom sourceURL for the template\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector\n     *\n     * // using the `variable` option to ensure a with-statement isn't used in the compiled template\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // using the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and a stack trace\n     * fs.writeFileSync(path.join(cwd, 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, otherOptions) {\n      // Based on John Resig's `tmpl` implementation (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (otherOptions && isIterateeCall(string, options, otherOptions)) {\n        options = otherOptions = null;\n      }\n      string = baseToString(string);\n      options = baseAssign(baseAssign({}, otherOptions || options), settings, assignOwnDefaults);\n\n      var imports = baseAssign(baseAssign({}, options.imports), settings.imports, assignOwnDefaults),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      var sourceURL = '//# sourceURL=' +\n        ('sourceURL' in options\n          ? options.sourceURL\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products requires returning the `match`\n        // string in order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      var variable = options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source).apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n    function trim(string, chars, guard) {\n      var value = string;\n      string = baseToString(string);\n      if (!string) {\n        return string;\n      }\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\n        return string.slice(trimmedLeftIndex(string), trimmedRightIndex(string) + 1);\n      }\n      chars = (chars + '');\n      return string.slice(charsLeftIndex(string, chars), charsRightIndex(string, chars) + 1);\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimLeft('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimLeft('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimLeft(string, chars, guard) {\n      var value = string;\n      string = baseToString(string);\n      if (!string) {\n        return string;\n      }\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\n        return string.slice(trimmedLeftIndex(string));\n      }\n      return string.slice(charsLeftIndex(string, (chars + '')));\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimRight('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimRight('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimRight(string, chars, guard) {\n      var value = string;\n      string = baseToString(string);\n      if (!string) {\n        return string;\n      }\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\n        return string.slice(0, trimmedRightIndex(string) + 1);\n      }\n      return string.slice(0, charsRightIndex(string, (chars + '')) + 1);\n    }\n\n    /**\n     * Truncates `string` if it is longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object|number} [options] The options object or maximum string length.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.trunc('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', 24);\n     * // => 'hi-diddly-ho there, n...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function trunc(string, options, guard) {\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = null;\n      }\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (options != null) {\n        if (isObject(options)) {\n          var separator = 'separator' in options ? options.separator : separator;\n          length = 'length' in options ? (+options.length || 0) : length;\n          omission = 'omission' in options ? baseToString(options.omission) : omission;\n        } else {\n          length = +options || 0;\n        }\n      }\n      string = baseToString(string);\n      if (length >= string.length) {\n        return string;\n      }\n      var end = length - omission.length;\n      if (end < 1) {\n        return omission;\n      }\n      var result = string.slice(0, end);\n      if (separator == null) {\n        return result + omission;\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              newEnd,\n              substring = string.slice(0, end);\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, (reFlags.exec(separator) || '') + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            newEnd = match.index;\n          }\n          result = result.slice(0, newEnd == null ? end : newEnd);\n        }\n      } else if (string.indexOf(separator, end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, `&#39;`, and `&#96;` in `string` to their\n     * corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional HTML\n     * entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = baseToString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      if (guard && isIterateeCall(string, pattern, guard)) {\n        pattern = null;\n      }\n      string = baseToString(string);\n      return string.match(pattern || reWords) || [];\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Function} func The function to attempt.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // avoid throwing errors for invalid selectors\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    var attempt = restParam(function(func, args) {\n      try {\n        return func.apply(undefined, args);\n      } catch(e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and arguments of the created function. If `func` is a property name the\n     * created callback returns the property value for a given element. If `func`\n     * is an object the created callback returns `true` for elements that contain\n     * the equivalent object properties, otherwise it returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias iteratee\n     * @category Utility\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // wrap to create custom callback shorthands\n     * _.callback = _.wrap(_.callback, function(callback, func, thisArg) {\n     *   var match = /^(.+?)__([gl]t)(.+)$/.exec(func);\n     *   if (!match) {\n     *     return callback(func, thisArg);\n     *   }\n     *   return function(object) {\n     *     return match[2] == 'gt'\n     *       ? object[match[1]] > match[3]\n     *       : object[match[1]] < match[3];\n     *   };\n     * });\n     *\n     * _.filter(users, 'age__gt36');\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     */\n    function callback(func, thisArg, guard) {\n      if (guard && isIterateeCall(func, thisArg, guard)) {\n        thisArg = null;\n      }\n      return isObjectLike(func)\n        ? matches(func)\n        : baseCallback(func, thisArg);\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     * var getter = _.constant(object);\n     *\n     * getter() === object;\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * This method returns the first argument provided to it.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * _.identity(object) === object;\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function which performs a deep comparison between a given object\n     * and `source`, returning `true` if the given object has equivalent property\n     * values, else `false`.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. For comparing a single\n     * own or inherited property value see `_.matchesProperty`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, _.matches({ 'age': 40, 'active': false }));\n     * // => [{ 'user': 'fred', 'age': 40, 'active': false }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, true));\n    }\n\n    /**\n     * Creates a function which compares the property value of `key` on a given\n     * object to `value`.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {string} key The key of the property to get.\n     * @param {*} value The value to compare.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * _.find(users, _.matchesProperty('user', 'fred'));\n     * // => { 'user': 'fred' }\n     */\n    function matchesProperty(key, value) {\n      return baseMatchesProperty(key + '', baseClone(value, true));\n    }\n\n    /**\n     * Adds all own enumerable function properties of a source object to the\n     * destination object. If `object` is a function then methods are added to\n     * its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function\n     * for mixins to avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Function|Object} [object=this] object The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.chain=true] Specify whether the functions added\n     *  are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * // use `_.runInContext` to avoid conflicts (esp. in Node.js)\n     * var _ = require('lodash').runInContext();\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      if (options == null) {\n        var isObj = isObject(source),\n            props = isObj && keys(source),\n            methodNames = props && props.length && baseFunctions(source, props);\n\n        if (!(methodNames ? methodNames.length : isObj)) {\n          methodNames = false;\n          options = source;\n          source = object;\n          object = this;\n        }\n      }\n      if (!methodNames) {\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = true,\n          index = -1,\n          isFunc = isFunction(object),\n          length = methodNames.length;\n\n      if (options === false) {\n        chain = false;\n      } else if (isObject(options) && 'chain' in options) {\n        chain = options.chain;\n      }\n      while (++index < length) {\n        var methodName = methodNames[index],\n            func = source[methodName];\n\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = (function(func) {\n            return function() {\n              var chainAll = this.__chain__;\n              if (chain || chainAll) {\n                var result = object(this.__wrapped__),\n                    actions = result.__actions__ = arrayCopy(this.__actions__);\n\n                actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\n                result.__chain__ = chainAll;\n                return result;\n              }\n              var args = [this.value()];\n              push.apply(args, arguments);\n              return func.apply(object, args);\n            };\n          }(func));\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      context._ = oldDash;\n      return this;\n    }\n\n    /**\n     * A no-operation function which returns `undefined` regardless of the\n     * arguments it receives.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * _.noop(object) === undefined;\n     * // => true\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function which returns the property value of `key` on a given object.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {string} key The key of the property to get.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred' },\n     *   { 'user': 'barney' }\n     * ];\n     *\n     * var getName = _.property('user');\n     *\n     * _.map(users, getName);\n     * // => ['fred', 'barney']\n     *\n     * _.pluck(_.sortBy(users, getName), 'user');\n     * // => ['barney', 'fred']\n     */\n    function property(key) {\n      return baseProperty(key + '');\n    }\n\n    /**\n     * The opposite of `_.property`; this method creates a function which returns\n     * the property value of a given key on `object`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Object} object The object to inspect.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var object = { 'a': 3, 'b': 1, 'c': 2 };\n     *\n     * _.map(['a', 'c'], _.propertyOf(object));\n     * // => [3, 2]\n     *\n     * _.sortBy(['a', 'b', 'c'], _.propertyOf(object));\n     * // => ['b', 'c', 'a']\n     */\n    function propertyOf(object) {\n      return function(key) {\n        return object == null ? undefined : object[key];\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. If `end` is not specified it is\n     * set to `start` with `start` then set to `0`. If `start` is less than `end`\n     * a zero-length range is created unless a negative `step` is specified.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the new array of numbers.\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    function range(start, end, step) {\n      if (step && isIterateeCall(start, end, step)) {\n        end = step = null;\n      }\n      start = +start || 0;\n      step = step == null ? 1 : (+step || 0);\n\n      if (end == null) {\n        end = start;\n        start = 0;\n      } else {\n        end = +end || 0;\n      }\n      // Use `Array(length)` so engines like Chakra and V8 avoid slower modes.\n      // See https://youtu.be/XAqIpGU8ZZk#t=17m25s for more details.\n      var index = -1,\n          length = nativeMax(ceil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * Invokes the iteratee function `n` times, returning an array of the results\n     * of each invocation. The `iteratee` is bound to `thisArg` and invoked with\n     * one argument; (index).\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * var diceRolls = _.times(3, _.partial(_.random, 1, 6, false));\n     * // => [3, 6, 4]\n     *\n     * _.times(3, function(n) {\n     *   mage.castSpell(n);\n     * });\n     * // => invokes `mage.castSpell(n)` three times with `n` of `0`, `1`, and `2` respectively\n     *\n     * _.times(3, function(n) {\n     *   this.cast(n);\n     * }, mage);\n     * // => also invokes `mage.castSpell(n)` three times\n     */\n    function times(n, iteratee, thisArg) {\n      n = +n;\n\n      // Exit early to avoid a JSC JIT bug in Safari 8\n      // where `Array(0)` is treated as `Array(1)`.\n      if (n < 1 || !nativeIsFinite(n)) {\n        return [];\n      }\n      var index = -1,\n          result = Array(nativeMin(n, MAX_ARRAY_LENGTH));\n\n      iteratee = bindCallback(iteratee, thisArg, 1);\n      while (++index < n) {\n        if (index < MAX_ARRAY_LENGTH) {\n          result[index] = iteratee(index);\n        } else {\n          iteratee(index);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is provided the ID is appended to it.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {string} [prefix] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return baseToString(prefix) + id;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {number} augend The first number to add.\n     * @param {number} addend The second number to add.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n    function add(augend, addend) {\n      return augend + addend;\n    }\n\n    /**\n     * Gets the maximum value of `collection`. If `collection` is empty or falsey\n     * `-Infinity` is returned. If an iteratee function is provided it is invoked\n     * for each value in `collection` to generate the criterion by which the value\n     * is ranked. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => -Infinity\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.max(users, function(chr) {\n     *   return chr.age;\n     * });\n     * // => { 'user': 'fred', 'age': 40 }\n     *\n     * // using the `_.property` callback shorthand\n     * _.max(users, 'age');\n     * // => { 'user': 'fred', 'age': 40 }\n     */\n    var max = createExtremum(arrayMax);\n\n    /**\n     * Gets the minimum value of `collection`. If `collection` is empty or falsey\n     * `Infinity` is returned. If an iteratee function is provided it is invoked\n     * for each value in `collection` to generate the criterion by which the value\n     * is ranked. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => Infinity\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.min(users, function(chr) {\n     *   return chr.age;\n     * });\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // using the `_.property` callback shorthand\n     * _.min(users, 'age');\n     * // => { 'user': 'barney', 'age': 36 }\n     */\n    var min = createExtremum(arrayMin, true);\n\n    /**\n     * Gets the sum of the values in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 6]);\n     * // => 10\n     *\n     * _.sum({ 'a': 4, 'b': 6 });\n     * // => 10\n     *\n     * var objects = [\n     *   { 'n': 4 },\n     *   { 'n': 6 }\n     * ];\n     *\n     * _.sum(objects, function(object) {\n     *   return object.n;\n     * });\n     * // => 10\n     *\n     * // using the `_.property` callback shorthand\n     * _.sum(objects, 'n');\n     * // => 10\n     */\n    function sum(collection, iteratee, thisArg) {\n      if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\n        iteratee = null;\n      }\n      var func = getCallback(),\n          noIteratee = iteratee == null;\n\n      if (!(func === baseCallback && noIteratee)) {\n        noIteratee = false;\n        iteratee = func(iteratee, thisArg, 3);\n      }\n      return noIteratee\n        ? arraySum(isArray(collection) ? collection : toIterable(collection))\n        : baseSum(collection, iteratee);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    // Add functions to the `Map` cache.\n    MapCache.prototype['delete'] = mapDelete;\n    MapCache.prototype.get = mapGet;\n    MapCache.prototype.has = mapHas;\n    MapCache.prototype.set = mapSet;\n\n    // Add functions to the `Set` cache.\n    SetCache.prototype.push = cachePush;\n\n    // Assign cache to `_.memoize`.\n    memoize.Cache = MapCache;\n\n    // Add functions that return wrapped values when chaining.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.callback = callback;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.functions = functions;\n    lodash.groupBy = groupBy;\n    lodash.indexBy = indexBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.invert = invert;\n    lodash.invoke = invoke;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.mixin = mixin;\n    lodash.negate = negate;\n    lodash.omit = omit;\n    lodash.once = once;\n    lodash.pairs = pairs;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pluck = pluck;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.restParam = restParam;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortByAll = sortByAll;\n    lodash.sortByOrder = sortByOrder;\n    lodash.spread = spread;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.times = times;\n    lodash.toArray = toArray;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.union = union;\n    lodash.uniq = uniq;\n    lodash.unzip = unzip;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.where = where;\n    lodash.without = without;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n\n    // Add aliases.\n    lodash.backflow = flowRight;\n    lodash.collect = map;\n    lodash.compose = flowRight;\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.extend = assign;\n    lodash.iteratee = callback;\n    lodash.methods = functions;\n    lodash.object = zipObject;\n    lodash.select = filter;\n    lodash.tail = rest;\n    lodash.unique = uniq;\n\n    // Add functions to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add functions that return unwrapped values when chaining.\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.deburr = deburr;\n    lodash.endsWith = endsWith;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.findWhere = findWhere;\n    lodash.first = first;\n    lodash.has = has;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isBoolean = isBoolean;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isMatch = isMatch;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isString = isString;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.max = max;\n    lodash.min = min;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padLeft = padLeft;\n    lodash.padRight = padRight;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.result = result;\n    lodash.runInContext = runInContext;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.sum = sum;\n    lodash.template = template;\n    lodash.trim = trim;\n    lodash.trimLeft = trimLeft;\n    lodash.trimRight = trimRight;\n    lodash.trunc = trunc;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.words = words;\n\n    // Add aliases.\n    lodash.all = every;\n    lodash.any = some;\n    lodash.contains = includes;\n    lodash.detect = find;\n    lodash.foldl = reduce;\n    lodash.foldr = reduceRight;\n    lodash.head = first;\n    lodash.include = includes;\n    lodash.inject = reduce;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!lodash.prototype[methodName]) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), false);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add functions capable of returning wrapped and unwrapped values when chaining.\n    lodash.sample = sample;\n\n    lodash.prototype.sample = function(n) {\n      if (!this.__chain__ && n == null) {\n        return sample(this.value());\n      }\n      return this.thru(function(value) {\n        return sample(value, n);\n      });\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type string\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['dropWhile', 'filter', 'map', 'takeWhile'], function(methodName, type) {\n      var isFilter = type != LAZY_MAP_FLAG,\n          isDropWhile = type == LAZY_DROP_WHILE_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee, thisArg) {\n        var filtered = this.__filtered__,\n            result = (filtered && isDropWhile) ? new LazyWrapper(this) : this.clone(),\n            iteratees = result.__iteratees__ || (result.__iteratees__ = []);\n\n        iteratees.push({\n          'done': false,\n          'count': 0,\n          'index': 0,\n          'iteratee': getCallback(iteratee, thisArg, 1),\n          'limit': -1,\n          'type': type\n        });\n\n        result.__filtered__ = filtered || isFilter;\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      var whileName = methodName + 'While';\n\n      LazyWrapper.prototype[methodName] = function(n) {\n        var filtered = this.__filtered__,\n            result = (filtered && !index) ? this.dropWhile() : this.clone();\n\n        n = n == null ? 1 : nativeMax(floor(n) || 0, 0);\n        if (filtered) {\n          if (index) {\n            result.__takeCount__ = nativeMin(result.__takeCount__, n);\n          } else {\n            last(result.__iteratees__).limit = n;\n          }\n        } else {\n          var views = result.__views__ || (result.__views__ = []);\n          views.push({ 'size': n, 'type': methodName + (result.__dir__ < 0 ? 'Right' : '') });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n\n      LazyWrapper.prototype[methodName + 'RightWhile'] = function(predicate, thisArg) {\n        return this.reverse()[whileName](predicate, thisArg).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.first` and `_.last`.\n    arrayEach(['first', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.rest`.\n    arrayEach(['initial', 'rest'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[dropName](1);\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.pluck` and `_.where`.\n    arrayEach(['pluck', 'where'], function(methodName, index) {\n      var operationName = index ? 'filter' : 'map',\n          createCallback = index ? baseMatches : baseProperty;\n\n      LazyWrapper.prototype[methodName] = function(value) {\n        return this[operationName](createCallback(value));\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.reject = function(predicate, thisArg) {\n      predicate = getCallback(predicate, thisArg, 1);\n      return this.filter(function(value) {\n        return !predicate(value);\n      });\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = start == null ? 0 : (+start || 0);\n      var result = start < 0 ? this.takeRight(-start) : this.drop(start);\n\n      if (typeof end != 'undefined') {\n        end = (+end || 0);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.drop(0);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (!lodashFunc) {\n        return;\n      }\n      var checkIteratee = /^(?:filter|map|reject)|While$/.test(methodName),\n          retUnwrapped = /^(?:first|last)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments,\n            length = args.length,\n            chainAll = this.__chain__,\n            value = this.__wrapped__,\n            isHybrid = !!this.__actions__.length,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // avoid lazy use if the iteratee has a `length` other than `1`\n          isLazy = useLazy = false;\n        }\n        var onlyLazy = isLazy && !isHybrid;\n        if (retUnwrapped && !chainAll) {\n          return onlyLazy\n            ? func.call(value)\n            : lodashFunc.call(lodash, this.value());\n        }\n        var interceptor = function(value) {\n          var otherArgs = [value];\n          push.apply(otherArgs, args);\n          return lodashFunc.apply(lodash, otherArgs);\n        };\n        if (useLazy) {\n          var wrapper = onlyLazy ? value : new LazyWrapper(this),\n              result = func.apply(wrapper, args);\n\n          if (!retUnwrapped && (isHybrid || result.__actions__)) {\n            var actions = result.__actions__ || (result.__actions__ = []);\n            actions.push({ 'func': thru, 'args': [interceptor], 'thisArg': lodash });\n          }\n          return new LodashWrapper(result, chainAll);\n        }\n        return this.thru(interceptor);\n      };\n    });\n\n    // Add `Array` and `String` methods to `lodash.prototype`.\n    arrayEach(['concat', 'join', 'pop', 'push', 'replace', 'shift', 'sort', 'splice', 'split', 'unshift'], function(methodName) {\n      var func = (/^(?:replace|split)$/.test(methodName) ? stringProto : arrayProto)[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:join|pop|replace|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          return func.apply(this.value(), args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(value, args);\n        });\n      };\n    });\n\n    // Map minified function names to their real names.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (lodashFunc) {\n        var key = lodashFunc.name,\n            names = realNames[key] || (realNames[key] = []);\n\n        names.push({ 'name': methodName, 'func': lodashFunc });\n      }\n    });\n\n    realNames[createHybridWrapper(null, BIND_KEY_FLAG).name] = [{ 'name': 'wrapper', 'func': null }];\n\n    // Add functions to the lazy wrapper.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chaining functions to the `lodash` wrapper.\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toString = wrapperToString;\n    lodash.prototype.run = lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add function aliases to the `lodash` wrapper.\n    lodash.prototype.collect = lodash.prototype.map;\n    lodash.prototype.head = lodash.prototype.first;\n    lodash.prototype.select = lodash.prototype.filter;\n    lodash.prototype.tail = lodash.prototype.rest;\n\n    return lodash;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers like r.js check for condition patterns like the following:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose lodash to the global object when an AMD loader is present to avoid\n    // errors in cases where lodash is loaded by a script tag and not intended\n    // as an AMD module. See http://requirejs.org/docs/errors.html#mismatch for\n    // more details.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    define(function() {\n      return _;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds an `exports` object.\n  else if (freeExports && freeModule) {\n    // Export for Node.js or RingoJS.\n    if (moduleExports) {\n      (freeModule.exports = _)._ = _;\n    }\n    // Export for Narwhal or Rhino -require.\n    else {\n      freeExports._ = _;\n    }\n  }\n  else {\n    // Export for a browser or Rhino.\n    root._ = _;\n  }\n}.call(this));\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],7:[function(require,module,exports){\n/*!\n * numeral.js\n * version : 1.5.3\n * author : Adam Draper\n * license : MIT\n * http://adamwdraper.github.com/Numeral-js/\n */\n\n(function () {\n\n    /************************************\n        Constants\n    ************************************/\n\n    var numeral,\n        VERSION = '1.5.3',\n        // internal storage for language config files\n        languages = {},\n        currentLanguage = 'en',\n        zeroFormat = null,\n        defaultFormat = '0,0',\n        // check for nodeJS\n        hasModule = (typeof module !== 'undefined' && module.exports);\n\n\n    /************************************\n        Constructors\n    ************************************/\n\n\n    // Numeral prototype object\n    function Numeral (number) {\n        this._value = number;\n    }\n\n    /**\n     * Implementation of toFixed() that treats floats more like decimals\n     *\n     * Fixes binary rounding issues (eg. (0.615).toFixed(2) === '0.61') that present\n     * problems for accounting- and finance-related software.\n     */\n    function toFixed (value, precision, roundingFunction, optionals) {\n        var power = Math.pow(10, precision),\n            optionalsRegExp,\n            output;\n            \n        //roundingFunction = (roundingFunction !== undefined ? roundingFunction : Math.round);\n        // Multiply up by precision, round accurately, then divide and use native toFixed():\n        output = (roundingFunction(value * power) / power).toFixed(precision);\n\n        if (optionals) {\n            optionalsRegExp = new RegExp('0{1,' + optionals + '}$');\n            output = output.replace(optionalsRegExp, '');\n        }\n\n        return output;\n    }\n\n    /************************************\n        Formatting\n    ************************************/\n\n    // determine what type of formatting we need to do\n    function formatNumeral (n, format, roundingFunction) {\n        var output;\n\n        // figure out what kind of format we are dealing with\n        if (format.indexOf('$') > -1) { // currency!!!!!\n            output = formatCurrency(n, format, roundingFunction);\n        } else if (format.indexOf('%') > -1) { // percentage\n            output = formatPercentage(n, format, roundingFunction);\n        } else if (format.indexOf(':') > -1) { // time\n            output = formatTime(n, format);\n        } else { // plain ol' numbers or bytes\n            output = formatNumber(n._value, format, roundingFunction);\n        }\n\n        // return string\n        return output;\n    }\n\n    // revert to number\n    function unformatNumeral (n, string) {\n        var stringOriginal = string,\n            thousandRegExp,\n            millionRegExp,\n            billionRegExp,\n            trillionRegExp,\n            suffixes = ['KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'],\n            bytesMultiplier = false,\n            power;\n\n        if (string.indexOf(':') > -1) {\n            n._value = unformatTime(string);\n        } else {\n            if (string === zeroFormat) {\n                n._value = 0;\n            } else {\n                if (languages[currentLanguage].delimiters.decimal !== '.') {\n                    string = string.replace(/\\./g,'').replace(languages[currentLanguage].delimiters.decimal, '.');\n                }\n\n                // see if abbreviations are there so that we can multiply to the correct number\n                thousandRegExp = new RegExp('[^a-zA-Z]' + languages[currentLanguage].abbreviations.thousand + '(?:\\\\)|(\\\\' + languages[currentLanguage].currency.symbol + ')?(?:\\\\))?)?$');\n                millionRegExp = new RegExp('[^a-zA-Z]' + languages[currentLanguage].abbreviations.million + '(?:\\\\)|(\\\\' + languages[currentLanguage].currency.symbol + ')?(?:\\\\))?)?$');\n                billionRegExp = new RegExp('[^a-zA-Z]' + languages[currentLanguage].abbreviations.billion + '(?:\\\\)|(\\\\' + languages[currentLanguage].currency.symbol + ')?(?:\\\\))?)?$');\n                trillionRegExp = new RegExp('[^a-zA-Z]' + languages[currentLanguage].abbreviations.trillion + '(?:\\\\)|(\\\\' + languages[currentLanguage].currency.symbol + ')?(?:\\\\))?)?$');\n\n                // see if bytes are there so that we can multiply to the correct number\n                for (power = 0; power <= suffixes.length; power++) {\n                    bytesMultiplier = (string.indexOf(suffixes[power]) > -1) ? Math.pow(1024, power + 1) : false;\n\n                    if (bytesMultiplier) {\n                        break;\n                    }\n                }\n\n                // do some math to create our number\n                n._value = ((bytesMultiplier) ? bytesMultiplier : 1) * ((stringOriginal.match(thousandRegExp)) ? Math.pow(10, 3) : 1) * ((stringOriginal.match(millionRegExp)) ? Math.pow(10, 6) : 1) * ((stringOriginal.match(billionRegExp)) ? Math.pow(10, 9) : 1) * ((stringOriginal.match(trillionRegExp)) ? Math.pow(10, 12) : 1) * ((string.indexOf('%') > -1) ? 0.01 : 1) * (((string.split('-').length + Math.min(string.split('(').length-1, string.split(')').length-1)) % 2)? 1: -1) * Number(string.replace(/[^0-9\\.]+/g, ''));\n\n                // round if we are talking about bytes\n                n._value = (bytesMultiplier) ? Math.ceil(n._value) : n._value;\n            }\n        }\n        return n._value;\n    }\n\n    function formatCurrency (n, format, roundingFunction) {\n        var symbolIndex = format.indexOf('$'),\n            openParenIndex = format.indexOf('('),\n            minusSignIndex = format.indexOf('-'),\n            space = '',\n            spliceIndex,\n            output;\n\n        // check for space before or after currency\n        if (format.indexOf(' $') > -1) {\n            space = ' ';\n            format = format.replace(' $', '');\n        } else if (format.indexOf('$ ') > -1) {\n            space = ' ';\n            format = format.replace('$ ', '');\n        } else {\n            format = format.replace('$', '');\n        }\n\n        // format the number\n        output = formatNumber(n._value, format, roundingFunction);\n\n        // position the symbol\n        if (symbolIndex <= 1) {\n            if (output.indexOf('(') > -1 || output.indexOf('-') > -1) {\n                output = output.split('');\n                spliceIndex = 1;\n                if (symbolIndex < openParenIndex || symbolIndex < minusSignIndex){\n                    // the symbol appears before the \"(\" or \"-\"\n                    spliceIndex = 0;\n                }\n                output.splice(spliceIndex, 0, languages[currentLanguage].currency.symbol + space);\n                output = output.join('');\n            } else {\n                output = languages[currentLanguage].currency.symbol + space + output;\n            }\n        } else {\n            if (output.indexOf(')') > -1) {\n                output = output.split('');\n                output.splice(-1, 0, space + languages[currentLanguage].currency.symbol);\n                output = output.join('');\n            } else {\n                output = output + space + languages[currentLanguage].currency.symbol;\n            }\n        }\n\n        return output;\n    }\n\n    function formatPercentage (n, format, roundingFunction) {\n        var space = '',\n            output,\n            value = n._value * 100;\n\n        // check for space before %\n        if (format.indexOf(' %') > -1) {\n            space = ' ';\n            format = format.replace(' %', '');\n        } else {\n            format = format.replace('%', '');\n        }\n\n        output = formatNumber(value, format, roundingFunction);\n        \n        if (output.indexOf(')') > -1 ) {\n            output = output.split('');\n            output.splice(-1, 0, space + '%');\n            output = output.join('');\n        } else {\n            output = output + space + '%';\n        }\n\n        return output;\n    }\n\n    function formatTime (n) {\n        var hours = Math.floor(n._value/60/60),\n            minutes = Math.floor((n._value - (hours * 60 * 60))/60),\n            seconds = Math.round(n._value - (hours * 60 * 60) - (minutes * 60));\n        return hours + ':' + ((minutes < 10) ? '0' + minutes : minutes) + ':' + ((seconds < 10) ? '0' + seconds : seconds);\n    }\n\n    function unformatTime (string) {\n        var timeArray = string.split(':'),\n            seconds = 0;\n        // turn hours and minutes into seconds and add them all up\n        if (timeArray.length === 3) {\n            // hours\n            seconds = seconds + (Number(timeArray[0]) * 60 * 60);\n            // minutes\n            seconds = seconds + (Number(timeArray[1]) * 60);\n            // seconds\n            seconds = seconds + Number(timeArray[2]);\n        } else if (timeArray.length === 2) {\n            // minutes\n            seconds = seconds + (Number(timeArray[0]) * 60);\n            // seconds\n            seconds = seconds + Number(timeArray[1]);\n        }\n        return Number(seconds);\n    }\n\n    function formatNumber (value, format, roundingFunction) {\n        var negP = false,\n            signed = false,\n            optDec = false,\n            abbr = '',\n            abbrK = false, // force abbreviation to thousands\n            abbrM = false, // force abbreviation to millions\n            abbrB = false, // force abbreviation to billions\n            abbrT = false, // force abbreviation to trillions\n            abbrForce = false, // force abbreviation\n            bytes = '',\n            ord = '',\n            abs = Math.abs(value),\n            suffixes = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'],\n            min,\n            max,\n            power,\n            w,\n            precision,\n            thousands,\n            d = '',\n            neg = false;\n\n        // check if number is zero and a custom zero format has been set\n        if (value === 0 && zeroFormat !== null) {\n            return zeroFormat;\n        } else {\n            // see if we should use parentheses for negative number or if we should prefix with a sign\n            // if both are present we default to parentheses\n            if (format.indexOf('(') > -1) {\n                negP = true;\n                format = format.slice(1, -1);\n            } else if (format.indexOf('+') > -1) {\n                signed = true;\n                format = format.replace(/\\+/g, '');\n            }\n\n            // see if abbreviation is wanted\n            if (format.indexOf('a') > -1) {\n                // check if abbreviation is specified\n                abbrK = format.indexOf('aK') >= 0;\n                abbrM = format.indexOf('aM') >= 0;\n                abbrB = format.indexOf('aB') >= 0;\n                abbrT = format.indexOf('aT') >= 0;\n                abbrForce = abbrK || abbrM || abbrB || abbrT;\n\n                // check for space before abbreviation\n                if (format.indexOf(' a') > -1) {\n                    abbr = ' ';\n                    format = format.replace(' a', '');\n                } else {\n                    format = format.replace('a', '');\n                }\n\n                if (abs >= Math.pow(10, 12) && !abbrForce || abbrT) {\n                    // trillion\n                    abbr = abbr + languages[currentLanguage].abbreviations.trillion;\n                    value = value / Math.pow(10, 12);\n                } else if (abs < Math.pow(10, 12) && abs >= Math.pow(10, 9) && !abbrForce || abbrB) {\n                    // billion\n                    abbr = abbr + languages[currentLanguage].abbreviations.billion;\n                    value = value / Math.pow(10, 9);\n                } else if (abs < Math.pow(10, 9) && abs >= Math.pow(10, 6) && !abbrForce || abbrM) {\n                    // million\n                    abbr = abbr + languages[currentLanguage].abbreviations.million;\n                    value = value / Math.pow(10, 6);\n                } else if (abs < Math.pow(10, 6) && abs >= Math.pow(10, 3) && !abbrForce || abbrK) {\n                    // thousand\n                    abbr = abbr + languages[currentLanguage].abbreviations.thousand;\n                    value = value / Math.pow(10, 3);\n                }\n            }\n\n            // see if we are formatting bytes\n            if (format.indexOf('b') > -1) {\n                // check for space before\n                if (format.indexOf(' b') > -1) {\n                    bytes = ' ';\n                    format = format.replace(' b', '');\n                } else {\n                    format = format.replace('b', '');\n                }\n\n                for (power = 0; power <= suffixes.length; power++) {\n                    min = Math.pow(1024, power);\n                    max = Math.pow(1024, power+1);\n\n                    if (value >= min && value < max) {\n                        bytes = bytes + suffixes[power];\n                        if (min > 0) {\n                            value = value / min;\n                        }\n                        break;\n                    }\n                }\n            }\n\n            // see if ordinal is wanted\n            if (format.indexOf('o') > -1) {\n                // check for space before\n                if (format.indexOf(' o') > -1) {\n                    ord = ' ';\n                    format = format.replace(' o', '');\n                } else {\n                    format = format.replace('o', '');\n                }\n\n                ord = ord + languages[currentLanguage].ordinal(value);\n            }\n\n            if (format.indexOf('[.]') > -1) {\n                optDec = true;\n                format = format.replace('[.]', '.');\n            }\n\n            w = value.toString().split('.')[0];\n            precision = format.split('.')[1];\n            thousands = format.indexOf(',');\n\n            if (precision) {\n                if (precision.indexOf('[') > -1) {\n                    precision = precision.replace(']', '');\n                    precision = precision.split('[');\n                    d = toFixed(value, (precision[0].length + precision[1].length), roundingFunction, precision[1].length);\n                } else {\n                    d = toFixed(value, precision.length, roundingFunction);\n                }\n\n                w = d.split('.')[0];\n\n                if (d.split('.')[1].length) {\n                    d = languages[currentLanguage].delimiters.decimal + d.split('.')[1];\n                } else {\n                    d = '';\n                }\n\n                if (optDec && Number(d.slice(1)) === 0) {\n                    d = '';\n                }\n            } else {\n                w = toFixed(value, null, roundingFunction);\n            }\n\n            // format number\n            if (w.indexOf('-') > -1) {\n                w = w.slice(1);\n                neg = true;\n            }\n\n            if (thousands > -1) {\n                w = w.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1' + languages[currentLanguage].delimiters.thousands);\n            }\n\n            if (format.indexOf('.') === 0) {\n                w = '';\n            }\n\n            return ((negP && neg) ? '(' : '') + ((!negP && neg) ? '-' : '') + ((!neg && signed) ? '+' : '') + w + d + ((ord) ? ord : '') + ((abbr) ? abbr : '') + ((bytes) ? bytes : '') + ((negP && neg) ? ')' : '');\n        }\n    }\n\n    /************************************\n        Top Level Functions\n    ************************************/\n\n    numeral = function (input) {\n        if (numeral.isNumeral(input)) {\n            input = input.value();\n        } else if (input === 0 || typeof input === 'undefined') {\n            input = 0;\n        } else if (!Number(input)) {\n            input = numeral.fn.unformat(input);\n        }\n\n        return new Numeral(Number(input));\n    };\n\n    // version number\n    numeral.version = VERSION;\n\n    // compare numeral object\n    numeral.isNumeral = function (obj) {\n        return obj instanceof Numeral;\n    };\n\n    // This function will load languages and then set the global language.  If\n    // no arguments are passed in, it will simply return the current global\n    // language key.\n    numeral.language = function (key, values) {\n        if (!key) {\n            return currentLanguage;\n        }\n\n        if (key && !values) {\n            if(!languages[key]) {\n                throw new Error('Unknown language : ' + key);\n            }\n            currentLanguage = key;\n        }\n\n        if (values || !languages[key]) {\n            loadLanguage(key, values);\n        }\n\n        return numeral;\n    };\n    \n    // This function provides access to the loaded language data.  If\n    // no arguments are passed in, it will simply return the current\n    // global language object.\n    numeral.languageData = function (key) {\n        if (!key) {\n            return languages[currentLanguage];\n        }\n        \n        if (!languages[key]) {\n            throw new Error('Unknown language : ' + key);\n        }\n        \n        return languages[key];\n    };\n\n    numeral.language('en', {\n        delimiters: {\n            thousands: ',',\n            decimal: '.'\n        },\n        abbreviations: {\n            thousand: 'k',\n            million: 'm',\n            billion: 'b',\n            trillion: 't'\n        },\n        ordinal: function (number) {\n            var b = number % 10;\n            return (~~ (number % 100 / 10) === 1) ? 'th' :\n                (b === 1) ? 'st' :\n                (b === 2) ? 'nd' :\n                (b === 3) ? 'rd' : 'th';\n        },\n        currency: {\n            symbol: '$'\n        }\n    });\n\n    numeral.zeroFormat = function (format) {\n        zeroFormat = typeof(format) === 'string' ? format : null;\n    };\n\n    numeral.defaultFormat = function (format) {\n        defaultFormat = typeof(format) === 'string' ? format : '0.0';\n    };\n\n    /************************************\n        Helpers\n    ************************************/\n\n    function loadLanguage(key, values) {\n        languages[key] = values;\n    }\n\n    /************************************\n        Floating-point helpers\n    ************************************/\n\n    // The floating-point helper functions and implementation\n    // borrows heavily from sinful.js: http://guipn.github.io/sinful.js/\n\n    /**\n     * Array.prototype.reduce for browsers that don't support it\n     * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce#Compatibility\n     */\n    if ('function' !== typeof Array.prototype.reduce) {\n        Array.prototype.reduce = function (callback, opt_initialValue) {\n            'use strict';\n            \n            if (null === this || 'undefined' === typeof this) {\n                // At the moment all modern browsers, that support strict mode, have\n                // native implementation of Array.prototype.reduce. For instance, IE8\n                // does not support strict mode, so this check is actually useless.\n                throw new TypeError('Array.prototype.reduce called on null or undefined');\n            }\n            \n            if ('function' !== typeof callback) {\n                throw new TypeError(callback + ' is not a function');\n            }\n\n            var index,\n                value,\n                length = this.length >>> 0,\n                isValueSet = false;\n\n            if (1 < arguments.length) {\n                value = opt_initialValue;\n                isValueSet = true;\n            }\n\n            for (index = 0; length > index; ++index) {\n                if (this.hasOwnProperty(index)) {\n                    if (isValueSet) {\n                        value = callback(value, this[index], index, this);\n                    } else {\n                        value = this[index];\n                        isValueSet = true;\n                    }\n                }\n            }\n\n            if (!isValueSet) {\n                throw new TypeError('Reduce of empty array with no initial value');\n            }\n\n            return value;\n        };\n    }\n\n    \n    /**\n     * Computes the multiplier necessary to make x >= 1,\n     * effectively eliminating miscalculations caused by\n     * finite precision.\n     */\n    function multiplier(x) {\n        var parts = x.toString().split('.');\n        if (parts.length < 2) {\n            return 1;\n        }\n        return Math.pow(10, parts[1].length);\n    }\n\n    /**\n     * Given a variable number of arguments, returns the maximum\n     * multiplier that must be used to normalize an operation involving\n     * all of them.\n     */\n    function correctionFactor() {\n        var args = Array.prototype.slice.call(arguments);\n        return args.reduce(function (prev, next) {\n            var mp = multiplier(prev),\n                mn = multiplier(next);\n        return mp > mn ? mp : mn;\n        }, -Infinity);\n    }        \n\n\n    /************************************\n        Numeral Prototype\n    ************************************/\n\n\n    numeral.fn = Numeral.prototype = {\n\n        clone : function () {\n            return numeral(this);\n        },\n\n        format : function (inputString, roundingFunction) {\n            return formatNumeral(this, \n                  inputString ? inputString : defaultFormat, \n                  (roundingFunction !== undefined) ? roundingFunction : Math.round\n              );\n        },\n\n        unformat : function (inputString) {\n            if (Object.prototype.toString.call(inputString) === '[object Number]') { \n                return inputString; \n            }\n            return unformatNumeral(this, inputString ? inputString : defaultFormat);\n        },\n\n        value : function () {\n            return this._value;\n        },\n\n        valueOf : function () {\n            return this._value;\n        },\n\n        set : function (value) {\n            this._value = Number(value);\n            return this;\n        },\n\n        add : function (value) {\n            var corrFactor = correctionFactor.call(null, this._value, value);\n            function cback(accum, curr, currI, O) {\n                return accum + corrFactor * curr;\n            }\n            this._value = [this._value, value].reduce(cback, 0) / corrFactor;\n            return this;\n        },\n\n        subtract : function (value) {\n            var corrFactor = correctionFactor.call(null, this._value, value);\n            function cback(accum, curr, currI, O) {\n                return accum - corrFactor * curr;\n            }\n            this._value = [value].reduce(cback, this._value * corrFactor) / corrFactor;            \n            return this;\n        },\n\n        multiply : function (value) {\n            function cback(accum, curr, currI, O) {\n                var corrFactor = correctionFactor(accum, curr);\n                return (accum * corrFactor) * (curr * corrFactor) /\n                    (corrFactor * corrFactor);\n            }\n            this._value = [this._value, value].reduce(cback, 1);\n            return this;\n        },\n\n        divide : function (value) {\n            function cback(accum, curr, currI, O) {\n                var corrFactor = correctionFactor(accum, curr);\n                return (accum * corrFactor) / (curr * corrFactor);\n            }\n            this._value = [this._value, value].reduce(cback);            \n            return this;\n        },\n\n        difference : function (value) {\n            return Math.abs(numeral(this._value).subtract(value).value());\n        }\n\n    };\n\n    /************************************\n        Exposing Numeral\n    ************************************/\n\n    // CommonJS module is defined\n    if (hasModule) {\n        module.exports = numeral;\n    }\n\n    /*global ender:false */\n    if (typeof ender === 'undefined') {\n        // here, `this` means `window` in the browser, or `global` on the server\n        // add `numeral` as a global object via a string identifier,\n        // for Closure Compiler 'advanced' mode\n        this['numeral'] = numeral;\n    }\n\n    /*global define:false */\n    if (typeof define === 'function' && define.amd) {\n        define([], function () {\n            return numeral;\n        });\n    }\n}).call(this);\n\n},{}],8:[function(require,module,exports){\n(function (__dirname){\n'use strict';\n\nvar addTrailingSlash = function(path) {\n\treturn path.substr(-1) === '/' ? path : path + '/';\n};\n\nvar normaliseRelativePath = function(path) {\n\treturn path.substr(0, 1) === '/' ? path : require('path').join(__dirname, path);\n};\n\nmodule.exports = {\n\tloadFromPath: function(pathToEntites, callback) {\n\t\tvar absolutePath = normaliseRelativePath(addTrailingSlash(pathToEntites));\n\n\t\tvar exports = {};\n\n\t\trequire('fs').readdirSync(absolutePath).forEach(function(file){\n\t\t\tif (file.substr(-3) !== '.js') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar name = file.replace('.js', '');\n\n\t\t\tif (callback) {\n\t\t\t\tcallback(require(absolutePath + file));\n\t\t\t} else {\n\t\t\t\texports[name] = require(absolutePath + file);\n\t\t\t}\n\t\t});\n\n\t\treturn exports;\n\t}\n};\n}).call(this,\"/node_modules/ensemblejs-client/node_modules/plug-n-play/src\")\n},{\"fs\":3,\"path\":4}],9:[function(require,module,exports){\n'use strict';\n\nvar loader = require('./folder-loader.js');\nvar isArray = require('lodash').isArray;\nvar each = require('lodash').each;\n\nvar plugins = {};\n\nvar get = function (name) {\n  if (!plugins[name]) {\n    throw new Error('No plugin defined for: ' + name);\n  }\n\n  return plugins[name];\n};\n\nvar load = function (module) {\n  module.deps = module.deps || [];\n\n  var args = [];\n  var i;\n\n  var deferredDependency = function (deferred) {\n    return function () {\n      return get(deferred);\n    };\n  };\n\n  var dep;\n  for (i = 0; i < module.deps.length; i += 1) {\n    dep = module.deps[i];\n\n    args.push(deferredDependency(dep));\n  }\n\n  if (isArray(plugins[module.type])) {\n    plugins[module.type].push(module.func.apply(this, args));\n  } else {\n    plugins[module.type] = module.func.apply(this, args);\n  }\n};\n\nvar loadPath = function (path) {\n  loader.loadFromPath(path, load);\n};\n\nvar set = function (name, thing) {\n  plugins[name] = thing;\n};\n\nvar define = function (type, deps, func) {\n  if (deps instanceof Function) {\n    return {\n      type: type,\n      func: deps\n    };\n  } else {\n    return {\n      type: type,\n      deps: deps,\n      func: func\n    };\n  }\n};\n\nload({\n  type: 'DefinePlugin',\n  func: function () {\n    return function (type, deps, func) {\n      load(define(type, deps, func));\n    };\n  }\n});\n\nmodule.exports = {\n  configure: function(arrays) {\n    each(arrays, function(name) {\n      plugins[name] = [];\n    });\n\n    return {\n      load: load,\n      loadPath: loadPath,\n      set: set,\n      get: get\n    };\n  }\n};\n},{\"./folder-loader.js\":8,\"lodash\":6}],10:[function(require,module,exports){\n/*!\n* screenfull\n* v2.0.0 - 2014-12-22\n* (c) Sindre Sorhus; MIT License\n*/\n(function () {\n\t'use strict';\n\n\tvar isCommonjs = typeof module !== 'undefined' && module.exports;\n\tvar keyboardAllowed = typeof Element !== 'undefined' && 'ALLOW_KEYBOARD_INPUT' in Element;\n\n\tvar fn = (function () {\n\t\tvar val;\n\t\tvar valLength;\n\n\t\tvar fnMap = [\n\t\t\t[\n\t\t\t\t'requestFullscreen',\n\t\t\t\t'exitFullscreen',\n\t\t\t\t'fullscreenElement',\n\t\t\t\t'fullscreenEnabled',\n\t\t\t\t'fullscreenchange',\n\t\t\t\t'fullscreenerror'\n\t\t\t],\n\t\t\t// new WebKit\n\t\t\t[\n\t\t\t\t'webkitRequestFullscreen',\n\t\t\t\t'webkitExitFullscreen',\n\t\t\t\t'webkitFullscreenElement',\n\t\t\t\t'webkitFullscreenEnabled',\n\t\t\t\t'webkitfullscreenchange',\n\t\t\t\t'webkitfullscreenerror'\n\n\t\t\t],\n\t\t\t// old WebKit (Safari 5.1)\n\t\t\t[\n\t\t\t\t'webkitRequestFullScreen',\n\t\t\t\t'webkitCancelFullScreen',\n\t\t\t\t'webkitCurrentFullScreenElement',\n\t\t\t\t'webkitCancelFullScreen',\n\t\t\t\t'webkitfullscreenchange',\n\t\t\t\t'webkitfullscreenerror'\n\n\t\t\t],\n\t\t\t[\n\t\t\t\t'mozRequestFullScreen',\n\t\t\t\t'mozCancelFullScreen',\n\t\t\t\t'mozFullScreenElement',\n\t\t\t\t'mozFullScreenEnabled',\n\t\t\t\t'mozfullscreenchange',\n\t\t\t\t'mozfullscreenerror'\n\t\t\t],\n\t\t\t[\n\t\t\t\t'msRequestFullscreen',\n\t\t\t\t'msExitFullscreen',\n\t\t\t\t'msFullscreenElement',\n\t\t\t\t'msFullscreenEnabled',\n\t\t\t\t'MSFullscreenChange',\n\t\t\t\t'MSFullscreenError'\n\t\t\t]\n\t\t];\n\n\t\tvar i = 0;\n\t\tvar l = fnMap.length;\n\t\tvar ret = {};\n\n\t\tfor (; i < l; i++) {\n\t\t\tval = fnMap[i];\n\t\t\tif (val && val[1] in document) {\n\t\t\t\tfor (i = 0, valLength = val.length; i < valLength; i++) {\n\t\t\t\t\tret[fnMap[0][i]] = val[i];\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t})();\n\n\tvar screenfull = {\n\t\trequest: function (elem) {\n\t\t\tvar request = fn.requestFullscreen;\n\n\t\t\telem = elem || document.documentElement;\n\n\t\t\t// Work around Safari 5.1 bug: reports support for\n\t\t\t// keyboard in fullscreen even though it doesn't.\n\t\t\t// Browser sniffing, since the alternative with\n\t\t\t// setTimeout is even worse.\n\t\t\tif (/5\\.1[\\.\\d]* Safari/.test(navigator.userAgent)) {\n\t\t\t\telem[request]();\n\t\t\t} else {\n\t\t\t\telem[request](keyboardAllowed && Element.ALLOW_KEYBOARD_INPUT);\n\t\t\t}\n\t\t},\n\t\texit: function () {\n\t\t\tdocument[fn.exitFullscreen]();\n\t\t},\n\t\ttoggle: function (elem) {\n\t\t\tif (this.isFullscreen) {\n\t\t\t\tthis.exit();\n\t\t\t} else {\n\t\t\t\tthis.request(elem);\n\t\t\t}\n\t\t},\n\t\traw: fn\n\t};\n\n\tif (!fn) {\n\t\tif (isCommonjs) {\n\t\t\tmodule.exports = false;\n\t\t} else {\n\t\t\twindow.screenfull = false;\n\t\t}\n\n\t\treturn;\n\t}\n\n\tObject.defineProperties(screenfull, {\n\t\tisFullscreen: {\n\t\t\tget: function () {\n\t\t\t\treturn !!document[fn.fullscreenElement];\n\t\t\t}\n\t\t},\n\t\telement: {\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\treturn document[fn.fullscreenElement];\n\t\t\t}\n\t\t},\n\t\tenabled: {\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\t// Coerce to boolean in case of old WebKit\n\t\t\t\treturn !!document[fn.fullscreenEnabled];\n\t\t\t}\n\t\t}\n\t});\n\n\tif (isCommonjs) {\n\t\tmodule.exports = screenfull;\n\t} else {\n\t\twindow.screenfull = screenfull;\n\t}\n})();\n\n},{}],11:[function(require,module,exports){\n\nmodule.exports = require('./lib/');\n\n},{\"./lib/\":12}],12:[function(require,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar url = require('./url');\nvar parser = require('socket.io-parser');\nvar Manager = require('./manager');\nvar debug = require('debug')('socket.io-client');\n\n/**\n * Module exports.\n */\n\nmodule.exports = exports = lookup;\n\n/**\n * Managers cache.\n */\n\nvar cache = exports.managers = {};\n\n/**\n * Looks up an existing `Manager` for multiplexing.\n * If the user summons:\n *\n *   `io('http://localhost/a');`\n *   `io('http://localhost/b');`\n *\n * We reuse the existing instance based on same scheme/port/host,\n * and we initialize sockets for each namespace.\n *\n * @api public\n */\n\nfunction lookup(uri, opts) {\n  if (typeof uri == 'object') {\n    opts = uri;\n    uri = undefined;\n  }\n\n  opts = opts || {};\n\n  var parsed = url(uri);\n  var source = parsed.source;\n  var id = parsed.id;\n  var io;\n\n  if (opts.forceNew || opts['force new connection'] || false === opts.multiplex) {\n    debug('ignoring socket cache for %s', source);\n    io = Manager(source, opts);\n  } else {\n    if (!cache[id]) {\n      debug('new io instance for %s', source);\n      cache[id] = Manager(source, opts);\n    }\n    io = cache[id];\n  }\n\n  return io.socket(parsed.path);\n}\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nexports.protocol = parser.protocol;\n\n/**\n * `connect`.\n *\n * @param {String} uri\n * @api public\n */\n\nexports.connect = lookup;\n\n/**\n * Expose constructors for standalone build.\n *\n * @api public\n */\n\nexports.Manager = require('./manager');\nexports.Socket = require('./socket');\n\n},{\"./manager\":13,\"./socket\":15,\"./url\":16,\"debug\":20,\"socket.io-parser\":56}],13:[function(require,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar url = require('./url');\nvar eio = require('engine.io-client');\nvar Socket = require('./socket');\nvar Emitter = require('component-emitter');\nvar parser = require('socket.io-parser');\nvar on = require('./on');\nvar bind = require('component-bind');\nvar object = require('object-component');\nvar debug = require('debug')('socket.io-client:manager');\nvar indexOf = require('indexof');\nvar Backoff = require('backo2');\n\n/**\n * Module exports\n */\n\nmodule.exports = Manager;\n\n/**\n * `Manager` constructor.\n *\n * @param {String} engine instance or engine uri/opts\n * @param {Object} options\n * @api public\n */\n\nfunction Manager(uri, opts){\n  if (!(this instanceof Manager)) return new Manager(uri, opts);\n  if (uri && ('object' == typeof uri)) {\n    opts = uri;\n    uri = undefined;\n  }\n  opts = opts || {};\n\n  opts.path = opts.path || '/socket.io';\n  this.nsps = {};\n  this.subs = [];\n  this.opts = opts;\n  this.reconnection(opts.reconnection !== false);\n  this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n  this.reconnectionDelay(opts.reconnectionDelay || 1000);\n  this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n  this.randomizationFactor(opts.randomizationFactor || 0.5);\n  this.backoff = new Backoff({\n    min: this.reconnectionDelay(),\n    max: this.reconnectionDelayMax(),\n    jitter: this.randomizationFactor()\n  });\n  this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n  this.readyState = 'closed';\n  this.uri = uri;\n  this.connected = [];\n  this.encoding = false;\n  this.packetBuffer = [];\n  this.encoder = new parser.Encoder();\n  this.decoder = new parser.Decoder();\n  this.autoConnect = opts.autoConnect !== false;\n  if (this.autoConnect) this.open();\n}\n\n/**\n * Propagate given event to sockets and emit on `this`\n *\n * @api private\n */\n\nManager.prototype.emitAll = function() {\n  this.emit.apply(this, arguments);\n  for (var nsp in this.nsps) {\n    this.nsps[nsp].emit.apply(this.nsps[nsp], arguments);\n  }\n};\n\n/**\n * Update `socket.id` of all sockets\n *\n * @api private\n */\n\nManager.prototype.updateSocketIds = function(){\n  for (var nsp in this.nsps) {\n    this.nsps[nsp].id = this.engine.id;\n  }\n};\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Manager.prototype);\n\n/**\n * Sets the `reconnection` config.\n *\n * @param {Boolean} true/false if it should automatically reconnect\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnection = function(v){\n  if (!arguments.length) return this._reconnection;\n  this._reconnection = !!v;\n  return this;\n};\n\n/**\n * Sets the reconnection attempts config.\n *\n * @param {Number} max reconnection attempts before giving up\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionAttempts = function(v){\n  if (!arguments.length) return this._reconnectionAttempts;\n  this._reconnectionAttempts = v;\n  return this;\n};\n\n/**\n * Sets the delay between reconnections.\n *\n * @param {Number} delay\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionDelay = function(v){\n  if (!arguments.length) return this._reconnectionDelay;\n  this._reconnectionDelay = v;\n  this.backoff && this.backoff.setMin(v);\n  return this;\n};\n\nManager.prototype.randomizationFactor = function(v){\n  if (!arguments.length) return this._randomizationFactor;\n  this._randomizationFactor = v;\n  this.backoff && this.backoff.setJitter(v);\n  return this;\n};\n\n/**\n * Sets the maximum delay between reconnections.\n *\n * @param {Number} delay\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionDelayMax = function(v){\n  if (!arguments.length) return this._reconnectionDelayMax;\n  this._reconnectionDelayMax = v;\n  this.backoff && this.backoff.setMax(v);\n  return this;\n};\n\n/**\n * Sets the connection timeout. `false` to disable\n *\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.timeout = function(v){\n  if (!arguments.length) return this._timeout;\n  this._timeout = v;\n  return this;\n};\n\n/**\n * Starts trying to reconnect if reconnection is enabled and we have not\n * started reconnecting yet\n *\n * @api private\n */\n\nManager.prototype.maybeReconnectOnOpen = function() {\n  // Only try to reconnect if it's the first time we're connecting\n  if (!this.reconnecting && this._reconnection && this.backoff.attempts === 0) {\n    // keeps reconnection from firing twice for the same reconnection loop\n    this.reconnect();\n  }\n};\n\n\n/**\n * Sets the current transport `socket`.\n *\n * @param {Function} optional, callback\n * @return {Manager} self\n * @api public\n */\n\nManager.prototype.open =\nManager.prototype.connect = function(fn){\n  debug('readyState %s', this.readyState);\n  if (~this.readyState.indexOf('open')) return this;\n\n  debug('opening %s', this.uri);\n  this.engine = eio(this.uri, this.opts);\n  var socket = this.engine;\n  var self = this;\n  this.readyState = 'opening';\n  this.skipReconnect = false;\n\n  // emit `open`\n  var openSub = on(socket, 'open', function() {\n    self.onopen();\n    fn && fn();\n  });\n\n  // emit `connect_error`\n  var errorSub = on(socket, 'error', function(data){\n    debug('connect_error');\n    self.cleanup();\n    self.readyState = 'closed';\n    self.emitAll('connect_error', data);\n    if (fn) {\n      var err = new Error('Connection error');\n      err.data = data;\n      fn(err);\n    } else {\n      // Only do this if there is no fn to handle the error\n      self.maybeReconnectOnOpen();\n    }\n  });\n\n  // emit `connect_timeout`\n  if (false !== this._timeout) {\n    var timeout = this._timeout;\n    debug('connect attempt will timeout after %d', timeout);\n\n    // set timer\n    var timer = setTimeout(function(){\n      debug('connect attempt timed out after %d', timeout);\n      openSub.destroy();\n      socket.close();\n      socket.emit('error', 'timeout');\n      self.emitAll('connect_timeout', timeout);\n    }, timeout);\n\n    this.subs.push({\n      destroy: function(){\n        clearTimeout(timer);\n      }\n    });\n  }\n\n  this.subs.push(openSub);\n  this.subs.push(errorSub);\n\n  return this;\n};\n\n/**\n * Called upon transport open.\n *\n * @api private\n */\n\nManager.prototype.onopen = function(){\n  debug('open');\n\n  // clear old subs\n  this.cleanup();\n\n  // mark as open\n  this.readyState = 'open';\n  this.emit('open');\n\n  // add new subs\n  var socket = this.engine;\n  this.subs.push(on(socket, 'data', bind(this, 'ondata')));\n  this.subs.push(on(this.decoder, 'decoded', bind(this, 'ondecoded')));\n  this.subs.push(on(socket, 'error', bind(this, 'onerror')));\n  this.subs.push(on(socket, 'close', bind(this, 'onclose')));\n};\n\n/**\n * Called with data.\n *\n * @api private\n */\n\nManager.prototype.ondata = function(data){\n  this.decoder.add(data);\n};\n\n/**\n * Called when parser fully decodes a packet.\n *\n * @api private\n */\n\nManager.prototype.ondecoded = function(packet) {\n  this.emit('packet', packet);\n};\n\n/**\n * Called upon socket error.\n *\n * @api private\n */\n\nManager.prototype.onerror = function(err){\n  debug('error', err);\n  this.emitAll('error', err);\n};\n\n/**\n * Creates a new socket for the given `nsp`.\n *\n * @return {Socket}\n * @api public\n */\n\nManager.prototype.socket = function(nsp){\n  var socket = this.nsps[nsp];\n  if (!socket) {\n    socket = new Socket(this, nsp);\n    this.nsps[nsp] = socket;\n    var self = this;\n    socket.on('connect', function(){\n      socket.id = self.engine.id;\n      if (!~indexOf(self.connected, socket)) {\n        self.connected.push(socket);\n      }\n    });\n  }\n  return socket;\n};\n\n/**\n * Called upon a socket close.\n *\n * @param {Socket} socket\n */\n\nManager.prototype.destroy = function(socket){\n  var index = indexOf(this.connected, socket);\n  if (~index) this.connected.splice(index, 1);\n  if (this.connected.length) return;\n\n  this.close();\n};\n\n/**\n * Writes a packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nManager.prototype.packet = function(packet){\n  debug('writing packet %j', packet);\n  var self = this;\n\n  if (!self.encoding) {\n    // encode, then write to engine with result\n    self.encoding = true;\n    this.encoder.encode(packet, function(encodedPackets) {\n      for (var i = 0; i < encodedPackets.length; i++) {\n        self.engine.write(encodedPackets[i]);\n      }\n      self.encoding = false;\n      self.processPacketQueue();\n    });\n  } else { // add packet to the queue\n    self.packetBuffer.push(packet);\n  }\n};\n\n/**\n * If packet buffer is non-empty, begins encoding the\n * next packet in line.\n *\n * @api private\n */\n\nManager.prototype.processPacketQueue = function() {\n  if (this.packetBuffer.length > 0 && !this.encoding) {\n    var pack = this.packetBuffer.shift();\n    this.packet(pack);\n  }\n};\n\n/**\n * Clean up transport subscriptions and packet buffer.\n *\n * @api private\n */\n\nManager.prototype.cleanup = function(){\n  var sub;\n  while (sub = this.subs.shift()) sub.destroy();\n\n  this.packetBuffer = [];\n  this.encoding = false;\n\n  this.decoder.destroy();\n};\n\n/**\n * Close the current socket.\n *\n * @api private\n */\n\nManager.prototype.close =\nManager.prototype.disconnect = function(){\n  this.skipReconnect = true;\n  this.backoff.reset();\n  this.readyState = 'closed';\n  this.engine && this.engine.close();\n};\n\n/**\n * Called upon engine close.\n *\n * @api private\n */\n\nManager.prototype.onclose = function(reason){\n  debug('close');\n  this.cleanup();\n  this.backoff.reset();\n  this.readyState = 'closed';\n  this.emit('close', reason);\n  if (this._reconnection && !this.skipReconnect) {\n    this.reconnect();\n  }\n};\n\n/**\n * Attempt a reconnection.\n *\n * @api private\n */\n\nManager.prototype.reconnect = function(){\n  if (this.reconnecting || this.skipReconnect) return this;\n\n  var self = this;\n\n  if (this.backoff.attempts >= this._reconnectionAttempts) {\n    debug('reconnect failed');\n    this.backoff.reset();\n    this.emitAll('reconnect_failed');\n    this.reconnecting = false;\n  } else {\n    var delay = this.backoff.duration();\n    debug('will wait %dms before reconnect attempt', delay);\n\n    this.reconnecting = true;\n    var timer = setTimeout(function(){\n      if (self.skipReconnect) return;\n\n      debug('attempting reconnect');\n      self.emitAll('reconnect_attempt', self.backoff.attempts);\n      self.emitAll('reconnecting', self.backoff.attempts);\n\n      // check again for the case socket closed in above events\n      if (self.skipReconnect) return;\n\n      self.open(function(err){\n        if (err) {\n          debug('reconnect attempt error');\n          self.reconnecting = false;\n          self.reconnect();\n          self.emitAll('reconnect_error', err.data);\n        } else {\n          debug('reconnect success');\n          self.onreconnect();\n        }\n      });\n    }, delay);\n\n    this.subs.push({\n      destroy: function(){\n        clearTimeout(timer);\n      }\n    });\n  }\n};\n\n/**\n * Called upon successful reconnect.\n *\n * @api private\n */\n\nManager.prototype.onreconnect = function(){\n  var attempt = this.backoff.attempts;\n  this.reconnecting = false;\n  this.backoff.reset();\n  this.updateSocketIds();\n  this.emitAll('reconnect', attempt);\n};\n\n},{\"./on\":14,\"./socket\":15,\"./url\":16,\"backo2\":17,\"component-bind\":18,\"component-emitter\":19,\"debug\":20,\"engine.io-client\":21,\"indexof\":52,\"object-component\":53,\"socket.io-parser\":56}],14:[function(require,module,exports){\n\n/**\n * Module exports.\n */\n\nmodule.exports = on;\n\n/**\n * Helper for subscriptions.\n *\n * @param {Object|EventEmitter} obj with `Emitter` mixin or `EventEmitter`\n * @param {String} event name\n * @param {Function} callback\n * @api public\n */\n\nfunction on(obj, ev, fn) {\n  obj.on(ev, fn);\n  return {\n    destroy: function(){\n      obj.removeListener(ev, fn);\n    }\n  };\n}\n\n},{}],15:[function(require,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar parser = require('socket.io-parser');\nvar Emitter = require('component-emitter');\nvar toArray = require('to-array');\nvar on = require('./on');\nvar bind = require('component-bind');\nvar debug = require('debug')('socket.io-client:socket');\nvar hasBin = require('has-binary');\n\n/**\n * Module exports.\n */\n\nmodule.exports = exports = Socket;\n\n/**\n * Internal events (blacklisted).\n * These events can't be emitted by the user.\n *\n * @api private\n */\n\nvar events = {\n  connect: 1,\n  connect_error: 1,\n  connect_timeout: 1,\n  disconnect: 1,\n  error: 1,\n  reconnect: 1,\n  reconnect_attempt: 1,\n  reconnect_failed: 1,\n  reconnect_error: 1,\n  reconnecting: 1\n};\n\n/**\n * Shortcut to `Emitter#emit`.\n */\n\nvar emit = Emitter.prototype.emit;\n\n/**\n * `Socket` constructor.\n *\n * @api public\n */\n\nfunction Socket(io, nsp){\n  this.io = io;\n  this.nsp = nsp;\n  this.json = this; // compat\n  this.ids = 0;\n  this.acks = {};\n  if (this.io.autoConnect) this.open();\n  this.receiveBuffer = [];\n  this.sendBuffer = [];\n  this.connected = false;\n  this.disconnected = true;\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Socket.prototype);\n\n/**\n * Subscribe to open, close and packet events\n *\n * @api private\n */\n\nSocket.prototype.subEvents = function() {\n  if (this.subs) return;\n\n  var io = this.io;\n  this.subs = [\n    on(io, 'open', bind(this, 'onopen')),\n    on(io, 'packet', bind(this, 'onpacket')),\n    on(io, 'close', bind(this, 'onclose'))\n  ];\n};\n\n/**\n * \"Opens\" the socket.\n *\n * @api public\n */\n\nSocket.prototype.open =\nSocket.prototype.connect = function(){\n  if (this.connected) return this;\n\n  this.subEvents();\n  this.io.open(); // ensure open\n  if ('open' == this.io.readyState) this.onopen();\n  return this;\n};\n\n/**\n * Sends a `message` event.\n *\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.send = function(){\n  var args = toArray(arguments);\n  args.unshift('message');\n  this.emit.apply(this, args);\n  return this;\n};\n\n/**\n * Override `emit`.\n * If the event is in `events`, it's emitted normally.\n *\n * @param {String} event name\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.emit = function(ev){\n  if (events.hasOwnProperty(ev)) {\n    emit.apply(this, arguments);\n    return this;\n  }\n\n  var args = toArray(arguments);\n  var parserType = parser.EVENT; // default\n  if (hasBin(args)) { parserType = parser.BINARY_EVENT; } // binary\n  var packet = { type: parserType, data: args };\n\n  // event ack callback\n  if ('function' == typeof args[args.length - 1]) {\n    debug('emitting packet with ack id %d', this.ids);\n    this.acks[this.ids] = args.pop();\n    packet.id = this.ids++;\n  }\n\n  if (this.connected) {\n    this.packet(packet);\n  } else {\n    this.sendBuffer.push(packet);\n  }\n\n  return this;\n};\n\n/**\n * Sends a packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.packet = function(packet){\n  packet.nsp = this.nsp;\n  this.io.packet(packet);\n};\n\n/**\n * Called upon engine `open`.\n *\n * @api private\n */\n\nSocket.prototype.onopen = function(){\n  debug('transport is open - connecting');\n\n  // write connect packet if necessary\n  if ('/' != this.nsp) {\n    this.packet({ type: parser.CONNECT });\n  }\n};\n\n/**\n * Called upon engine `close`.\n *\n * @param {String} reason\n * @api private\n */\n\nSocket.prototype.onclose = function(reason){\n  debug('close (%s)', reason);\n  this.connected = false;\n  this.disconnected = true;\n  delete this.id;\n  this.emit('disconnect', reason);\n};\n\n/**\n * Called with socket packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onpacket = function(packet){\n  if (packet.nsp != this.nsp) return;\n\n  switch (packet.type) {\n    case parser.CONNECT:\n      this.onconnect();\n      break;\n\n    case parser.EVENT:\n      this.onevent(packet);\n      break;\n\n    case parser.BINARY_EVENT:\n      this.onevent(packet);\n      break;\n\n    case parser.ACK:\n      this.onack(packet);\n      break;\n\n    case parser.BINARY_ACK:\n      this.onack(packet);\n      break;\n\n    case parser.DISCONNECT:\n      this.ondisconnect();\n      break;\n\n    case parser.ERROR:\n      this.emit('error', packet.data);\n      break;\n  }\n};\n\n/**\n * Called upon a server event.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onevent = function(packet){\n  var args = packet.data || [];\n  debug('emitting event %j', args);\n\n  if (null != packet.id) {\n    debug('attaching ack callback to event');\n    args.push(this.ack(packet.id));\n  }\n\n  if (this.connected) {\n    emit.apply(this, args);\n  } else {\n    this.receiveBuffer.push(args);\n  }\n};\n\n/**\n * Produces an ack callback to emit with an event.\n *\n * @api private\n */\n\nSocket.prototype.ack = function(id){\n  var self = this;\n  var sent = false;\n  return function(){\n    // prevent double callbacks\n    if (sent) return;\n    sent = true;\n    var args = toArray(arguments);\n    debug('sending ack %j', args);\n\n    var type = hasBin(args) ? parser.BINARY_ACK : parser.ACK;\n    self.packet({\n      type: type,\n      id: id,\n      data: args\n    });\n  };\n};\n\n/**\n * Called upon a server acknowlegement.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onack = function(packet){\n  debug('calling ack %s with %j', packet.id, packet.data);\n  var fn = this.acks[packet.id];\n  fn.apply(this, packet.data);\n  delete this.acks[packet.id];\n};\n\n/**\n * Called upon server connect.\n *\n * @api private\n */\n\nSocket.prototype.onconnect = function(){\n  this.connected = true;\n  this.disconnected = false;\n  this.emit('connect');\n  this.emitBuffered();\n};\n\n/**\n * Emit buffered events (received and emitted).\n *\n * @api private\n */\n\nSocket.prototype.emitBuffered = function(){\n  var i;\n  for (i = 0; i < this.receiveBuffer.length; i++) {\n    emit.apply(this, this.receiveBuffer[i]);\n  }\n  this.receiveBuffer = [];\n\n  for (i = 0; i < this.sendBuffer.length; i++) {\n    this.packet(this.sendBuffer[i]);\n  }\n  this.sendBuffer = [];\n};\n\n/**\n * Called upon server disconnect.\n *\n * @api private\n */\n\nSocket.prototype.ondisconnect = function(){\n  debug('server disconnect (%s)', this.nsp);\n  this.destroy();\n  this.onclose('io server disconnect');\n};\n\n/**\n * Called upon forced client/server side disconnections,\n * this method ensures the manager stops tracking us and\n * that reconnections don't get triggered for this.\n *\n * @api private.\n */\n\nSocket.prototype.destroy = function(){\n  if (this.subs) {\n    // clean subscriptions to avoid reconnections\n    for (var i = 0; i < this.subs.length; i++) {\n      this.subs[i].destroy();\n    }\n    this.subs = null;\n  }\n\n  this.io.destroy(this);\n};\n\n/**\n * Disconnects the socket manually.\n *\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.close =\nSocket.prototype.disconnect = function(){\n  if (this.connected) {\n    debug('performing disconnect (%s)', this.nsp);\n    this.packet({ type: parser.DISCONNECT });\n  }\n\n  // remove socket from pool\n  this.destroy();\n\n  if (this.connected) {\n    // fire events\n    this.onclose('io client disconnect');\n  }\n  return this;\n};\n\n},{\"./on\":14,\"component-bind\":18,\"component-emitter\":19,\"debug\":20,\"has-binary\":50,\"socket.io-parser\":56,\"to-array\":60}],16:[function(require,module,exports){\n(function (global){\n\n/**\n * Module dependencies.\n */\n\nvar parseuri = require('parseuri');\nvar debug = require('debug')('socket.io-client:url');\n\n/**\n * Module exports.\n */\n\nmodule.exports = url;\n\n/**\n * URL parser.\n *\n * @param {String} url\n * @param {Object} An object meant to mimic window.location.\n *                 Defaults to window.location.\n * @api public\n */\n\nfunction url(uri, loc){\n  var obj = uri;\n\n  // default to window.location\n  var loc = loc || global.location;\n  if (null == uri) uri = loc.protocol + '//' + loc.host;\n\n  // relative path support\n  if ('string' == typeof uri) {\n    if ('/' == uri.charAt(0)) {\n      if ('/' == uri.charAt(1)) {\n        uri = loc.protocol + uri;\n      } else {\n        uri = loc.hostname + uri;\n      }\n    }\n\n    if (!/^(https?|wss?):\\/\\//.test(uri)) {\n      debug('protocol-less url %s', uri);\n      if ('undefined' != typeof loc) {\n        uri = loc.protocol + '//' + uri;\n      } else {\n        uri = 'https://' + uri;\n      }\n    }\n\n    // parse\n    debug('parse %s', uri);\n    obj = parseuri(uri);\n  }\n\n  // make sure we treat `localhost:80` and `localhost` equally\n  if (!obj.port) {\n    if (/^(http|ws)$/.test(obj.protocol)) {\n      obj.port = '80';\n    }\n    else if (/^(http|ws)s$/.test(obj.protocol)) {\n      obj.port = '443';\n    }\n  }\n\n  obj.path = obj.path || '/';\n\n  // define unique id\n  obj.id = obj.protocol + '://' + obj.host + ':' + obj.port;\n  // define href\n  obj.href = obj.protocol + '://' + obj.host + (loc && loc.port == obj.port ? '' : (':' + obj.port));\n\n  return obj;\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"debug\":20,\"parseuri\":54}],17:[function(require,module,exports){\n\n/**\n * Expose `Backoff`.\n */\n\nmodule.exports = Backoff;\n\n/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction Backoff(opts) {\n  opts = opts || {};\n  this.ms = opts.min || 100;\n  this.max = opts.max || 10000;\n  this.factor = opts.factor || 2;\n  this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n  this.attempts = 0;\n}\n\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\n\nBackoff.prototype.duration = function(){\n  var ms = this.ms * Math.pow(this.factor, this.attempts++);\n  if (this.jitter) {\n    var rand =  Math.random();\n    var deviation = Math.floor(rand * this.jitter * ms);\n    ms = (Math.floor(rand * 10) & 1) == 0  ? ms - deviation : ms + deviation;\n  }\n  return Math.min(ms, this.max) | 0;\n};\n\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\n\nBackoff.prototype.reset = function(){\n  this.attempts = 0;\n};\n\n/**\n * Set the minimum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMin = function(min){\n  this.ms = min;\n};\n\n/**\n * Set the maximum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMax = function(max){\n  this.max = max;\n};\n\n/**\n * Set the jitter\n *\n * @api public\n */\n\nBackoff.prototype.setJitter = function(jitter){\n  this.jitter = jitter;\n};\n\n\n},{}],18:[function(require,module,exports){\n/**\n * Slice reference.\n */\n\nvar slice = [].slice;\n\n/**\n * Bind `obj` to `fn`.\n *\n * @param {Object} obj\n * @param {Function|String} fn or string\n * @return {Function}\n * @api public\n */\n\nmodule.exports = function(obj, fn){\n  if ('string' == typeof fn) fn = obj[fn];\n  if ('function' != typeof fn) throw new Error('bind() requires a function');\n  var args = slice.call(arguments, 2);\n  return function(){\n    return fn.apply(obj, args.concat(slice.call(arguments)));\n  }\n};\n\n},{}],19:[function(require,module,exports){\n\n/**\n * Expose `Emitter`.\n */\n\nmodule.exports = Emitter;\n\n/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nfunction Emitter(obj) {\n  if (obj) return mixin(obj);\n};\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks[event] = this._callbacks[event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  var self = this;\n  this._callbacks = this._callbacks || {};\n\n  function on() {\n    self.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks[event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks[event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n  var args = [].slice.call(arguments, 1)\n    , callbacks = this._callbacks[event];\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks[event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n\n},{}],20:[function(require,module,exports){\n\n/**\n * Expose `debug()` as the module.\n */\n\nmodule.exports = debug;\n\n/**\n * Create a debugger with the given `name`.\n *\n * @param {String} name\n * @return {Type}\n * @api public\n */\n\nfunction debug(name) {\n  if (!debug.enabled(name)) return function(){};\n\n  return function(fmt){\n    fmt = coerce(fmt);\n\n    var curr = new Date;\n    var ms = curr - (debug[name] || curr);\n    debug[name] = curr;\n\n    fmt = name\n      + ' '\n      + fmt\n      + ' +' + debug.humanize(ms);\n\n    // This hackery is required for IE8\n    // where `console.log` doesn't have 'apply'\n    window.console\n      && console.log\n      && Function.prototype.apply.call(console.log, console, arguments);\n  }\n}\n\n/**\n * The currently active debug mode names.\n */\n\ndebug.names = [];\ndebug.skips = [];\n\n/**\n * Enables a debug mode by name. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} name\n * @api public\n */\n\ndebug.enable = function(name) {\n  try {\n    localStorage.debug = name;\n  } catch(e){}\n\n  var split = (name || '').split(/[\\s,]+/)\n    , len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    name = split[i].replace('*', '.*?');\n    if (name[0] === '-') {\n      debug.skips.push(new RegExp('^' + name.substr(1) + '$'));\n    }\n    else {\n      debug.names.push(new RegExp('^' + name + '$'));\n    }\n  }\n};\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\ndebug.disable = function(){\n  debug.enable('');\n};\n\n/**\n * Humanize the given `ms`.\n *\n * @param {Number} m\n * @return {String}\n * @api private\n */\n\ndebug.humanize = function(ms) {\n  var sec = 1000\n    , min = 60 * 1000\n    , hour = 60 * min;\n\n  if (ms >= hour) return (ms / hour).toFixed(1) + 'h';\n  if (ms >= min) return (ms / min).toFixed(1) + 'm';\n  if (ms >= sec) return (ms / sec | 0) + 's';\n  return ms + 'ms';\n};\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\ndebug.enabled = function(name) {\n  for (var i = 0, len = debug.skips.length; i < len; i++) {\n    if (debug.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (var i = 0, len = debug.names.length; i < len; i++) {\n    if (debug.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n};\n\n/**\n * Coerce `val`.\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n\n// persist\n\ntry {\n  if (window.localStorage) debug.enable(localStorage.debug);\n} catch(e){}\n\n},{}],21:[function(require,module,exports){\n\nmodule.exports =  require('./lib/');\n\n},{\"./lib/\":22}],22:[function(require,module,exports){\n\nmodule.exports = require('./socket');\n\n/**\n * Exports parser\n *\n * @api public\n *\n */\nmodule.exports.parser = require('engine.io-parser');\n\n},{\"./socket\":23,\"engine.io-parser\":35}],23:[function(require,module,exports){\n(function (global){\n/**\n * Module dependencies.\n */\n\nvar transports = require('./transports');\nvar Emitter = require('component-emitter');\nvar debug = require('debug')('engine.io-client:socket');\nvar index = require('indexof');\nvar parser = require('engine.io-parser');\nvar parseuri = require('parseuri');\nvar parsejson = require('parsejson');\nvar parseqs = require('parseqs');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Socket;\n\n/**\n * Noop function.\n *\n * @api private\n */\n\nfunction noop(){}\n\n/**\n * Socket constructor.\n *\n * @param {String|Object} uri or options\n * @param {Object} options\n * @api public\n */\n\nfunction Socket(uri, opts){\n  if (!(this instanceof Socket)) return new Socket(uri, opts);\n\n  opts = opts || {};\n\n  if (uri && 'object' == typeof uri) {\n    opts = uri;\n    uri = null;\n  }\n\n  if (uri) {\n    uri = parseuri(uri);\n    opts.host = uri.host;\n    opts.secure = uri.protocol == 'https' || uri.protocol == 'wss';\n    opts.port = uri.port;\n    if (uri.query) opts.query = uri.query;\n  }\n\n  this.secure = null != opts.secure ? opts.secure :\n    (global.location && 'https:' == location.protocol);\n\n  if (opts.host) {\n    var pieces = opts.host.split(':');\n    opts.hostname = pieces.shift();\n    if (pieces.length) {\n      opts.port = pieces.pop();\n    } else if (!opts.port) {\n      // if no port is specified manually, use the protocol default\n      opts.port = this.secure ? '443' : '80';\n    }\n  }\n\n  this.agent = opts.agent || false;\n  this.hostname = opts.hostname ||\n    (global.location ? location.hostname : 'localhost');\n  this.port = opts.port || (global.location && location.port ?\n       location.port :\n       (this.secure ? 443 : 80));\n  this.query = opts.query || {};\n  if ('string' == typeof this.query) this.query = parseqs.decode(this.query);\n  this.upgrade = false !== opts.upgrade;\n  this.path = (opts.path || '/engine.io').replace(/\\/$/, '') + '/';\n  this.forceJSONP = !!opts.forceJSONP;\n  this.jsonp = false !== opts.jsonp;\n  this.forceBase64 = !!opts.forceBase64;\n  this.enablesXDR = !!opts.enablesXDR;\n  this.timestampParam = opts.timestampParam || 't';\n  this.timestampRequests = opts.timestampRequests;\n  this.transports = opts.transports || ['polling', 'websocket'];\n  this.readyState = '';\n  this.writeBuffer = [];\n  this.callbackBuffer = [];\n  this.policyPort = opts.policyPort || 843;\n  this.rememberUpgrade = opts.rememberUpgrade || false;\n  this.binaryType = null;\n  this.onlyBinaryUpgrades = opts.onlyBinaryUpgrades;\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx || null;\n  this.key = opts.key || null;\n  this.passphrase = opts.passphrase || null;\n  this.cert = opts.cert || null;\n  this.ca = opts.ca || null;\n  this.ciphers = opts.ciphers || null;\n  this.rejectUnauthorized = opts.rejectUnauthorized || null;\n\n  this.open();\n}\n\nSocket.priorWebsocketSuccess = false;\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Socket.prototype);\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nSocket.protocol = parser.protocol; // this is an int\n\n/**\n * Expose deps for legacy compatibility\n * and standalone browser access.\n */\n\nSocket.Socket = Socket;\nSocket.Transport = require('./transport');\nSocket.transports = require('./transports');\nSocket.parser = require('engine.io-parser');\n\n/**\n * Creates transport of the given type.\n *\n * @param {String} transport name\n * @return {Transport}\n * @api private\n */\n\nSocket.prototype.createTransport = function (name) {\n  debug('creating transport \"%s\"', name);\n  var query = clone(this.query);\n\n  // append engine.io protocol identifier\n  query.EIO = parser.protocol;\n\n  // transport name\n  query.transport = name;\n\n  // session id if we already have one\n  if (this.id) query.sid = this.id;\n\n  var transport = new transports[name]({\n    agent: this.agent,\n    hostname: this.hostname,\n    port: this.port,\n    secure: this.secure,\n    path: this.path,\n    query: query,\n    forceJSONP: this.forceJSONP,\n    jsonp: this.jsonp,\n    forceBase64: this.forceBase64,\n    enablesXDR: this.enablesXDR,\n    timestampRequests: this.timestampRequests,\n    timestampParam: this.timestampParam,\n    policyPort: this.policyPort,\n    socket: this,\n    pfx: this.pfx,\n    key: this.key,\n    passphrase: this.passphrase,\n    cert: this.cert,\n    ca: this.ca,\n    ciphers: this.ciphers,\n    rejectUnauthorized: this.rejectUnauthorized\n  });\n\n  return transport;\n};\n\nfunction clone (obj) {\n  var o = {};\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      o[i] = obj[i];\n    }\n  }\n  return o;\n}\n\n/**\n * Initializes transport to use and starts probe.\n *\n * @api private\n */\nSocket.prototype.open = function () {\n  var transport;\n  if (this.rememberUpgrade && Socket.priorWebsocketSuccess && this.transports.indexOf('websocket') != -1) {\n    transport = 'websocket';\n  } else if (0 == this.transports.length) {\n    // Emit error on next tick so it can be listened to\n    var self = this;\n    setTimeout(function() {\n      self.emit('error', 'No transports available');\n    }, 0);\n    return;\n  } else {\n    transport = this.transports[0];\n  }\n  this.readyState = 'opening';\n\n  // Retry with the next transport if the transport is disabled (jsonp: false)\n  var transport;\n  try {\n    transport = this.createTransport(transport);\n  } catch (e) {\n    this.transports.shift();\n    this.open();\n    return;\n  }\n\n  transport.open();\n  this.setTransport(transport);\n};\n\n/**\n * Sets the current transport. Disables the existing one (if any).\n *\n * @api private\n */\n\nSocket.prototype.setTransport = function(transport){\n  debug('setting transport %s', transport.name);\n  var self = this;\n\n  if (this.transport) {\n    debug('clearing existing transport %s', this.transport.name);\n    this.transport.removeAllListeners();\n  }\n\n  // set up transport\n  this.transport = transport;\n\n  // set up transport listeners\n  transport\n  .on('drain', function(){\n    self.onDrain();\n  })\n  .on('packet', function(packet){\n    self.onPacket(packet);\n  })\n  .on('error', function(e){\n    self.onError(e);\n  })\n  .on('close', function(){\n    self.onClose('transport close');\n  });\n};\n\n/**\n * Probes a transport.\n *\n * @param {String} transport name\n * @api private\n */\n\nSocket.prototype.probe = function (name) {\n  debug('probing transport \"%s\"', name);\n  var transport = this.createTransport(name, { probe: 1 })\n    , failed = false\n    , self = this;\n\n  Socket.priorWebsocketSuccess = false;\n\n  function onTransportOpen(){\n    if (self.onlyBinaryUpgrades) {\n      var upgradeLosesBinary = !this.supportsBinary && self.transport.supportsBinary;\n      failed = failed || upgradeLosesBinary;\n    }\n    if (failed) return;\n\n    debug('probe transport \"%s\" opened', name);\n    transport.send([{ type: 'ping', data: 'probe' }]);\n    transport.once('packet', function (msg) {\n      if (failed) return;\n      if ('pong' == msg.type && 'probe' == msg.data) {\n        debug('probe transport \"%s\" pong', name);\n        self.upgrading = true;\n        self.emit('upgrading', transport);\n        if (!transport) return;\n        Socket.priorWebsocketSuccess = 'websocket' == transport.name;\n\n        debug('pausing current transport \"%s\"', self.transport.name);\n        self.transport.pause(function () {\n          if (failed) return;\n          if ('closed' == self.readyState) return;\n          debug('changing transport and sending upgrade packet');\n\n          cleanup();\n\n          self.setTransport(transport);\n          transport.send([{ type: 'upgrade' }]);\n          self.emit('upgrade', transport);\n          transport = null;\n          self.upgrading = false;\n          self.flush();\n        });\n      } else {\n        debug('probe transport \"%s\" failed', name);\n        var err = new Error('probe error');\n        err.transport = transport.name;\n        self.emit('upgradeError', err);\n      }\n    });\n  }\n\n  function freezeTransport() {\n    if (failed) return;\n\n    // Any callback called by transport should be ignored since now\n    failed = true;\n\n    cleanup();\n\n    transport.close();\n    transport = null;\n  }\n\n  //Handle any error that happens while probing\n  function onerror(err) {\n    var error = new Error('probe error: ' + err);\n    error.transport = transport.name;\n\n    freezeTransport();\n\n    debug('probe transport \"%s\" failed because of error: %s', name, err);\n\n    self.emit('upgradeError', error);\n  }\n\n  function onTransportClose(){\n    onerror(\"transport closed\");\n  }\n\n  //When the socket is closed while we're probing\n  function onclose(){\n    onerror(\"socket closed\");\n  }\n\n  //When the socket is upgraded while we're probing\n  function onupgrade(to){\n    if (transport && to.name != transport.name) {\n      debug('\"%s\" works - aborting \"%s\"', to.name, transport.name);\n      freezeTransport();\n    }\n  }\n\n  //Remove all listeners on the transport and on self\n  function cleanup(){\n    transport.removeListener('open', onTransportOpen);\n    transport.removeListener('error', onerror);\n    transport.removeListener('close', onTransportClose);\n    self.removeListener('close', onclose);\n    self.removeListener('upgrading', onupgrade);\n  }\n\n  transport.once('open', onTransportOpen);\n  transport.once('error', onerror);\n  transport.once('close', onTransportClose);\n\n  this.once('close', onclose);\n  this.once('upgrading', onupgrade);\n\n  transport.open();\n\n};\n\n/**\n * Called when connection is deemed open.\n *\n * @api public\n */\n\nSocket.prototype.onOpen = function () {\n  debug('socket open');\n  this.readyState = 'open';\n  Socket.priorWebsocketSuccess = 'websocket' == this.transport.name;\n  this.emit('open');\n  this.flush();\n\n  // we check for `readyState` in case an `open`\n  // listener already closed the socket\n  if ('open' == this.readyState && this.upgrade && this.transport.pause) {\n    debug('starting upgrade probes');\n    for (var i = 0, l = this.upgrades.length; i < l; i++) {\n      this.probe(this.upgrades[i]);\n    }\n  }\n};\n\n/**\n * Handles a packet.\n *\n * @api private\n */\n\nSocket.prototype.onPacket = function (packet) {\n  if ('opening' == this.readyState || 'open' == this.readyState) {\n    debug('socket receive: type \"%s\", data \"%s\"', packet.type, packet.data);\n\n    this.emit('packet', packet);\n\n    // Socket is live - any packet counts\n    this.emit('heartbeat');\n\n    switch (packet.type) {\n      case 'open':\n        this.onHandshake(parsejson(packet.data));\n        break;\n\n      case 'pong':\n        this.setPing();\n        break;\n\n      case 'error':\n        var err = new Error('server error');\n        err.code = packet.data;\n        this.emit('error', err);\n        break;\n\n      case 'message':\n        this.emit('data', packet.data);\n        this.emit('message', packet.data);\n        break;\n    }\n  } else {\n    debug('packet received with socket readyState \"%s\"', this.readyState);\n  }\n};\n\n/**\n * Called upon handshake completion.\n *\n * @param {Object} handshake obj\n * @api private\n */\n\nSocket.prototype.onHandshake = function (data) {\n  this.emit('handshake', data);\n  this.id = data.sid;\n  this.transport.query.sid = data.sid;\n  this.upgrades = this.filterUpgrades(data.upgrades);\n  this.pingInterval = data.pingInterval;\n  this.pingTimeout = data.pingTimeout;\n  this.onOpen();\n  // In case open handler closes socket\n  if  ('closed' == this.readyState) return;\n  this.setPing();\n\n  // Prolong liveness of socket on heartbeat\n  this.removeListener('heartbeat', this.onHeartbeat);\n  this.on('heartbeat', this.onHeartbeat);\n};\n\n/**\n * Resets ping timeout.\n *\n * @api private\n */\n\nSocket.prototype.onHeartbeat = function (timeout) {\n  clearTimeout(this.pingTimeoutTimer);\n  var self = this;\n  self.pingTimeoutTimer = setTimeout(function () {\n    if ('closed' == self.readyState) return;\n    self.onClose('ping timeout');\n  }, timeout || (self.pingInterval + self.pingTimeout));\n};\n\n/**\n * Pings server every `this.pingInterval` and expects response\n * within `this.pingTimeout` or closes connection.\n *\n * @api private\n */\n\nSocket.prototype.setPing = function () {\n  var self = this;\n  clearTimeout(self.pingIntervalTimer);\n  self.pingIntervalTimer = setTimeout(function () {\n    debug('writing ping packet - expecting pong within %sms', self.pingTimeout);\n    self.ping();\n    self.onHeartbeat(self.pingTimeout);\n  }, self.pingInterval);\n};\n\n/**\n* Sends a ping packet.\n*\n* @api public\n*/\n\nSocket.prototype.ping = function () {\n  this.sendPacket('ping');\n};\n\n/**\n * Called on `drain` event\n *\n * @api private\n */\n\nSocket.prototype.onDrain = function() {\n  for (var i = 0; i < this.prevBufferLen; i++) {\n    if (this.callbackBuffer[i]) {\n      this.callbackBuffer[i]();\n    }\n  }\n\n  this.writeBuffer.splice(0, this.prevBufferLen);\n  this.callbackBuffer.splice(0, this.prevBufferLen);\n\n  // setting prevBufferLen = 0 is very important\n  // for example, when upgrading, upgrade packet is sent over,\n  // and a nonzero prevBufferLen could cause problems on `drain`\n  this.prevBufferLen = 0;\n\n  if (this.writeBuffer.length == 0) {\n    this.emit('drain');\n  } else {\n    this.flush();\n  }\n};\n\n/**\n * Flush write buffers.\n *\n * @api private\n */\n\nSocket.prototype.flush = function () {\n  if ('closed' != this.readyState && this.transport.writable &&\n    !this.upgrading && this.writeBuffer.length) {\n    debug('flushing %d packets in socket', this.writeBuffer.length);\n    this.transport.send(this.writeBuffer);\n    // keep track of current length of writeBuffer\n    // splice writeBuffer and callbackBuffer on `drain`\n    this.prevBufferLen = this.writeBuffer.length;\n    this.emit('flush');\n  }\n};\n\n/**\n * Sends a message.\n *\n * @param {String} message.\n * @param {Function} callback function.\n * @return {Socket} for chaining.\n * @api public\n */\n\nSocket.prototype.write =\nSocket.prototype.send = function (msg, fn) {\n  this.sendPacket('message', msg, fn);\n  return this;\n};\n\n/**\n * Sends a packet.\n *\n * @param {String} packet type.\n * @param {String} data.\n * @param {Function} callback function.\n * @api private\n */\n\nSocket.prototype.sendPacket = function (type, data, fn) {\n  if ('closing' == this.readyState || 'closed' == this.readyState) {\n    return;\n  }\n\n  var packet = { type: type, data: data };\n  this.emit('packetCreate', packet);\n  this.writeBuffer.push(packet);\n  this.callbackBuffer.push(fn);\n  this.flush();\n};\n\n/**\n * Closes the connection.\n *\n * @api private\n */\n\nSocket.prototype.close = function () {\n  if ('opening' == this.readyState || 'open' == this.readyState) {\n    this.readyState = 'closing';\n\n    var self = this;\n\n    function close() {\n      self.onClose('forced close');\n      debug('socket closing - telling transport to close');\n      self.transport.close();\n    }\n\n    function cleanupAndClose() {\n      self.removeListener('upgrade', cleanupAndClose);\n      self.removeListener('upgradeError', cleanupAndClose);\n      close();\n    }\n\n    function waitForUpgrade() {\n      // wait for upgrade to finish since we can't send packets while pausing a transport\n      self.once('upgrade', cleanupAndClose);\n      self.once('upgradeError', cleanupAndClose);\n    }\n\n    if (this.writeBuffer.length) {\n      this.once('drain', function() {\n        if (this.upgrading) {\n          waitForUpgrade();\n        } else {\n          close();\n        }\n      });\n    } else if (this.upgrading) {\n      waitForUpgrade();\n    } else {\n      close();\n    }\n  }\n\n  return this;\n};\n\n/**\n * Called upon transport error\n *\n * @api private\n */\n\nSocket.prototype.onError = function (err) {\n  debug('socket error %j', err);\n  Socket.priorWebsocketSuccess = false;\n  this.emit('error', err);\n  this.onClose('transport error', err);\n};\n\n/**\n * Called upon transport close.\n *\n * @api private\n */\n\nSocket.prototype.onClose = function (reason, desc) {\n  if ('opening' == this.readyState || 'open' == this.readyState || 'closing' == this.readyState) {\n    debug('socket close with reason: \"%s\"', reason);\n    var self = this;\n\n    // clear timers\n    clearTimeout(this.pingIntervalTimer);\n    clearTimeout(this.pingTimeoutTimer);\n\n    // clean buffers in next tick, so developers can still\n    // grab the buffers on `close` event\n    setTimeout(function() {\n      self.writeBuffer = [];\n      self.callbackBuffer = [];\n      self.prevBufferLen = 0;\n    }, 0);\n\n    // stop event from firing again for transport\n    this.transport.removeAllListeners('close');\n\n    // ensure transport won't stay open\n    this.transport.close();\n\n    // ignore further transport communication\n    this.transport.removeAllListeners();\n\n    // set ready state\n    this.readyState = 'closed';\n\n    // clear session id\n    this.id = null;\n\n    // emit close event\n    this.emit('close', reason, desc);\n  }\n};\n\n/**\n * Filters upgrades, returning only those matching client transports.\n *\n * @param {Array} server upgrades\n * @api private\n *\n */\n\nSocket.prototype.filterUpgrades = function (upgrades) {\n  var filteredUpgrades = [];\n  for (var i = 0, j = upgrades.length; i<j; i++) {\n    if (~index(this.transports, upgrades[i])) filteredUpgrades.push(upgrades[i]);\n  }\n  return filteredUpgrades;\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./transport\":24,\"./transports\":25,\"component-emitter\":19,\"debug\":32,\"engine.io-parser\":35,\"indexof\":52,\"parsejson\":46,\"parseqs\":47,\"parseuri\":48}],24:[function(require,module,exports){\n/**\n * Module dependencies.\n */\n\nvar parser = require('engine.io-parser');\nvar Emitter = require('component-emitter');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Transport;\n\n/**\n * Transport abstract constructor.\n *\n * @param {Object} options.\n * @api private\n */\n\nfunction Transport (opts) {\n  this.path = opts.path;\n  this.hostname = opts.hostname;\n  this.port = opts.port;\n  this.secure = opts.secure;\n  this.query = opts.query;\n  this.timestampParam = opts.timestampParam;\n  this.timestampRequests = opts.timestampRequests;\n  this.readyState = '';\n  this.agent = opts.agent || false;\n  this.socket = opts.socket;\n  this.enablesXDR = opts.enablesXDR;\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx;\n  this.key = opts.key;\n  this.passphrase = opts.passphrase;\n  this.cert = opts.cert;\n  this.ca = opts.ca;\n  this.ciphers = opts.ciphers;\n  this.rejectUnauthorized = opts.rejectUnauthorized;\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Transport.prototype);\n\n/**\n * A counter used to prevent collisions in the timestamps used\n * for cache busting.\n */\n\nTransport.timestamps = 0;\n\n/**\n * Emits an error.\n *\n * @param {String} str\n * @return {Transport} for chaining\n * @api public\n */\n\nTransport.prototype.onError = function (msg, desc) {\n  var err = new Error(msg);\n  err.type = 'TransportError';\n  err.description = desc;\n  this.emit('error', err);\n  return this;\n};\n\n/**\n * Opens the transport.\n *\n * @api public\n */\n\nTransport.prototype.open = function () {\n  if ('closed' == this.readyState || '' == this.readyState) {\n    this.readyState = 'opening';\n    this.doOpen();\n  }\n\n  return this;\n};\n\n/**\n * Closes the transport.\n *\n * @api private\n */\n\nTransport.prototype.close = function () {\n  if ('opening' == this.readyState || 'open' == this.readyState) {\n    this.doClose();\n    this.onClose();\n  }\n\n  return this;\n};\n\n/**\n * Sends multiple packets.\n *\n * @param {Array} packets\n * @api private\n */\n\nTransport.prototype.send = function(packets){\n  if ('open' == this.readyState) {\n    this.write(packets);\n  } else {\n    throw new Error('Transport not open');\n  }\n};\n\n/**\n * Called upon open\n *\n * @api private\n */\n\nTransport.prototype.onOpen = function () {\n  this.readyState = 'open';\n  this.writable = true;\n  this.emit('open');\n};\n\n/**\n * Called with data.\n *\n * @param {String} data\n * @api private\n */\n\nTransport.prototype.onData = function(data){\n  var packet = parser.decodePacket(data, this.socket.binaryType);\n  this.onPacket(packet);\n};\n\n/**\n * Called with a decoded packet.\n */\n\nTransport.prototype.onPacket = function (packet) {\n  this.emit('packet', packet);\n};\n\n/**\n * Called upon close.\n *\n * @api private\n */\n\nTransport.prototype.onClose = function () {\n  this.readyState = 'closed';\n  this.emit('close');\n};\n\n},{\"component-emitter\":19,\"engine.io-parser\":35}],25:[function(require,module,exports){\n(function (global){\n/**\n * Module dependencies\n */\n\nvar XMLHttpRequest = require('xmlhttprequest');\nvar XHR = require('./polling-xhr');\nvar JSONP = require('./polling-jsonp');\nvar websocket = require('./websocket');\n\n/**\n * Export transports.\n */\n\nexports.polling = polling;\nexports.websocket = websocket;\n\n/**\n * Polling transport polymorphic constructor.\n * Decides on xhr vs jsonp based on feature detection.\n *\n * @api private\n */\n\nfunction polling(opts){\n  var xhr;\n  var xd = false;\n  var xs = false;\n  var jsonp = false !== opts.jsonp;\n\n  if (global.location) {\n    var isSSL = 'https:' == location.protocol;\n    var port = location.port;\n\n    // some user agents have empty `location.port`\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    xd = opts.hostname != location.hostname || port != opts.port;\n    xs = opts.secure != isSSL;\n  }\n\n  opts.xdomain = xd;\n  opts.xscheme = xs;\n  xhr = new XMLHttpRequest(opts);\n\n  if ('open' in xhr && !opts.forceJSONP) {\n    return new XHR(opts);\n  } else {\n    if (!jsonp) throw new Error('JSONP disabled');\n    return new JSONP(opts);\n  }\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./polling-jsonp\":26,\"./polling-xhr\":27,\"./websocket\":29,\"xmlhttprequest\":30}],26:[function(require,module,exports){\n(function (global){\n\n/**\n * Module requirements.\n */\n\nvar Polling = require('./polling');\nvar inherit = require('component-inherit');\n\n/**\n * Module exports.\n */\n\nmodule.exports = JSONPPolling;\n\n/**\n * Cached regular expressions.\n */\n\nvar rNewline = /\\n/g;\nvar rEscapedNewline = /\\\\n/g;\n\n/**\n * Global JSONP callbacks.\n */\n\nvar callbacks;\n\n/**\n * Callbacks count.\n */\n\nvar index = 0;\n\n/**\n * Noop.\n */\n\nfunction empty () { }\n\n/**\n * JSONP Polling constructor.\n *\n * @param {Object} opts.\n * @api public\n */\n\nfunction JSONPPolling (opts) {\n  Polling.call(this, opts);\n\n  this.query = this.query || {};\n\n  // define global callbacks array if not present\n  // we do this here (lazily) to avoid unneeded global pollution\n  if (!callbacks) {\n    // we need to consider multiple engines in the same page\n    if (!global.___eio) global.___eio = [];\n    callbacks = global.___eio;\n  }\n\n  // callback identifier\n  this.index = callbacks.length;\n\n  // add callback to jsonp global\n  var self = this;\n  callbacks.push(function (msg) {\n    self.onData(msg);\n  });\n\n  // append to query string\n  this.query.j = this.index;\n\n  // prevent spurious errors from being emitted when the window is unloaded\n  if (global.document && global.addEventListener) {\n    global.addEventListener('beforeunload', function () {\n      if (self.script) self.script.onerror = empty;\n    }, false);\n  }\n}\n\n/**\n * Inherits from Polling.\n */\n\ninherit(JSONPPolling, Polling);\n\n/*\n * JSONP only supports binary as base64 encoded strings\n */\n\nJSONPPolling.prototype.supportsBinary = false;\n\n/**\n * Closes the socket.\n *\n * @api private\n */\n\nJSONPPolling.prototype.doClose = function () {\n  if (this.script) {\n    this.script.parentNode.removeChild(this.script);\n    this.script = null;\n  }\n\n  if (this.form) {\n    this.form.parentNode.removeChild(this.form);\n    this.form = null;\n    this.iframe = null;\n  }\n\n  Polling.prototype.doClose.call(this);\n};\n\n/**\n * Starts a poll cycle.\n *\n * @api private\n */\n\nJSONPPolling.prototype.doPoll = function () {\n  var self = this;\n  var script = document.createElement('script');\n\n  if (this.script) {\n    this.script.parentNode.removeChild(this.script);\n    this.script = null;\n  }\n\n  script.async = true;\n  script.src = this.uri();\n  script.onerror = function(e){\n    self.onError('jsonp poll error',e);\n  };\n\n  var insertAt = document.getElementsByTagName('script')[0];\n  insertAt.parentNode.insertBefore(script, insertAt);\n  this.script = script;\n\n  var isUAgecko = 'undefined' != typeof navigator && /gecko/i.test(navigator.userAgent);\n  \n  if (isUAgecko) {\n    setTimeout(function () {\n      var iframe = document.createElement('iframe');\n      document.body.appendChild(iframe);\n      document.body.removeChild(iframe);\n    }, 100);\n  }\n};\n\n/**\n * Writes with a hidden iframe.\n *\n * @param {String} data to send\n * @param {Function} called upon flush.\n * @api private\n */\n\nJSONPPolling.prototype.doWrite = function (data, fn) {\n  var self = this;\n\n  if (!this.form) {\n    var form = document.createElement('form');\n    var area = document.createElement('textarea');\n    var id = this.iframeId = 'eio_iframe_' + this.index;\n    var iframe;\n\n    form.className = 'socketio';\n    form.style.position = 'absolute';\n    form.style.top = '-1000px';\n    form.style.left = '-1000px';\n    form.target = id;\n    form.method = 'POST';\n    form.setAttribute('accept-charset', 'utf-8');\n    area.name = 'd';\n    form.appendChild(area);\n    document.body.appendChild(form);\n\n    this.form = form;\n    this.area = area;\n  }\n\n  this.form.action = this.uri();\n\n  function complete () {\n    initIframe();\n    fn();\n  }\n\n  function initIframe () {\n    if (self.iframe) {\n      try {\n        self.form.removeChild(self.iframe);\n      } catch (e) {\n        self.onError('jsonp polling iframe removal error', e);\n      }\n    }\n\n    try {\n      // ie6 dynamic iframes with target=\"\" support (thanks Chris Lambacher)\n      var html = '<iframe src=\"javascript:0\" name=\"'+ self.iframeId +'\">';\n      iframe = document.createElement(html);\n    } catch (e) {\n      iframe = document.createElement('iframe');\n      iframe.name = self.iframeId;\n      iframe.src = 'javascript:0';\n    }\n\n    iframe.id = self.iframeId;\n\n    self.form.appendChild(iframe);\n    self.iframe = iframe;\n  }\n\n  initIframe();\n\n  // escape \\n to prevent it from being converted into \\r\\n by some UAs\n  // double escaping is required for escaped new lines because unescaping of new lines can be done safely on server-side\n  data = data.replace(rEscapedNewline, '\\\\\\n');\n  this.area.value = data.replace(rNewline, '\\\\n');\n\n  try {\n    this.form.submit();\n  } catch(e) {}\n\n  if (this.iframe.attachEvent) {\n    this.iframe.onreadystatechange = function(){\n      if (self.iframe.readyState == 'complete') {\n        complete();\n      }\n    };\n  } else {\n    this.iframe.onload = complete;\n  }\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./polling\":28,\"component-inherit\":31}],27:[function(require,module,exports){\n(function (global){\n/**\n * Module requirements.\n */\n\nvar XMLHttpRequest = require('xmlhttprequest');\nvar Polling = require('./polling');\nvar Emitter = require('component-emitter');\nvar inherit = require('component-inherit');\nvar debug = require('debug')('engine.io-client:polling-xhr');\n\n/**\n * Module exports.\n */\n\nmodule.exports = XHR;\nmodule.exports.Request = Request;\n\n/**\n * Empty function\n */\n\nfunction empty(){}\n\n/**\n * XHR Polling constructor.\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction XHR(opts){\n  Polling.call(this, opts);\n\n  if (global.location) {\n    var isSSL = 'https:' == location.protocol;\n    var port = location.port;\n\n    // some user agents have empty `location.port`\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    this.xd = opts.hostname != global.location.hostname ||\n      port != opts.port;\n    this.xs = opts.secure != isSSL;\n  }\n}\n\n/**\n * Inherits from Polling.\n */\n\ninherit(XHR, Polling);\n\n/**\n * XHR supports binary\n */\n\nXHR.prototype.supportsBinary = true;\n\n/**\n * Creates a request.\n *\n * @param {String} method\n * @api private\n */\n\nXHR.prototype.request = function(opts){\n  opts = opts || {};\n  opts.uri = this.uri();\n  opts.xd = this.xd;\n  opts.xs = this.xs;\n  opts.agent = this.agent || false;\n  opts.supportsBinary = this.supportsBinary;\n  opts.enablesXDR = this.enablesXDR;\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n\n  return new Request(opts);\n};\n\n/**\n * Sends data.\n *\n * @param {String} data to send.\n * @param {Function} called upon flush.\n * @api private\n */\n\nXHR.prototype.doWrite = function(data, fn){\n  var isBinary = typeof data !== 'string' && data !== undefined;\n  var req = this.request({ method: 'POST', data: data, isBinary: isBinary });\n  var self = this;\n  req.on('success', fn);\n  req.on('error', function(err){\n    self.onError('xhr post error', err);\n  });\n  this.sendXhr = req;\n};\n\n/**\n * Starts a poll cycle.\n *\n * @api private\n */\n\nXHR.prototype.doPoll = function(){\n  debug('xhr poll');\n  var req = this.request();\n  var self = this;\n  req.on('data', function(data){\n    self.onData(data);\n  });\n  req.on('error', function(err){\n    self.onError('xhr poll error', err);\n  });\n  this.pollXhr = req;\n};\n\n/**\n * Request constructor\n *\n * @param {Object} options\n * @api public\n */\n\nfunction Request(opts){\n  this.method = opts.method || 'GET';\n  this.uri = opts.uri;\n  this.xd = !!opts.xd;\n  this.xs = !!opts.xs;\n  this.async = false !== opts.async;\n  this.data = undefined != opts.data ? opts.data : null;\n  this.agent = opts.agent;\n  this.isBinary = opts.isBinary;\n  this.supportsBinary = opts.supportsBinary;\n  this.enablesXDR = opts.enablesXDR;\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx;\n  this.key = opts.key;\n  this.passphrase = opts.passphrase;\n  this.cert = opts.cert;\n  this.ca = opts.ca;\n  this.ciphers = opts.ciphers;\n  this.rejectUnauthorized = opts.rejectUnauthorized;\n\n  this.create();\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Request.prototype);\n\n/**\n * Creates the XHR object and sends the request.\n *\n * @api private\n */\n\nRequest.prototype.create = function(){\n  var opts = { agent: this.agent, xdomain: this.xd, xscheme: this.xs, enablesXDR: this.enablesXDR };\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n\n  var xhr = this.xhr = new XMLHttpRequest(opts);\n  var self = this;\n\n  try {\n    debug('xhr open %s: %s', this.method, this.uri);\n    xhr.open(this.method, this.uri, this.async);\n    if (this.supportsBinary) {\n      // This has to be done after open because Firefox is stupid\n      // http://stackoverflow.com/questions/13216903/get-binary-data-with-xmlhttprequest-in-a-firefox-extension\n      xhr.responseType = 'arraybuffer';\n    }\n\n    if ('POST' == this.method) {\n      try {\n        if (this.isBinary) {\n          xhr.setRequestHeader('Content-type', 'application/octet-stream');\n        } else {\n          xhr.setRequestHeader('Content-type', 'text/plain;charset=UTF-8');\n        }\n      } catch (e) {}\n    }\n\n    // ie6 check\n    if ('withCredentials' in xhr) {\n      xhr.withCredentials = true;\n    }\n\n    if (this.hasXDR()) {\n      xhr.onload = function(){\n        self.onLoad();\n      };\n      xhr.onerror = function(){\n        self.onError(xhr.responseText);\n      };\n    } else {\n      xhr.onreadystatechange = function(){\n        if (4 != xhr.readyState) return;\n        if (200 == xhr.status || 1223 == xhr.status) {\n          self.onLoad();\n        } else {\n          // make sure the `error` event handler that's user-set\n          // does not throw in the same tick and gets caught here\n          setTimeout(function(){\n            self.onError(xhr.status);\n          }, 0);\n        }\n      };\n    }\n\n    debug('xhr data %s', this.data);\n    xhr.send(this.data);\n  } catch (e) {\n    // Need to defer since .create() is called directly fhrom the constructor\n    // and thus the 'error' event can only be only bound *after* this exception\n    // occurs.  Therefore, also, we cannot throw here at all.\n    setTimeout(function() {\n      self.onError(e);\n    }, 0);\n    return;\n  }\n\n  if (global.document) {\n    this.index = Request.requestsCount++;\n    Request.requests[this.index] = this;\n  }\n};\n\n/**\n * Called upon successful response.\n *\n * @api private\n */\n\nRequest.prototype.onSuccess = function(){\n  this.emit('success');\n  this.cleanup();\n};\n\n/**\n * Called if we have data.\n *\n * @api private\n */\n\nRequest.prototype.onData = function(data){\n  this.emit('data', data);\n  this.onSuccess();\n};\n\n/**\n * Called upon error.\n *\n * @api private\n */\n\nRequest.prototype.onError = function(err){\n  this.emit('error', err);\n  this.cleanup(true);\n};\n\n/**\n * Cleans up house.\n *\n * @api private\n */\n\nRequest.prototype.cleanup = function(fromError){\n  if ('undefined' == typeof this.xhr || null === this.xhr) {\n    return;\n  }\n  // xmlhttprequest\n  if (this.hasXDR()) {\n    this.xhr.onload = this.xhr.onerror = empty;\n  } else {\n    this.xhr.onreadystatechange = empty;\n  }\n\n  if (fromError) {\n    try {\n      this.xhr.abort();\n    } catch(e) {}\n  }\n\n  if (global.document) {\n    delete Request.requests[this.index];\n  }\n\n  this.xhr = null;\n};\n\n/**\n * Called upon load.\n *\n * @api private\n */\n\nRequest.prototype.onLoad = function(){\n  var data;\n  try {\n    var contentType;\n    try {\n      contentType = this.xhr.getResponseHeader('Content-Type').split(';')[0];\n    } catch (e) {}\n    if (contentType === 'application/octet-stream') {\n      data = this.xhr.response;\n    } else {\n      if (!this.supportsBinary) {\n        data = this.xhr.responseText;\n      } else {\n        data = 'ok';\n      }\n    }\n  } catch (e) {\n    this.onError(e);\n  }\n  if (null != data) {\n    this.onData(data);\n  }\n};\n\n/**\n * Check if it has XDomainRequest.\n *\n * @api private\n */\n\nRequest.prototype.hasXDR = function(){\n  return 'undefined' !== typeof global.XDomainRequest && !this.xs && this.enablesXDR;\n};\n\n/**\n * Aborts the request.\n *\n * @api public\n */\n\nRequest.prototype.abort = function(){\n  this.cleanup();\n};\n\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\n\nif (global.document) {\n  Request.requestsCount = 0;\n  Request.requests = {};\n  if (global.attachEvent) {\n    global.attachEvent('onunload', unloadHandler);\n  } else if (global.addEventListener) {\n    global.addEventListener('beforeunload', unloadHandler, false);\n  }\n}\n\nfunction unloadHandler() {\n  for (var i in Request.requests) {\n    if (Request.requests.hasOwnProperty(i)) {\n      Request.requests[i].abort();\n    }\n  }\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./polling\":28,\"component-emitter\":19,\"component-inherit\":31,\"debug\":32,\"xmlhttprequest\":30}],28:[function(require,module,exports){\n/**\n * Module dependencies.\n */\n\nvar Transport = require('../transport');\nvar parseqs = require('parseqs');\nvar parser = require('engine.io-parser');\nvar inherit = require('component-inherit');\nvar debug = require('debug')('engine.io-client:polling');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Polling;\n\n/**\n * Is XHR2 supported?\n */\n\nvar hasXHR2 = (function() {\n  var XMLHttpRequest = require('xmlhttprequest');\n  var xhr = new XMLHttpRequest({ xdomain: false });\n  return null != xhr.responseType;\n})();\n\n/**\n * Polling interface.\n *\n * @param {Object} opts\n * @api private\n */\n\nfunction Polling(opts){\n  var forceBase64 = (opts && opts.forceBase64);\n  if (!hasXHR2 || forceBase64) {\n    this.supportsBinary = false;\n  }\n  Transport.call(this, opts);\n}\n\n/**\n * Inherits from Transport.\n */\n\ninherit(Polling, Transport);\n\n/**\n * Transport name.\n */\n\nPolling.prototype.name = 'polling';\n\n/**\n * Opens the socket (triggers polling). We write a PING message to determine\n * when the transport is open.\n *\n * @api private\n */\n\nPolling.prototype.doOpen = function(){\n  this.poll();\n};\n\n/**\n * Pauses polling.\n *\n * @param {Function} callback upon buffers are flushed and transport is paused\n * @api private\n */\n\nPolling.prototype.pause = function(onPause){\n  var pending = 0;\n  var self = this;\n\n  this.readyState = 'pausing';\n\n  function pause(){\n    debug('paused');\n    self.readyState = 'paused';\n    onPause();\n  }\n\n  if (this.polling || !this.writable) {\n    var total = 0;\n\n    if (this.polling) {\n      debug('we are currently polling - waiting to pause');\n      total++;\n      this.once('pollComplete', function(){\n        debug('pre-pause polling complete');\n        --total || pause();\n      });\n    }\n\n    if (!this.writable) {\n      debug('we are currently writing - waiting to pause');\n      total++;\n      this.once('drain', function(){\n        debug('pre-pause writing complete');\n        --total || pause();\n      });\n    }\n  } else {\n    pause();\n  }\n};\n\n/**\n * Starts polling cycle.\n *\n * @api public\n */\n\nPolling.prototype.poll = function(){\n  debug('polling');\n  this.polling = true;\n  this.doPoll();\n  this.emit('poll');\n};\n\n/**\n * Overloads onData to detect payloads.\n *\n * @api private\n */\n\nPolling.prototype.onData = function(data){\n  var self = this;\n  debug('polling got data %s', data);\n  var callback = function(packet, index, total) {\n    // if its the first message we consider the transport open\n    if ('opening' == self.readyState) {\n      self.onOpen();\n    }\n\n    // if its a close packet, we close the ongoing requests\n    if ('close' == packet.type) {\n      self.onClose();\n      return false;\n    }\n\n    // otherwise bypass onData and handle the message\n    self.onPacket(packet);\n  };\n\n  // decode payload\n  parser.decodePayload(data, this.socket.binaryType, callback);\n\n  // if an event did not trigger closing\n  if ('closed' != this.readyState) {\n    // if we got data we're not polling\n    this.polling = false;\n    this.emit('pollComplete');\n\n    if ('open' == this.readyState) {\n      this.poll();\n    } else {\n      debug('ignoring poll - transport state \"%s\"', this.readyState);\n    }\n  }\n};\n\n/**\n * For polling, send a close packet.\n *\n * @api private\n */\n\nPolling.prototype.doClose = function(){\n  var self = this;\n\n  function close(){\n    debug('writing close packet');\n    self.write([{ type: 'close' }]);\n  }\n\n  if ('open' == this.readyState) {\n    debug('transport open - closing');\n    close();\n  } else {\n    // in case we're trying to close while\n    // handshaking is in progress (GH-164)\n    debug('transport not open - deferring close');\n    this.once('open', close);\n  }\n};\n\n/**\n * Writes a packets payload.\n *\n * @param {Array} data packets\n * @param {Function} drain callback\n * @api private\n */\n\nPolling.prototype.write = function(packets){\n  var self = this;\n  this.writable = false;\n  var callbackfn = function() {\n    self.writable = true;\n    self.emit('drain');\n  };\n\n  var self = this;\n  parser.encodePayload(packets, this.supportsBinary, function(data) {\n    self.doWrite(data, callbackfn);\n  });\n};\n\n/**\n * Generates uri for connection.\n *\n * @api private\n */\n\nPolling.prototype.uri = function(){\n  var query = this.query || {};\n  var schema = this.secure ? 'https' : 'http';\n  var port = '';\n\n  // cache busting is forced\n  if (false !== this.timestampRequests) {\n    query[this.timestampParam] = +new Date + '-' + Transport.timestamps++;\n  }\n\n  if (!this.supportsBinary && !query.sid) {\n    query.b64 = 1;\n  }\n\n  query = parseqs.encode(query);\n\n  // avoid port if default for schema\n  if (this.port && (('https' == schema && this.port != 443) ||\n     ('http' == schema && this.port != 80))) {\n    port = ':' + this.port;\n  }\n\n  // prepend ? to query\n  if (query.length) {\n    query = '?' + query;\n  }\n\n  return schema + '://' + this.hostname + port + this.path + query;\n};\n\n},{\"../transport\":24,\"component-inherit\":31,\"debug\":32,\"engine.io-parser\":35,\"parseqs\":47,\"xmlhttprequest\":30}],29:[function(require,module,exports){\n/**\n * Module dependencies.\n */\n\nvar Transport = require('../transport');\nvar parser = require('engine.io-parser');\nvar parseqs = require('parseqs');\nvar inherit = require('component-inherit');\nvar debug = require('debug')('engine.io-client:websocket');\n\n/**\n * `ws` exposes a WebSocket-compatible interface in\n * Node, or the `WebSocket` or `MozWebSocket` globals\n * in the browser.\n */\n\nvar WebSocket = require('ws');\n\n/**\n * Module exports.\n */\n\nmodule.exports = WS;\n\n/**\n * WebSocket transport constructor.\n *\n * @api {Object} connection options\n * @api public\n */\n\nfunction WS(opts){\n  var forceBase64 = (opts && opts.forceBase64);\n  if (forceBase64) {\n    this.supportsBinary = false;\n  }\n  Transport.call(this, opts);\n}\n\n/**\n * Inherits from Transport.\n */\n\ninherit(WS, Transport);\n\n/**\n * Transport name.\n *\n * @api public\n */\n\nWS.prototype.name = 'websocket';\n\n/*\n * WebSockets support binary\n */\n\nWS.prototype.supportsBinary = true;\n\n/**\n * Opens socket.\n *\n * @api private\n */\n\nWS.prototype.doOpen = function(){\n  if (!this.check()) {\n    // let probe timeout\n    return;\n  }\n\n  var self = this;\n  var uri = this.uri();\n  var protocols = void(0);\n  var opts = { agent: this.agent };\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n\n  this.ws = new WebSocket(uri, protocols, opts);\n\n  if (this.ws.binaryType === undefined) {\n    this.supportsBinary = false;\n  }\n\n  this.ws.binaryType = 'arraybuffer';\n  this.addEventListeners();\n};\n\n/**\n * Adds event listeners to the socket\n *\n * @api private\n */\n\nWS.prototype.addEventListeners = function(){\n  var self = this;\n\n  this.ws.onopen = function(){\n    self.onOpen();\n  };\n  this.ws.onclose = function(){\n    self.onClose();\n  };\n  this.ws.onmessage = function(ev){\n    self.onData(ev.data);\n  };\n  this.ws.onerror = function(e){\n    self.onError('websocket error', e);\n  };\n};\n\n/**\n * Override `onData` to use a timer on iOS.\n * See: https://gist.github.com/mloughran/2052006\n *\n * @api private\n */\n\nif ('undefined' != typeof navigator\n  && /iPad|iPhone|iPod/i.test(navigator.userAgent)) {\n  WS.prototype.onData = function(data){\n    var self = this;\n    setTimeout(function(){\n      Transport.prototype.onData.call(self, data);\n    }, 0);\n  };\n}\n\n/**\n * Writes data to socket.\n *\n * @param {Array} array of packets.\n * @api private\n */\n\nWS.prototype.write = function(packets){\n  var self = this;\n  this.writable = false;\n  // encodePacket efficient as it uses WS framing\n  // no need for encodePayload\n  for (var i = 0, l = packets.length; i < l; i++) {\n    parser.encodePacket(packets[i], this.supportsBinary, function(data) {\n      //Sometimes the websocket has already been closed but the browser didn't\n      //have a chance of informing us about it yet, in that case send will\n      //throw an error\n      try {\n        self.ws.send(data);\n      } catch (e){\n        debug('websocket closed before onclose event');\n      }\n    });\n  }\n\n  function ondrain() {\n    self.writable = true;\n    self.emit('drain');\n  }\n  // fake drain\n  // defer to next tick to allow Socket to clear writeBuffer\n  setTimeout(ondrain, 0);\n};\n\n/**\n * Called upon close\n *\n * @api private\n */\n\nWS.prototype.onClose = function(){\n  Transport.prototype.onClose.call(this);\n};\n\n/**\n * Closes socket.\n *\n * @api private\n */\n\nWS.prototype.doClose = function(){\n  if (typeof this.ws !== 'undefined') {\n    this.ws.close();\n  }\n};\n\n/**\n * Generates uri for connection.\n *\n * @api private\n */\n\nWS.prototype.uri = function(){\n  var query = this.query || {};\n  var schema = this.secure ? 'wss' : 'ws';\n  var port = '';\n\n  // avoid port if default for schema\n  if (this.port && (('wss' == schema && this.port != 443)\n    || ('ws' == schema && this.port != 80))) {\n    port = ':' + this.port;\n  }\n\n  // append timestamp to URI\n  if (this.timestampRequests) {\n    query[this.timestampParam] = +new Date;\n  }\n\n  // communicate binary support capabilities\n  if (!this.supportsBinary) {\n    query.b64 = 1;\n  }\n\n  query = parseqs.encode(query);\n\n  // prepend ? to query\n  if (query.length) {\n    query = '?' + query;\n  }\n\n  return schema + '://' + this.hostname + port + this.path + query;\n};\n\n/**\n * Feature detection for WebSocket.\n *\n * @return {Boolean} whether this transport is available.\n * @api public\n */\n\nWS.prototype.check = function(){\n  return !!WebSocket && !('__initialize' in WebSocket && this.name === WS.prototype.name);\n};\n\n},{\"../transport\":24,\"component-inherit\":31,\"debug\":32,\"engine.io-parser\":35,\"parseqs\":47,\"ws\":49}],30:[function(require,module,exports){\n// browser shim for xmlhttprequest module\nvar hasCORS = require('has-cors');\n\nmodule.exports = function(opts) {\n  var xdomain = opts.xdomain;\n\n  // scheme must be same when usign XDomainRequest\n  // http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx\n  var xscheme = opts.xscheme;\n\n  // XDomainRequest has a flow of not sending cookie, therefore it should be disabled as a default.\n  // https://github.com/Automattic/engine.io-client/pull/217\n  var enablesXDR = opts.enablesXDR;\n\n  // XMLHttpRequest can be disabled on IE\n  try {\n    if ('undefined' != typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n      return new XMLHttpRequest();\n    }\n  } catch (e) { }\n\n  // Use XDomainRequest for IE8 if enablesXDR is true\n  // because loading bar keeps flashing when using jsonp-polling\n  // https://github.com/yujiosaka/socke.io-ie8-loading-example\n  try {\n    if ('undefined' != typeof XDomainRequest && !xscheme && enablesXDR) {\n      return new XDomainRequest();\n    }\n  } catch (e) { }\n\n  if (!xdomain) {\n    try {\n      return new ActiveXObject('Microsoft.XMLHTTP');\n    } catch(e) { }\n  }\n}\n\n},{\"has-cors\":44}],31:[function(require,module,exports){\n\nmodule.exports = function(a, b){\n  var fn = function(){};\n  fn.prototype = b.prototype;\n  a.prototype = new fn;\n  a.prototype.constructor = a;\n};\n},{}],32:[function(require,module,exports){\n\n/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  return ('WebkitAppearance' in document.documentElement.style) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (window.console && (console.firebug || (console.exception && console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31);\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  return JSON.stringify(v);\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs() {\n  var args = arguments;\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return args;\n\n  var c = 'color: ' + this.color;\n  args = [args[0], c, 'color: inherit'].concat(Array.prototype.slice.call(args, 1));\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n  return args;\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // This hackery is required for IE8,\n  // where the `console.log` function doesn't have 'apply'\n  return 'object' == typeof console\n    && 'function' == typeof console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      localStorage.removeItem('debug');\n    } else {\n      localStorage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = localStorage.debug;\n  } catch(e) {}\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n},{\"./debug\":33}],33:[function(require,module,exports){\n\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = debug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lowercased letter, i.e. \"n\".\n */\n\nexports.formatters = {};\n\n/**\n * Previously assigned color.\n */\n\nvar prevColor = 0;\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n *\n * @return {Number}\n * @api private\n */\n\nfunction selectColor() {\n  return exports.colors[prevColor++ % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction debug(namespace) {\n\n  // define the `disabled` version\n  function disabled() {\n  }\n  disabled.enabled = false;\n\n  // define the `enabled` version\n  function enabled() {\n\n    var self = enabled;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // add the `color` if not set\n    if (null == self.useColors) self.useColors = exports.useColors();\n    if (null == self.color && self.useColors) self.color = selectColor();\n\n    var args = Array.prototype.slice.call(arguments);\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %o\n      args = ['%o'].concat(args);\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    if ('function' === typeof exports.formatArgs) {\n      args = exports.formatArgs.apply(self, args);\n    }\n    var logFn = enabled.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n  enabled.enabled = true;\n\n  var fn = exports.enabled(namespace) ? enabled : disabled;\n\n  fn.namespace = namespace;\n\n  return fn;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  var split = (namespaces || '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n\n},{\"ms\":34}],34:[function(require,module,exports){\n/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} options\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options){\n  options = options || {};\n  if ('string' == typeof val) return parse(val);\n  return options.long\n    ? long(val)\n    : short(val);\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  var match = /^((?:\\d+)?\\.?\\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(str);\n  if (!match) return;\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 's':\n      return n * s;\n    case 'ms':\n      return n;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction short(ms) {\n  if (ms >= d) return Math.round(ms / d) + 'd';\n  if (ms >= h) return Math.round(ms / h) + 'h';\n  if (ms >= m) return Math.round(ms / m) + 'm';\n  if (ms >= s) return Math.round(ms / s) + 's';\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction long(ms) {\n  return plural(ms, d, 'day')\n    || plural(ms, h, 'hour')\n    || plural(ms, m, 'minute')\n    || plural(ms, s, 'second')\n    || ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) return;\n  if (ms < n * 1.5) return Math.floor(ms / n) + ' ' + name;\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n\n},{}],35:[function(require,module,exports){\n(function (global){\n/**\n * Module dependencies.\n */\n\nvar keys = require('./keys');\nvar hasBinary = require('has-binary');\nvar sliceBuffer = require('arraybuffer.slice');\nvar base64encoder = require('base64-arraybuffer');\nvar after = require('after');\nvar utf8 = require('utf8');\n\n/**\n * Check if we are running an android browser. That requires us to use\n * ArrayBuffer with polling transports...\n *\n * http://ghinda.net/jpeg-blob-ajax-android/\n */\n\nvar isAndroid = navigator.userAgent.match(/Android/i);\n\n/**\n * Check if we are running in PhantomJS.\n * Uploading a Blob with PhantomJS does not work correctly, as reported here:\n * https://github.com/ariya/phantomjs/issues/11395\n * @type boolean\n */\nvar isPhantomJS = /PhantomJS/i.test(navigator.userAgent);\n\n/**\n * When true, avoids using Blobs to encode payloads.\n * @type boolean\n */\nvar dontSendBlobs = isAndroid || isPhantomJS;\n\n/**\n * Current protocol version.\n */\n\nexports.protocol = 3;\n\n/**\n * Packet types.\n */\n\nvar packets = exports.packets = {\n    open:     0    // non-ws\n  , close:    1    // non-ws\n  , ping:     2\n  , pong:     3\n  , message:  4\n  , upgrade:  5\n  , noop:     6\n};\n\nvar packetslist = keys(packets);\n\n/**\n * Premade error packet.\n */\n\nvar err = { type: 'error', data: 'parser error' };\n\n/**\n * Create a blob api even for blob builder when vendor prefixes exist\n */\n\nvar Blob = require('blob');\n\n/**\n * Encodes a packet.\n *\n *     <packet type id> [ <data> ]\n *\n * Example:\n *\n *     5hello world\n *     3\n *     4\n *\n * Binary is encoded in an identical principle\n *\n * @api private\n */\n\nexports.encodePacket = function (packet, supportsBinary, utf8encode, callback) {\n  if ('function' == typeof supportsBinary) {\n    callback = supportsBinary;\n    supportsBinary = false;\n  }\n\n  if ('function' == typeof utf8encode) {\n    callback = utf8encode;\n    utf8encode = null;\n  }\n\n  var data = (packet.data === undefined)\n    ? undefined\n    : packet.data.buffer || packet.data;\n\n  if (global.ArrayBuffer && data instanceof ArrayBuffer) {\n    return encodeArrayBuffer(packet, supportsBinary, callback);\n  } else if (Blob && data instanceof global.Blob) {\n    return encodeBlob(packet, supportsBinary, callback);\n  }\n\n  // might be an object with { base64: true, data: dataAsBase64String }\n  if (data && data.base64) {\n    return encodeBase64Object(packet, callback);\n  }\n\n  // Sending data as a utf-8 string\n  var encoded = packets[packet.type];\n\n  // data fragment is optional\n  if (undefined !== packet.data) {\n    encoded += utf8encode ? utf8.encode(String(packet.data)) : String(packet.data);\n  }\n\n  return callback('' + encoded);\n\n};\n\nfunction encodeBase64Object(packet, callback) {\n  // packet data is an object { base64: true, data: dataAsBase64String }\n  var message = 'b' + exports.packets[packet.type] + packet.data.data;\n  return callback(message);\n}\n\n/**\n * Encode packet helpers for binary types\n */\n\nfunction encodeArrayBuffer(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  var data = packet.data;\n  var contentArray = new Uint8Array(data);\n  var resultBuffer = new Uint8Array(1 + data.byteLength);\n\n  resultBuffer[0] = packets[packet.type];\n  for (var i = 0; i < contentArray.length; i++) {\n    resultBuffer[i+1] = contentArray[i];\n  }\n\n  return callback(resultBuffer.buffer);\n}\n\nfunction encodeBlobAsArrayBuffer(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  var fr = new FileReader();\n  fr.onload = function() {\n    packet.data = fr.result;\n    exports.encodePacket(packet, supportsBinary, true, callback);\n  };\n  return fr.readAsArrayBuffer(packet.data);\n}\n\nfunction encodeBlob(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  if (dontSendBlobs) {\n    return encodeBlobAsArrayBuffer(packet, supportsBinary, callback);\n  }\n\n  var length = new Uint8Array(1);\n  length[0] = packets[packet.type];\n  var blob = new Blob([length.buffer, packet.data]);\n\n  return callback(blob);\n}\n\n/**\n * Encodes a packet with binary data in a base64 string\n *\n * @param {Object} packet, has `type` and `data`\n * @return {String} base64 encoded message\n */\n\nexports.encodeBase64Packet = function(packet, callback) {\n  var message = 'b' + exports.packets[packet.type];\n  if (Blob && packet.data instanceof Blob) {\n    var fr = new FileReader();\n    fr.onload = function() {\n      var b64 = fr.result.split(',')[1];\n      callback(message + b64);\n    };\n    return fr.readAsDataURL(packet.data);\n  }\n\n  var b64data;\n  try {\n    b64data = String.fromCharCode.apply(null, new Uint8Array(packet.data));\n  } catch (e) {\n    // iPhone Safari doesn't let you apply with typed arrays\n    var typed = new Uint8Array(packet.data);\n    var basic = new Array(typed.length);\n    for (var i = 0; i < typed.length; i++) {\n      basic[i] = typed[i];\n    }\n    b64data = String.fromCharCode.apply(null, basic);\n  }\n  message += global.btoa(b64data);\n  return callback(message);\n};\n\n/**\n * Decodes a packet. Changes format to Blob if requested.\n *\n * @return {Object} with `type` and `data` (if any)\n * @api private\n */\n\nexports.decodePacket = function (data, binaryType, utf8decode) {\n  // String data\n  if (typeof data == 'string' || data === undefined) {\n    if (data.charAt(0) == 'b') {\n      return exports.decodeBase64Packet(data.substr(1), binaryType);\n    }\n\n    if (utf8decode) {\n      try {\n        data = utf8.decode(data);\n      } catch (e) {\n        return err;\n      }\n    }\n    var type = data.charAt(0);\n\n    if (Number(type) != type || !packetslist[type]) {\n      return err;\n    }\n\n    if (data.length > 1) {\n      return { type: packetslist[type], data: data.substring(1) };\n    } else {\n      return { type: packetslist[type] };\n    }\n  }\n\n  var asArray = new Uint8Array(data);\n  var type = asArray[0];\n  var rest = sliceBuffer(data, 1);\n  if (Blob && binaryType === 'blob') {\n    rest = new Blob([rest]);\n  }\n  return { type: packetslist[type], data: rest };\n};\n\n/**\n * Decodes a packet encoded in a base64 string\n *\n * @param {String} base64 encoded message\n * @return {Object} with `type` and `data` (if any)\n */\n\nexports.decodeBase64Packet = function(msg, binaryType) {\n  var type = packetslist[msg.charAt(0)];\n  if (!global.ArrayBuffer) {\n    return { type: type, data: { base64: true, data: msg.substr(1) } };\n  }\n\n  var data = base64encoder.decode(msg.substr(1));\n\n  if (binaryType === 'blob' && Blob) {\n    data = new Blob([data]);\n  }\n\n  return { type: type, data: data };\n};\n\n/**\n * Encodes multiple messages (payload).\n *\n *     <length>:data\n *\n * Example:\n *\n *     11:hello world2:hi\n *\n * If any contents are binary, they will be encoded as base64 strings. Base64\n * encoded strings are marked with a b before the length specifier\n *\n * @param {Array} packets\n * @api private\n */\n\nexports.encodePayload = function (packets, supportsBinary, callback) {\n  if (typeof supportsBinary == 'function') {\n    callback = supportsBinary;\n    supportsBinary = null;\n  }\n\n  var isBinary = hasBinary(packets);\n\n  if (supportsBinary && isBinary) {\n    if (Blob && !dontSendBlobs) {\n      return exports.encodePayloadAsBlob(packets, callback);\n    }\n\n    return exports.encodePayloadAsArrayBuffer(packets, callback);\n  }\n\n  if (!packets.length) {\n    return callback('0:');\n  }\n\n  function setLengthHeader(message) {\n    return message.length + ':' + message;\n  }\n\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, !isBinary ? false : supportsBinary, true, function(message) {\n      doneCallback(null, setLengthHeader(message));\n    });\n  }\n\n  map(packets, encodeOne, function(err, results) {\n    return callback(results.join(''));\n  });\n};\n\n/**\n * Async array map using after\n */\n\nfunction map(ary, each, done) {\n  var result = new Array(ary.length);\n  var next = after(ary.length, done);\n\n  var eachWithIndex = function(i, el, cb) {\n    each(el, function(error, msg) {\n      result[i] = msg;\n      cb(error, result);\n    });\n  };\n\n  for (var i = 0; i < ary.length; i++) {\n    eachWithIndex(i, ary[i], next);\n  }\n}\n\n/*\n * Decodes data when a payload is maybe expected. Possible binary contents are\n * decoded from their base64 representation\n *\n * @param {String} data, callback method\n * @api public\n */\n\nexports.decodePayload = function (data, binaryType, callback) {\n  if (typeof data != 'string') {\n    return exports.decodePayloadAsBinary(data, binaryType, callback);\n  }\n\n  if (typeof binaryType === 'function') {\n    callback = binaryType;\n    binaryType = null;\n  }\n\n  var packet;\n  if (data == '') {\n    // parser error - ignoring payload\n    return callback(err, 0, 1);\n  }\n\n  var length = ''\n    , n, msg;\n\n  for (var i = 0, l = data.length; i < l; i++) {\n    var chr = data.charAt(i);\n\n    if (':' != chr) {\n      length += chr;\n    } else {\n      if ('' == length || (length != (n = Number(length)))) {\n        // parser error - ignoring payload\n        return callback(err, 0, 1);\n      }\n\n      msg = data.substr(i + 1, n);\n\n      if (length != msg.length) {\n        // parser error - ignoring payload\n        return callback(err, 0, 1);\n      }\n\n      if (msg.length) {\n        packet = exports.decodePacket(msg, binaryType, true);\n\n        if (err.type == packet.type && err.data == packet.data) {\n          // parser error in individual packet - ignoring payload\n          return callback(err, 0, 1);\n        }\n\n        var ret = callback(packet, i + n, l);\n        if (false === ret) return;\n      }\n\n      // advance cursor\n      i += n;\n      length = '';\n    }\n  }\n\n  if (length != '') {\n    // parser error - ignoring payload\n    return callback(err, 0, 1);\n  }\n\n};\n\n/**\n * Encodes multiple messages (payload) as binary.\n *\n * <1 = binary, 0 = string><number from 0-9><number from 0-9>[...]<number\n * 255><data>\n *\n * Example:\n * 1 3 255 1 2 3, if the binary contents are interpreted as 8 bit integers\n *\n * @param {Array} packets\n * @return {ArrayBuffer} encoded payload\n * @api private\n */\n\nexports.encodePayloadAsArrayBuffer = function(packets, callback) {\n  if (!packets.length) {\n    return callback(new ArrayBuffer(0));\n  }\n\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, true, true, function(data) {\n      return doneCallback(null, data);\n    });\n  }\n\n  map(packets, encodeOne, function(err, encodedPackets) {\n    var totalLength = encodedPackets.reduce(function(acc, p) {\n      var len;\n      if (typeof p === 'string'){\n        len = p.length;\n      } else {\n        len = p.byteLength;\n      }\n      return acc + len.toString().length + len + 2; // string/binary identifier + separator = 2\n    }, 0);\n\n    var resultArray = new Uint8Array(totalLength);\n\n    var bufferIndex = 0;\n    encodedPackets.forEach(function(p) {\n      var isString = typeof p === 'string';\n      var ab = p;\n      if (isString) {\n        var view = new Uint8Array(p.length);\n        for (var i = 0; i < p.length; i++) {\n          view[i] = p.charCodeAt(i);\n        }\n        ab = view.buffer;\n      }\n\n      if (isString) { // not true binary\n        resultArray[bufferIndex++] = 0;\n      } else { // true binary\n        resultArray[bufferIndex++] = 1;\n      }\n\n      var lenStr = ab.byteLength.toString();\n      for (var i = 0; i < lenStr.length; i++) {\n        resultArray[bufferIndex++] = parseInt(lenStr[i]);\n      }\n      resultArray[bufferIndex++] = 255;\n\n      var view = new Uint8Array(ab);\n      for (var i = 0; i < view.length; i++) {\n        resultArray[bufferIndex++] = view[i];\n      }\n    });\n\n    return callback(resultArray.buffer);\n  });\n};\n\n/**\n * Encode as Blob\n */\n\nexports.encodePayloadAsBlob = function(packets, callback) {\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, true, true, function(encoded) {\n      var binaryIdentifier = new Uint8Array(1);\n      binaryIdentifier[0] = 1;\n      if (typeof encoded === 'string') {\n        var view = new Uint8Array(encoded.length);\n        for (var i = 0; i < encoded.length; i++) {\n          view[i] = encoded.charCodeAt(i);\n        }\n        encoded = view.buffer;\n        binaryIdentifier[0] = 0;\n      }\n\n      var len = (encoded instanceof ArrayBuffer)\n        ? encoded.byteLength\n        : encoded.size;\n\n      var lenStr = len.toString();\n      var lengthAry = new Uint8Array(lenStr.length + 1);\n      for (var i = 0; i < lenStr.length; i++) {\n        lengthAry[i] = parseInt(lenStr[i]);\n      }\n      lengthAry[lenStr.length] = 255;\n\n      if (Blob) {\n        var blob = new Blob([binaryIdentifier.buffer, lengthAry.buffer, encoded]);\n        doneCallback(null, blob);\n      }\n    });\n  }\n\n  map(packets, encodeOne, function(err, results) {\n    return callback(new Blob(results));\n  });\n};\n\n/*\n * Decodes data when a payload is maybe expected. Strings are decoded by\n * interpreting each byte as a key code for entries marked to start with 0. See\n * description of encodePayloadAsBinary\n *\n * @param {ArrayBuffer} data, callback method\n * @api public\n */\n\nexports.decodePayloadAsBinary = function (data, binaryType, callback) {\n  if (typeof binaryType === 'function') {\n    callback = binaryType;\n    binaryType = null;\n  }\n\n  var bufferTail = data;\n  var buffers = [];\n\n  var numberTooLong = false;\n  while (bufferTail.byteLength > 0) {\n    var tailArray = new Uint8Array(bufferTail);\n    var isString = tailArray[0] === 0;\n    var msgLength = '';\n\n    for (var i = 1; ; i++) {\n      if (tailArray[i] == 255) break;\n\n      if (msgLength.length > 310) {\n        numberTooLong = true;\n        break;\n      }\n\n      msgLength += tailArray[i];\n    }\n\n    if(numberTooLong) return callback(err, 0, 1);\n\n    bufferTail = sliceBuffer(bufferTail, 2 + msgLength.length);\n    msgLength = parseInt(msgLength);\n\n    var msg = sliceBuffer(bufferTail, 0, msgLength);\n    if (isString) {\n      try {\n        msg = String.fromCharCode.apply(null, new Uint8Array(msg));\n      } catch (e) {\n        // iPhone Safari doesn't let you apply to typed arrays\n        var typed = new Uint8Array(msg);\n        msg = '';\n        for (var i = 0; i < typed.length; i++) {\n          msg += String.fromCharCode(typed[i]);\n        }\n      }\n    }\n\n    buffers.push(msg);\n    bufferTail = sliceBuffer(bufferTail, msgLength);\n  }\n\n  var total = buffers.length;\n  buffers.forEach(function(buffer, i) {\n    callback(exports.decodePacket(buffer, binaryType, true), i, total);\n  });\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./keys\":36,\"after\":37,\"arraybuffer.slice\":38,\"base64-arraybuffer\":39,\"blob\":40,\"has-binary\":41,\"utf8\":43}],36:[function(require,module,exports){\n\n/**\n * Gets the keys for an object.\n *\n * @return {Array} keys\n * @api private\n */\n\nmodule.exports = Object.keys || function keys (obj){\n  var arr = [];\n  var has = Object.prototype.hasOwnProperty;\n\n  for (var i in obj) {\n    if (has.call(obj, i)) {\n      arr.push(i);\n    }\n  }\n  return arr;\n};\n\n},{}],37:[function(require,module,exports){\nmodule.exports = after\n\nfunction after(count, callback, err_cb) {\n    var bail = false\n    err_cb = err_cb || noop\n    proxy.count = count\n\n    return (count === 0) ? callback() : proxy\n\n    function proxy(err, result) {\n        if (proxy.count <= 0) {\n            throw new Error('after called too many times')\n        }\n        --proxy.count\n\n        // after first error, rest are passed to err_cb\n        if (err) {\n            bail = true\n            callback(err)\n            // future error callbacks will go to error handler\n            callback = err_cb\n        } else if (proxy.count === 0 && !bail) {\n            callback(null, result)\n        }\n    }\n}\n\nfunction noop() {}\n\n},{}],38:[function(require,module,exports){\n/**\n * An abstraction for slicing an arraybuffer even when\n * ArrayBuffer.prototype.slice is not supported\n *\n * @api public\n */\n\nmodule.exports = function(arraybuffer, start, end) {\n  var bytes = arraybuffer.byteLength;\n  start = start || 0;\n  end = end || bytes;\n\n  if (arraybuffer.slice) { return arraybuffer.slice(start, end); }\n\n  if (start < 0) { start += bytes; }\n  if (end < 0) { end += bytes; }\n  if (end > bytes) { end = bytes; }\n\n  if (start >= bytes || start >= end || bytes === 0) {\n    return new ArrayBuffer(0);\n  }\n\n  var abv = new Uint8Array(arraybuffer);\n  var result = new Uint8Array(end - start);\n  for (var i = start, ii = 0; i < end; i++, ii++) {\n    result[ii] = abv[i];\n  }\n  return result.buffer;\n};\n\n},{}],39:[function(require,module,exports){\n/*\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n(function(chars){\n  \"use strict\";\n\n  exports.encode = function(arraybuffer) {\n    var bytes = new Uint8Array(arraybuffer),\n    i, len = bytes.length, base64 = \"\";\n\n    for (i = 0; i < len; i+=3) {\n      base64 += chars[bytes[i] >> 2];\n      base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n      base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n      base64 += chars[bytes[i + 2] & 63];\n    }\n\n    if ((len % 3) === 2) {\n      base64 = base64.substring(0, base64.length - 1) + \"=\";\n    } else if (len % 3 === 1) {\n      base64 = base64.substring(0, base64.length - 2) + \"==\";\n    }\n\n    return base64;\n  };\n\n  exports.decode =  function(base64) {\n    var bufferLength = base64.length * 0.75,\n    len = base64.length, i, p = 0,\n    encoded1, encoded2, encoded3, encoded4;\n\n    if (base64[base64.length - 1] === \"=\") {\n      bufferLength--;\n      if (base64[base64.length - 2] === \"=\") {\n        bufferLength--;\n      }\n    }\n\n    var arraybuffer = new ArrayBuffer(bufferLength),\n    bytes = new Uint8Array(arraybuffer);\n\n    for (i = 0; i < len; i+=4) {\n      encoded1 = chars.indexOf(base64[i]);\n      encoded2 = chars.indexOf(base64[i+1]);\n      encoded3 = chars.indexOf(base64[i+2]);\n      encoded4 = chars.indexOf(base64[i+3]);\n\n      bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n      bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n      bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return arraybuffer;\n  };\n})(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\");\n\n},{}],40:[function(require,module,exports){\n(function (global){\n/**\n * Create a blob builder even when vendor prefixes exist\n */\n\nvar BlobBuilder = global.BlobBuilder\n  || global.WebKitBlobBuilder\n  || global.MSBlobBuilder\n  || global.MozBlobBuilder;\n\n/**\n * Check if Blob constructor is supported\n */\n\nvar blobSupported = (function() {\n  try {\n    var b = new Blob(['hi']);\n    return b.size == 2;\n  } catch(e) {\n    return false;\n  }\n})();\n\n/**\n * Check if BlobBuilder is supported\n */\n\nvar blobBuilderSupported = BlobBuilder\n  && BlobBuilder.prototype.append\n  && BlobBuilder.prototype.getBlob;\n\nfunction BlobBuilderConstructor(ary, options) {\n  options = options || {};\n\n  var bb = new BlobBuilder();\n  for (var i = 0; i < ary.length; i++) {\n    bb.append(ary[i]);\n  }\n  return (options.type) ? bb.getBlob(options.type) : bb.getBlob();\n};\n\nmodule.exports = (function() {\n  if (blobSupported) {\n    return global.Blob;\n  } else if (blobBuilderSupported) {\n    return BlobBuilderConstructor;\n  } else {\n    return undefined;\n  }\n})();\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],41:[function(require,module,exports){\n(function (global){\n\n/*\n * Module requirements.\n */\n\nvar isArray = require('isarray');\n\n/**\n * Module exports.\n */\n\nmodule.exports = hasBinary;\n\n/**\n * Checks for binary data.\n *\n * Right now only Buffer and ArrayBuffer are supported..\n *\n * @param {Object} anything\n * @api public\n */\n\nfunction hasBinary(data) {\n\n  function _hasBinary(obj) {\n    if (!obj) return false;\n\n    if ( (global.Buffer && global.Buffer.isBuffer(obj)) ||\n         (global.ArrayBuffer && obj instanceof ArrayBuffer) ||\n         (global.Blob && obj instanceof Blob) ||\n         (global.File && obj instanceof File)\n        ) {\n      return true;\n    }\n\n    if (isArray(obj)) {\n      for (var i = 0; i < obj.length; i++) {\n          if (_hasBinary(obj[i])) {\n              return true;\n          }\n      }\n    } else if (obj && 'object' == typeof obj) {\n      if (obj.toJSON) {\n        obj = obj.toJSON();\n      }\n\n      for (var key in obj) {\n        if (obj.hasOwnProperty(key) && _hasBinary(obj[key])) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  return _hasBinary(data);\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"isarray\":42}],42:[function(require,module,exports){\nmodule.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n\n},{}],43:[function(require,module,exports){\n(function (global){\n/*! http://mths.be/utf8js v2.0.0 by @mathias */\n;(function(root) {\n\n\t// Detect free variables `exports`\n\tvar freeExports = typeof exports == 'object' && exports;\n\n\t// Detect free variable `module`\n\tvar freeModule = typeof module == 'object' && module &&\n\t\tmodule.exports == freeExports && module;\n\n\t// Detect free variable `global`, from Node.js or Browserified code,\n\t// and use it as `root`\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\troot = freeGlobal;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar stringFromCharCode = String.fromCharCode;\n\n\t// Taken from http://mths.be/punycode\n\tfunction ucs2decode(string) {\n\t\tvar output = [];\n\t\tvar counter = 0;\n\t\tvar length = string.length;\n\t\tvar value;\n\t\tvar extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t// Taken from http://mths.be/punycode\n\tfunction ucs2encode(array) {\n\t\tvar length = array.length;\n\t\tvar index = -1;\n\t\tvar value;\n\t\tvar output = '';\n\t\twhile (++index < length) {\n\t\t\tvalue = array[index];\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t}\n\t\treturn output;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tfunction createByte(codePoint, shift) {\n\t\treturn stringFromCharCode(((codePoint >> shift) & 0x3F) | 0x80);\n\t}\n\n\tfunction encodeCodePoint(codePoint) {\n\t\tif ((codePoint & 0xFFFFFF80) == 0) { // 1-byte sequence\n\t\t\treturn stringFromCharCode(codePoint);\n\t\t}\n\t\tvar symbol = '';\n\t\tif ((codePoint & 0xFFFFF800) == 0) { // 2-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 6) & 0x1F) | 0xC0);\n\t\t}\n\t\telse if ((codePoint & 0xFFFF0000) == 0) { // 3-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 12) & 0x0F) | 0xE0);\n\t\t\tsymbol += createByte(codePoint, 6);\n\t\t}\n\t\telse if ((codePoint & 0xFFE00000) == 0) { // 4-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 18) & 0x07) | 0xF0);\n\t\t\tsymbol += createByte(codePoint, 12);\n\t\t\tsymbol += createByte(codePoint, 6);\n\t\t}\n\t\tsymbol += stringFromCharCode((codePoint & 0x3F) | 0x80);\n\t\treturn symbol;\n\t}\n\n\tfunction utf8encode(string) {\n\t\tvar codePoints = ucs2decode(string);\n\n\t\t// console.log(JSON.stringify(codePoints.map(function(x) {\n\t\t// \treturn 'U+' + x.toString(16).toUpperCase();\n\t\t// })));\n\n\t\tvar length = codePoints.length;\n\t\tvar index = -1;\n\t\tvar codePoint;\n\t\tvar byteString = '';\n\t\twhile (++index < length) {\n\t\t\tcodePoint = codePoints[index];\n\t\t\tbyteString += encodeCodePoint(codePoint);\n\t\t}\n\t\treturn byteString;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tfunction readContinuationByte() {\n\t\tif (byteIndex >= byteCount) {\n\t\t\tthrow Error('Invalid byte index');\n\t\t}\n\n\t\tvar continuationByte = byteArray[byteIndex] & 0xFF;\n\t\tbyteIndex++;\n\n\t\tif ((continuationByte & 0xC0) == 0x80) {\n\t\t\treturn continuationByte & 0x3F;\n\t\t}\n\n\t\t// If we end up here, it’s not a continuation byte\n\t\tthrow Error('Invalid continuation byte');\n\t}\n\n\tfunction decodeSymbol() {\n\t\tvar byte1;\n\t\tvar byte2;\n\t\tvar byte3;\n\t\tvar byte4;\n\t\tvar codePoint;\n\n\t\tif (byteIndex > byteCount) {\n\t\t\tthrow Error('Invalid byte index');\n\t\t}\n\n\t\tif (byteIndex == byteCount) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Read first byte\n\t\tbyte1 = byteArray[byteIndex] & 0xFF;\n\t\tbyteIndex++;\n\n\t\t// 1-byte sequence (no continuation bytes)\n\t\tif ((byte1 & 0x80) == 0) {\n\t\t\treturn byte1;\n\t\t}\n\n\t\t// 2-byte sequence\n\t\tif ((byte1 & 0xE0) == 0xC0) {\n\t\t\tvar byte2 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x1F) << 6) | byte2;\n\t\t\tif (codePoint >= 0x80) {\n\t\t\t\treturn codePoint;\n\t\t\t} else {\n\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t}\n\t\t}\n\n\t\t// 3-byte sequence (may include unpaired surrogates)\n\t\tif ((byte1 & 0xF0) == 0xE0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tbyte3 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x0F) << 12) | (byte2 << 6) | byte3;\n\t\t\tif (codePoint >= 0x0800) {\n\t\t\t\treturn codePoint;\n\t\t\t} else {\n\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t}\n\t\t}\n\n\t\t// 4-byte sequence\n\t\tif ((byte1 & 0xF8) == 0xF0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tbyte3 = readContinuationByte();\n\t\t\tbyte4 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x0F) << 0x12) | (byte2 << 0x0C) |\n\t\t\t\t(byte3 << 0x06) | byte4;\n\t\t\tif (codePoint >= 0x010000 && codePoint <= 0x10FFFF) {\n\t\t\t\treturn codePoint;\n\t\t\t}\n\t\t}\n\n\t\tthrow Error('Invalid UTF-8 detected');\n\t}\n\n\tvar byteArray;\n\tvar byteCount;\n\tvar byteIndex;\n\tfunction utf8decode(byteString) {\n\t\tbyteArray = ucs2decode(byteString);\n\t\tbyteCount = byteArray.length;\n\t\tbyteIndex = 0;\n\t\tvar codePoints = [];\n\t\tvar tmp;\n\t\twhile ((tmp = decodeSymbol()) !== false) {\n\t\t\tcodePoints.push(tmp);\n\t\t}\n\t\treturn ucs2encode(codePoints);\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar utf8 = {\n\t\t'version': '2.0.0',\n\t\t'encode': utf8encode,\n\t\t'decode': utf8decode\n\t};\n\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine(function() {\n\t\t\treturn utf8;\n\t\t});\n\t}\telse if (freeExports && !freeExports.nodeType) {\n\t\tif (freeModule) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = utf8;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tvar object = {};\n\t\t\tvar hasOwnProperty = object.hasOwnProperty;\n\t\t\tfor (var key in utf8) {\n\t\t\t\thasOwnProperty.call(utf8, key) && (freeExports[key] = utf8[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.utf8 = utf8;\n\t}\n\n}(this));\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],44:[function(require,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar global = require('global');\n\n/**\n * Module exports.\n *\n * Logic borrowed from Modernizr:\n *\n *   - https://github.com/Modernizr/Modernizr/blob/master/feature-detects/cors.js\n */\n\ntry {\n  module.exports = 'XMLHttpRequest' in global &&\n    'withCredentials' in new global.XMLHttpRequest();\n} catch (err) {\n  // if XMLHttp support is disabled in IE then it will throw\n  // when trying to create\n  module.exports = false;\n}\n\n},{\"global\":45}],45:[function(require,module,exports){\n\n/**\n * Returns `this`. Execute this without a \"context\" (i.e. without it being\n * attached to an object of the left-hand side), and `this` points to the\n * \"global\" scope of the current JS execution.\n */\n\nmodule.exports = (function () { return this; })();\n\n},{}],46:[function(require,module,exports){\n(function (global){\n/**\n * JSON parse.\n *\n * @see Based on jQuery#parseJSON (MIT) and JSON2\n * @api private\n */\n\nvar rvalidchars = /^[\\],:{}\\s]*$/;\nvar rvalidescape = /\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g;\nvar rvalidtokens = /\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g;\nvar rvalidbraces = /(?:^|:|,)(?:\\s*\\[)+/g;\nvar rtrimLeft = /^\\s+/;\nvar rtrimRight = /\\s+$/;\n\nmodule.exports = function parsejson(data) {\n  if ('string' != typeof data || !data) {\n    return null;\n  }\n\n  data = data.replace(rtrimLeft, '').replace(rtrimRight, '');\n\n  // Attempt to parse using the native JSON parser first\n  if (global.JSON && JSON.parse) {\n    return JSON.parse(data);\n  }\n\n  if (rvalidchars.test(data.replace(rvalidescape, '@')\n      .replace(rvalidtokens, ']')\n      .replace(rvalidbraces, ''))) {\n    return (new Function('return ' + data))();\n  }\n};\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],47:[function(require,module,exports){\n/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\n\nexports.encode = function (obj) {\n  var str = '';\n\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      if (str.length) str += '&';\n      str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n    }\n  }\n\n  return str;\n};\n\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\n\nexports.decode = function(qs){\n  var qry = {};\n  var pairs = qs.split('&');\n  for (var i = 0, l = pairs.length; i < l; i++) {\n    var pair = pairs[i].split('=');\n    qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n  }\n  return qry;\n};\n\n},{}],48:[function(require,module,exports){\n/**\n * Parses an URI\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\n\nvar re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\nvar parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\n\nmodule.exports = function parseuri(str) {\n    var src = str,\n        b = str.indexOf('['),\n        e = str.indexOf(']');\n\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n\n    var m = re.exec(str || ''),\n        uri = {},\n        i = 14;\n\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n\n    return uri;\n};\n\n},{}],49:[function(require,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar global = (function() { return this; })();\n\n/**\n * WebSocket constructor.\n */\n\nvar WebSocket = global.WebSocket || global.MozWebSocket;\n\n/**\n * Module exports.\n */\n\nmodule.exports = WebSocket ? ws : null;\n\n/**\n * WebSocket constructor.\n *\n * The third `opts` options object gets ignored in web browsers, since it's\n * non-standard, and throws a TypeError if passed to the constructor.\n * See: https://github.com/einaros/ws/issues/227\n *\n * @param {String} uri\n * @param {Array} protocols (optional)\n * @param {Object) opts (optional)\n * @api public\n */\n\nfunction ws(uri, protocols, opts) {\n  var instance;\n  if (protocols) {\n    instance = new WebSocket(uri, protocols);\n  } else {\n    instance = new WebSocket(uri);\n  }\n  return instance;\n}\n\nif (WebSocket) ws.prototype = WebSocket.prototype;\n\n},{}],50:[function(require,module,exports){\n(function (global){\n\n/*\n * Module requirements.\n */\n\nvar isArray = require('isarray');\n\n/**\n * Module exports.\n */\n\nmodule.exports = hasBinary;\n\n/**\n * Checks for binary data.\n *\n * Right now only Buffer and ArrayBuffer are supported..\n *\n * @param {Object} anything\n * @api public\n */\n\nfunction hasBinary(data) {\n\n  function _hasBinary(obj) {\n    if (!obj) return false;\n\n    if ( (global.Buffer && global.Buffer.isBuffer(obj)) ||\n         (global.ArrayBuffer && obj instanceof ArrayBuffer) ||\n         (global.Blob && obj instanceof Blob) ||\n         (global.File && obj instanceof File)\n        ) {\n      return true;\n    }\n\n    if (isArray(obj)) {\n      for (var i = 0; i < obj.length; i++) {\n          if (_hasBinary(obj[i])) {\n              return true;\n          }\n      }\n    } else if (obj && 'object' == typeof obj) {\n      if (obj.toJSON) {\n        obj = obj.toJSON();\n      }\n\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && _hasBinary(obj[key])) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  return _hasBinary(data);\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"isarray\":51}],51:[function(require,module,exports){\narguments[4][42][0].apply(exports,arguments)\n},{\"dup\":42}],52:[function(require,module,exports){\n\nvar indexOf = [].indexOf;\n\nmodule.exports = function(arr, obj){\n  if (indexOf) return arr.indexOf(obj);\n  for (var i = 0; i < arr.length; ++i) {\n    if (arr[i] === obj) return i;\n  }\n  return -1;\n};\n},{}],53:[function(require,module,exports){\n\n/**\n * HOP ref.\n */\n\nvar has = Object.prototype.hasOwnProperty;\n\n/**\n * Return own keys in `obj`.\n *\n * @param {Object} obj\n * @return {Array}\n * @api public\n */\n\nexports.keys = Object.keys || function(obj){\n  var keys = [];\n  for (var key in obj) {\n    if (has.call(obj, key)) {\n      keys.push(key);\n    }\n  }\n  return keys;\n};\n\n/**\n * Return own values in `obj`.\n *\n * @param {Object} obj\n * @return {Array}\n * @api public\n */\n\nexports.values = function(obj){\n  var vals = [];\n  for (var key in obj) {\n    if (has.call(obj, key)) {\n      vals.push(obj[key]);\n    }\n  }\n  return vals;\n};\n\n/**\n * Merge `b` into `a`.\n *\n * @param {Object} a\n * @param {Object} b\n * @return {Object} a\n * @api public\n */\n\nexports.merge = function(a, b){\n  for (var key in b) {\n    if (has.call(b, key)) {\n      a[key] = b[key];\n    }\n  }\n  return a;\n};\n\n/**\n * Return length of `obj`.\n *\n * @param {Object} obj\n * @return {Number}\n * @api public\n */\n\nexports.length = function(obj){\n  return exports.keys(obj).length;\n};\n\n/**\n * Check if `obj` is empty.\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api public\n */\n\nexports.isEmpty = function(obj){\n  return 0 == exports.length(obj);\n};\n},{}],54:[function(require,module,exports){\n/**\n * Parses an URI\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\n\nvar re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\nvar parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host'\n  , 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\n\nmodule.exports = function parseuri(str) {\n  var m = re.exec(str || '')\n    , uri = {}\n    , i = 14;\n\n  while (i--) {\n    uri[parts[i]] = m[i] || '';\n  }\n\n  return uri;\n};\n\n},{}],55:[function(require,module,exports){\n(function (global){\n/*global Blob,File*/\n\n/**\n * Module requirements\n */\n\nvar isArray = require('isarray');\nvar isBuf = require('./is-buffer');\n\n/**\n * Replaces every Buffer | ArrayBuffer in packet with a numbered placeholder.\n * Anything with blobs or files should be fed through removeBlobs before coming\n * here.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @api public\n */\n\nexports.deconstructPacket = function(packet){\n  var buffers = [];\n  var packetData = packet.data;\n\n  function _deconstructPacket(data) {\n    if (!data) return data;\n\n    if (isBuf(data)) {\n      var placeholder = { _placeholder: true, num: buffers.length };\n      buffers.push(data);\n      return placeholder;\n    } else if (isArray(data)) {\n      var newData = new Array(data.length);\n      for (var i = 0; i < data.length; i++) {\n        newData[i] = _deconstructPacket(data[i]);\n      }\n      return newData;\n    } else if ('object' == typeof data && !(data instanceof Date)) {\n      var newData = {};\n      for (var key in data) {\n        newData[key] = _deconstructPacket(data[key]);\n      }\n      return newData;\n    }\n    return data;\n  }\n\n  var pack = packet;\n  pack.data = _deconstructPacket(packetData);\n  pack.attachments = buffers.length; // number of binary 'attachments'\n  return {packet: pack, buffers: buffers};\n};\n\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @api public\n */\n\nexports.reconstructPacket = function(packet, buffers) {\n  var curPlaceHolder = 0;\n\n  function _reconstructPacket(data) {\n    if (data && data._placeholder) {\n      var buf = buffers[data.num]; // appropriate buffer (should be natural order anyway)\n      return buf;\n    } else if (isArray(data)) {\n      for (var i = 0; i < data.length; i++) {\n        data[i] = _reconstructPacket(data[i]);\n      }\n      return data;\n    } else if (data && 'object' == typeof data) {\n      for (var key in data) {\n        data[key] = _reconstructPacket(data[key]);\n      }\n      return data;\n    }\n    return data;\n  }\n\n  packet.data = _reconstructPacket(packet.data);\n  packet.attachments = undefined; // no longer useful\n  return packet;\n};\n\n/**\n * Asynchronously removes Blobs or Files from data via\n * FileReader's readAsArrayBuffer method. Used before encoding\n * data as msgpack. Calls callback with the blobless data.\n *\n * @param {Object} data\n * @param {Function} callback\n * @api private\n */\n\nexports.removeBlobs = function(data, callback) {\n  function _removeBlobs(obj, curKey, containingObject) {\n    if (!obj) return obj;\n\n    // convert any blob\n    if ((global.Blob && obj instanceof Blob) ||\n        (global.File && obj instanceof File)) {\n      pendingBlobs++;\n\n      // async filereader\n      var fileReader = new FileReader();\n      fileReader.onload = function() { // this.result == arraybuffer\n        if (containingObject) {\n          containingObject[curKey] = this.result;\n        }\n        else {\n          bloblessData = this.result;\n        }\n\n        // if nothing pending its callback time\n        if(! --pendingBlobs) {\n          callback(bloblessData);\n        }\n      };\n\n      fileReader.readAsArrayBuffer(obj); // blob -> arraybuffer\n    } else if (isArray(obj)) { // handle array\n      for (var i = 0; i < obj.length; i++) {\n        _removeBlobs(obj[i], i, obj);\n      }\n    } else if (obj && 'object' == typeof obj && !isBuf(obj)) { // and object\n      for (var key in obj) {\n        _removeBlobs(obj[key], key, obj);\n      }\n    }\n  }\n\n  var pendingBlobs = 0;\n  var bloblessData = data;\n  _removeBlobs(bloblessData);\n  if (!pendingBlobs) {\n    callback(bloblessData);\n  }\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./is-buffer\":57,\"isarray\":58}],56:[function(require,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar debug = require('debug')('socket.io-parser');\nvar json = require('json3');\nvar isArray = require('isarray');\nvar Emitter = require('component-emitter');\nvar binary = require('./binary');\nvar isBuf = require('./is-buffer');\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nexports.protocol = 4;\n\n/**\n * Packet types.\n *\n * @api public\n */\n\nexports.types = [\n  'CONNECT',\n  'DISCONNECT',\n  'EVENT',\n  'BINARY_EVENT',\n  'ACK',\n  'BINARY_ACK',\n  'ERROR'\n];\n\n/**\n * Packet type `connect`.\n *\n * @api public\n */\n\nexports.CONNECT = 0;\n\n/**\n * Packet type `disconnect`.\n *\n * @api public\n */\n\nexports.DISCONNECT = 1;\n\n/**\n * Packet type `event`.\n *\n * @api public\n */\n\nexports.EVENT = 2;\n\n/**\n * Packet type `ack`.\n *\n * @api public\n */\n\nexports.ACK = 3;\n\n/**\n * Packet type `error`.\n *\n * @api public\n */\n\nexports.ERROR = 4;\n\n/**\n * Packet type 'binary event'\n *\n * @api public\n */\n\nexports.BINARY_EVENT = 5;\n\n/**\n * Packet type `binary ack`. For acks with binary arguments.\n *\n * @api public\n */\n\nexports.BINARY_ACK = 6;\n\n/**\n * Encoder constructor.\n *\n * @api public\n */\n\nexports.Encoder = Encoder;\n\n/**\n * Decoder constructor.\n *\n * @api public\n */\n\nexports.Decoder = Decoder;\n\n/**\n * A socket.io Encoder instance\n *\n * @api public\n */\n\nfunction Encoder() {}\n\n/**\n * Encode a packet as a single string if non-binary, or as a\n * buffer sequence, depending on packet type.\n *\n * @param {Object} obj - packet object\n * @param {Function} callback - function to handle encodings (likely engine.write)\n * @return Calls callback with Array of encodings\n * @api public\n */\n\nEncoder.prototype.encode = function(obj, callback){\n  debug('encoding packet %j', obj);\n\n  if (exports.BINARY_EVENT == obj.type || exports.BINARY_ACK == obj.type) {\n    encodeAsBinary(obj, callback);\n  }\n  else {\n    var encoding = encodeAsString(obj);\n    callback([encoding]);\n  }\n};\n\n/**\n * Encode packet as string.\n *\n * @param {Object} packet\n * @return {String} encoded\n * @api private\n */\n\nfunction encodeAsString(obj) {\n  var str = '';\n  var nsp = false;\n\n  // first is type\n  str += obj.type;\n\n  // attachments if we have them\n  if (exports.BINARY_EVENT == obj.type || exports.BINARY_ACK == obj.type) {\n    str += obj.attachments;\n    str += '-';\n  }\n\n  // if we have a namespace other than `/`\n  // we append it followed by a comma `,`\n  if (obj.nsp && '/' != obj.nsp) {\n    nsp = true;\n    str += obj.nsp;\n  }\n\n  // immediately followed by the id\n  if (null != obj.id) {\n    if (nsp) {\n      str += ',';\n      nsp = false;\n    }\n    str += obj.id;\n  }\n\n  // json data\n  if (null != obj.data) {\n    if (nsp) str += ',';\n    str += json.stringify(obj.data);\n  }\n\n  debug('encoded %j as %s', obj, str);\n  return str;\n}\n\n/**\n * Encode packet as 'buffer sequence' by removing blobs, and\n * deconstructing packet into object with placeholders and\n * a list of buffers.\n *\n * @param {Object} packet\n * @return {Buffer} encoded\n * @api private\n */\n\nfunction encodeAsBinary(obj, callback) {\n\n  function writeEncoding(bloblessData) {\n    var deconstruction = binary.deconstructPacket(bloblessData);\n    var pack = encodeAsString(deconstruction.packet);\n    var buffers = deconstruction.buffers;\n\n    buffers.unshift(pack); // add packet info to beginning of data list\n    callback(buffers); // write all the buffers\n  }\n\n  binary.removeBlobs(obj, writeEncoding);\n}\n\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n * @api public\n */\n\nfunction Decoder() {\n  this.reconstructor = null;\n}\n\n/**\n * Mix in `Emitter` with Decoder.\n */\n\nEmitter(Decoder.prototype);\n\n/**\n * Decodes an ecoded packet string into packet JSON.\n *\n * @param {String} obj - encoded packet\n * @return {Object} packet\n * @api public\n */\n\nDecoder.prototype.add = function(obj) {\n  var packet;\n  if ('string' == typeof obj) {\n    packet = decodeString(obj);\n    if (exports.BINARY_EVENT == packet.type || exports.BINARY_ACK == packet.type) { // binary packet's json\n      this.reconstructor = new BinaryReconstructor(packet);\n\n      // no attachments, labeled binary but no binary data to follow\n      if (this.reconstructor.reconPack.attachments === 0) {\n        this.emit('decoded', packet);\n      }\n    } else { // non-binary full packet\n      this.emit('decoded', packet);\n    }\n  }\n  else if (isBuf(obj) || obj.base64) { // raw binary data\n    if (!this.reconstructor) {\n      throw new Error('got binary data when not reconstructing a packet');\n    } else {\n      packet = this.reconstructor.takeBinaryData(obj);\n      if (packet) { // received final buffer\n        this.reconstructor = null;\n        this.emit('decoded', packet);\n      }\n    }\n  }\n  else {\n    throw new Error('Unknown type: ' + obj);\n  }\n};\n\n/**\n * Decode a packet String (JSON data)\n *\n * @param {String} str\n * @return {Object} packet\n * @api private\n */\n\nfunction decodeString(str) {\n  var p = {};\n  var i = 0;\n\n  // look up type\n  p.type = Number(str.charAt(0));\n  if (null == exports.types[p.type]) return error();\n\n  // look up attachments if type binary\n  if (exports.BINARY_EVENT == p.type || exports.BINARY_ACK == p.type) {\n    var buf = '';\n    while (str.charAt(++i) != '-') {\n      buf += str.charAt(i);\n      if (i == str.length) break;\n    }\n    if (buf != Number(buf) || str.charAt(i) != '-') {\n      throw new Error('Illegal attachments');\n    }\n    p.attachments = Number(buf);\n  }\n\n  // look up namespace (if any)\n  if ('/' == str.charAt(i + 1)) {\n    p.nsp = '';\n    while (++i) {\n      var c = str.charAt(i);\n      if (',' == c) break;\n      p.nsp += c;\n      if (i == str.length) break;\n    }\n  } else {\n    p.nsp = '/';\n  }\n\n  // look up id\n  var next = str.charAt(i + 1);\n  if ('' !== next && Number(next) == next) {\n    p.id = '';\n    while (++i) {\n      var c = str.charAt(i);\n      if (null == c || Number(c) != c) {\n        --i;\n        break;\n      }\n      p.id += str.charAt(i);\n      if (i == str.length) break;\n    }\n    p.id = Number(p.id);\n  }\n\n  // look up json data\n  if (str.charAt(++i)) {\n    try {\n      p.data = json.parse(str.substr(i));\n    } catch(e){\n      return error();\n    }\n  }\n\n  debug('decoded %s as %j', str, p);\n  return p;\n}\n\n/**\n * Deallocates a parser's resources\n *\n * @api public\n */\n\nDecoder.prototype.destroy = function() {\n  if (this.reconstructor) {\n    this.reconstructor.finishedReconstruction();\n  }\n};\n\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n * @api private\n */\n\nfunction BinaryReconstructor(packet) {\n  this.reconPack = packet;\n  this.buffers = [];\n}\n\n/**\n * Method to be called when binary data received from connection\n * after a BINARY_EVENT packet.\n *\n * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n * @return {null | Object} returns null if more binary data is expected or\n *   a reconstructed packet object if all buffers have been received.\n * @api private\n */\n\nBinaryReconstructor.prototype.takeBinaryData = function(binData) {\n  this.buffers.push(binData);\n  if (this.buffers.length == this.reconPack.attachments) { // done with buffer list\n    var packet = binary.reconstructPacket(this.reconPack, this.buffers);\n    this.finishedReconstruction();\n    return packet;\n  }\n  return null;\n};\n\n/**\n * Cleans up binary packet reconstruction variables.\n *\n * @api private\n */\n\nBinaryReconstructor.prototype.finishedReconstruction = function() {\n  this.reconPack = null;\n  this.buffers = [];\n};\n\nfunction error(data){\n  return {\n    type: exports.ERROR,\n    data: 'parser error'\n  };\n}\n\n},{\"./binary\":55,\"./is-buffer\":57,\"component-emitter\":19,\"debug\":20,\"isarray\":58,\"json3\":59}],57:[function(require,module,exports){\n(function (global){\n\nmodule.exports = isBuf;\n\n/**\n * Returns true if obj is a buffer or an arraybuffer.\n *\n * @api private\n */\n\nfunction isBuf(obj) {\n  return (global.Buffer && global.Buffer.isBuffer(obj)) ||\n         (global.ArrayBuffer && obj instanceof ArrayBuffer);\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],58:[function(require,module,exports){\narguments[4][42][0].apply(exports,arguments)\n},{\"dup\":42}],59:[function(require,module,exports){\n/*! JSON v3.2.6 | http://bestiejs.github.io/json3 | Copyright 2012-2013, Kit Cambridge | http://kit.mit-license.org */\n;(function (window) {\n  // Convenience aliases.\n  var getClass = {}.toString, isProperty, forEach, undef;\n\n  // Detect the `define` function exposed by asynchronous module loaders. The\n  // strict `define` check is necessary for compatibility with `r.js`.\n  var isLoader = typeof define === \"function\" && define.amd;\n\n  // Detect native implementations.\n  var nativeJSON = typeof JSON == \"object\" && JSON;\n\n  // Set up the JSON 3 namespace, preferring the CommonJS `exports` object if\n  // available.\n  var JSON3 = typeof exports == \"object\" && exports && !exports.nodeType && exports;\n\n  if (JSON3 && nativeJSON) {\n    // Explicitly delegate to the native `stringify` and `parse`\n    // implementations in CommonJS environments.\n    JSON3.stringify = nativeJSON.stringify;\n    JSON3.parse = nativeJSON.parse;\n  } else {\n    // Export for web browsers, JavaScript engines, and asynchronous module\n    // loaders, using the global `JSON` object if available.\n    JSON3 = window.JSON = nativeJSON || {};\n  }\n\n  // Test the `Date#getUTC*` methods. Based on work by @Yaffle.\n  var isExtended = new Date(-3509827334573292);\n  try {\n    // The `getUTCFullYear`, `Month`, and `Date` methods return nonsensical\n    // results for certain dates in Opera >= 10.53.\n    isExtended = isExtended.getUTCFullYear() == -109252 && isExtended.getUTCMonth() === 0 && isExtended.getUTCDate() === 1 &&\n      // Safari < 2.0.2 stores the internal millisecond time value correctly,\n      // but clips the values returned by the date methods to the range of\n      // signed 32-bit integers ([-2 ** 31, 2 ** 31 - 1]).\n      isExtended.getUTCHours() == 10 && isExtended.getUTCMinutes() == 37 && isExtended.getUTCSeconds() == 6 && isExtended.getUTCMilliseconds() == 708;\n  } catch (exception) {}\n\n  // Internal: Determines whether the native `JSON.stringify` and `parse`\n  // implementations are spec-compliant. Based on work by Ken Snyder.\n  function has(name) {\n    if (has[name] !== undef) {\n      // Return cached feature test result.\n      return has[name];\n    }\n\n    var isSupported;\n    if (name == \"bug-string-char-index\") {\n      // IE <= 7 doesn't support accessing string characters using square\n      // bracket notation. IE 8 only supports this for primitives.\n      isSupported = \"a\"[0] != \"a\";\n    } else if (name == \"json\") {\n      // Indicates whether both `JSON.stringify` and `JSON.parse` are\n      // supported.\n      isSupported = has(\"json-stringify\") && has(\"json-parse\");\n    } else {\n      var value, serialized = '{\"a\":[1,true,false,null,\"\\\\u0000\\\\b\\\\n\\\\f\\\\r\\\\t\"]}';\n      // Test `JSON.stringify`.\n      if (name == \"json-stringify\") {\n        var stringify = JSON3.stringify, stringifySupported = typeof stringify == \"function\" && isExtended;\n        if (stringifySupported) {\n          // A test function object with a custom `toJSON` method.\n          (value = function () {\n            return 1;\n          }).toJSON = value;\n          try {\n            stringifySupported =\n              // Firefox 3.1b1 and b2 serialize string, number, and boolean\n              // primitives as object literals.\n              stringify(0) === \"0\" &&\n              // FF 3.1b1, b2, and JSON 2 serialize wrapped primitives as object\n              // literals.\n              stringify(new Number()) === \"0\" &&\n              stringify(new String()) == '\"\"' &&\n              // FF 3.1b1, 2 throw an error if the value is `null`, `undefined`, or\n              // does not define a canonical JSON representation (this applies to\n              // objects with `toJSON` properties as well, *unless* they are nested\n              // within an object or array).\n              stringify(getClass) === undef &&\n              // IE 8 serializes `undefined` as `\"undefined\"`. Safari <= 5.1.7 and\n              // FF 3.1b3 pass this test.\n              stringify(undef) === undef &&\n              // Safari <= 5.1.7 and FF 3.1b3 throw `Error`s and `TypeError`s,\n              // respectively, if the value is omitted entirely.\n              stringify() === undef &&\n              // FF 3.1b1, 2 throw an error if the given value is not a number,\n              // string, array, object, Boolean, or `null` literal. This applies to\n              // objects with custom `toJSON` methods as well, unless they are nested\n              // inside object or array literals. YUI 3.0.0b1 ignores custom `toJSON`\n              // methods entirely.\n              stringify(value) === \"1\" &&\n              stringify([value]) == \"[1]\" &&\n              // Prototype <= 1.6.1 serializes `[undefined]` as `\"[]\"` instead of\n              // `\"[null]\"`.\n              stringify([undef]) == \"[null]\" &&\n              // YUI 3.0.0b1 fails to serialize `null` literals.\n              stringify(null) == \"null\" &&\n              // FF 3.1b1, 2 halts serialization if an array contains a function:\n              // `[1, true, getClass, 1]` serializes as \"[1,true,],\". FF 3.1b3\n              // elides non-JSON values from objects and arrays, unless they\n              // define custom `toJSON` methods.\n              stringify([undef, getClass, null]) == \"[null,null,null]\" &&\n              // Simple serialization test. FF 3.1b1 uses Unicode escape sequences\n              // where character escape codes are expected (e.g., `\\b` => `\\u0008`).\n              stringify({ \"a\": [value, true, false, null, \"\\x00\\b\\n\\f\\r\\t\"] }) == serialized &&\n              // FF 3.1b1 and b2 ignore the `filter` and `width` arguments.\n              stringify(null, value) === \"1\" &&\n              stringify([1, 2], null, 1) == \"[\\n 1,\\n 2\\n]\" &&\n              // JSON 2, Prototype <= 1.7, and older WebKit builds incorrectly\n              // serialize extended years.\n              stringify(new Date(-8.64e15)) == '\"-271821-04-20T00:00:00.000Z\"' &&\n              // The milliseconds are optional in ES 5, but required in 5.1.\n              stringify(new Date(8.64e15)) == '\"+275760-09-13T00:00:00.000Z\"' &&\n              // Firefox <= 11.0 incorrectly serializes years prior to 0 as negative\n              // four-digit years instead of six-digit years. Credits: @Yaffle.\n              stringify(new Date(-621987552e5)) == '\"-000001-01-01T00:00:00.000Z\"' &&\n              // Safari <= 5.1.5 and Opera >= 10.53 incorrectly serialize millisecond\n              // values less than 1000. Credits: @Yaffle.\n              stringify(new Date(-1)) == '\"1969-12-31T23:59:59.999Z\"';\n          } catch (exception) {\n            stringifySupported = false;\n          }\n        }\n        isSupported = stringifySupported;\n      }\n      // Test `JSON.parse`.\n      if (name == \"json-parse\") {\n        var parse = JSON3.parse;\n        if (typeof parse == \"function\") {\n          try {\n            // FF 3.1b1, b2 will throw an exception if a bare literal is provided.\n            // Conforming implementations should also coerce the initial argument to\n            // a string prior to parsing.\n            if (parse(\"0\") === 0 && !parse(false)) {\n              // Simple parsing test.\n              value = parse(serialized);\n              var parseSupported = value[\"a\"].length == 5 && value[\"a\"][0] === 1;\n              if (parseSupported) {\n                try {\n                  // Safari <= 5.1.2 and FF 3.1b1 allow unescaped tabs in strings.\n                  parseSupported = !parse('\"\\t\"');\n                } catch (exception) {}\n                if (parseSupported) {\n                  try {\n                    // FF 4.0 and 4.0.1 allow leading `+` signs and leading\n                    // decimal points. FF 4.0, 4.0.1, and IE 9-10 also allow\n                    // certain octal literals.\n                    parseSupported = parse(\"01\") !== 1;\n                  } catch (exception) {}\n                }\n                if (parseSupported) {\n                  try {\n                    // FF 4.0, 4.0.1, and Rhino 1.7R3-R4 allow trailing decimal\n                    // points. These environments, along with FF 3.1b1 and 2,\n                    // also allow trailing commas in JSON objects and arrays.\n                    parseSupported = parse(\"1.\") !== 1;\n                  } catch (exception) {}\n                }\n              }\n            }\n          } catch (exception) {\n            parseSupported = false;\n          }\n        }\n        isSupported = parseSupported;\n      }\n    }\n    return has[name] = !!isSupported;\n  }\n\n  if (!has(\"json\")) {\n    // Common `[[Class]]` name aliases.\n    var functionClass = \"[object Function]\";\n    var dateClass = \"[object Date]\";\n    var numberClass = \"[object Number]\";\n    var stringClass = \"[object String]\";\n    var arrayClass = \"[object Array]\";\n    var booleanClass = \"[object Boolean]\";\n\n    // Detect incomplete support for accessing string characters by index.\n    var charIndexBuggy = has(\"bug-string-char-index\");\n\n    // Define additional utility methods if the `Date` methods are buggy.\n    if (!isExtended) {\n      var floor = Math.floor;\n      // A mapping between the months of the year and the number of days between\n      // January 1st and the first of the respective month.\n      var Months = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];\n      // Internal: Calculates the number of days between the Unix epoch and the\n      // first day of the given month.\n      var getDay = function (year, month) {\n        return Months[month] + 365 * (year - 1970) + floor((year - 1969 + (month = +(month > 1))) / 4) - floor((year - 1901 + month) / 100) + floor((year - 1601 + month) / 400);\n      };\n    }\n\n    // Internal: Determines if a property is a direct property of the given\n    // object. Delegates to the native `Object#hasOwnProperty` method.\n    if (!(isProperty = {}.hasOwnProperty)) {\n      isProperty = function (property) {\n        var members = {}, constructor;\n        if ((members.__proto__ = null, members.__proto__ = {\n          // The *proto* property cannot be set multiple times in recent\n          // versions of Firefox and SeaMonkey.\n          \"toString\": 1\n        }, members).toString != getClass) {\n          // Safari <= 2.0.3 doesn't implement `Object#hasOwnProperty`, but\n          // supports the mutable *proto* property.\n          isProperty = function (property) {\n            // Capture and break the object's prototype chain (see section 8.6.2\n            // of the ES 5.1 spec). The parenthesized expression prevents an\n            // unsafe transformation by the Closure Compiler.\n            var original = this.__proto__, result = property in (this.__proto__ = null, this);\n            // Restore the original prototype chain.\n            this.__proto__ = original;\n            return result;\n          };\n        } else {\n          // Capture a reference to the top-level `Object` constructor.\n          constructor = members.constructor;\n          // Use the `constructor` property to simulate `Object#hasOwnProperty` in\n          // other environments.\n          isProperty = function (property) {\n            var parent = (this.constructor || constructor).prototype;\n            return property in this && !(property in parent && this[property] === parent[property]);\n          };\n        }\n        members = null;\n        return isProperty.call(this, property);\n      };\n    }\n\n    // Internal: A set of primitive types used by `isHostType`.\n    var PrimitiveTypes = {\n      'boolean': 1,\n      'number': 1,\n      'string': 1,\n      'undefined': 1\n    };\n\n    // Internal: Determines if the given object `property` value is a\n    // non-primitive.\n    var isHostType = function (object, property) {\n      var type = typeof object[property];\n      return type == 'object' ? !!object[property] : !PrimitiveTypes[type];\n    };\n\n    // Internal: Normalizes the `for...in` iteration algorithm across\n    // environments. Each enumerated key is yielded to a `callback` function.\n    forEach = function (object, callback) {\n      var size = 0, Properties, members, property;\n\n      // Tests for bugs in the current environment's `for...in` algorithm. The\n      // `valueOf` property inherits the non-enumerable flag from\n      // `Object.prototype` in older versions of IE, Netscape, and Mozilla.\n      (Properties = function () {\n        this.valueOf = 0;\n      }).prototype.valueOf = 0;\n\n      // Iterate over a new instance of the `Properties` class.\n      members = new Properties();\n      for (property in members) {\n        // Ignore all properties inherited from `Object.prototype`.\n        if (isProperty.call(members, property)) {\n          size++;\n        }\n      }\n      Properties = members = null;\n\n      // Normalize the iteration algorithm.\n      if (!size) {\n        // A list of non-enumerable properties inherited from `Object.prototype`.\n        members = [\"valueOf\", \"toString\", \"toLocaleString\", \"propertyIsEnumerable\", \"isPrototypeOf\", \"hasOwnProperty\", \"constructor\"];\n        // IE <= 8, Mozilla 1.0, and Netscape 6.2 ignore shadowed non-enumerable\n        // properties.\n        forEach = function (object, callback) {\n          var isFunction = getClass.call(object) == functionClass, property, length;\n          var hasProperty = !isFunction && typeof object.constructor != 'function' && isHostType(object, 'hasOwnProperty') ? object.hasOwnProperty : isProperty;\n          for (property in object) {\n            // Gecko <= 1.0 enumerates the `prototype` property of functions under\n            // certain conditions; IE does not.\n            if (!(isFunction && property == \"prototype\") && hasProperty.call(object, property)) {\n              callback(property);\n            }\n          }\n          // Manually invoke the callback for each non-enumerable property.\n          for (length = members.length; property = members[--length]; hasProperty.call(object, property) && callback(property));\n        };\n      } else if (size == 2) {\n        // Safari <= 2.0.4 enumerates shadowed properties twice.\n        forEach = function (object, callback) {\n          // Create a set of iterated properties.\n          var members = {}, isFunction = getClass.call(object) == functionClass, property;\n          for (property in object) {\n            // Store each property name to prevent double enumeration. The\n            // `prototype` property of functions is not enumerated due to cross-\n            // environment inconsistencies.\n            if (!(isFunction && property == \"prototype\") && !isProperty.call(members, property) && (members[property] = 1) && isProperty.call(object, property)) {\n              callback(property);\n            }\n          }\n        };\n      } else {\n        // No bugs detected; use the standard `for...in` algorithm.\n        forEach = function (object, callback) {\n          var isFunction = getClass.call(object) == functionClass, property, isConstructor;\n          for (property in object) {\n            if (!(isFunction && property == \"prototype\") && isProperty.call(object, property) && !(isConstructor = property === \"constructor\")) {\n              callback(property);\n            }\n          }\n          // Manually invoke the callback for the `constructor` property due to\n          // cross-environment inconsistencies.\n          if (isConstructor || isProperty.call(object, (property = \"constructor\"))) {\n            callback(property);\n          }\n        };\n      }\n      return forEach(object, callback);\n    };\n\n    // Public: Serializes a JavaScript `value` as a JSON string. The optional\n    // `filter` argument may specify either a function that alters how object and\n    // array members are serialized, or an array of strings and numbers that\n    // indicates which properties should be serialized. The optional `width`\n    // argument may be either a string or number that specifies the indentation\n    // level of the output.\n    if (!has(\"json-stringify\")) {\n      // Internal: A map of control characters and their escaped equivalents.\n      var Escapes = {\n        92: \"\\\\\\\\\",\n        34: '\\\\\"',\n        8: \"\\\\b\",\n        12: \"\\\\f\",\n        10: \"\\\\n\",\n        13: \"\\\\r\",\n        9: \"\\\\t\"\n      };\n\n      // Internal: Converts `value` into a zero-padded string such that its\n      // length is at least equal to `width`. The `width` must be <= 6.\n      var leadingZeroes = \"000000\";\n      var toPaddedString = function (width, value) {\n        // The `|| 0` expression is necessary to work around a bug in\n        // Opera <= 7.54u2 where `0 == -0`, but `String(-0) !== \"0\"`.\n        return (leadingZeroes + (value || 0)).slice(-width);\n      };\n\n      // Internal: Double-quotes a string `value`, replacing all ASCII control\n      // characters (characters with code unit values between 0 and 31) with\n      // their escaped equivalents. This is an implementation of the\n      // `Quote(value)` operation defined in ES 5.1 section 15.12.3.\n      var unicodePrefix = \"\\\\u00\";\n      var quote = function (value) {\n        var result = '\"', index = 0, length = value.length, isLarge = length > 10 && charIndexBuggy, symbols;\n        if (isLarge) {\n          symbols = value.split(\"\");\n        }\n        for (; index < length; index++) {\n          var charCode = value.charCodeAt(index);\n          // If the character is a control character, append its Unicode or\n          // shorthand escape sequence; otherwise, append the character as-is.\n          switch (charCode) {\n            case 8: case 9: case 10: case 12: case 13: case 34: case 92:\n              result += Escapes[charCode];\n              break;\n            default:\n              if (charCode < 32) {\n                result += unicodePrefix + toPaddedString(2, charCode.toString(16));\n                break;\n              }\n              result += isLarge ? symbols[index] : charIndexBuggy ? value.charAt(index) : value[index];\n          }\n        }\n        return result + '\"';\n      };\n\n      // Internal: Recursively serializes an object. Implements the\n      // `Str(key, holder)`, `JO(value)`, and `JA(value)` operations.\n      var serialize = function (property, object, callback, properties, whitespace, indentation, stack) {\n        var value, className, year, month, date, time, hours, minutes, seconds, milliseconds, results, element, index, length, prefix, result;\n        try {\n          // Necessary for host object support.\n          value = object[property];\n        } catch (exception) {}\n        if (typeof value == \"object\" && value) {\n          className = getClass.call(value);\n          if (className == dateClass && !isProperty.call(value, \"toJSON\")) {\n            if (value > -1 / 0 && value < 1 / 0) {\n              // Dates are serialized according to the `Date#toJSON` method\n              // specified in ES 5.1 section 15.9.5.44. See section 15.9.1.15\n              // for the ISO 8601 date time string format.\n              if (getDay) {\n                // Manually compute the year, month, date, hours, minutes,\n                // seconds, and milliseconds if the `getUTC*` methods are\n                // buggy. Adapted from @Yaffle's `date-shim` project.\n                date = floor(value / 864e5);\n                for (year = floor(date / 365.2425) + 1970 - 1; getDay(year + 1, 0) <= date; year++);\n                for (month = floor((date - getDay(year, 0)) / 30.42); getDay(year, month + 1) <= date; month++);\n                date = 1 + date - getDay(year, month);\n                // The `time` value specifies the time within the day (see ES\n                // 5.1 section 15.9.1.2). The formula `(A % B + B) % B` is used\n                // to compute `A modulo B`, as the `%` operator does not\n                // correspond to the `modulo` operation for negative numbers.\n                time = (value % 864e5 + 864e5) % 864e5;\n                // The hours, minutes, seconds, and milliseconds are obtained by\n                // decomposing the time within the day. See section 15.9.1.10.\n                hours = floor(time / 36e5) % 24;\n                minutes = floor(time / 6e4) % 60;\n                seconds = floor(time / 1e3) % 60;\n                milliseconds = time % 1e3;\n              } else {\n                year = value.getUTCFullYear();\n                month = value.getUTCMonth();\n                date = value.getUTCDate();\n                hours = value.getUTCHours();\n                minutes = value.getUTCMinutes();\n                seconds = value.getUTCSeconds();\n                milliseconds = value.getUTCMilliseconds();\n              }\n              // Serialize extended years correctly.\n              value = (year <= 0 || year >= 1e4 ? (year < 0 ? \"-\" : \"+\") + toPaddedString(6, year < 0 ? -year : year) : toPaddedString(4, year)) +\n                \"-\" + toPaddedString(2, month + 1) + \"-\" + toPaddedString(2, date) +\n                // Months, dates, hours, minutes, and seconds should have two\n                // digits; milliseconds should have three.\n                \"T\" + toPaddedString(2, hours) + \":\" + toPaddedString(2, minutes) + \":\" + toPaddedString(2, seconds) +\n                // Milliseconds are optional in ES 5.0, but required in 5.1.\n                \".\" + toPaddedString(3, milliseconds) + \"Z\";\n            } else {\n              value = null;\n            }\n          } else if (typeof value.toJSON == \"function\" && ((className != numberClass && className != stringClass && className != arrayClass) || isProperty.call(value, \"toJSON\"))) {\n            // Prototype <= 1.6.1 adds non-standard `toJSON` methods to the\n            // `Number`, `String`, `Date`, and `Array` prototypes. JSON 3\n            // ignores all `toJSON` methods on these objects unless they are\n            // defined directly on an instance.\n            value = value.toJSON(property);\n          }\n        }\n        if (callback) {\n          // If a replacement function was provided, call it to obtain the value\n          // for serialization.\n          value = callback.call(object, property, value);\n        }\n        if (value === null) {\n          return \"null\";\n        }\n        className = getClass.call(value);\n        if (className == booleanClass) {\n          // Booleans are represented literally.\n          return \"\" + value;\n        } else if (className == numberClass) {\n          // JSON numbers must be finite. `Infinity` and `NaN` are serialized as\n          // `\"null\"`.\n          return value > -1 / 0 && value < 1 / 0 ? \"\" + value : \"null\";\n        } else if (className == stringClass) {\n          // Strings are double-quoted and escaped.\n          return quote(\"\" + value);\n        }\n        // Recursively serialize objects and arrays.\n        if (typeof value == \"object\") {\n          // Check for cyclic structures. This is a linear search; performance\n          // is inversely proportional to the number of unique nested objects.\n          for (length = stack.length; length--;) {\n            if (stack[length] === value) {\n              // Cyclic structures cannot be serialized by `JSON.stringify`.\n              throw TypeError();\n            }\n          }\n          // Add the object to the stack of traversed objects.\n          stack.push(value);\n          results = [];\n          // Save the current indentation level and indent one additional level.\n          prefix = indentation;\n          indentation += whitespace;\n          if (className == arrayClass) {\n            // Recursively serialize array elements.\n            for (index = 0, length = value.length; index < length; index++) {\n              element = serialize(index, value, callback, properties, whitespace, indentation, stack);\n              results.push(element === undef ? \"null\" : element);\n            }\n            result = results.length ? (whitespace ? \"[\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"]\" : (\"[\" + results.join(\",\") + \"]\")) : \"[]\";\n          } else {\n            // Recursively serialize object members. Members are selected from\n            // either a user-specified list of property names, or the object\n            // itself.\n            forEach(properties || value, function (property) {\n              var element = serialize(property, value, callback, properties, whitespace, indentation, stack);\n              if (element !== undef) {\n                // According to ES 5.1 section 15.12.3: \"If `gap` {whitespace}\n                // is not the empty string, let `member` {quote(property) + \":\"}\n                // be the concatenation of `member` and the `space` character.\"\n                // The \"`space` character\" refers to the literal space\n                // character, not the `space` {width} argument provided to\n                // `JSON.stringify`.\n                results.push(quote(property) + \":\" + (whitespace ? \" \" : \"\") + element);\n              }\n            });\n            result = results.length ? (whitespace ? \"{\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"}\" : (\"{\" + results.join(\",\") + \"}\")) : \"{}\";\n          }\n          // Remove the object from the traversed object stack.\n          stack.pop();\n          return result;\n        }\n      };\n\n      // Public: `JSON.stringify`. See ES 5.1 section 15.12.3.\n      JSON3.stringify = function (source, filter, width) {\n        var whitespace, callback, properties, className;\n        if (typeof filter == \"function\" || typeof filter == \"object\" && filter) {\n          if ((className = getClass.call(filter)) == functionClass) {\n            callback = filter;\n          } else if (className == arrayClass) {\n            // Convert the property names array into a makeshift set.\n            properties = {};\n            for (var index = 0, length = filter.length, value; index < length; value = filter[index++], ((className = getClass.call(value)), className == stringClass || className == numberClass) && (properties[value] = 1));\n          }\n        }\n        if (width) {\n          if ((className = getClass.call(width)) == numberClass) {\n            // Convert the `width` to an integer and create a string containing\n            // `width` number of space characters.\n            if ((width -= width % 1) > 0) {\n              for (whitespace = \"\", width > 10 && (width = 10); whitespace.length < width; whitespace += \" \");\n            }\n          } else if (className == stringClass) {\n            whitespace = width.length <= 10 ? width : width.slice(0, 10);\n          }\n        }\n        // Opera <= 7.54u2 discards the values associated with empty string keys\n        // (`\"\"`) only if they are used directly within an object member list\n        // (e.g., `!(\"\" in { \"\": 1})`).\n        return serialize(\"\", (value = {}, value[\"\"] = source, value), callback, properties, whitespace, \"\", []);\n      };\n    }\n\n    // Public: Parses a JSON source string.\n    if (!has(\"json-parse\")) {\n      var fromCharCode = String.fromCharCode;\n\n      // Internal: A map of escaped control characters and their unescaped\n      // equivalents.\n      var Unescapes = {\n        92: \"\\\\\",\n        34: '\"',\n        47: \"/\",\n        98: \"\\b\",\n        116: \"\\t\",\n        110: \"\\n\",\n        102: \"\\f\",\n        114: \"\\r\"\n      };\n\n      // Internal: Stores the parser state.\n      var Index, Source;\n\n      // Internal: Resets the parser state and throws a `SyntaxError`.\n      var abort = function() {\n        Index = Source = null;\n        throw SyntaxError();\n      };\n\n      // Internal: Returns the next token, or `\"$\"` if the parser has reached\n      // the end of the source string. A token may be a string, number, `null`\n      // literal, or Boolean literal.\n      var lex = function () {\n        var source = Source, length = source.length, value, begin, position, isSigned, charCode;\n        while (Index < length) {\n          charCode = source.charCodeAt(Index);\n          switch (charCode) {\n            case 9: case 10: case 13: case 32:\n              // Skip whitespace tokens, including tabs, carriage returns, line\n              // feeds, and space characters.\n              Index++;\n              break;\n            case 123: case 125: case 91: case 93: case 58: case 44:\n              // Parse a punctuator token (`{`, `}`, `[`, `]`, `:`, or `,`) at\n              // the current position.\n              value = charIndexBuggy ? source.charAt(Index) : source[Index];\n              Index++;\n              return value;\n            case 34:\n              // `\"` delimits a JSON string; advance to the next character and\n              // begin parsing the string. String tokens are prefixed with the\n              // sentinel `@` character to distinguish them from punctuators and\n              // end-of-string tokens.\n              for (value = \"@\", Index++; Index < length;) {\n                charCode = source.charCodeAt(Index);\n                if (charCode < 32) {\n                  // Unescaped ASCII control characters (those with a code unit\n                  // less than the space character) are not permitted.\n                  abort();\n                } else if (charCode == 92) {\n                  // A reverse solidus (`\\`) marks the beginning of an escaped\n                  // control character (including `\"`, `\\`, and `/`) or Unicode\n                  // escape sequence.\n                  charCode = source.charCodeAt(++Index);\n                  switch (charCode) {\n                    case 92: case 34: case 47: case 98: case 116: case 110: case 102: case 114:\n                      // Revive escaped control characters.\n                      value += Unescapes[charCode];\n                      Index++;\n                      break;\n                    case 117:\n                      // `\\u` marks the beginning of a Unicode escape sequence.\n                      // Advance to the first character and validate the\n                      // four-digit code point.\n                      begin = ++Index;\n                      for (position = Index + 4; Index < position; Index++) {\n                        charCode = source.charCodeAt(Index);\n                        // A valid sequence comprises four hexdigits (case-\n                        // insensitive) that form a single hexadecimal value.\n                        if (!(charCode >= 48 && charCode <= 57 || charCode >= 97 && charCode <= 102 || charCode >= 65 && charCode <= 70)) {\n                          // Invalid Unicode escape sequence.\n                          abort();\n                        }\n                      }\n                      // Revive the escaped character.\n                      value += fromCharCode(\"0x\" + source.slice(begin, Index));\n                      break;\n                    default:\n                      // Invalid escape sequence.\n                      abort();\n                  }\n                } else {\n                  if (charCode == 34) {\n                    // An unescaped double-quote character marks the end of the\n                    // string.\n                    break;\n                  }\n                  charCode = source.charCodeAt(Index);\n                  begin = Index;\n                  // Optimize for the common case where a string is valid.\n                  while (charCode >= 32 && charCode != 92 && charCode != 34) {\n                    charCode = source.charCodeAt(++Index);\n                  }\n                  // Append the string as-is.\n                  value += source.slice(begin, Index);\n                }\n              }\n              if (source.charCodeAt(Index) == 34) {\n                // Advance to the next character and return the revived string.\n                Index++;\n                return value;\n              }\n              // Unterminated string.\n              abort();\n            default:\n              // Parse numbers and literals.\n              begin = Index;\n              // Advance past the negative sign, if one is specified.\n              if (charCode == 45) {\n                isSigned = true;\n                charCode = source.charCodeAt(++Index);\n              }\n              // Parse an integer or floating-point value.\n              if (charCode >= 48 && charCode <= 57) {\n                // Leading zeroes are interpreted as octal literals.\n                if (charCode == 48 && ((charCode = source.charCodeAt(Index + 1)), charCode >= 48 && charCode <= 57)) {\n                  // Illegal octal literal.\n                  abort();\n                }\n                isSigned = false;\n                // Parse the integer component.\n                for (; Index < length && ((charCode = source.charCodeAt(Index)), charCode >= 48 && charCode <= 57); Index++);\n                // Floats cannot contain a leading decimal point; however, this\n                // case is already accounted for by the parser.\n                if (source.charCodeAt(Index) == 46) {\n                  position = ++Index;\n                  // Parse the decimal component.\n                  for (; position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57); position++);\n                  if (position == Index) {\n                    // Illegal trailing decimal.\n                    abort();\n                  }\n                  Index = position;\n                }\n                // Parse exponents. The `e` denoting the exponent is\n                // case-insensitive.\n                charCode = source.charCodeAt(Index);\n                if (charCode == 101 || charCode == 69) {\n                  charCode = source.charCodeAt(++Index);\n                  // Skip past the sign following the exponent, if one is\n                  // specified.\n                  if (charCode == 43 || charCode == 45) {\n                    Index++;\n                  }\n                  // Parse the exponential component.\n                  for (position = Index; position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57); position++);\n                  if (position == Index) {\n                    // Illegal empty exponent.\n                    abort();\n                  }\n                  Index = position;\n                }\n                // Coerce the parsed value to a JavaScript number.\n                return +source.slice(begin, Index);\n              }\n              // A negative sign may only precede numbers.\n              if (isSigned) {\n                abort();\n              }\n              // `true`, `false`, and `null` literals.\n              if (source.slice(Index, Index + 4) == \"true\") {\n                Index += 4;\n                return true;\n              } else if (source.slice(Index, Index + 5) == \"false\") {\n                Index += 5;\n                return false;\n              } else if (source.slice(Index, Index + 4) == \"null\") {\n                Index += 4;\n                return null;\n              }\n              // Unrecognized token.\n              abort();\n          }\n        }\n        // Return the sentinel `$` character if the parser has reached the end\n        // of the source string.\n        return \"$\";\n      };\n\n      // Internal: Parses a JSON `value` token.\n      var get = function (value) {\n        var results, hasMembers;\n        if (value == \"$\") {\n          // Unexpected end of input.\n          abort();\n        }\n        if (typeof value == \"string\") {\n          if ((charIndexBuggy ? value.charAt(0) : value[0]) == \"@\") {\n            // Remove the sentinel `@` character.\n            return value.slice(1);\n          }\n          // Parse object and array literals.\n          if (value == \"[\") {\n            // Parses a JSON array, returning a new JavaScript array.\n            results = [];\n            for (;; hasMembers || (hasMembers = true)) {\n              value = lex();\n              // A closing square bracket marks the end of the array literal.\n              if (value == \"]\") {\n                break;\n              }\n              // If the array literal contains elements, the current token\n              // should be a comma separating the previous element from the\n              // next.\n              if (hasMembers) {\n                if (value == \",\") {\n                  value = lex();\n                  if (value == \"]\") {\n                    // Unexpected trailing `,` in array literal.\n                    abort();\n                  }\n                } else {\n                  // A `,` must separate each array element.\n                  abort();\n                }\n              }\n              // Elisions and leading commas are not permitted.\n              if (value == \",\") {\n                abort();\n              }\n              results.push(get(value));\n            }\n            return results;\n          } else if (value == \"{\") {\n            // Parses a JSON object, returning a new JavaScript object.\n            results = {};\n            for (;; hasMembers || (hasMembers = true)) {\n              value = lex();\n              // A closing curly brace marks the end of the object literal.\n              if (value == \"}\") {\n                break;\n              }\n              // If the object literal contains members, the current token\n              // should be a comma separator.\n              if (hasMembers) {\n                if (value == \",\") {\n                  value = lex();\n                  if (value == \"}\") {\n                    // Unexpected trailing `,` in object literal.\n                    abort();\n                  }\n                } else {\n                  // A `,` must separate each object member.\n                  abort();\n                }\n              }\n              // Leading commas are not permitted, object property names must be\n              // double-quoted strings, and a `:` must separate each property\n              // name and value.\n              if (value == \",\" || typeof value != \"string\" || (charIndexBuggy ? value.charAt(0) : value[0]) != \"@\" || lex() != \":\") {\n                abort();\n              }\n              results[value.slice(1)] = get(lex());\n            }\n            return results;\n          }\n          // Unexpected token encountered.\n          abort();\n        }\n        return value;\n      };\n\n      // Internal: Updates a traversed object member.\n      var update = function(source, property, callback) {\n        var element = walk(source, property, callback);\n        if (element === undef) {\n          delete source[property];\n        } else {\n          source[property] = element;\n        }\n      };\n\n      // Internal: Recursively traverses a parsed JSON object, invoking the\n      // `callback` function for each value. This is an implementation of the\n      // `Walk(holder, name)` operation defined in ES 5.1 section 15.12.2.\n      var walk = function (source, property, callback) {\n        var value = source[property], length;\n        if (typeof value == \"object\" && value) {\n          // `forEach` can't be used to traverse an array in Opera <= 8.54\n          // because its `Object#hasOwnProperty` implementation returns `false`\n          // for array indices (e.g., `![1, 2, 3].hasOwnProperty(\"0\")`).\n          if (getClass.call(value) == arrayClass) {\n            for (length = value.length; length--;) {\n              update(value, length, callback);\n            }\n          } else {\n            forEach(value, function (property) {\n              update(value, property, callback);\n            });\n          }\n        }\n        return callback.call(source, property, value);\n      };\n\n      // Public: `JSON.parse`. See ES 5.1 section 15.12.2.\n      JSON3.parse = function (source, callback) {\n        var result, value;\n        Index = 0;\n        Source = \"\" + source;\n        result = get(lex());\n        // If a JSON string contains multiple tokens, it is invalid.\n        if (lex() != \"$\") {\n          abort();\n        }\n        // Reset the parser state.\n        Index = Source = null;\n        return callback && getClass.call(callback) == functionClass ? walk((value = {}, value[\"\"] = result, value), \"\", callback) : result;\n      };\n    }\n  }\n\n  // Export for asynchronous module loaders.\n  if (isLoader) {\n    define(function () {\n      return JSON3;\n    });\n  }\n}(this));\n\n},{}],60:[function(require,module,exports){\nmodule.exports = toArray\n\nfunction toArray(list, index) {\n    var array = []\n\n    index = index || 0\n\n    for (var i = index || 0; i < list.length; i++) {\n        array[i - index] = list[i]\n    }\n\n    return array\n}\n\n},{}],61:[function(require,module,exports){\n/* Zepto v1.1.6 - zepto event ajax form ie - zeptojs.com/license */\n\nvar Zepto = (function() {\n  var undefined, key, $, classList, emptyArray = [], slice = emptyArray.slice, filter = emptyArray.filter,\n    document = window.document,\n    elementDisplay = {}, classCache = {},\n    cssNumber = { 'column-count': 1, 'columns': 1, 'font-weight': 1, 'line-height': 1,'opacity': 1, 'z-index': 1, 'zoom': 1 },\n    fragmentRE = /^\\s*<(\\w+|!)[^>]*>/,\n    singleTagRE = /^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,\n    tagExpanderRE = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/ig,\n    rootNodeRE = /^(?:body|html)$/i,\n    capitalRE = /([A-Z])/g,\n\n    // special attributes that should be get/set via method calls\n    methodAttributes = ['val', 'css', 'html', 'text', 'data', 'width', 'height', 'offset'],\n\n    adjacencyOperators = [ 'after', 'prepend', 'before', 'append' ],\n    table = document.createElement('table'),\n    tableRow = document.createElement('tr'),\n    containers = {\n      'tr': document.createElement('tbody'),\n      'tbody': table, 'thead': table, 'tfoot': table,\n      'td': tableRow, 'th': tableRow,\n      '*': document.createElement('div')\n    },\n    readyRE = /complete|loaded|interactive/,\n    simpleSelectorRE = /^[\\w-]*$/,\n    class2type = {},\n    toString = class2type.toString,\n    zepto = {},\n    camelize, uniq,\n    tempParent = document.createElement('div'),\n    propMap = {\n      'tabindex': 'tabIndex',\n      'readonly': 'readOnly',\n      'for': 'htmlFor',\n      'class': 'className',\n      'maxlength': 'maxLength',\n      'cellspacing': 'cellSpacing',\n      'cellpadding': 'cellPadding',\n      'rowspan': 'rowSpan',\n      'colspan': 'colSpan',\n      'usemap': 'useMap',\n      'frameborder': 'frameBorder',\n      'contenteditable': 'contentEditable'\n    },\n    isArray = Array.isArray ||\n      function(object){ return object instanceof Array }\n\n  zepto.matches = function(element, selector) {\n    if (!selector || !element || element.nodeType !== 1) return false\n    var matchesSelector = element.webkitMatchesSelector || element.mozMatchesSelector ||\n                          element.oMatchesSelector || element.matchesSelector\n    if (matchesSelector) return matchesSelector.call(element, selector)\n    // fall back to performing a selector:\n    var match, parent = element.parentNode, temp = !parent\n    if (temp) (parent = tempParent).appendChild(element)\n    match = ~zepto.qsa(parent, selector).indexOf(element)\n    temp && tempParent.removeChild(element)\n    return match\n  }\n\n  function type(obj) {\n    return obj == null ? String(obj) :\n      class2type[toString.call(obj)] || \"object\"\n  }\n\n  function isFunction(value) { return type(value) == \"function\" }\n  function isWindow(obj)     { return obj != null && obj == obj.window }\n  function isDocument(obj)   { return obj != null && obj.nodeType == obj.DOCUMENT_NODE }\n  function isObject(obj)     { return type(obj) == \"object\" }\n  function isPlainObject(obj) {\n    return isObject(obj) && !isWindow(obj) && Object.getPrototypeOf(obj) == Object.prototype\n  }\n  function likeArray(obj) { return typeof obj.length == 'number' }\n\n  function compact(array) { return filter.call(array, function(item){ return item != null }) }\n  function flatten(array) { return array.length > 0 ? $.fn.concat.apply([], array) : array }\n  camelize = function(str){ return str.replace(/-+(.)?/g, function(match, chr){ return chr ? chr.toUpperCase() : '' }) }\n  function dasherize(str) {\n    return str.replace(/::/g, '/')\n           .replace(/([A-Z]+)([A-Z][a-z])/g, '$1_$2')\n           .replace(/([a-z\\d])([A-Z])/g, '$1_$2')\n           .replace(/_/g, '-')\n           .toLowerCase()\n  }\n  uniq = function(array){ return filter.call(array, function(item, idx){ return array.indexOf(item) == idx }) }\n\n  function classRE(name) {\n    return name in classCache ?\n      classCache[name] : (classCache[name] = new RegExp('(^|\\\\s)' + name + '(\\\\s|$)'))\n  }\n\n  function maybeAddPx(name, value) {\n    return (typeof value == \"number\" && !cssNumber[dasherize(name)]) ? value + \"px\" : value\n  }\n\n  function defaultDisplay(nodeName) {\n    var element, display\n    if (!elementDisplay[nodeName]) {\n      element = document.createElement(nodeName)\n      document.body.appendChild(element)\n      display = getComputedStyle(element, '').getPropertyValue(\"display\")\n      element.parentNode.removeChild(element)\n      display == \"none\" && (display = \"block\")\n      elementDisplay[nodeName] = display\n    }\n    return elementDisplay[nodeName]\n  }\n\n  function children(element) {\n    return 'children' in element ?\n      slice.call(element.children) :\n      $.map(element.childNodes, function(node){ if (node.nodeType == 1) return node })\n  }\n\n  // `$.zepto.fragment` takes a html string and an optional tag name\n  // to generate DOM nodes nodes from the given html string.\n  // The generated DOM nodes are returned as an array.\n  // This function can be overriden in plugins for example to make\n  // it compatible with browsers that don't support the DOM fully.\n  zepto.fragment = function(html, name, properties) {\n    var dom, nodes, container\n\n    // A special case optimization for a single tag\n    if (singleTagRE.test(html)) dom = $(document.createElement(RegExp.$1))\n\n    if (!dom) {\n      if (html.replace) html = html.replace(tagExpanderRE, \"<$1></$2>\")\n      if (name === undefined) name = fragmentRE.test(html) && RegExp.$1\n      if (!(name in containers)) name = '*'\n\n      container = containers[name]\n      container.innerHTML = '' + html\n      dom = $.each(slice.call(container.childNodes), function(){\n        container.removeChild(this)\n      })\n    }\n\n    if (isPlainObject(properties)) {\n      nodes = $(dom)\n      $.each(properties, function(key, value) {\n        if (methodAttributes.indexOf(key) > -1) nodes[key](value)\n        else nodes.attr(key, value)\n      })\n    }\n\n    return dom\n  }\n\n  // `$.zepto.Z` swaps out the prototype of the given `dom` array\n  // of nodes with `$.fn` and thus supplying all the Zepto functions\n  // to the array. Note that `__proto__` is not supported on Internet\n  // Explorer. This method can be overriden in plugins.\n  zepto.Z = function(dom, selector) {\n    dom = dom || []\n    dom.__proto__ = $.fn\n    dom.selector = selector || ''\n    return dom\n  }\n\n  // `$.zepto.isZ` should return `true` if the given object is a Zepto\n  // collection. This method can be overriden in plugins.\n  zepto.isZ = function(object) {\n    return object instanceof zepto.Z\n  }\n\n  // `$.zepto.init` is Zepto's counterpart to jQuery's `$.fn.init` and\n  // takes a CSS selector and an optional context (and handles various\n  // special cases).\n  // This method can be overriden in plugins.\n  zepto.init = function(selector, context) {\n    var dom\n    // If nothing given, return an empty Zepto collection\n    if (!selector) return zepto.Z()\n    // Optimize for string selectors\n    else if (typeof selector == 'string') {\n      selector = selector.trim()\n      // If it's a html fragment, create nodes from it\n      // Note: In both Chrome 21 and Firefox 15, DOM error 12\n      // is thrown if the fragment doesn't begin with <\n      if (selector[0] == '<' && fragmentRE.test(selector))\n        dom = zepto.fragment(selector, RegExp.$1, context), selector = null\n      // If there's a context, create a collection on that context first, and select\n      // nodes from there\n      else if (context !== undefined) return $(context).find(selector)\n      // If it's a CSS selector, use it to select nodes.\n      else dom = zepto.qsa(document, selector)\n    }\n    // If a function is given, call it when the DOM is ready\n    else if (isFunction(selector)) return $(document).ready(selector)\n    // If a Zepto collection is given, just return it\n    else if (zepto.isZ(selector)) return selector\n    else {\n      // normalize array if an array of nodes is given\n      if (isArray(selector)) dom = compact(selector)\n      // Wrap DOM nodes.\n      else if (isObject(selector))\n        dom = [selector], selector = null\n      // If it's a html fragment, create nodes from it\n      else if (fragmentRE.test(selector))\n        dom = zepto.fragment(selector.trim(), RegExp.$1, context), selector = null\n      // If there's a context, create a collection on that context first, and select\n      // nodes from there\n      else if (context !== undefined) return $(context).find(selector)\n      // And last but no least, if it's a CSS selector, use it to select nodes.\n      else dom = zepto.qsa(document, selector)\n    }\n    // create a new Zepto collection from the nodes found\n    return zepto.Z(dom, selector)\n  }\n\n  // `$` will be the base `Zepto` object. When calling this\n  // function just call `$.zepto.init, which makes the implementation\n  // details of selecting nodes and creating Zepto collections\n  // patchable in plugins.\n  $ = function(selector, context){\n    return zepto.init(selector, context)\n  }\n\n  function extend(target, source, deep) {\n    for (key in source)\n      if (deep && (isPlainObject(source[key]) || isArray(source[key]))) {\n        if (isPlainObject(source[key]) && !isPlainObject(target[key]))\n          target[key] = {}\n        if (isArray(source[key]) && !isArray(target[key]))\n          target[key] = []\n        extend(target[key], source[key], deep)\n      }\n      else if (source[key] !== undefined) target[key] = source[key]\n  }\n\n  // Copy all but undefined properties from one or more\n  // objects to the `target` object.\n  $.extend = function(target){\n    var deep, args = slice.call(arguments, 1)\n    if (typeof target == 'boolean') {\n      deep = target\n      target = args.shift()\n    }\n    args.forEach(function(arg){ extend(target, arg, deep) })\n    return target\n  }\n\n  // `$.zepto.qsa` is Zepto's CSS selector implementation which\n  // uses `document.querySelectorAll` and optimizes for some special cases, like `#id`.\n  // This method can be overriden in plugins.\n  zepto.qsa = function(element, selector){\n    var found,\n        maybeID = selector[0] == '#',\n        maybeClass = !maybeID && selector[0] == '.',\n        nameOnly = maybeID || maybeClass ? selector.slice(1) : selector, // Ensure that a 1 char tag name still gets checked\n        isSimple = simpleSelectorRE.test(nameOnly)\n    return (isDocument(element) && isSimple && maybeID) ?\n      ( (found = element.getElementById(nameOnly)) ? [found] : [] ) :\n      (element.nodeType !== 1 && element.nodeType !== 9) ? [] :\n      slice.call(\n        isSimple && !maybeID ?\n          maybeClass ? element.getElementsByClassName(nameOnly) : // If it's simple, it could be a class\n          element.getElementsByTagName(selector) : // Or a tag\n          element.querySelectorAll(selector) // Or it's not simple, and we need to query all\n      )\n  }\n\n  function filtered(nodes, selector) {\n    return selector == null ? $(nodes) : $(nodes).filter(selector)\n  }\n\n  $.contains = document.documentElement.contains ?\n    function(parent, node) {\n      return parent !== node && parent.contains(node)\n    } :\n    function(parent, node) {\n      while (node && (node = node.parentNode))\n        if (node === parent) return true\n      return false\n    }\n\n  function funcArg(context, arg, idx, payload) {\n    return isFunction(arg) ? arg.call(context, idx, payload) : arg\n  }\n\n  function setAttribute(node, name, value) {\n    value == null ? node.removeAttribute(name) : node.setAttribute(name, value)\n  }\n\n  // access className property while respecting SVGAnimatedString\n  function className(node, value){\n    var klass = node.className || '',\n        svg   = klass && klass.baseVal !== undefined\n\n    if (value === undefined) return svg ? klass.baseVal : klass\n    svg ? (klass.baseVal = value) : (node.className = value)\n  }\n\n  // \"true\"  => true\n  // \"false\" => false\n  // \"null\"  => null\n  // \"42\"    => 42\n  // \"42.5\"  => 42.5\n  // \"08\"    => \"08\"\n  // JSON    => parse if valid\n  // String  => self\n  function deserializeValue(value) {\n    try {\n      return value ?\n        value == \"true\" ||\n        ( value == \"false\" ? false :\n          value == \"null\" ? null :\n          +value + \"\" == value ? +value :\n          /^[\\[\\{]/.test(value) ? $.parseJSON(value) :\n          value )\n        : value\n    } catch(e) {\n      return value\n    }\n  }\n\n  $.type = type\n  $.isFunction = isFunction\n  $.isWindow = isWindow\n  $.isArray = isArray\n  $.isPlainObject = isPlainObject\n\n  $.isEmptyObject = function(obj) {\n    var name\n    for (name in obj) return false\n    return true\n  }\n\n  $.inArray = function(elem, array, i){\n    return emptyArray.indexOf.call(array, elem, i)\n  }\n\n  $.camelCase = camelize\n  $.trim = function(str) {\n    return str == null ? \"\" : String.prototype.trim.call(str)\n  }\n\n  // plugin compatibility\n  $.uuid = 0\n  $.support = { }\n  $.expr = { }\n\n  $.map = function(elements, callback){\n    var value, values = [], i, key\n    if (likeArray(elements))\n      for (i = 0; i < elements.length; i++) {\n        value = callback(elements[i], i)\n        if (value != null) values.push(value)\n      }\n    else\n      for (key in elements) {\n        value = callback(elements[key], key)\n        if (value != null) values.push(value)\n      }\n    return flatten(values)\n  }\n\n  $.each = function(elements, callback){\n    var i, key\n    if (likeArray(elements)) {\n      for (i = 0; i < elements.length; i++)\n        if (callback.call(elements[i], i, elements[i]) === false) return elements\n    } else {\n      for (key in elements)\n        if (callback.call(elements[key], key, elements[key]) === false) return elements\n    }\n\n    return elements\n  }\n\n  $.grep = function(elements, callback){\n    return filter.call(elements, callback)\n  }\n\n  if (window.JSON) $.parseJSON = JSON.parse\n\n  // Populate the class2type map\n  $.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"), function(i, name) {\n    class2type[ \"[object \" + name + \"]\" ] = name.toLowerCase()\n  })\n\n  // Define methods that will be available on all\n  // Zepto collections\n  $.fn = {\n    // Because a collection acts like an array\n    // copy over these useful array functions.\n    forEach: emptyArray.forEach,\n    reduce: emptyArray.reduce,\n    push: emptyArray.push,\n    sort: emptyArray.sort,\n    indexOf: emptyArray.indexOf,\n    concat: emptyArray.concat,\n\n    // `map` and `slice` in the jQuery API work differently\n    // from their array counterparts\n    map: function(fn){\n      return $($.map(this, function(el, i){ return fn.call(el, i, el) }))\n    },\n    slice: function(){\n      return $(slice.apply(this, arguments))\n    },\n\n    ready: function(callback){\n      // need to check if document.body exists for IE as that browser reports\n      // document ready when it hasn't yet created the body element\n      if (readyRE.test(document.readyState) && document.body) callback($)\n      else document.addEventListener('DOMContentLoaded', function(){ callback($) }, false)\n      return this\n    },\n    get: function(idx){\n      return idx === undefined ? slice.call(this) : this[idx >= 0 ? idx : idx + this.length]\n    },\n    toArray: function(){ return this.get() },\n    size: function(){\n      return this.length\n    },\n    remove: function(){\n      return this.each(function(){\n        if (this.parentNode != null)\n          this.parentNode.removeChild(this)\n      })\n    },\n    each: function(callback){\n      emptyArray.every.call(this, function(el, idx){\n        return callback.call(el, idx, el) !== false\n      })\n      return this\n    },\n    filter: function(selector){\n      if (isFunction(selector)) return this.not(this.not(selector))\n      return $(filter.call(this, function(element){\n        return zepto.matches(element, selector)\n      }))\n    },\n    add: function(selector,context){\n      return $(uniq(this.concat($(selector,context))))\n    },\n    is: function(selector){\n      return this.length > 0 && zepto.matches(this[0], selector)\n    },\n    not: function(selector){\n      var nodes=[]\n      if (isFunction(selector) && selector.call !== undefined)\n        this.each(function(idx){\n          if (!selector.call(this,idx)) nodes.push(this)\n        })\n      else {\n        var excludes = typeof selector == 'string' ? this.filter(selector) :\n          (likeArray(selector) && isFunction(selector.item)) ? slice.call(selector) : $(selector)\n        this.forEach(function(el){\n          if (excludes.indexOf(el) < 0) nodes.push(el)\n        })\n      }\n      return $(nodes)\n    },\n    has: function(selector){\n      return this.filter(function(){\n        return isObject(selector) ?\n          $.contains(this, selector) :\n          $(this).find(selector).size()\n      })\n    },\n    eq: function(idx){\n      return idx === -1 ? this.slice(idx) : this.slice(idx, + idx + 1)\n    },\n    first: function(){\n      var el = this[0]\n      return el && !isObject(el) ? el : $(el)\n    },\n    last: function(){\n      var el = this[this.length - 1]\n      return el && !isObject(el) ? el : $(el)\n    },\n    find: function(selector){\n      var result, $this = this\n      if (!selector) result = $()\n      else if (typeof selector == 'object')\n        result = $(selector).filter(function(){\n          var node = this\n          return emptyArray.some.call($this, function(parent){\n            return $.contains(parent, node)\n          })\n        })\n      else if (this.length == 1) result = $(zepto.qsa(this[0], selector))\n      else result = this.map(function(){ return zepto.qsa(this, selector) })\n      return result\n    },\n    closest: function(selector, context){\n      var node = this[0], collection = false\n      if (typeof selector == 'object') collection = $(selector)\n      while (node && !(collection ? collection.indexOf(node) >= 0 : zepto.matches(node, selector)))\n        node = node !== context && !isDocument(node) && node.parentNode\n      return $(node)\n    },\n    parents: function(selector){\n      var ancestors = [], nodes = this\n      while (nodes.length > 0)\n        nodes = $.map(nodes, function(node){\n          if ((node = node.parentNode) && !isDocument(node) && ancestors.indexOf(node) < 0) {\n            ancestors.push(node)\n            return node\n          }\n        })\n      return filtered(ancestors, selector)\n    },\n    parent: function(selector){\n      return filtered(uniq(this.pluck('parentNode')), selector)\n    },\n    children: function(selector){\n      return filtered(this.map(function(){ return children(this) }), selector)\n    },\n    contents: function() {\n      return this.map(function() { return slice.call(this.childNodes) })\n    },\n    siblings: function(selector){\n      return filtered(this.map(function(i, el){\n        return filter.call(children(el.parentNode), function(child){ return child!==el })\n      }), selector)\n    },\n    empty: function(){\n      return this.each(function(){ this.innerHTML = '' })\n    },\n    // `pluck` is borrowed from Prototype.js\n    pluck: function(property){\n      return $.map(this, function(el){ return el[property] })\n    },\n    show: function(){\n      return this.each(function(){\n        this.style.display == \"none\" && (this.style.display = '')\n        if (getComputedStyle(this, '').getPropertyValue(\"display\") == \"none\")\n          this.style.display = defaultDisplay(this.nodeName)\n      })\n    },\n    replaceWith: function(newContent){\n      return this.before(newContent).remove()\n    },\n    wrap: function(structure){\n      var func = isFunction(structure)\n      if (this[0] && !func)\n        var dom   = $(structure).get(0),\n            clone = dom.parentNode || this.length > 1\n\n      return this.each(function(index){\n        $(this).wrapAll(\n          func ? structure.call(this, index) :\n            clone ? dom.cloneNode(true) : dom\n        )\n      })\n    },\n    wrapAll: function(structure){\n      if (this[0]) {\n        $(this[0]).before(structure = $(structure))\n        var children\n        // drill down to the inmost element\n        while ((children = structure.children()).length) structure = children.first()\n        $(structure).append(this)\n      }\n      return this\n    },\n    wrapInner: function(structure){\n      var func = isFunction(structure)\n      return this.each(function(index){\n        var self = $(this), contents = self.contents(),\n            dom  = func ? structure.call(this, index) : structure\n        contents.length ? contents.wrapAll(dom) : self.append(dom)\n      })\n    },\n    unwrap: function(){\n      this.parent().each(function(){\n        $(this).replaceWith($(this).children())\n      })\n      return this\n    },\n    clone: function(){\n      return this.map(function(){ return this.cloneNode(true) })\n    },\n    hide: function(){\n      return this.css(\"display\", \"none\")\n    },\n    toggle: function(setting){\n      return this.each(function(){\n        var el = $(this)\n        ;(setting === undefined ? el.css(\"display\") == \"none\" : setting) ? el.show() : el.hide()\n      })\n    },\n    prev: function(selector){ return $(this.pluck('previousElementSibling')).filter(selector || '*') },\n    next: function(selector){ return $(this.pluck('nextElementSibling')).filter(selector || '*') },\n    html: function(html){\n      return 0 in arguments ?\n        this.each(function(idx){\n          var originHtml = this.innerHTML\n          $(this).empty().append( funcArg(this, html, idx, originHtml) )\n        }) :\n        (0 in this ? this[0].innerHTML : null)\n    },\n    text: function(text){\n      return 0 in arguments ?\n        this.each(function(idx){\n          var newText = funcArg(this, text, idx, this.textContent)\n          this.textContent = newText == null ? '' : ''+newText\n        }) :\n        (0 in this ? this[0].textContent : null)\n    },\n    attr: function(name, value){\n      var result\n      return (typeof name == 'string' && !(1 in arguments)) ?\n        (!this.length || this[0].nodeType !== 1 ? undefined :\n          (!(result = this[0].getAttribute(name)) && name in this[0]) ? this[0][name] : result\n        ) :\n        this.each(function(idx){\n          if (this.nodeType !== 1) return\n          if (isObject(name)) for (key in name) setAttribute(this, key, name[key])\n          else setAttribute(this, name, funcArg(this, value, idx, this.getAttribute(name)))\n        })\n    },\n    removeAttr: function(name){\n      return this.each(function(){ this.nodeType === 1 && name.split(' ').forEach(function(attribute){\n        setAttribute(this, attribute)\n      }, this)})\n    },\n    prop: function(name, value){\n      name = propMap[name] || name\n      return (1 in arguments) ?\n        this.each(function(idx){\n          this[name] = funcArg(this, value, idx, this[name])\n        }) :\n        (this[0] && this[0][name])\n    },\n    data: function(name, value){\n      var attrName = 'data-' + name.replace(capitalRE, '-$1').toLowerCase()\n\n      var data = (1 in arguments) ?\n        this.attr(attrName, value) :\n        this.attr(attrName)\n\n      return data !== null ? deserializeValue(data) : undefined\n    },\n    val: function(value){\n      return 0 in arguments ?\n        this.each(function(idx){\n          this.value = funcArg(this, value, idx, this.value)\n        }) :\n        (this[0] && (this[0].multiple ?\n           $(this[0]).find('option').filter(function(){ return this.selected }).pluck('value') :\n           this[0].value)\n        )\n    },\n    offset: function(coordinates){\n      if (coordinates) return this.each(function(index){\n        var $this = $(this),\n            coords = funcArg(this, coordinates, index, $this.offset()),\n            parentOffset = $this.offsetParent().offset(),\n            props = {\n              top:  coords.top  - parentOffset.top,\n              left: coords.left - parentOffset.left\n            }\n\n        if ($this.css('position') == 'static') props['position'] = 'relative'\n        $this.css(props)\n      })\n      if (!this.length) return null\n      var obj = this[0].getBoundingClientRect()\n      return {\n        left: obj.left + window.pageXOffset,\n        top: obj.top + window.pageYOffset,\n        width: Math.round(obj.width),\n        height: Math.round(obj.height)\n      }\n    },\n    css: function(property, value){\n      if (arguments.length < 2) {\n        var computedStyle, element = this[0]\n        if(!element) return\n        computedStyle = getComputedStyle(element, '')\n        if (typeof property == 'string')\n          return element.style[camelize(property)] || computedStyle.getPropertyValue(property)\n        else if (isArray(property)) {\n          var props = {}\n          $.each(property, function(_, prop){\n            props[prop] = (element.style[camelize(prop)] || computedStyle.getPropertyValue(prop))\n          })\n          return props\n        }\n      }\n\n      var css = ''\n      if (type(property) == 'string') {\n        if (!value && value !== 0)\n          this.each(function(){ this.style.removeProperty(dasherize(property)) })\n        else\n          css = dasherize(property) + \":\" + maybeAddPx(property, value)\n      } else {\n        for (key in property)\n          if (!property[key] && property[key] !== 0)\n            this.each(function(){ this.style.removeProperty(dasherize(key)) })\n          else\n            css += dasherize(key) + ':' + maybeAddPx(key, property[key]) + ';'\n      }\n\n      return this.each(function(){ this.style.cssText += ';' + css })\n    },\n    index: function(element){\n      return element ? this.indexOf($(element)[0]) : this.parent().children().indexOf(this[0])\n    },\n    hasClass: function(name){\n      if (!name) return false\n      return emptyArray.some.call(this, function(el){\n        return this.test(className(el))\n      }, classRE(name))\n    },\n    addClass: function(name){\n      if (!name) return this\n      return this.each(function(idx){\n        if (!('className' in this)) return\n        classList = []\n        var cls = className(this), newName = funcArg(this, name, idx, cls)\n        newName.split(/\\s+/g).forEach(function(klass){\n          if (!$(this).hasClass(klass)) classList.push(klass)\n        }, this)\n        classList.length && className(this, cls + (cls ? \" \" : \"\") + classList.join(\" \"))\n      })\n    },\n    removeClass: function(name){\n      return this.each(function(idx){\n        if (!('className' in this)) return\n        if (name === undefined) return className(this, '')\n        classList = className(this)\n        funcArg(this, name, idx, classList).split(/\\s+/g).forEach(function(klass){\n          classList = classList.replace(classRE(klass), \" \")\n        })\n        className(this, classList.trim())\n      })\n    },\n    toggleClass: function(name, when){\n      if (!name) return this\n      return this.each(function(idx){\n        var $this = $(this), names = funcArg(this, name, idx, className(this))\n        names.split(/\\s+/g).forEach(function(klass){\n          (when === undefined ? !$this.hasClass(klass) : when) ?\n            $this.addClass(klass) : $this.removeClass(klass)\n        })\n      })\n    },\n    scrollTop: function(value){\n      if (!this.length) return\n      var hasScrollTop = 'scrollTop' in this[0]\n      if (value === undefined) return hasScrollTop ? this[0].scrollTop : this[0].pageYOffset\n      return this.each(hasScrollTop ?\n        function(){ this.scrollTop = value } :\n        function(){ this.scrollTo(this.scrollX, value) })\n    },\n    scrollLeft: function(value){\n      if (!this.length) return\n      var hasScrollLeft = 'scrollLeft' in this[0]\n      if (value === undefined) return hasScrollLeft ? this[0].scrollLeft : this[0].pageXOffset\n      return this.each(hasScrollLeft ?\n        function(){ this.scrollLeft = value } :\n        function(){ this.scrollTo(value, this.scrollY) })\n    },\n    position: function() {\n      if (!this.length) return\n\n      var elem = this[0],\n        // Get *real* offsetParent\n        offsetParent = this.offsetParent(),\n        // Get correct offsets\n        offset       = this.offset(),\n        parentOffset = rootNodeRE.test(offsetParent[0].nodeName) ? { top: 0, left: 0 } : offsetParent.offset()\n\n      // Subtract element margins\n      // note: when an element has margin: auto the offsetLeft and marginLeft\n      // are the same in Safari causing offset.left to incorrectly be 0\n      offset.top  -= parseFloat( $(elem).css('margin-top') ) || 0\n      offset.left -= parseFloat( $(elem).css('margin-left') ) || 0\n\n      // Add offsetParent borders\n      parentOffset.top  += parseFloat( $(offsetParent[0]).css('border-top-width') ) || 0\n      parentOffset.left += parseFloat( $(offsetParent[0]).css('border-left-width') ) || 0\n\n      // Subtract the two offsets\n      return {\n        top:  offset.top  - parentOffset.top,\n        left: offset.left - parentOffset.left\n      }\n    },\n    offsetParent: function() {\n      return this.map(function(){\n        var parent = this.offsetParent || document.body\n        while (parent && !rootNodeRE.test(parent.nodeName) && $(parent).css(\"position\") == \"static\")\n          parent = parent.offsetParent\n        return parent\n      })\n    }\n  }\n\n  // for now\n  $.fn.detach = $.fn.remove\n\n  // Generate the `width` and `height` functions\n  ;['width', 'height'].forEach(function(dimension){\n    var dimensionProperty =\n      dimension.replace(/./, function(m){ return m[0].toUpperCase() })\n\n    $.fn[dimension] = function(value){\n      var offset, el = this[0]\n      if (value === undefined) return isWindow(el) ? el['inner' + dimensionProperty] :\n        isDocument(el) ? el.documentElement['scroll' + dimensionProperty] :\n        (offset = this.offset()) && offset[dimension]\n      else return this.each(function(idx){\n        el = $(this)\n        el.css(dimension, funcArg(this, value, idx, el[dimension]()))\n      })\n    }\n  })\n\n  function traverseNode(node, fun) {\n    fun(node)\n    for (var i = 0, len = node.childNodes.length; i < len; i++)\n      traverseNode(node.childNodes[i], fun)\n  }\n\n  // Generate the `after`, `prepend`, `before`, `append`,\n  // `insertAfter`, `insertBefore`, `appendTo`, and `prependTo` methods.\n  adjacencyOperators.forEach(function(operator, operatorIndex) {\n    var inside = operatorIndex % 2 //=> prepend, append\n\n    $.fn[operator] = function(){\n      // arguments can be nodes, arrays of nodes, Zepto objects and HTML strings\n      var argType, nodes = $.map(arguments, function(arg) {\n            argType = type(arg)\n            return argType == \"object\" || argType == \"array\" || arg == null ?\n              arg : zepto.fragment(arg)\n          }),\n          parent, copyByClone = this.length > 1\n      if (nodes.length < 1) return this\n\n      return this.each(function(_, target){\n        parent = inside ? target : target.parentNode\n\n        // convert all methods to a \"before\" operation\n        target = operatorIndex == 0 ? target.nextSibling :\n                 operatorIndex == 1 ? target.firstChild :\n                 operatorIndex == 2 ? target :\n                 null\n\n        var parentInDocument = $.contains(document.documentElement, parent)\n\n        nodes.forEach(function(node){\n          if (copyByClone) node = node.cloneNode(true)\n          else if (!parent) return $(node).remove()\n\n          parent.insertBefore(node, target)\n          if (parentInDocument) traverseNode(node, function(el){\n            if (el.nodeName != null && el.nodeName.toUpperCase() === 'SCRIPT' &&\n               (!el.type || el.type === 'text/javascript') && !el.src)\n              window['eval'].call(window, el.innerHTML)\n          })\n        })\n      })\n    }\n\n    // after    => insertAfter\n    // prepend  => prependTo\n    // before   => insertBefore\n    // append   => appendTo\n    $.fn[inside ? operator+'To' : 'insert'+(operatorIndex ? 'Before' : 'After')] = function(html){\n      $(html)[operator](this)\n      return this\n    }\n  })\n\n  zepto.Z.prototype = $.fn\n\n  // Export internal API functions in the `$.zepto` namespace\n  zepto.uniq = uniq\n  zepto.deserializeValue = deserializeValue\n  $.zepto = zepto\n\n  return $\n})()\n\nwindow.Zepto = Zepto\nwindow.$ === undefined && (window.$ = Zepto)\n\n// Added by github/jiyinyiyong to create an npm package\nexports.Zepto = window.Zepto\nexports.$ = window.$\n\n;(function($){\n  var _zid = 1, undefined,\n      slice = Array.prototype.slice,\n      isFunction = $.isFunction,\n      isString = function(obj){ return typeof obj == 'string' },\n      handlers = {},\n      specialEvents={},\n      focusinSupported = 'onfocusin' in window,\n      focus = { focus: 'focusin', blur: 'focusout' },\n      hover = { mouseenter: 'mouseover', mouseleave: 'mouseout' }\n\n  specialEvents.click = specialEvents.mousedown = specialEvents.mouseup = specialEvents.mousemove = 'MouseEvents'\n\n  function zid(element) {\n    return element._zid || (element._zid = _zid++)\n  }\n  function findHandlers(element, event, fn, selector) {\n    event = parse(event)\n    if (event.ns) var matcher = matcherFor(event.ns)\n    return (handlers[zid(element)] || []).filter(function(handler) {\n      return handler\n        && (!event.e  || handler.e == event.e)\n        && (!event.ns || matcher.test(handler.ns))\n        && (!fn       || zid(handler.fn) === zid(fn))\n        && (!selector || handler.sel == selector)\n    })\n  }\n  function parse(event) {\n    var parts = ('' + event).split('.')\n    return {e: parts[0], ns: parts.slice(1).sort().join(' ')}\n  }\n  function matcherFor(ns) {\n    return new RegExp('(?:^| )' + ns.replace(' ', ' .* ?') + '(?: |$)')\n  }\n\n  function eventCapture(handler, captureSetting) {\n    return handler.del &&\n      (!focusinSupported && (handler.e in focus)) ||\n      !!captureSetting\n  }\n\n  function realEvent(type) {\n    return hover[type] || (focusinSupported && focus[type]) || type\n  }\n\n  function add(element, events, fn, data, selector, delegator, capture){\n    var id = zid(element), set = (handlers[id] || (handlers[id] = []))\n    events.split(/\\s/).forEach(function(event){\n      if (event == 'ready') return $(document).ready(fn)\n      var handler   = parse(event)\n      handler.fn    = fn\n      handler.sel   = selector\n      // emulate mouseenter, mouseleave\n      if (handler.e in hover) fn = function(e){\n        var related = e.relatedTarget\n        if (!related || (related !== this && !$.contains(this, related)))\n          return handler.fn.apply(this, arguments)\n      }\n      handler.del   = delegator\n      var callback  = delegator || fn\n      handler.proxy = function(e){\n        e = compatible(e)\n        if (e.isImmediatePropagationStopped()) return\n        e.data = data\n        var result = callback.apply(element, e._args == undefined ? [e] : [e].concat(e._args))\n        if (result === false) e.preventDefault(), e.stopPropagation()\n        return result\n      }\n      handler.i = set.length\n      set.push(handler)\n      if ('addEventListener' in element)\n        element.addEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture))\n    })\n  }\n  function remove(element, events, fn, selector, capture){\n    var id = zid(element)\n    ;(events || '').split(/\\s/).forEach(function(event){\n      findHandlers(element, event, fn, selector).forEach(function(handler){\n        delete handlers[id][handler.i]\n      if ('removeEventListener' in element)\n        element.removeEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture))\n      })\n    })\n  }\n\n  $.event = { add: add, remove: remove }\n\n  $.proxy = function(fn, context) {\n    var args = (2 in arguments) && slice.call(arguments, 2)\n    if (isFunction(fn)) {\n      var proxyFn = function(){ return fn.apply(context, args ? args.concat(slice.call(arguments)) : arguments) }\n      proxyFn._zid = zid(fn)\n      return proxyFn\n    } else if (isString(context)) {\n      if (args) {\n        args.unshift(fn[context], fn)\n        return $.proxy.apply(null, args)\n      } else {\n        return $.proxy(fn[context], fn)\n      }\n    } else {\n      throw new TypeError(\"expected function\")\n    }\n  }\n\n  $.fn.bind = function(event, data, callback){\n    return this.on(event, data, callback)\n  }\n  $.fn.unbind = function(event, callback){\n    return this.off(event, callback)\n  }\n  $.fn.one = function(event, selector, data, callback){\n    return this.on(event, selector, data, callback, 1)\n  }\n\n  var returnTrue = function(){return true},\n      returnFalse = function(){return false},\n      ignoreProperties = /^([A-Z]|returnValue$|layer[XY]$)/,\n      eventMethods = {\n        preventDefault: 'isDefaultPrevented',\n        stopImmediatePropagation: 'isImmediatePropagationStopped',\n        stopPropagation: 'isPropagationStopped'\n      }\n\n  function compatible(event, source) {\n    if (source || !event.isDefaultPrevented) {\n      source || (source = event)\n\n      $.each(eventMethods, function(name, predicate) {\n        var sourceMethod = source[name]\n        event[name] = function(){\n          this[predicate] = returnTrue\n          return sourceMethod && sourceMethod.apply(source, arguments)\n        }\n        event[predicate] = returnFalse\n      })\n\n      if (source.defaultPrevented !== undefined ? source.defaultPrevented :\n          'returnValue' in source ? source.returnValue === false :\n          source.getPreventDefault && source.getPreventDefault())\n        event.isDefaultPrevented = returnTrue\n    }\n    return event\n  }\n\n  function createProxy(event) {\n    var key, proxy = { originalEvent: event }\n    for (key in event)\n      if (!ignoreProperties.test(key) && event[key] !== undefined) proxy[key] = event[key]\n\n    return compatible(proxy, event)\n  }\n\n  $.fn.delegate = function(selector, event, callback){\n    return this.on(event, selector, callback)\n  }\n  $.fn.undelegate = function(selector, event, callback){\n    return this.off(event, selector, callback)\n  }\n\n  $.fn.live = function(event, callback){\n    $(document.body).delegate(this.selector, event, callback)\n    return this\n  }\n  $.fn.die = function(event, callback){\n    $(document.body).undelegate(this.selector, event, callback)\n    return this\n  }\n\n  $.fn.on = function(event, selector, data, callback, one){\n    var autoRemove, delegator, $this = this\n    if (event && !isString(event)) {\n      $.each(event, function(type, fn){\n        $this.on(type, selector, data, fn, one)\n      })\n      return $this\n    }\n\n    if (!isString(selector) && !isFunction(callback) && callback !== false)\n      callback = data, data = selector, selector = undefined\n    if (isFunction(data) || data === false)\n      callback = data, data = undefined\n\n    if (callback === false) callback = returnFalse\n\n    return $this.each(function(_, element){\n      if (one) autoRemove = function(e){\n        remove(element, e.type, callback)\n        return callback.apply(this, arguments)\n      }\n\n      if (selector) delegator = function(e){\n        var evt, match = $(e.target).closest(selector, element).get(0)\n        if (match && match !== element) {\n          evt = $.extend(createProxy(e), {currentTarget: match, liveFired: element})\n          return (autoRemove || callback).apply(match, [evt].concat(slice.call(arguments, 1)))\n        }\n      }\n\n      add(element, event, callback, data, selector, delegator || autoRemove)\n    })\n  }\n  $.fn.off = function(event, selector, callback){\n    var $this = this\n    if (event && !isString(event)) {\n      $.each(event, function(type, fn){\n        $this.off(type, selector, fn)\n      })\n      return $this\n    }\n\n    if (!isString(selector) && !isFunction(callback) && callback !== false)\n      callback = selector, selector = undefined\n\n    if (callback === false) callback = returnFalse\n\n    return $this.each(function(){\n      remove(this, event, callback, selector)\n    })\n  }\n\n  $.fn.trigger = function(event, args){\n    event = (isString(event) || $.isPlainObject(event)) ? $.Event(event) : compatible(event)\n    event._args = args\n    return this.each(function(){\n      // handle focus(), blur() by calling them directly\n      if (event.type in focus && typeof this[event.type] == \"function\") this[event.type]()\n      // items in the collection might not be DOM elements\n      else if ('dispatchEvent' in this) this.dispatchEvent(event)\n      else $(this).triggerHandler(event, args)\n    })\n  }\n\n  // triggers event handlers on current element just as if an event occurred,\n  // doesn't trigger an actual event, doesn't bubble\n  $.fn.triggerHandler = function(event, args){\n    var e, result\n    this.each(function(i, element){\n      e = createProxy(isString(event) ? $.Event(event) : event)\n      e._args = args\n      e.target = element\n      $.each(findHandlers(element, event.type || event), function(i, handler){\n        result = handler.proxy(e)\n        if (e.isImmediatePropagationStopped()) return false\n      })\n    })\n    return result\n  }\n\n  // shortcut methods for `.bind(event, fn)` for each event type\n  ;('focusin focusout focus blur load resize scroll unload click dblclick '+\n  'mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave '+\n  'change select keydown keypress keyup error').split(' ').forEach(function(event) {\n    $.fn[event] = function(callback) {\n      return (0 in arguments) ?\n        this.bind(event, callback) :\n        this.trigger(event)\n    }\n  })\n\n  $.Event = function(type, props) {\n    if (!isString(type)) props = type, type = props.type\n    var event = document.createEvent(specialEvents[type] || 'Events'), bubbles = true\n    if (props) for (var name in props) (name == 'bubbles') ? (bubbles = !!props[name]) : (event[name] = props[name])\n    event.initEvent(type, bubbles, true)\n    return compatible(event)\n  }\n\n})(Zepto)\n\n;(function($){\n  var jsonpID = 0,\n      document = window.document,\n      key,\n      name,\n      rscript = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,\n      scriptTypeRE = /^(?:text|application)\\/javascript/i,\n      xmlTypeRE = /^(?:text|application)\\/xml/i,\n      jsonType = 'application/json',\n      htmlType = 'text/html',\n      blankRE = /^\\s*$/,\n      originAnchor = document.createElement('a')\n\n  originAnchor.href = window.location.href\n\n  // trigger a custom event and return false if it was cancelled\n  function triggerAndReturn(context, eventName, data) {\n    var event = $.Event(eventName)\n    $(context).trigger(event, data)\n    return !event.isDefaultPrevented()\n  }\n\n  // trigger an Ajax \"global\" event\n  function triggerGlobal(settings, context, eventName, data) {\n    if (settings.global) return triggerAndReturn(context || document, eventName, data)\n  }\n\n  // Number of active Ajax requests\n  $.active = 0\n\n  function ajaxStart(settings) {\n    if (settings.global && $.active++ === 0) triggerGlobal(settings, null, 'ajaxStart')\n  }\n  function ajaxStop(settings) {\n    if (settings.global && !(--$.active)) triggerGlobal(settings, null, 'ajaxStop')\n  }\n\n  // triggers an extra global event \"ajaxBeforeSend\" that's like \"ajaxSend\" but cancelable\n  function ajaxBeforeSend(xhr, settings) {\n    var context = settings.context\n    if (settings.beforeSend.call(context, xhr, settings) === false ||\n        triggerGlobal(settings, context, 'ajaxBeforeSend', [xhr, settings]) === false)\n      return false\n\n    triggerGlobal(settings, context, 'ajaxSend', [xhr, settings])\n  }\n  function ajaxSuccess(data, xhr, settings, deferred) {\n    var context = settings.context, status = 'success'\n    settings.success.call(context, data, status, xhr)\n    if (deferred) deferred.resolveWith(context, [data, status, xhr])\n    triggerGlobal(settings, context, 'ajaxSuccess', [xhr, settings, data])\n    ajaxComplete(status, xhr, settings)\n  }\n  // type: \"timeout\", \"error\", \"abort\", \"parsererror\"\n  function ajaxError(error, type, xhr, settings, deferred) {\n    var context = settings.context\n    settings.error.call(context, xhr, type, error)\n    if (deferred) deferred.rejectWith(context, [xhr, type, error])\n    triggerGlobal(settings, context, 'ajaxError', [xhr, settings, error || type])\n    ajaxComplete(type, xhr, settings)\n  }\n  // status: \"success\", \"notmodified\", \"error\", \"timeout\", \"abort\", \"parsererror\"\n  function ajaxComplete(status, xhr, settings) {\n    var context = settings.context\n    settings.complete.call(context, xhr, status)\n    triggerGlobal(settings, context, 'ajaxComplete', [xhr, settings])\n    ajaxStop(settings)\n  }\n\n  // Empty function, used as default callback\n  function empty() {}\n\n  $.ajaxJSONP = function(options, deferred){\n    if (!('type' in options)) return $.ajax(options)\n\n    var _callbackName = options.jsonpCallback,\n      callbackName = ($.isFunction(_callbackName) ?\n        _callbackName() : _callbackName) || ('jsonp' + (++jsonpID)),\n      script = document.createElement('script'),\n      originalCallback = window[callbackName],\n      responseData,\n      abort = function(errorType) {\n        $(script).triggerHandler('error', errorType || 'abort')\n      },\n      xhr = { abort: abort }, abortTimeout\n\n    if (deferred) deferred.promise(xhr)\n\n    $(script).on('load error', function(e, errorType){\n      clearTimeout(abortTimeout)\n      $(script).off().remove()\n\n      if (e.type == 'error' || !responseData) {\n        ajaxError(null, errorType || 'error', xhr, options, deferred)\n      } else {\n        ajaxSuccess(responseData[0], xhr, options, deferred)\n      }\n\n      window[callbackName] = originalCallback\n      if (responseData && $.isFunction(originalCallback))\n        originalCallback(responseData[0])\n\n      originalCallback = responseData = undefined\n    })\n\n    if (ajaxBeforeSend(xhr, options) === false) {\n      abort('abort')\n      return xhr\n    }\n\n    window[callbackName] = function(){\n      responseData = arguments\n    }\n\n    script.src = options.url.replace(/\\?(.+)=\\?/, '?$1=' + callbackName)\n    document.head.appendChild(script)\n\n    if (options.timeout > 0) abortTimeout = setTimeout(function(){\n      abort('timeout')\n    }, options.timeout)\n\n    return xhr\n  }\n\n  $.ajaxSettings = {\n    // Default type of request\n    type: 'GET',\n    // Callback that is executed before request\n    beforeSend: empty,\n    // Callback that is executed if the request succeeds\n    success: empty,\n    // Callback that is executed the the server drops error\n    error: empty,\n    // Callback that is executed on request complete (both: error and success)\n    complete: empty,\n    // The context for the callbacks\n    context: null,\n    // Whether to trigger \"global\" Ajax events\n    global: true,\n    // Transport\n    xhr: function () {\n      return new window.XMLHttpRequest()\n    },\n    // MIME types mapping\n    // IIS returns Javascript as \"application/x-javascript\"\n    accepts: {\n      script: 'text/javascript, application/javascript, application/x-javascript',\n      json:   jsonType,\n      xml:    'application/xml, text/xml',\n      html:   htmlType,\n      text:   'text/plain'\n    },\n    // Whether the request is to another domain\n    crossDomain: false,\n    // Default timeout\n    timeout: 0,\n    // Whether data should be serialized to string\n    processData: true,\n    // Whether the browser should be allowed to cache GET responses\n    cache: true\n  }\n\n  function mimeToDataType(mime) {\n    if (mime) mime = mime.split(';', 2)[0]\n    return mime && ( mime == htmlType ? 'html' :\n      mime == jsonType ? 'json' :\n      scriptTypeRE.test(mime) ? 'script' :\n      xmlTypeRE.test(mime) && 'xml' ) || 'text'\n  }\n\n  function appendQuery(url, query) {\n    if (query == '') return url\n    return (url + '&' + query).replace(/[&?]{1,2}/, '?')\n  }\n\n  // serialize payload and append it to the URL for GET requests\n  function serializeData(options) {\n    if (options.processData && options.data && $.type(options.data) != \"string\")\n      options.data = $.param(options.data, options.traditional)\n    if (options.data && (!options.type || options.type.toUpperCase() == 'GET'))\n      options.url = appendQuery(options.url, options.data), options.data = undefined\n  }\n\n  $.ajax = function(options){\n    var settings = $.extend({}, options || {}),\n        deferred = $.Deferred && $.Deferred(),\n        urlAnchor\n    for (key in $.ajaxSettings) if (settings[key] === undefined) settings[key] = $.ajaxSettings[key]\n\n    ajaxStart(settings)\n\n    if (!settings.crossDomain) {\n      urlAnchor = document.createElement('a')\n      urlAnchor.href = settings.url\n      urlAnchor.href = urlAnchor.href\n      settings.crossDomain = (originAnchor.protocol + '//' + originAnchor.host) !== (urlAnchor.protocol + '//' + urlAnchor.host)\n    }\n\n    if (!settings.url) settings.url = window.location.toString()\n    serializeData(settings)\n\n    var dataType = settings.dataType, hasPlaceholder = /\\?.+=\\?/.test(settings.url)\n    if (hasPlaceholder) dataType = 'jsonp'\n\n    if (settings.cache === false || (\n         (!options || options.cache !== true) &&\n         ('script' == dataType || 'jsonp' == dataType)\n        ))\n      settings.url = appendQuery(settings.url, '_=' + Date.now())\n\n    if ('jsonp' == dataType) {\n      if (!hasPlaceholder)\n        settings.url = appendQuery(settings.url,\n          settings.jsonp ? (settings.jsonp + '=?') : settings.jsonp === false ? '' : 'callback=?')\n      return $.ajaxJSONP(settings, deferred)\n    }\n\n    var mime = settings.accepts[dataType],\n        headers = { },\n        setHeader = function(name, value) { headers[name.toLowerCase()] = [name, value] },\n        protocol = /^([\\w-]+:)\\/\\//.test(settings.url) ? RegExp.$1 : window.location.protocol,\n        xhr = settings.xhr(),\n        nativeSetHeader = xhr.setRequestHeader,\n        abortTimeout\n\n    if (deferred) deferred.promise(xhr)\n\n    if (!settings.crossDomain) setHeader('X-Requested-With', 'XMLHttpRequest')\n    setHeader('Accept', mime || '*/*')\n    if (mime = settings.mimeType || mime) {\n      if (mime.indexOf(',') > -1) mime = mime.split(',', 2)[0]\n      xhr.overrideMimeType && xhr.overrideMimeType(mime)\n    }\n    if (settings.contentType || (settings.contentType !== false && settings.data && settings.type.toUpperCase() != 'GET'))\n      setHeader('Content-Type', settings.contentType || 'application/x-www-form-urlencoded')\n\n    if (settings.headers) for (name in settings.headers) setHeader(name, settings.headers[name])\n    xhr.setRequestHeader = setHeader\n\n    xhr.onreadystatechange = function(){\n      if (xhr.readyState == 4) {\n        xhr.onreadystatechange = empty\n        clearTimeout(abortTimeout)\n        var result, error = false\n        if ((xhr.status >= 200 && xhr.status < 300) || xhr.status == 304 || (xhr.status == 0 && protocol == 'file:')) {\n          dataType = dataType || mimeToDataType(settings.mimeType || xhr.getResponseHeader('content-type'))\n          result = xhr.responseText\n\n          try {\n            // http://perfectionkills.com/global-eval-what-are-the-options/\n            if (dataType == 'script')    (1,eval)(result)\n            else if (dataType == 'xml')  result = xhr.responseXML\n            else if (dataType == 'json') result = blankRE.test(result) ? null : $.parseJSON(result)\n          } catch (e) { error = e }\n\n          if (error) ajaxError(error, 'parsererror', xhr, settings, deferred)\n          else ajaxSuccess(result, xhr, settings, deferred)\n        } else {\n          ajaxError(xhr.statusText || null, xhr.status ? 'error' : 'abort', xhr, settings, deferred)\n        }\n      }\n    }\n\n    if (ajaxBeforeSend(xhr, settings) === false) {\n      xhr.abort()\n      ajaxError(null, 'abort', xhr, settings, deferred)\n      return xhr\n    }\n\n    if (settings.xhrFields) for (name in settings.xhrFields) xhr[name] = settings.xhrFields[name]\n\n    var async = 'async' in settings ? settings.async : true\n    xhr.open(settings.type, settings.url, async, settings.username, settings.password)\n\n    for (name in headers) nativeSetHeader.apply(xhr, headers[name])\n\n    if (settings.timeout > 0) abortTimeout = setTimeout(function(){\n        xhr.onreadystatechange = empty\n        xhr.abort()\n        ajaxError(null, 'timeout', xhr, settings, deferred)\n      }, settings.timeout)\n\n    // avoid sending empty string (#319)\n    xhr.send(settings.data ? settings.data : null)\n    return xhr\n  }\n\n  // handle optional data/success arguments\n  function parseArguments(url, data, success, dataType) {\n    if ($.isFunction(data)) dataType = success, success = data, data = undefined\n    if (!$.isFunction(success)) dataType = success, success = undefined\n    return {\n      url: url\n    , data: data\n    , success: success\n    , dataType: dataType\n    }\n  }\n\n  $.get = function(/* url, data, success, dataType */){\n    return $.ajax(parseArguments.apply(null, arguments))\n  }\n\n  $.post = function(/* url, data, success, dataType */){\n    var options = parseArguments.apply(null, arguments)\n    options.type = 'POST'\n    return $.ajax(options)\n  }\n\n  $.getJSON = function(/* url, data, success */){\n    var options = parseArguments.apply(null, arguments)\n    options.dataType = 'json'\n    return $.ajax(options)\n  }\n\n  $.fn.load = function(url, data, success){\n    if (!this.length) return this\n    var self = this, parts = url.split(/\\s/), selector,\n        options = parseArguments(url, data, success),\n        callback = options.success\n    if (parts.length > 1) options.url = parts[0], selector = parts[1]\n    options.success = function(response){\n      self.html(selector ?\n        $('<div>').html(response.replace(rscript, \"\")).find(selector)\n        : response)\n      callback && callback.apply(self, arguments)\n    }\n    $.ajax(options)\n    return this\n  }\n\n  var escape = encodeURIComponent\n\n  function serialize(params, obj, traditional, scope){\n    var type, array = $.isArray(obj), hash = $.isPlainObject(obj)\n    $.each(obj, function(key, value) {\n      type = $.type(value)\n      if (scope) key = traditional ? scope :\n        scope + '[' + (hash || type == 'object' || type == 'array' ? key : '') + ']'\n      // handle data in serializeArray() format\n      if (!scope && array) params.add(value.name, value.value)\n      // recurse into nested objects\n      else if (type == \"array\" || (!traditional && type == \"object\"))\n        serialize(params, value, traditional, key)\n      else params.add(key, value)\n    })\n  }\n\n  $.param = function(obj, traditional){\n    var params = []\n    params.add = function(key, value) {\n      if ($.isFunction(value)) value = value()\n      if (value == null) value = \"\"\n      this.push(escape(key) + '=' + escape(value))\n    }\n    serialize(params, obj, traditional)\n    return params.join('&').replace(/%20/g, '+')\n  }\n})(Zepto)\n\n;(function($){\n  $.fn.serializeArray = function() {\n    var name, type, result = [],\n      add = function(value) {\n        if (value.forEach) return value.forEach(add)\n        result.push({ name: name, value: value })\n      }\n    if (this[0]) $.each(this[0].elements, function(_, field){\n      type = field.type, name = field.name\n      if (name && field.nodeName.toLowerCase() != 'fieldset' &&\n        !field.disabled && type != 'submit' && type != 'reset' && type != 'button' && type != 'file' &&\n        ((type != 'radio' && type != 'checkbox') || field.checked))\n          add($(field).val())\n    })\n    return result\n  }\n\n  $.fn.serialize = function(){\n    var result = []\n    this.serializeArray().forEach(function(elm){\n      result.push(encodeURIComponent(elm.name) + '=' + encodeURIComponent(elm.value))\n    })\n    return result.join('&')\n  }\n\n  $.fn.submit = function(callback) {\n    if (0 in arguments) this.bind('submit', callback)\n    else if (this.length) {\n      var event = $.Event('submit')\n      this.eq(0).trigger(event)\n      if (!event.isDefaultPrevented()) this.get(0).submit()\n    }\n    return this\n  }\n\n})(Zepto)\n\n;(function($){\n  // __proto__ doesn't exist on IE<11, so redefine\n  // the Z function to use object extension instead\n  if (!('__proto__' in {})) {\n    $.extend($.zepto, {\n      Z: function(dom, selector){\n        dom = dom || []\n        $.extend(dom, $.fn)\n        dom.selector = selector || ''\n        dom.__Z = true\n        return dom\n      },\n      // this is a kludge but works\n      isZ: function(object){\n        return $.type(object) === 'array' && '__Z' in object\n      }\n    })\n  }\n\n  // getComputedStyle shouldn't freak out when called\n  // without a valid element as argument\n  try {\n    getComputedStyle(undefined)\n  } catch(e) {\n    var nativeGetComputedStyle = getComputedStyle;\n    window.getComputedStyle = function(element){\n      try {\n        return nativeGetComputedStyle(element)\n      } catch(e) {\n        return null\n      }\n    }\n  }\n})(Zepto)\n;\n},{}],62:[function(require,module,exports){\n'use strict';\n\nvar $ = require('zepto-browserify').$;\n\n//jshint maxparams: 8\nmodule.exports = {\n  type: 'ClientSideAssembler',\n  deps: ['DisplayBehaviour', 'SocketBehaviour', 'Dimensions', 'Element', 'InputElement', 'Window', 'UpdateLoop'],\n  func: function (displayBehaviour, socketBehaviour, dimensions, element, inputElement, window, updateLoop) {\n    return {\n      assembleAndRun: function () {\n        var display = displayBehaviour().Display();\n        var socket = socketBehaviour().SocketBehaviour();\n        socket.connect(display.setup, display.update);\n\n        var resizeCanvas = function () {\n          var dims = dimensions().get();\n\n          $('#' + element()).css('margin-top', dims.marginTopBottom);\n          $('#' + element()).css('width', dims.usableWidth);\n          $('#' + element()).css('height', dims.usableHeight);\n\n          $('#' + inputElement()).css('margin-top', dims.marginTopBottom);\n          $('#' + inputElement()).css('width', dims.usableWidth);\n          $('#' + inputElement()).css('height', dims.usableHeight);\n\n          display.resize(dims);\n        };\n\n        $(window()).on('load resize', resizeCanvas);\n        updateLoop().UpdateLoop(display.updateDisplay).run();\n      }\n    };\n  }\n};\n},{\"zepto-browserify\":61}],63:[function(require,module,exports){\n'use strict';\n\nvar plugins = require('plug-n-play').configure(['View', 'InputMode', 'OnMute', 'OnPause', 'OnResume', 'OnUnmute', 'OnConnect', 'OnDisconnect']);\n\nmodule.exports = {\n  load: plugins.load,\n  set: plugins.set,\n  loadWindow: function (window) {\n    plugins.set('Window', window);\n  },\n  run: function () {\n    plugins.get('ClientSideAssembler').assembleAndRun();\n  },\n  loadDefaults: function () {\n    plugins.set('ServerUrl', 'http://localhost:3000/');\n    plugins.set('GameMode', 'game');\n    plugins.set('AspectRatio', 26 / 10);\n    plugins.set('WidescreenMinimumMargin', 32);\n    plugins.set('Element', 'canvas');\n    plugins.set('InputElement', 'input');\n\n    plugins.load(require('./ui/dimensions'));\n    plugins.load(require('./ui/display'));\n    plugins.load(require('./events/on_connect'));\n    plugins.load(require('./events/on_disconnect'));\n    plugins.load(require('./socket/client'));\n    plugins.load(require('./state/tracker'));\n    plugins.load(require('./state/shortcuts'));\n    plugins.load(require('./input/keyboard'));\n    plugins.load(require('./update/loop'));\n    plugins.load(require('./socket/pending-acknowledgements'));\n\n    plugins.load(require('./views/fullscreen'));\n    plugins.load(require('./views/toggle_sound'));\n    plugins.load(require('./views/layout_icons'));\n    plugins.load(require('./views/player_observer_count'));\n    plugins.load(require('./views/pause_resume'));\n\n    plugins.load(require('./assembler'));\n  }\n};\n},{\"./assembler\":62,\"./events/on_connect\":64,\"./events/on_disconnect\":65,\"./input/keyboard\":66,\"./socket/client\":67,\"./socket/pending-acknowledgements\":68,\"./state/shortcuts\":69,\"./state/tracker\":70,\"./ui/dimensions\":71,\"./ui/display\":72,\"./update/loop\":73,\"./views/fullscreen\":74,\"./views/layout_icons\":75,\"./views/pause_resume\":76,\"./views/player_observer_count\":77,\"./views/toggle_sound\":78,\"plug-n-play\":9}],64:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n  type: 'OnConnect',\n  func: function () {\n    var $ = require('zepto-browserify').$;\n\n    return function () {\n      $('.disconnected').hide();\n    };\n  }\n};\n},{\"zepto-browserify\":61}],65:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n  type: 'OnDisconnect',\n  func: function () {\n    var $ = require('zepto-browserify').$;\n\n    return function () {\n      $('.disconnected').show();\n    };\n  }\n};\n},{\"zepto-browserify\":61}],66:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n  deps: ['Window', 'InputElement'],\n  type: 'InputMode',\n  func: function (window, element) {\n    var _ = require('lodash');\n    var $ = require('zepto-browserify').$;\n\n    return {\n      InputMode: function () {\n        var x = 0;\n        var y = 0;\n        var touches = [];\n        var keys = {};\n        var singlePressKeys = {};\n\n        var keyMap = function () {\n          var map = {\n            '9': 'tab',\n            '17': 'control',\n            '18': 'alt',\n            '27': 'escape',\n            '32': 'space',\n            '37': 'left',\n            '38': 'up',\n            '39': 'right',\n            '40': 'down'\n          };\n          var i = 0;\n\n          for (i = 48; i <= 122; i += 1) {\n            if (i > 57 && i < 65) { continue; }\n            if (i > 90 && i < 97) { continue; }\n            if (map[i] !== undefined) {\n              continue;\n            }\n            map[i] = String.fromCharCode(i);\n          }\n\n          return map;\n        };\n\n        var mouseMap = function () {\n          return {\n            '1': 'button1',\n            '3': 'button2'\n          };\n        };\n\n        var singlePress = function (key) {\n          singlePressKeys[key] = true;\n        };\n\n        var press = function (key) {\n          keys[key] = true;\n        };\n\n        var release = function (key) {\n          keys[key] = false;\n        };\n\n        var bindToWindowEvents = function () {\n          $(window()).on('mousedown', function (e) {\n            press(mouseMap()[e.which]);\n            e.preventDefault();\n          });\n\n          $(window()).on('mouseup', function (e) {\n            release(mouseMap()[e.which]);\n            e.preventDefault();\n          });\n\n          var elementId = '#' + element();\n\n          $(elementId).on('mousemove', function (e) {\n            x = e.layerX;\n            y = e.layerY;\n          });\n\n          $(elementId).on('touchstart', function (e) {\n            _.each(e.touches, function (touch) {\n              var x = touch.clientX - touch.target.offsetLeft;\n              var y = touch.clientY - touch.target.offsetTop;\n              touches.push({ id: touch.identifier, x: x, y: y, force: touch.webkitForce || 1 });\n            });\n          });\n\n          $(elementId).on('touchmove', function (e) {\n            _.each(e.touches, function (touch) {\n              var x = touch.clientX - touch.target.offsetLeft;\n              var y = touch.clientY - touch.target.offsetTop;\n              touches.push({ id: touch.identifier, x: x, y: y, force: touch.webkitForce || 1 });\n            });\n          });\n\n          $(elementId).on('touchend', function (e) {\n            var ids = _.map(e.changedTouches, function (touch) { return touch.identifier; });\n            touches = _.reject(touches, function (touch) { return ids.indexOf(touch.id) !== -1; });\n          });\n\n          $(elementId).on('touchleave', function (e) {\n            var ids = _.map(e.changedTouches, function (touch) { return touch.identifier; });\n            touches = _.reject(touches, function (touch) { return ids.indexOf(touch.id) !== -1; });\n          });\n\n          $(elementId).on('touchcancel', function (e) {\n            var ids = _.map(e.changedTouches, function (touch) { return touch.identifier; });\n            touches = _.reject(touches, function (touch) { return ids.indexOf(touch.id) !== -1; });\n          });\n\n\n          $(window().document).keypress(function (e) {\n            if (e.metaKey) { return; }\n\n            singlePress(keyMap()[e.which]);\n            //to ensure that both keypress and keydown fire on the same event. We can work around this\n            //but we'll need to get a replicable scene (this is only a problem for the space key)\n            // e.preventDefault();\n          });\n\n          $(window().document).keydown(function (e) {\n            if (e.metaKey) { return; }\n\n            press(keyMap()[e.which]);\n            // e.preventDefault();\n          });\n\n          $(window().document).keyup(function (e) {\n            release(keyMap()[e.which]);\n          });\n        };\n\n        bindToWindowEvents();\n\n        return {\n          getCurrentState: function () {\n            var inputData = {\n              x: x,\n              y: y,\n              touches: touches\n            };\n\n            var keysToSend = [];\n            _.each(keys, function (value, key) {\n              if (value) {\n                keysToSend.push(key);\n              }\n            });\n            inputData.keys = keysToSend;\n\n            var singlePressKeysToSend = [];\n            _.each(singlePressKeys, function (value, key) {\n              if (value) {\n                singlePressKeysToSend.push(key);\n              }\n              singlePressKeys[key] = false;\n            });\n            inputData.singlePressKeys = singlePressKeysToSend;\n\n            return inputData;\n          }\n        };\n      }\n    };\n  }\n};\n},{\"lodash\":6,\"zepto-browserify\":61}],67:[function(require,module,exports){\n'use strict';\n\nvar each = require('lodash').each;\nvar extend = require('lodash').extend;\nvar $ = require('zepto-browserify').$;\n\n//jshint maxparams: 7\nmodule.exports = {\n  deps: ['Window', 'InputMode', 'GameMode', 'ServerUrl', 'OnConnect', 'OnDisconnect', 'PendingAcknowledgements'],\n  type: 'SocketBehaviour',\n  func: function (window, inputModes, gameMode, serverUrl, onConnectCallbacks, onDisconnectCallbacks, pendingAcknowledgements) {\n    return {\n      SocketBehaviour: function () {\n        var controls = [];\n\n        var configureEmitFunction = function (socket) {\n          return function () {\n            var packet = {\n              pendingAcks: pendingAcknowledgements().flush(),\n              sentTimestamp: Date.now()\n            };\n\n            each(controls, function (control) {\n              extend(packet, control.getCurrentState());\n            });\n\n            socket.emit('input', packet);\n          };\n        };\n\n        return {\n            connect: function (setupFunc, updateFunc) {\n              var io = require('socket.io-client');\n\n              var socket = io.connect(serverUrl() + gameMode() + '/primary', {reconnection: false});\n\n              if (window().document.hasFocus()) {\n                  socket.emit('unpause');\n              }\n\n              each(onConnectCallbacks(), function (callback) {\n                socket.on('connect', callback);\n              });\n              each(onDisconnectCallbacks(), function (callback) {\n                socket.on('disconnect', callback);\n              });\n\n              socket.on('gameState/setup', setupFunc);\n              socket.on('gameState/update', updateFunc);\n              socket.on('error', function (data) { throw new Error(data); });\n\n              $(window()).on('blur', function () { socket.emit('pause'); });\n              $(window()).on('focus', function () { socket.emit('unpause'); });\n              $(window()).on('mousedown', function () { socket.emit('unpause'); });\n              $(window()).on('mouseup', function () { socket.emit('unpause'); });\n\n              each(inputModes(), function (inputMode) {\n                controls.push(inputMode.InputMode());\n              });\n\n              var id = setInterval(configureEmitFunction(socket), 1000 / 120);\n              socket.on('disconnect', function () {\n                clearInterval(id);\n              });\n            }\n        };\n      }\n    };\n  }\n};\n},{\"lodash\":6,\"socket.io-client\":11,\"zepto-browserify\":61}],68:[function(require,module,exports){\n'use strict';\n\nvar clone = require('lodash').clone;\n\nmodule.exports = {\n    type: 'PendingAcknowledgements',\n    func: function () {\n        var acks = [];\n\n        var reset = function () {\n            acks = [];\n        };\n\n        return {\n            flush: function () {\n                var pending = clone(acks);\n\n                reset();\n\n                return pending;\n            },\n            add: function (packetId) {\n                acks.push({ id: packetId, rcvdTimestamp: Date.now(), names: []});\n            },\n            ackLast: function (name) {\n                acks[acks.length - 1].names.push(name);\n            }\n        };\n    }\n};\n},{\"lodash\":6}],69:[function(require,module,exports){\n'use strict';\n\nvar isEqual = require('lodash').isEqual;\n\nmodule.exports = {\n  type: 'StateTrackerHelpers',\n  func: function () {\n    return {\n      equals: function (expectedValue) {\n        return function (currentValue) {\n          return isEqual(currentValue, expectedValue);\n        };\n      }\n    };\n  }\n};\n},{\"lodash\":6}],70:[function(require,module,exports){\n'use strict';\n\nvar each = require('lodash').each;\nvar isArray = require('lodash').isArray;\nvar isEqual = require('lodash').isEqual;\nvar clone = require('lodash').clone;\nvar where = require('lodash').where;\n\nmodule.exports = {\n  type: 'StateTracker',\n  func: function () {\n    var priorState;\n    var currentState;\n    var changes = [];\n\n    var invokeCallback = function (callback, model, priorModel, data) {\n      if (isArray(data)) {\n        var args = clone(data);\n        args.unshift(model, priorModel);\n        callback.apply(this, args);\n      } else {\n        callback(model, priorModel, data);\n      }\n    };\n\n    var hasChanged = function (f) {\n      if (priorState === undefined) { return true; }\n\n      return !isEqual(f(priorState), f(currentState));\n    };\n\n    var currentValue = function (f) {\n      if (currentState === undefined) {\n        return undefined;\n      }\n\n      return f(currentState);\n    };\n    var priorValue = function (f) {\n      if (priorState === undefined) {\n        return undefined;\n      }\n\n      return f(priorState);\n    };\n    var currentElement = function (f, model) {\n      if (currentState === undefined) {\n        return undefined;\n      }\n\n      return where(f(currentState), {id: model.id})[0];\n    };\n    var priorElement = function (f, model) {\n      if (priorState === undefined) {\n        return undefined;\n      }\n\n      return where(f(priorState), {id: model.id})[0];\n    };\n    var elementAdded = function (f, model) {\n      return (where(f(priorState), {id: model.id}).length === 0);\n    };\n    var elementRemoved = function (f, model) {\n      return (where(f(currentState), {id: model.id}).length === 0);\n    };\n    var elementChanged = function (f, model) {\n      if (priorState === undefined) { return true; }\n\n      var current = where(f(currentState), {id: model.id});\n      var prior = where(f(priorState), {id: model.id});\n      return !isEqual(current, prior);\n    };\n    var handleObjects = function (change) {\n      if (hasChanged(change.focus)) {\n        if (!change.when) {\n          invokeCallback(change.callback, currentValue(change.focus), priorValue(change.focus), change.data);\n          return;\n        }\n\n        if (change.when(currentValue(change.focus))) {\n          invokeCallback(change.callback, currentValue(change.focus), priorValue(change.focus), change.data);\n        }\n      }\n    };\n    var handleArrays = function (change) {\n      each(change.operatesOn(change.focus), function (model) {\n        if (change.detectionFunc(change.focus, model)) {\n          invokeCallback(change.callback, currentElement(change.focus, model), priorElement(change.focus, model), change.data);\n        }\n      });\n    };\n    var sendCurrentContentsNow = function (change) {\n      invokeCallback(change.callback, currentValue(change.focus), undefined, change.data);\n    };\n\n    var handle = {\n      'array': handleArrays,\n      'object': handleObjects\n    };\n\n    var detectChangesAndNotifyObservers = function () {\n      each(changes, function (change) {\n        handle[change.type](change);\n      });\n    };\n\n    return {\n      get: function (model) {\n        return currentValue(model);\n      },\n      updateState: function (newState) {\n        priorState = currentState;\n        currentState = newState;\n\n        detectChangesAndNotifyObservers();\n      },\n      onChangeOf: function (model, callback, data) {\n        var change = {\n          type: 'object',\n          focus: model,\n          callback: callback,\n          data: data\n        };\n\n        changes.push(change);\n      },\n      onChangeTo: function (model, condition, callback, data) {\n        var change = {\n          type: 'object',\n          focus: model,\n          'when': condition,\n          callback: callback,\n          data: data\n        };\n\n        handleObjects(change);\n        changes.push(change);\n      },\n      onElementChanged: function (focusArray, callback, data) {\n        var change = {\n          type: 'array',\n          focus: focusArray,\n          callback: callback,\n          detectionFunc: elementChanged,\n          operatesOn: currentValue,\n          data: data\n        };\n\n        changes.push(change);\n      },\n      onElementAdded: function (focusArray, onCallback, existingCallback, data) {\n        var change = {\n          type: 'array',\n          focus: focusArray,\n          callback: onCallback,\n          detectionFunc: elementAdded,\n          operatesOn: currentValue,\n          data: data\n        };\n\n        changes.push(change);\n        sendCurrentContentsNow({\n          focus: focusArray,\n          callback: existingCallback,\n          data: data\n        });\n      },\n      onElementRemoved: function (focusArray, callback, data) {\n        var change = {\n          type: 'array',\n          focus: focusArray,\n          callback: callback,\n          detectionFunc: elementRemoved,\n          operatesOn: priorValue,\n          data: data\n        };\n\n        changes.push(change);\n      }\n    };\n  }\n};\n},{\"lodash\":6}],71:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n  deps: ['AspectRatio', 'WidescreenMinimumMargin', 'Window'],\n  type: 'Dimensions',\n  func: function (ratio, minMargin, window) {\n    return {\n      get: function () {\n        var actualWidth = window().innerWidth;\n        var actualHeight = window().innerHeight;\n        var heightBasedOnWidth = Math.round(actualWidth / ratio());\n        var widthBasedOnHeight = Math.round(actualHeight * ratio());\n        var totalMargin = minMargin() + minMargin();\n\n        var usableWidth;\n        var usableHeight;\n        var orientation;\n\n        if (heightBasedOnWidth >= actualHeight) {\n          if (widthBasedOnHeight + totalMargin > actualWidth) {\n            usableWidth = actualWidth - totalMargin;\n            usableHeight = heightBasedOnWidth;\n          } else {\n            usableWidth = widthBasedOnHeight;\n            usableHeight = actualHeight;\n          }\n\n          orientation = 'landscape';\n        } else {\n          if (heightBasedOnWidth + totalMargin > actualHeight) {\n            usableWidth = widthBasedOnHeight;\n            usableHeight = actualHeight - totalMargin;\n          } else {\n            usableWidth = actualWidth;\n            usableHeight = heightBasedOnWidth;\n          }\n\n          orientation = 'portrait';\n        }\n\n        return {\n          usableWidth: usableWidth,\n          usableHeight: usableHeight,\n          marginSides: Math.round(actualWidth - usableWidth) / 2,\n          marginTopBottom: Math.round(actualHeight - usableHeight) / 2,\n          orientation: orientation,\n          screenWidth: actualWidth,\n          screenHeight: actualHeight,\n          ratio: ratio()\n        };\n      }\n    };\n  }\n};\n},{}],72:[function(require,module,exports){\n'use strict';\n\nvar each = require('lodash').each;\nvar reject = require('lodash').reject;\n\nmodule.exports = {\n  deps: ['Dimensions', 'View', 'StateTracker', 'PendingAcknowledgements', 'DefinePlugin'],\n  type: 'DisplayBehaviour',\n  func: function (dimensions, views, tracker, pendingAcknowledgements, define) {\n    var effects = [];\n    var priorStep = Date.now();\n    var lastReceivedId = 0;\n\n    var setupComplete = false;\n\n    return {\n      Display: function () {\n        var dims = dimensions().get();\n\n        each(views(), function (levelPart) {\n          if (levelPart.screenResized) {\n            levelPart.screenResized(dims);\n          }\n        });\n\n        define()('RegisterEffect', function () {\n          return {\n            register: function (effect) {\n              effects.push(effect);\n            }\n          };\n        });\n\n        var setup = function (state) {\n          tracker().updateState(state);\n\n          each(views(), function (levelPart) {\n            if (levelPart.setup) {\n              levelPart.setup();\n            }\n          });\n\n          setupComplete = true;\n        };\n\n        var update = function (packet) {\n          pendingAcknowledgements().add(packet.id);\n\n          if (packet.id <= lastReceivedId) {\n            return;\n          }\n          lastReceivedId = packet.id;\n\n          tracker().updateState(packet.gameState);\n        };\n\n        var doUpdate = function () {\n          var now = Date.now();\n\n          var dt = (now - priorStep) / 1000;\n          priorStep = Date.now();\n\n          each(views(), function (levelPart) {\n            if (levelPart.update) {\n              levelPart.update(dt);\n            }\n          });\n\n          if (!setupComplete) {\n            return;\n          }\n\n          each(effects, function (effect) {\n            effect.tick(dt);\n          });\n\n          effects = reject(effects, function (effect) {\n            return !effect.isAlive();\n          });\n        };\n\n        var dontUpdate = function () {\n          priorStep = Date.now();\n        };\n\n        var paused = function (state) { return state.ensemble.paused; };\n\n        return {\n          setup: setup,\n          update: update,\n          updateDisplay: function () {\n            if (tracker().get(paused)) {\n              dontUpdate();\n            } else {\n              doUpdate();\n            }\n          },\n\n          resize: function (dims) {\n            each(views(), function (levelPart) {\n              if (levelPart.screenResized) {\n                levelPart.screenResized(dims);\n              }\n            });\n          }\n        };\n      }\n    };\n  }\n};\n},{\"lodash\":6}],73:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n    deps: ['Window'],\n    type: 'UpdateLoop',\n    func: function (window) {\n        return {\n            UpdateLoop: function (updateFunc) {\n                return {\n                    run: function (time) {\n                        updateFunc(time);\n\n                        window().requestAnimationFrame(this.run.bind(this));\n                    }\n                };\n            }\n        };\n    }\n};\n},{}],74:[function(require,module,exports){\n'use strict';\n\nvar screenfull = require('screenfull');\nvar $ = require('zepto-browserify').$;\n\nmodule.exports = {\n  type: 'View',\n  func: function () {\n    return {\n      setup: function () {\n        $('.fullscreen').on('click', function () {\n          if (screenfull.enabled) {\n            screenfull.toggle();\n          }\n        });\n      }\n    };\n  }\n};\n},{\"screenfull\":10,\"zepto-browserify\":61}],75:[function(require,module,exports){\n'use strict';\n\nvar iconSize = 32;\nvar position = function (slot) { return slot * iconSize; };\nvar iconTop = function () { return 0; };\nvar textTop = function () { return +6; };\n\nvar landscape = function ($) {\n  var pos = 0;\n  $('.fullscreen').css('top', position(pos) - iconTop() + 'px').css('right', '0');\n  pos += 1;\n  $('.sound-on').css('top', position(pos) - iconTop() + 'px').css('right', '0');\n  $('.sound-off').css('top', position(pos) - iconTop() + 'px').css('right', '0');\n  pos += 1;\n  $('.disconnected').css('top', position(pos) - iconTop() + 'px').css('right', '0');\n  pos += 1;\n  $('.paused').css('top', position(pos) - iconTop() + 'px').css('right', '0');\n  pos += 1;\n  $('.players').css('top', position(pos) - iconTop() + 'px').css('right', '0');\n  pos += 1;\n  $('.player-count').css('top', position(pos) - textTop() + 'px').css('right', '0');\n  pos += 1;\n  $('.observers').css('top', position(pos) - iconTop() + 'px').css('right', '0');\n  pos += 1;\n  $('.observer-count').css('top', position(pos) - textTop() + 'px').css('right', '0');\n  pos += 1;\n};\n\nvar portrait = function ($) {\n  var pos = 0;\n  $('.fullscreen').css('right', position(pos) + 'px').css('top', iconTop() + 'px');\n  pos += 1;\n  $('.sound-on').css('right', position(pos) + 'px').css('top', iconTop() + 'px');\n  $('.sound-off').css('right', position(pos) + 'px').css('top', iconTop() + 'px');\n  pos += 1;\n  $('.disconnected').css('right', position(pos) + 'px').css('top', iconTop() + 'px');\n  pos += 1;\n  $('.paused').css('right', position(pos) + 'px').css('top', iconTop() + 'px');\n  pos += 1;\n  $('.players').css('right', position(pos) + 'px').css('top', iconTop() + 'px');\n  pos += 1;\n  $('.player-count').css('right', position(pos) + 'px').css('top', textTop() + 'px');\n  pos += 1;\n  $('.observers').css('right', position(pos) + 'px').css('top', iconTop() + 'px');\n  pos += 1;\n  $('.observer-count').css('right', position(pos) + 'px').css('top', textTop() + 'px');\n  pos += 1;\n};\n\nmodule.exports = {\n  type: 'View',\n  deps: ['Dimensions'],\n  func: function (dimensions) {\n    var $ = require('zepto-browserify').$;\n\n    return {\n      screenResized: function () {\n        if (dimensions().get().orientation === 'landscape') {\n          landscape($);\n        } else {\n          portrait($);\n        }\n      }\n    };\n  }\n};\n},{\"zepto-browserify\":61}],76:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n  deps: ['OnPause', 'OnResume', 'StateTrackerHelpers', 'StateTracker'],\n  type: 'View',\n  func: function (onPauseCallbacks, onResumeCallbacks, trackerHelpers, tracker) {\n    var each = require('lodash').each;\n    var $ = require('zepto-browserify').$;\n    var equals = trackerHelpers().equals;\n\n    var pause = function () {\n      $('.paused').show();\n      $('#paused').show();\n\n      each(onPauseCallbacks(), function(onPauseCallback) {\n        onPauseCallback();\n      });\n    };\n    var resume = function () {\n      $('.paused').hide();\n      $('#paused').hide();\n\n      each(onResumeCallbacks(), function(onResumeCallback) {\n        onResumeCallback();\n      });\n    };\n\n    return {\n      setup: function () {\n        var paused = function (state) { return state.ensemble.paused; };\n\n        tracker().onChangeTo(paused, equals(true), pause);\n        tracker().onChangeTo(paused, equals(false), resume);\n      }\n    };\n  }\n};\n},{\"lodash\":6,\"zepto-browserify\":61}],77:[function(require,module,exports){\n'use strict';\n\nvar numeral = require('numeral');\n\nmodule.exports = {\n  type: 'View',\n  deps: ['StateTracker'],\n  func: function (tracker) {\n    var $ = require('zepto-browserify').$;\n\n    var updatePlayerCount = function (currentValue) {\n      $('#player-count').text(numeral(currentValue).format('0a'));\n    };\n    var updateObserverCount = function (currentValue) {\n      $('#observer-count').text(numeral(currentValue).format('0a'));\n    };\n\n    return {\n      setup: function () {\n        var playerCount = function (state) { return state.ensemble.players; };\n        var observerCount = function (state) { return state.ensemble.observers; };\n\n        tracker().onChangeOf(playerCount, updatePlayerCount);\n        tracker().onChangeOf(observerCount, updateObserverCount);\n        }\n    };\n  }\n};\n},{\"numeral\":7,\"zepto-browserify\":61}],78:[function(require,module,exports){\n'use strict';\n\nvar each = require('lodash').each;\nvar $ = require('zepto-browserify').$;\n\nmodule.exports = {\n  type: 'View',\n  deps: ['OnMute', 'OnUnmute'],\n  func: function (onMuteCallbacks, onUnmuteCallbacks) {\n    return {\n      setup: function () {\n        $('.sound-off').hide();\n        $('.sound-on').on('click', function () {\n          $('.sound-on').hide();\n          $('.sound-off').show();\n\n          each(onMuteCallbacks, function(onMuteCallback) {\n            onMuteCallback();\n          });\n        });\n        $('.sound-off').on('click', function () {\n          $('.sound-off').hide();\n          $('.sound-on').show();\n\n          each(onUnmuteCallbacks, function(onUnmuteCallback) {\n            onUnmuteCallback();\n          });\n        });\n      }\n    };\n  }\n};\n},{\"lodash\":6,\"zepto-browserify\":61}],79:[function(require,module,exports){\narguments[4][61][0].apply(exports,arguments)\n},{\"dup\":61}]},{},[1]);\n"],"sourceRoot":"/source/"}