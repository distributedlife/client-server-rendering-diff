{"version":3,"sources":["game.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","global","entryPoint","loadWindow","window","loadDefaults","load","run","this","self","./views/bouncing-ball","ensemblejs-client",2,"$","type","deps","func","element","tracker","define","offset","ballColour","demeanour","drawBall","context","position","radius","fillStyle","beginPath","arc","x","y","Math","PI","closePath","fill","drawBoard","dimensions","fillRect","width","height","theBallPosition","state","ball","theBallRadius","theBallDemeanour","theBoardDimensions","board","calculateOffset","boardDimensions","screenDimensions","usableWidth","usableHeight","dims","canvas","id","getContext","append","get","translate","clearRect","zepto-browserify",3,4,"process","normalizeArray","parts","allowAboveRoot","up","last","splice","unshift","filter","xs","res","push","splitPathRe","splitPath","filename","exec","slice","resolve","resolvedPath","resolvedAbsolute","arguments","path","cwd","TypeError","charAt","split","p","join","normalize","isAbsolute","trailingSlash","substr","paths","Array","prototype","index","relative","from","to","trim","arr","start","end","fromParts","toParts","min","samePartsLength","outputParts","concat","sep","delimiter","dirname","result","root","dir","basename","ext","extname","str","len","_process",5,"drainQueue","draining","currentQueue","queue","noop","nextTick","fun","setTimeout","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","name","chdir","umask",6,"baseCompareAscending","value","other","valIsNull","valIsUndef","undefined","valIsReflexive","othIsNull","othIsUndef","othIsReflexive","baseFindIndex","array","predicate","fromRight","baseIndexOf","fromIndex","indexOfNaN","baseIsFunction","baseToString","charsLeftIndex","string","chars","indexOf","charsRightIndex","compareAscending","object","criteria","compareMultiple","orders","objCriteria","othCriteria","ordersLength","deburrLetter","letter","deburredLetters","escapeHtmlChar","chr","htmlEscapes","escapeStringChar","stringEscapes","isObjectLike","isSpace","charCode","replaceHolders","placeholder","resIndex","PLACEHOLDER","sortedUniq","iteratee","seen","computed","trimmedLeftIndex","charCodeAt","trimmedRightIndex","unescapeHtmlChar","htmlUnescapes","runInContext","lodash","isArray","LazyWrapper","LodashWrapper","hasOwnProperty","wrapperClone","baseLodash","chainAll","actions","__wrapped__","__actions__","__chain__","__dir__","__dropCount__","__filtered__","__iteratees__","__takeCount__","POSITIVE_INFINITY","__views__","lazyClone","iteratees","views","arrayCopy","lazyReverse","clone","lazyValue","baseWrapperValue","isRight","view","getView","takeCount","nativeMin","iterLength","outer","iterIndex","data","LAZY_DROP_WHILE_FLAG","done","count","limit","LAZY_MAP_FLAG","LAZY_FILTER_FLAG","MapCache","__data__","mapDelete","key","has","mapGet","mapHas","mapSet","SetCache","values","hash","nativeCreate","set","Set","cacheIndexOf","cache","isObject","cachePush","add","source","arrayEach","arrayEachRight","arrayEvery","arrayExtremum","comparator","exValue","current","arrayFilter","arrayMap","arrayReduce","accumulator","initFromArray","arrayReduceRight","arraySome","arraySum","assignDefaults","objectValue","sourceValue","assignOwnDefaults","assignWith","customizer","props","keys","baseAssign","baseCopy","baseAt","collection","isNil","isArr","isArrayLike","propsLength","isIndex","baseCallback","thisArg","argCount","bindCallback","identity","baseMatches","property","baseMatchesProperty","baseClone","isDeep","stackA","stackB","initCloneArray","tag","objToString","isFunc","funcTag","objectTag","argsTag","cloneableTags","initCloneByTag","initCloneObject","baseForOwn","subValue","baseDelay","wait","args","FUNC_ERROR_TEXT","apply","baseDifference","getIndexOf","isCommon","createCache","valuesLength","valuesIndex","baseEvery","baseEach","baseExtremum","baseFill","baseFilter","baseFind","eachFunc","retKey","baseFlatten","isStrict","isArguments","valIndex","valLength","baseForIn","baseFor","keysIn","baseForOwnRight","baseForRight","baseFunctions","isFunction","baseGet","pathKey","toObject","baseIsEqual","isLoose","baseIsEqualDeep","equalFunc","objIsArr","othIsArr","objTag","arrayTag","othTag","isTypedArray","objIsObj","othIsObj","isSameTag","equalByTag","objIsWrapped","othIsWrapped","equalArrays","equalObjects","pop","baseIsMatch","matchData","noCustomizer","objValue","srcValue","baseMap","getMatchData","isKey","isStrictComparable","toPath","baseSlice","baseMerge","isSrcArr","baseMergeDeep","mergeFunc","isPlainObject","toPlainObject","baseProperty","basePropertyDeep","basePullAt","indexes","previous","baseRandom","max","floor","nativeRandom","baseReduce","initFromCollection","baseSome","baseSortBy","comparer","sort","baseSortByOrder","callback","getCallback","baseSum","baseUniq","isLarge","seenIndex","baseValues","baseWhile","isDrop","action","binaryIndex","retHighest","low","high","HALF_MAX_ARRAY_LENGTH","mid","binaryIndexBy","valIsNaN","isDef","isReflexive","setLow","MAX_ARRAY_INDEX","bufferClone","buffer","bufferSlice","composeArgs","partials","holders","holdersLength","argsIndex","argsLength","nativeMax","leftIndex","leftLength","composeArgsRight","holdersIndex","rightIndex","rightLength","createAggregator","setter","initializer","createAssigner","assigner","restParam","sources","guard","isIterateeCall","createBaseEach","getLength","isLength","iterable","createBaseFor","keysFunc","createBindWrapper","wrapper","fn","Ctor","createCtorWrapper","createCompounder","words","deburr","thisBinding","baseCreate","createCurry","flag","curryFunc","arity","createWrapper","createExtremum","toIterable","createFind","createFindIndex","createFindKey","objectFunc","createFlow","funcs","thru","getFuncName","funcName","getData","isLaziable","ARY_FLAG","CURRY_FLAG","PARTIAL_FLAG","REARG_FLAG","plant","createForEach","arrayFunc","createForIn","createForOwn","createObjectMapper","isMapKeys","mapped","createPadDir","createPadding","createPartial","partialFunc","createReduce","createHybridWrapper","bitmask","partialsRight","holdersRight","argPos","ary","isCurry","isCurryRight","argsHolders","newArgPos","newArity","newsHolders","newHoldersRight","newPartials","newPartialsRight","PARTIAL_RIGHT_FLAG","isCurryBound","BIND_FLAG","BIND_KEY_FLAG","newData","setData","isBind","isBindKey","reorder","isAry","CURRY_BOUND_FLAG","CURRY_RIGHT_FLAG","strLength","nativeIsFinite","padLength","repeat","ceil","createPartialWrapper","createSortedIndex","mergeData","baseSetData","arrLength","othLength","arrValue","othValue","boolTag","dateTag","errorTag","message","numberTag","regexpTag","stringTag","objProps","objLength","othProps","skipCtor","objCtor","constructor","othCtor","realNames","otherFunc","target","pairs","getNative","isNative","transforms","size","input","Object","arrayBufferTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","byteOffset","reFlags","lastIndex","invokePath","reIsUint","test","MAX_SAFE_INTEGER","reIsPlainProp","reIsDeepProp","srcBitmask","newBitmask","isCombo","pickByArray","pickByCallback","oldArray","shimIsPlainObject","support","shimKeys","allowIndexes","replace","rePropName","match","number","quote","reEscapeChar","chunk","compact","drop","dropRight","dropRightWhile","dropWhile","first","flatten","flattenDeep","initial","lastIndexOf","pull","remove","rest","take","takeRight","takeRightWhile","takeWhile","uniq","isSorted","unzip","group","unzipWith","xor","zipObject","chain","tap","interceptor","wrapperChain","wrapperCommit","wrapperPlant","parent","wrapperReverse","reverse","wrapperToString","wrapperValue","every","findWhere","find","includes","isString","map","pluck","reject","sample","toArray","rand","shuffle","some","sortBy","sortByOrder","where","after","temp","before","debounce","options","cancel","timeoutId","clearTimeout","maxTimeoutId","trailingCall","delayed","remaining","now","stamp","isCalled","lastCalled","maxDelayed","trailing","maxWait","debounced","leading","leadingCall","memoize","resolver","memoized","Cache","negate","otherArgs","spread","throttle","debounceOptions","wrap","cloneDeep","gt","gte","isBoolean","isDate","isElement","nodeType","isEmpty","isEqual","isError","isMatch","isNaN","isNumber","reIsNative","fnToString","reIsHostCtor","isNull","isRegExp","typedArrayTags","isUndefined","lt","lte","create","properties","functions","defaultValue","invert","multiValue","isProto","skipIndexes","nested","transform","valuesIn","inRange","random","floating","noMin","noMax","parseFloat","capitalize","toUpperCase","reLatin1","reComboMark","endsWith","escape","reHasUnescapedHtml","reUnescapedHtml","escapeRegExp","reHasRegExpChars","reRegExpChars","pad","parseInt","radix","nativeParseInt","startsWith","template","otherOptions","settings","templateSettings","isEscaping","isEvaluating","imports","importsKeys","importsValues","interpolate","reNoMatch","reDelimiters","RegExp","reInterpolate","reEsTemplate","evaluate","sourceURL","templateCounter","escapeValue","interpolateValue","esTemplateValue","evaluateValue","reUnescapedString","variable","reEmptyStringLeading","reEmptyStringMiddle","reEmptyStringTrailing","attempt","Function","trimLeft","trimRight","trunc","DEFAULT_TRUNC_LENGTH","omission","DEFAULT_TRUNC_OMISSION","separator","search","newEnd","substring","unescape","reHasEscapedHtml","reEscapedHtml","pattern","reWords","matches","constant","matchesProperty","mixin","isObj","methodNames","methodName","noConflict","_","oldDash","propertyOf","range","step","times","MAX_ARRAY_LENGTH","uniqueId","prefix","idCounter","augend","addend","sum","noIteratee","defaults","pick","contextProps","Date","Number","String","arrayProto","objectProto","stringProto","document","toString","ArrayBuffer","getPrototypeOf","Uint8Array","WeakMap","Float64Array","nativeIsArray","isFinite","nativeKeys","nativeNow","nativeNumIsFinite","NEGATIVE_INFINITY","FLOAT64_BYTES_PER_ELEMENT","BYTES_PER_ELEMENT","metaMap","valueOf","dom","createDocumentFragment","reEscape","reEvaluate","baseEachRight","byteLength","floatLength","HOT_SPAN","HOT_COUNT","difference","findIndex","findLastIndex","intersection","arrays","othIndex","caches","pullAt","sortedIndex","sortedLastIndex","union","without","zip","zipWith","at","countBy","findLast","forEach","forEachRight","groupBy","indexBy","invoke","isProp","partition","reduce","reduceRight","sortByAll","getTime","bind","bindAll","bindKey","curry","curryRight","defer","delay","flow","flowRight","partial","partialRight","rearg","objProto","assign","findKey","findLastKey","forIn","forInRight","forOwn","forOwnRight","mapKeys","mapValues","merge","omit","camelCase","word","toLowerCase","kebabCase","padLeft","padRight","whitespace","reHasHexPrefix","snakeCase","startCase","method","methodOf","backflow","collect","compose","each","eachRight","extend","methods","select","tail","unique","all","any","contains","eq","detect","foldl","foldr","head","include","inject","VERSION","isFilter","isDropWhile","filtered","whileName","takeName","dropName","operationName","createCallback","lodashFunc","checkIteratee","retUnwrapped","isHybrid","isLazy","useLazy","onlyLazy","chainName","names","commit","toJSON","mapTag","setTag","weakMapTag","upper","lower","À","Á","Â","Ã","Ä","Å","à","á","â","ã","ä","å","Ç","ç","Ð","ð","È","É","Ê","Ë","è","é","ê","ë","Ì","Í","Î","Ï","ì","í","î","ï","Ñ","ñ","Ò","Ó","Ô","Õ","Ö","Ø","ò","ó","ô","õ","ö","ø","Ù","Ú","Û","Ü","ù","ú","û","ü","Ý","ý","ÿ","Æ","æ","Þ","þ","ß","&","<",">","\"","'","`","&amp;","&lt;","&gt;","&quot;","&#39;","&#96;","objectTypes","function","\\","\n","\r"," "," ","freeExports","freeModule","freeGlobal","freeSelf","freeWindow","moduleExports","amd",7,"Numeral","_value","toFixed","precision","roundingFunction","optionals","optionalsRegExp","output","power","pow","formatNumeral","format","formatCurrency","formatPercentage","formatTime","formatNumber","unformatNumeral","thousandRegExp","millionRegExp","billionRegExp","trillionRegExp","stringOriginal","suffixes","bytesMultiplier","unformatTime","zeroFormat","languages","currentLanguage","delimiters","decimal","abbreviations","thousand","currency","symbol","million","billion","trillion","spliceIndex","symbolIndex","openParenIndex","minusSignIndex","space","hours","minutes","seconds","round","timeArray","w","thousands","negP","signed","optDec","abbr","abbrK","abbrM","abbrB","abbrT","abbrForce","bytes","ord","abs","d","neg","ordinal","loadLanguage","multiplier","correctionFactor","prev","next","mp","mn","Infinity","numeral","defaultFormat","hasModule","isNumeral","unformat","obj","language","languageData","b","opt_initialValue","isValueSet","inputString","cback","accum","curr","currI","O","corrFactor","subtract","multiply","divide","ender",8,"isCommonjs","keyboardAllowed","Element","val","fnMap","ret","screenfull","request","elem","requestFullscreen","documentElement","navigator","userAgent","ALLOW_KEYBOARD_INPUT","exit","exitFullscreen","toggle","isFullscreen","raw","defineProperties","fullscreenElement","enumerable","enabled","fullscreenEnabled",9,"./lib/",10,"lookup","uri","opts","io","parsed","url","forceNew","multiplex","debug","Manager","socket","parser","managers","protocol","connect","Socket","./manager","./socket","./url","socket.io-parser",11,"nsps","subs","reconnection","reconnectionAttempts","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","Backoff","jitter","timeout","readyState","connected","encoding","packetBuffer","encoder","Encoder","decoder","Decoder","autoConnect","open","eio","Emitter","emitAll","nsp","updateSocketIds","engine","v","_reconnection","_reconnectionAttempts","_reconnectionDelay","setMin","_randomizationFactor","setJitter","_reconnectionDelayMax","setMax","_timeout","maybeReconnectOnOpen","reconnecting","attempts","reconnect","skipReconnect","openSub","onopen","errorSub","cleanup","err","timer","destroy","close","ondata","ondecoded","packet","onerror","encode","encodedPackets","write","processPacketQueue","pack","shift","sub","disconnect","reset","onclose","reason","duration","onreconnect","./on","backo2","component-bind","component-emitter","engine.io-client","indexof","object-component",12,"ev",13,"json","ids","acks","receiveBuffer","sendBuffer","disconnected","hasBin","events","connect_error","connect_timeout","error","reconnect_attempt","reconnect_failed","reconnect_error","subEvents","send","parserType","EVENT","BINARY_EVENT","CONNECT","onpacket","onconnect","onevent","ACK","onack","BINARY_ACK","DISCONNECT","ondisconnect","ERROR","ack","sent","emitBuffered","has-binary","to-array",14,"loc","location","host","hostname","parseuri","port","href",15,"ms","factor","deviation",16,17,"addEventListener","event","_callbacks","removeEventListener","callbacks","cb","listeners","hasListeners",18,"fmt","coerce","humanize","console","log","stack","skips","enable","localStorage","disable","sec","hour",19,20,"engine.io-parser",21,"secure","query","pieces","agent","parseqs","decode","upgrade","forceJSONP","jsonp","forceBase64","enablesXDR","timestampParam","timestampRequests","transports","writeBuffer","callbackBuffer","policyPort","rememberUpgrade","binaryType","onlyBinaryUpgrades","pfx","passphrase","cert","ca","ciphers","rejectUnauthorized","parsejson","priorWebsocketSuccess","Transport","createTransport","EIO","transport","sid","setTransport","onDrain","onPacket","onError","onClose","probe","onTransportOpen","upgradeLosesBinary","supportsBinary","failed","msg","upgrading","pause","flush","freezeTransport","onTransportClose","onupgrade","onOpen","upgrades","onHandshake","setPing","filterUpgrades","pingInterval","pingTimeout","onHeartbeat","pingTimeoutTimer","pingIntervalTimer","ping","sendPacket","prevBufferLen","writable","cleanupAndClose","waitForUpgrade","desc","filteredUpgrades","j","./transport","./transports",22,"timestamps","description","doOpen","doClose","packets","onData","decodePacket",23,"polling","xhr","xd","isSSL","xdomain","xscheme","XMLHttpRequest","XHR","JSONP","websocket","./polling-jsonp","./polling-xhr","./websocket","xmlhttprequest",24,"empty","JSONPPolling","Polling","___eio","script","inherit","rNewline","rEscapedNewline","parentNode","removeChild","form","iframe","doPoll","createElement","async","src","insertAt","getElementsByTagName","insertBefore","isUAgecko","body","appendChild","doWrite","complete","initIframe","html","iframeId","area","className","style","top","left","setAttribute","submit","attachEvent","onreadystatechange","onload","./polling","component-inherit",25,"Request","isBinary","unloadHandler","requests","abort","req","sendXhr","pollXhr","responseType","setRequestHeader","withCredentials","hasXDR","onLoad","responseText","status","requestsCount","onSuccess","fromError","contentType","getResponseHeader","response","XDomainRequest",26,"hasXHR2","poll","onPause","total","decodePayload","callbackfn","encodePayload","schema","b64","../transport",27,"WS","WebSocket","check","protocols","ws","addEventListeners","onmessage","ondrain","encodePacket",28,"hasCORS","ActiveXObject","has-cors",29,30,"useColors","firebug","exception","table","$1","formatArgs","namespace","diff","c","color","lastC","save","namespaces","removeItem","colors","formatters","JSON","stringify","./debug",31,"selectColor","prevColor","disabled","prevTime","formatter","logFn",32,"parse","h","m","short","long","plural",33,"encodeBase64Object","encodeArrayBuffer","encodeBase64Packet","contentArray","resultBuffer","encodeBlobAsArrayBuffer","fr","FileReader","readAsArrayBuffer","encodeBlob","dontSendBlobs","blob","Blob","eachWithIndex","el","hasBinary","sliceBuffer","base64encoder","utf8","isAndroid","isPhantomJS","pong","packetslist","utf8encode","base64","encoded","readAsDataURL","b64data","fromCharCode","typed","basic","btoa","utf8decode","decodeBase64Packet","asArray","setLengthHeader","encodeOne","doneCallback","encodePayloadAsBlob","encodePayloadAsArrayBuffer","results","decodePayloadAsBinary","totalLength","acc","resultArray","bufferIndex","ab","lenStr","binaryIdentifier","lengthAry","bufferTail","buffers","numberTooLong","tailArray","msgLength","./keys","arraybuffer.slice","base64-arraybuffer",34,35,"err_cb","proxy","bail",36,"arraybuffer","abv","ii",37,"encoded1","encoded2","encoded3","encoded4","bufferLength",38,"BlobBuilderConstructor","bb","BlobBuilder","getBlob","WebKitBlobBuilder","MSBlobBuilder","MozBlobBuilder","blobSupported","blobBuilderSupported",39,"_hasBinary","Buffer","isBuffer","File","isarray",40,41,"ucs2decode","extra","counter","ucs2encode","stringFromCharCode","createByte","codePoint","encodeCodePoint","codePoints","byteString","readContinuationByte","byteIndex","byteCount","continuationByte","byteArray","decodeSymbol","byte1","byte2","byte3","byte4","tmp",42,43,44,"rvalidchars","rvalidescape","rvalidtokens","rvalidbraces","rtrimLeft","rtrimRight",45,"encodeURIComponent","qs","qry","pair","decodeURIComponent",46,"re","authority","ipv6uri",47,"instance","MozWebSocket",48,49,"dup",50,51,"vals",52,53,"isBuf","deconstructPacket","_deconstructPacket","_placeholder","num","packetData","attachments","reconstructPacket","_reconstructPacket","buf","removeBlobs","_removeBlobs","curKey","containingObject","pendingBlobs","fileReader","bloblessData","./is-buffer",54,"encodeAsString","encodeAsBinary","writeEncoding","deconstruction","binary","reconstructor","decodeString","types","BinaryReconstructor","reconPack","takeBinaryData","finishedReconstruction","binData","./binary","json3",55,56,57,"undef","isSupported","serialized","JSON3","stringifySupported","isExtended","getClass","parseSupported","isProperty","isLoader","nativeJSON","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","functionClass","dateClass","numberClass","stringClass","arrayClass","booleanClass","charIndexBuggy","Months","getDay","year","month","members","__proto__","original","PrimitiveTypes","boolean","isHostType","Properties","isConstructor","hasProperty","Escapes",92,"leadingZeroes","toPaddedString","unicodePrefix","symbols","serialize","indentation","date","time","milliseconds","Index","Source","Unescapes",98,116,110,102,114,"SyntaxError","lex","begin","isSigned","hasMembers","update","walk",58,"list",59,"socketBehaviour","updateLoop","resizeCallbacks","onInitialiseCallbacks","resizeCanvas","resizeCallback","assembleAndRun",60,"plugins","configure","./assembler","./events/acknowledge-packet","./events/initialise-state","./events/initialise-views","./events/on-error","./events/on_connect","./events/on_disconnect","./events/on_resize","./events/update-state","./input/keyboard","./socket/client","./socket/pending-acknowledgements","./state/shortcuts","./state/tracker","./ui/dimensions","./ui/effects","./update/loop","./version","./views/fullscreen","./views/layout_icons","./views/pause_resume","./views/player_observer_count","./views/toggle_sound","plug-n-play",61,"pendingAcknowledgements",62,"updateState",63,64,65,"hide",66,"show",67,"inputElement","css","marginTopBottom",68,"lastReceivedId","gameState",69,"InputMode","touches","singlePressKeys","keyMap","mouseMap","singlePress","press","release","bindToWindowEvents","which","preventDefault","elementId","layerX","layerY","touch","clientX","offsetLeft","clientY","offsetTop","identifier","force","webkitForce","changedTouches","keypress","metaKey","keydown","keyup","getCurrentState","inputData","mouse","keysToSend","singlePressKeysToSend",70,"inputModes","gameMode","serverUrl","onConnectCallbacks","onDisconnectCallbacks","onPacketCallbacks","onSetupCallbacks","onErrorCallbacks","controls","paused","ensemble","configureEmitFunction","pendingAcks","sentTimestamp","control","hasFocus","playerId","inputMode","setInterval","clearInterval","socket.io-client",71,"pending","packetId","rcvdTimestamp","ackLast",72,"equals","expectedValue","currentValue",73,"priorState","currentState","changes","invokeCallback","model","priorModel","hasChanged","priorValue","currentElement","priorElement","elementAdded","elementRemoved","elementChanged","prior","handleObjects","change","focus","when","handleArrays","operatesOn","detectionFunc","sendCurrentContentsNow","handle","detectChangesAndNotifyObservers","newState","onChangeOf","onChangeTo","condition","onElementChanged","focusArray","onElementAdded","onCallback","existingCallback","onElementRemoved",74,"ratio","minMargin","orientation","actualWidth","innerWidth","actualHeight","innerHeight","heightBasedOnWidth","widthBasedOnHeight","totalMargin","marginSides","screenWidth","screenHeight",75,"effects","delta","effect","tick","isAlive","register",76,"frames","priorStep","frame","requestAnimationFrame",77,78,79,"iconSize","slot","iconTop","textTop","landscape","pos","portrait",80,"onPauseCallbacks","onResumeCallbacks","trackerHelpers","onPauseCallback","resume","onResumeCallback",81,"updatePlayerCount","text","updateObserverCount","playerCount","players","observerCount","observers",82,"onMuteCallbacks","onUnmuteCallbacks","onMuteCallback","onUnmuteCallback",83,"charAtCallback","arrayMax","arrayMin","getSymbols","valType","othType","valWrapped","othWrapped","strictCompareFlags","isMin","extremumBy","nonEnumArgs","endIndex","getOwnPropertySymbols","preventExtensions","propertyIsEnumerable","nativeAssign","funcDecomp","funcNames",84,"__dirname","addTrailingSlash","normaliseRelativePath","loadFromPath","pathToEntites","absolutePath","readdirSync","file","fs",85,"loader","dep","deferredDependency","deferred","loadPath","thing","./folder-loader.js",86,"Zepto","class2type","isWindow","isDocument","DOCUMENT_NODE","likeArray","item","dasherize","classRE","classCache","maybeAddPx","cssNumber","defaultDisplay","nodeName","display","elementDisplay","getComputedStyle","getPropertyValue","children","childNodes","node","deep","nodes","selector","funcArg","arg","idx","payload","removeAttribute","klass","svg","baseVal","deserializeValue","parseJSON","traverseNode","classList","camelize","emptyArray","column-count","columns","font-weight","line-height","opacity","z-index","zoom","fragmentRE","singleTagRE","tagExpanderRE","rootNodeRE","capitalRE","methodAttributes","adjacencyOperators","tableRow","containers","tr","tbody","thead","tfoot","td","th","*","readyRE","simpleSelectorRE","zepto","tempParent","propMap","tabindex","readonly","for","class","maxlength","cellspacing","cellpadding","rowspan","colspan","usemap","frameborder","contenteditable","matchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","qsa","fragment","container","innerHTML","attr","Z","isZ","init","ready","found","maybeID","maybeClass","nameOnly","isSimple","getElementById","getElementsByClassName","querySelectorAll","isEmptyObject","inArray","uuid","expr","elements","grep","not","is","excludes","$this","closest","parents","ancestors","contents","siblings","child","replaceWith","newContent","structure","wrapAll","cloneNode","wrapInner","unwrap","setting","originHtml","newText","textContent","getAttribute","removeAttr","attribute","prop","attrName","multiple","selected","coordinates","coords","parentOffset","offsetParent","getBoundingClientRect","pageXOffset","pageYOffset","computedStyle","removeProperty","cssText","hasClass","addClass","cls","newName","removeClass","toggleClass","scrollTop","hasScrollTop","scrollTo","scrollX","scrollLeft","hasScrollLeft","scrollY","detach","dimension","dimensionProperty","operator","operatorIndex","inside","argType","copyByClone","nextSibling","firstChild","parentInDocument","zid","_zid","findHandlers","ns","matcher","matcherFor","handlers","handler","sel","eventCapture","captureSetting","del","focusinSupported","realEvent","hover","delegator","capture","related","relatedTarget","compatible","isImmediatePropagationStopped","_args","stopPropagation","isDefaultPrevented","eventMethods","sourceMethod","returnTrue","returnFalse","defaultPrevented","returnValue","getPreventDefault","createProxy","originalEvent","ignoreProperties","specialEvents","blur","mouseenter","mouseleave","click","mousedown","mouseup","mousemove","proxyFn","unbind","one","stopImmediatePropagation","delegate","undelegate","live","die","autoRemove","evt","currentTarget","liveFired","trigger","Event","dispatchEvent","triggerHandler","createEvent","bubbles","initEvent","triggerAndReturn","eventName","triggerGlobal","ajaxStart","active","ajaxStop","ajaxBeforeSend","beforeSend","ajaxSuccess","success","resolveWith","ajaxComplete","ajaxError","rejectWith","mimeToDataType","mime","htmlType","jsonType","scriptTypeRE","xmlTypeRE","appendQuery","serializeData","processData","param","traditional","parseArguments","dataType","params","scope","jsonpID","rscript","blankRE","originAnchor","ajaxJSONP","ajax","responseData","abortTimeout","_callbackName","jsonpCallback","callbackName","originalCallback","errorType","promise","ajaxSettings","accepts","xml","crossDomain","urlAnchor","Deferred","hasPlaceholder","headers","setHeader","nativeSetHeader","mimeType","overrideMimeType","eval","responseXML","statusText","xhrFields","username","password","post","getJSON","serializeArray","field","checked","elm","__Z","nativeGetComputedStyle"],"mappings":"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","file":"game.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar entryPoint = require('ensemblejs-client');\nentryPoint.loadWindow((typeof window !== \"undefined\" ? window.window : typeof global !== \"undefined\" ? global.window : null));\nentryPoint.loadDefaults();\nentryPoint.load(require('./views/bouncing-ball'));\nentryPoint.run();\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./views/bouncing-ball\":2,\"ensemblejs-client\":60}],2:[function(require,module,exports){\n'use strict';\n\nvar $ = require('zepto-browserify').$;\n\nmodule.exports = {\n  type: 'View',\n  deps: ['Element', 'StateTracker', 'DefinePlugin'],\n  func: function (element, tracker, define) {\n    var ballColour = function(demeanour) {\n      if (demeanour === 'happy') {\n        return '#ffffff';\n      } else {\n        return '#ff0000';\n      }\n    };\n\n    var drawBall = function(context, position, demeanour, radius) {\n      context.fillStyle = ballColour(demeanour);\n      context.beginPath();\n      context.arc(position.x, position.y, radius, 0, 2*Math.PI);\n      context.closePath();\n      context.fill();\n    };\n\n    var drawBoard = function(context, dimensions) {\n      context.fillStyle = '#55ff55';\n      context.fillRect(0, 0, dimensions.width, dimensions.height);\n    };\n\n    var theBallPosition = function (state) {\n      return state['bouncing-ball-game'].ball.position;\n    };\n\n    var theBallRadius = function (state) {\n      return state['bouncing-ball-game'].ball.radius;\n    };\n\n    var theBallDemeanour = function (state) {\n      return state['bouncing-ball-game'].ball.demeanour;\n    };\n\n    var theBoardDimensions = function (state) {\n      return state['bouncing-ball-game'].board;\n    };\n\n    var calculateOffset = function (boardDimensions, screenDimensions) {\n      return {\n        x: (screenDimensions.usableWidth - boardDimensions.width) / 2,\n        y: (screenDimensions.usableHeight - boardDimensions.height) / 2\n      };\n    };\n\n    var offset;\n    return function (dims) {\n      var canvas = $('<canvas/>', { id: 'scene' });\n      canvas[0].width = dims.usableWidth;\n      canvas[0].height = dims.usableHeight;\n      var context = canvas[0].getContext('2d');\n\n      $('#' + element()).append(canvas);\n\n      offset = calculateOffset(tracker().get(theBoardDimensions), dims);\n      context.translate(offset.x, offset.y);\n\n      define()('OnEachFrame', function () {\n        return function () {\n          context.clearRect(0, 0, canvas[0].width, canvas[0].height);\n          drawBoard(context, tracker().get(theBoardDimensions));\n          drawBall(context, tracker().get(theBallPosition), tracker().get(theBallDemeanour), tracker().get(theBallRadius));\n        };\n      });\n\n      define()('OnResize', function () {\n        return function (dims) {\n          canvas[0].width = dims.usableWidth;\n          canvas[0].height = dims.usableHeight;\n          offset = calculateOffset(tracker().get(theBoardDimensions), dims);\n        };\n      });\n    };\n  }\n};\n},{\"zepto-browserify\":86}],3:[function(require,module,exports){\n\n},{}],4:[function(require,module,exports){\n(function (process){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// Split a filename into [root, dir, basename, ext], unix version\n// 'root' is just a slash, or nothing.\nvar splitPathRe =\n    /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;\nvar splitPath = function(filename) {\n  return splitPathRe.exec(filename).slice(1);\n};\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function(path) {\n  var result = splitPath(path),\n      root = result[0],\n      dir = result[1];\n\n  if (!root && !dir) {\n    // No dirname whatsoever\n    return '.';\n  }\n\n  if (dir) {\n    // It has a dirname, strip trailing slash\n    dir = dir.substr(0, dir.length - 1);\n  }\n\n  return root + dir;\n};\n\n\nexports.basename = function(path, ext) {\n  var f = splitPath(path)[2];\n  // TODO: make this comparison case-insensitive on windows?\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\n\nexports.extname = function(path) {\n  return splitPath(path)[3];\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n\n}).call(this,require('_process'))\n},{\"_process\":5}],5:[function(require,module,exports){\n// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    draining = true;\n    var currentQueue;\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        var i = -1;\n        while (++i < len) {\n            currentQueue[i]();\n        }\n        len = queue.length;\n    }\n    draining = false;\n}\nprocess.nextTick = function (fun) {\n    queue.push(fun);\n    if (!draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n},{}],6:[function(require,module,exports){\n(function (global){\n/**\n * @license\n * lodash 3.9.3 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern -d -o ./index.js`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '3.9.3';\n\n  /** Used to compose bitmasks for wrapper metadata. */\n  var BIND_FLAG = 1,\n      BIND_KEY_FLAG = 2,\n      CURRY_BOUND_FLAG = 4,\n      CURRY_FLAG = 8,\n      CURRY_RIGHT_FLAG = 16,\n      PARTIAL_FLAG = 32,\n      PARTIAL_RIGHT_FLAG = 64,\n      ARY_FLAG = 128,\n      REARG_FLAG = 256;\n\n  /** Used as default options for `_.trunc`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect when a function becomes hot. */\n  var HOT_COUNT = 150,\n      HOT_SPAN = 16;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_DROP_WHILE_FLAG = 0,\n      LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2;\n\n  /** Used as the `TypeError` message for \"Functions\" methods. */\n  var FUNC_ERROR_TEXT = 'Expected a function';\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      objectTag = '[object Object]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      weakMapTag = '[object WeakMap]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39|#96);/g,\n      reUnescapedHtml = /[&<>\"'`]/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match property names within property paths. */\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\n\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\n\\\\]|\\\\.)*?)\\2)\\]/g;\n\n  /**\n   * Used to match `RegExp` [special characters](http://www.regular-expressions.info/characters.html#special).\n   * In addition to special characters the forward slash is escaped to allow for\n   * easier `eval` use and `Function` compilation.\n   */\n  var reRegExpChars = /[.*+?^${}()|[\\]\\/\\\\]/g,\n      reHasRegExpChars = RegExp(reRegExpChars.source);\n\n  /** Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks). */\n  var reComboMark = /[\\u0300-\\u036f\\ufe20-\\ufe23]/g;\n\n  /** Used to match backslashes in property paths. */\n  var reEscapeChar = /\\\\(\\\\)?/g;\n\n  /** Used to match [ES template delimiters](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-template-literal-lexical-components). */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect hexadecimal string values. */\n  var reHasHexPrefix = /^0[xX]/;\n\n  /** Used to detect host constructors (Safari > 5). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^\\d+$/;\n\n  /** Used to match latin-1 supplementary letters (excluding mathematical operators). */\n  var reLatin1 = /[\\xc0-\\xd6\\xd8-\\xde\\xdf-\\xf6\\xf8-\\xff]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to match words to create compound words. */\n  var reWords = (function() {\n    var upper = '[A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]',\n        lower = '[a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff]+';\n\n    return RegExp(upper + '+(?=' + upper + lower + ')|' + upper + '?' + lower + '|' + upper + '+|[0-9]+', 'g');\n  }());\n\n  /** Used to detect and test for whitespace. */\n  var whitespace = (\n    // Basic whitespace characters.\n    ' \\t\\x0b\\f\\xa0\\ufeff' +\n\n    // Line terminators.\n    '\\n\\r\\u2028\\u2029' +\n\n    // Unicode category \"Zs\" space separators.\n    '\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000'\n  );\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'ArrayBuffer', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Math', 'Number',\n    'Object', 'RegExp', 'Set', 'String', '_', 'clearTimeout', 'document',\n    'isFinite', 'parseFloat', 'parseInt', 'setTimeout', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap', 'window'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dateTag] = typedArrayTags[errorTag] =\n  typedArrayTags[funcTag] = typedArrayTags[mapTag] =\n  typedArrayTags[numberTag] = typedArrayTags[objectTag] =\n  typedArrayTags[regexpTag] = typedArrayTags[setTag] =\n  typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[boolTag] =\n  cloneableTags[dateTag] = cloneableTags[float32Tag] =\n  cloneableTags[float64Tag] = cloneableTags[int8Tag] =\n  cloneableTags[int16Tag] = cloneableTags[int32Tag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[stringTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[mapTag] = cloneableTags[setTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used as an internal `_.debounce` options object by `_.throttle`. */\n  var debounceOptions = {\n    'leading': false,\n    'maxWait': 0,\n    'trailing': false\n  };\n\n  /** Used to map latin-1 supplementary letters to basic latin letters. */\n  var deburredLetters = {\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcC': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xeC': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '`': '&#96;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\",\n    '&#96;': '`'\n  };\n\n  /** Used to determine if values are of the language type `Object`. */\n  var objectTypes = {\n    'function': true,\n    'object': true\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Detect free variable `exports`. */\n  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = objectTypes[typeof module] && module && !module.nodeType && module;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = freeExports && freeModule && typeof global == 'object' && global && global.Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = objectTypes[typeof self] && self && self.Object && self;\n\n  /** Detect free variable `window`. */\n  var freeWindow = objectTypes[typeof window] && window && window.Object && window;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports && freeExports;\n\n  /**\n   * Used as a reference to the global object.\n   *\n   * The `this` value is used if it's the global object to avoid Greasemonkey's\n   * restricted `window` object, otherwise the `window` object is used.\n   */\n  var root = freeGlobal || ((freeWindow !== (this && this.window)) && freeWindow) || freeSelf || this;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * The base implementation of `compareAscending` which compares values and\n   * sorts them in ascending order without guaranteeing a stable sort.\n   *\n   * @private\n   * @param {*} value The value to compare.\n   * @param {*} other The other value to compare.\n   * @returns {number} Returns the sort order indicator for `value`.\n   */\n  function baseCompareAscending(value, other) {\n    if (value !== other) {\n      var valIsNull = value === null,\n          valIsUndef = value === undefined,\n          valIsReflexive = value === value;\n\n      var othIsNull = other === null,\n          othIsUndef = other === undefined,\n          othIsReflexive = other === other;\n\n      if ((value > other && !othIsNull) || !valIsReflexive ||\n          (valIsNull && !othIsUndef && othIsReflexive) ||\n          (valIsUndef && othIsReflexive)) {\n        return 1;\n      }\n      if ((value < other && !valIsNull) || !othIsReflexive ||\n          (othIsNull && !valIsUndef && valIsReflexive) ||\n          (othIsUndef && valIsReflexive)) {\n        return -1;\n      }\n    }\n    return 0;\n  }\n\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for callback shorthands and `this` binding.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseFindIndex(array, predicate, fromRight) {\n    var length = array.length,\n        index = fromRight ? length : -1;\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without support for binary searches.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    if (value !== value) {\n      return indexOfNaN(array, fromIndex);\n    }\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isFunction` without support for environments\n   * with incorrect `typeof` results.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n   */\n  function baseIsFunction(value) {\n    // Avoid a Chakra JIT bug in compatibility modes of IE 11.\n    // See https://github.com/jashkenas/underscore/issues/1621 for more details.\n    return typeof value == 'function' || false;\n  }\n\n  /**\n   * Converts `value` to a string if it's not one. An empty string is returned\n   * for `null` or `undefined` values.\n   *\n   * @private\n   * @param {*} value The value to process.\n   * @returns {string} Returns the string.\n   */\n  function baseToString(value) {\n    if (typeof value == 'string') {\n      return value;\n    }\n    return value == null ? '' : (value + '');\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimLeft` to get the index of the first character\n   * of `string` that is not found in `chars`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @param {string} chars The characters to find.\n   * @returns {number} Returns the index of the first character not found in `chars`.\n   */\n  function charsLeftIndex(string, chars) {\n    var index = -1,\n        length = string.length;\n\n    while (++index < length && chars.indexOf(string.charAt(index)) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimRight` to get the index of the last character\n   * of `string` that is not found in `chars`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @param {string} chars The characters to find.\n   * @returns {number} Returns the index of the last character not found in `chars`.\n   */\n  function charsRightIndex(string, chars) {\n    var index = string.length;\n\n    while (index-- && chars.indexOf(string.charAt(index)) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.sortBy` to compare transformed elements of a collection and stable\n   * sort them in ascending order.\n   *\n   * @private\n   * @param {Object} object The object to compare to `other`.\n   * @param {Object} other The object to compare to `object`.\n   * @returns {number} Returns the sort order indicator for `object`.\n   */\n  function compareAscending(object, other) {\n    return baseCompareAscending(object.criteria, other.criteria) || (object.index - other.index);\n  }\n\n  /**\n   * Used by `_.sortByOrder` to compare multiple properties of each element\n   * in a collection and stable sort them in the following order:\n   *\n   * If `orders` is unspecified, sort in ascending order for all properties.\n   * Otherwise, for each property, sort in ascending order if its corresponding value in\n   * orders is true, and descending order if false.\n   *\n   * @private\n   * @param {Object} object The object to compare to `other`.\n   * @param {Object} other The object to compare to `object`.\n   * @param {boolean[]} orders The order to sort by for each property.\n   * @returns {number} Returns the sort order indicator for `object`.\n   */\n  function compareMultiple(object, other, orders) {\n    var index = -1,\n        objCriteria = object.criteria,\n        othCriteria = other.criteria,\n        length = objCriteria.length,\n        ordersLength = orders.length;\n\n    while (++index < length) {\n      var result = baseCompareAscending(objCriteria[index], othCriteria[index]);\n      if (result) {\n        if (index >= ordersLength) {\n          return result;\n        }\n        return result * (orders[index] ? 1 : -1);\n      }\n    }\n    // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n    // that causes it, under certain circumstances, to provide the same value for\n    // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n    // for more details.\n    //\n    // This also ensures a stable sort in V8 and other engines.\n    // See https://code.google.com/p/v8/issues/detail?id=90 for more details.\n    return object.index - other.index;\n  }\n\n  /**\n   * Used by `_.deburr` to convert latin-1 supplementary letters to basic latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  function deburrLetter(letter) {\n    return deburredLetters[letter];\n  }\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeHtmlChar(chr) {\n    return htmlEscapes[chr];\n  }\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled\n   * string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the index at which the first occurrence of `NaN` is found in `array`.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched `NaN`, else `-1`.\n   */\n  function indexOfNaN(array, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 0 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      var other = array[index];\n      if (other !== other) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * Checks if `value` is object-like.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n   */\n  function isObjectLike(value) {\n    return !!value && typeof value == 'object';\n  }\n\n  /**\n   * Used by `trimmedLeftIndex` and `trimmedRightIndex` to determine if a\n   * character code is whitespace.\n   *\n   * @private\n   * @param {number} charCode The character code to inspect.\n   * @returns {boolean} Returns `true` if `charCode` is whitespace, else `false`.\n   */\n  function isSpace(charCode) {\n    return ((charCode <= 160 && (charCode >= 9 && charCode <= 13) || charCode == 32 || charCode == 160) || charCode == 5760 || charCode == 6158 ||\n      (charCode >= 8192 && (charCode <= 8202 || charCode == 8232 || charCode == 8233 || charCode == 8239 || charCode == 8287 || charCode == 12288 || charCode == 65279)));\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = -1,\n        result = [];\n\n    while (++index < length) {\n      if (array[index] === placeholder) {\n        array[index] = PLACEHOLDER;\n        result[++resIndex] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * An implementation of `_.uniq` optimized for sorted arrays without support\n   * for callback shorthands and `this` binding.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} [iteratee] The function invoked per iteration.\n   * @returns {Array} Returns the new duplicate-value-free array.\n   */\n  function sortedUniq(array, iteratee) {\n    var seen,\n        index = -1,\n        length = array.length,\n        resIndex = -1,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index],\n          computed = iteratee ? iteratee(value, index, array) : value;\n\n      if (!index || seen !== computed) {\n        seen = computed;\n        result[++resIndex] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimLeft` to get the index of the first non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the first non-whitespace character.\n   */\n  function trimmedLeftIndex(string) {\n    var index = -1,\n        length = string.length;\n\n    while (++index < length && isSpace(string.charCodeAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimRight` to get the index of the last non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the last non-whitespace character.\n   */\n  function trimmedRightIndex(string) {\n    var index = string.length;\n\n    while (index-- && isSpace(string.charCodeAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  function unescapeHtmlChar(chr) {\n    return htmlUnescapes[chr];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the given `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @category Utility\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // using `context` to mock `Date#getTime` use in `_.now`\n   * var mock = _.runInContext({\n   *   'Date': function() {\n   *     return { 'getTime': getTimeMock };\n   *   }\n   * });\n   *\n   * // or creating a suped-up `defer` in Node.js\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  function runInContext(context) {\n    // Avoid issues with some ES3 environments that attempt to use values, named\n    // after built-in constructors like `Object`, for the creation of literals.\n    // ES5 clears this up by stating that literals must use built-in constructors.\n    // See https://es5.github.io/#x11.1.5 for more details.\n    context = context ? _.defaults(root.Object(), context, _.pick(root, contextProps)) : root;\n\n    /** Native constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Number = context.Number,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for native method references. */\n    var arrayProto = Array.prototype,\n        objectProto = Object.prototype,\n        stringProto = String.prototype;\n\n    /** Used to detect DOM support. */\n    var document = (document = context.window) ? document.document : null;\n\n    /** Used to resolve the decompiled source of functions. */\n    var fnToString = Function.prototype.toString;\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /**\n     * Used to resolve the [`toStringTag`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.prototype.tostring)\n     * of values.\n     */\n    var objToString = objectProto.toString;\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = context._;\n\n    /** Used to detect if a method is native. */\n    var reIsNative = RegExp('^' +\n      escapeRegExp(fnToString.call(hasOwnProperty))\n      .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Native method references. */\n    var ArrayBuffer = getNative(context, 'ArrayBuffer'),\n        bufferSlice = getNative(ArrayBuffer && new ArrayBuffer(0), 'slice'),\n        ceil = Math.ceil,\n        clearTimeout = context.clearTimeout,\n        floor = Math.floor,\n        getPrototypeOf = getNative(Object, 'getPrototypeOf'),\n        parseFloat = context.parseFloat,\n        push = arrayProto.push,\n        Set = getNative(context, 'Set'),\n        setTimeout = context.setTimeout,\n        splice = arrayProto.splice,\n        Uint8Array = getNative(context, 'Uint8Array'),\n        WeakMap = getNative(context, 'WeakMap');\n\n    /** Used to clone array buffers. */\n    var Float64Array = (function() {\n      // Safari 5 errors when using an array buffer to initialize a typed array\n      // where the array buffer's `byteLength` is not a multiple of the typed\n      // array's `BYTES_PER_ELEMENT`.\n      try {\n        var func = getNative(context, 'Float64Array'),\n            result = new func(new ArrayBuffer(10), 0, 1) && func;\n      } catch(e) {}\n      return result || null;\n    }());\n\n    /* Native method references for those with the same name as other `lodash` methods. */\n    var nativeCreate = getNative(Object, 'create'),\n        nativeIsArray = getNative(Array, 'isArray'),\n        nativeIsFinite = context.isFinite,\n        nativeKeys = getNative(Object, 'keys'),\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = getNative(Date, 'now'),\n        nativeNumIsFinite = getNative(Number, 'isFinite'),\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random;\n\n    /** Used as references for `-Infinity` and `Infinity`. */\n    var NEGATIVE_INFINITY = Number.NEGATIVE_INFINITY,\n        POSITIVE_INFINITY = Number.POSITIVE_INFINITY;\n\n    /** Used as references for the maximum length and index of an array. */\n    var MAX_ARRAY_LENGTH = 4294967295,\n        MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\n        HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n    /** Used as the size, in bytes, of each `Float64Array` element. */\n    var FLOAT64_BYTES_PER_ELEMENT = Float64Array ? Float64Array.BYTES_PER_ELEMENT : 0;\n\n    /**\n     * Used as the [maximum length](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-number.max_safe_integer)\n     * of an array-like value.\n     */\n    var MAX_SAFE_INTEGER = 9007199254740991;\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /** Used to lookup unminified function names. */\n    var realNames = {};\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit chaining.\n     * Methods that operate on and return arrays, collections, and functions can\n     * be chained together. Methods that return a boolean or single value will\n     * automatically end the chain returning the unwrapped value. Explicit chaining\n     * may be enabled using `_.chain`. The execution of chained methods is lazy,\n     * that is, execution is deferred until `_#value` is implicitly or explicitly\n     * called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion. Shortcut\n     * fusion is an optimization that merges iteratees to avoid creating intermediate\n     * arrays and reduce the number of iteratee executions.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `reverse`, `shift`, `slice`, `sort`,\n     * `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `compact`, `drop`, `dropRight`, `dropRightWhile`, `dropWhile`, `filter`,\n     * `first`, `initial`, `last`, `map`, `pluck`, `reject`, `rest`, `reverse`,\n     * `slice`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, `toArray`,\n     * and `where`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `at`, `before`, `bind`, `bindAll`, `bindKey`,\n     * `callback`, `chain`, `chunk`, `commit`, `compact`, `concat`, `constant`,\n     * `countBy`, `create`, `curry`, `debounce`, `defaults`, `defer`, `delay`,\n     * `difference`, `drop`, `dropRight`, `dropRightWhile`, `dropWhile`, `fill`,\n     * `filter`, `flatten`, `flattenDeep`, `flow`, `flowRight`, `forEach`,\n     * `forEachRight`, `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `functions`,\n     * `groupBy`, `indexBy`, `initial`, `intersection`, `invert`, `invoke`, `keys`,\n     * `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n     * `memoize`, `merge`, `method`, `methodOf`, `mixin`, `negate`, `omit`, `once`,\n     * `pairs`, `partial`, `partialRight`, `partition`, `pick`, `plant`, `pluck`,\n     * `property`, `propertyOf`, `pull`, `pullAt`, `push`, `range`, `rearg`,\n     * `reject`, `remove`, `rest`, `restParam`, `reverse`, `set`, `shuffle`,\n     * `slice`, `sort`, `sortBy`, `sortByAll`, `sortByOrder`, `splice`, `spread`,\n     * `take`, `takeRight`, `takeRightWhile`, `takeWhile`, `tap`, `throttle`,\n     * `thru`, `times`, `toArray`, `toPlainObject`, `transform`, `union`, `uniq`,\n     * `unshift`, `unzip`, `unzipWith`, `values`, `valuesIn`, `where`, `without`,\n     * `wrap`, `xor`, `zip`, `zipObject`, `zipWith`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `clone`, `cloneDeep`, `deburr`,\n     * `endsWith`, `escape`, `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`,\n     * `findLast`, `findLastIndex`, `findLastKey`, `findWhere`, `first`, `get`,\n     * `gt`, `gte`, `has`, `identity`, `includes`, `indexOf`, `inRange`, `isArguments`,\n     * `isArray`, `isBoolean`, `isDate`, `isElement`, `isEmpty`, `isEqual`, `isError`,\n     * `isFinite` `isFunction`, `isMatch`, `isNative`, `isNaN`, `isNull`, `isNumber`,\n     * `isObject`, `isPlainObject`, `isRegExp`, `isString`, `isUndefined`,\n     * `isTypedArray`, `join`, `kebabCase`, `last`, `lastIndexOf`, `lt`, `lte`,\n     * `max`, `min`, `noConflict`, `noop`, `now`, `pad`, `padLeft`, `padRight`,\n     * `parseInt`, `pop`, `random`, `reduce`, `reduceRight`, `repeat`, `result`,\n     * `runInContext`, `shift`, `size`, `snakeCase`, `some`, `sortedIndex`,\n     * `sortedLastIndex`, `startCase`, `startsWith`, `sum`, `template`, `trim`,\n     * `trimLeft`, `trimRight`, `trunc`, `unescape`, `uniqueId`, `value`, and `words`\n     *\n     * The wrapper method `sample` will return a wrapped value when `n` is provided,\n     * otherwise an unwrapped value is returned.\n     *\n     * @name _\n     * @constructor\n     * @category Chain\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // returns an unwrapped value\n     * wrapped.reduce(function(total, n) {\n     *   return total + n;\n     * });\n     * // => 6\n     *\n     * // returns a wrapped value\n     * var squares = wrapped.map(function(n) {\n     *   return n * n;\n     * });\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__chain__') && hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The function whose prototype all chaining wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable chaining for all wrapper methods.\n     * @param {Array} [actions=[]] Actions to peform to resolve the unwrapped value.\n     */\n    function LodashWrapper(value, chainAll, actions) {\n      this.__wrapped__ = value;\n      this.__actions__ = actions || [];\n      this.__chain__ = !!chainAll;\n    }\n\n    /**\n     * An object environment feature flags.\n     *\n     * @static\n     * @memberOf _\n     * @type Object\n     */\n    var support = lodash.support = {};\n\n    (function(x) {\n      var Ctor = function() { this.x = x; },\n          object = { '0': x, 'length': x },\n          props = [];\n\n      Ctor.prototype = { 'valueOf': x, 'y': x };\n      for (var key in new Ctor) { props.push(key); }\n\n      /**\n       * Detect if the DOM is supported.\n       *\n       * @memberOf _.support\n       * @type boolean\n       */\n      try {\n        support.dom = document.createDocumentFragment().nodeType === 11;\n      } catch(e) {\n        support.dom = false;\n      }\n    }(1, 0));\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB). Change the following template settings to use\n     * alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type Object\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type string\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type Object\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type Function\n         */\n        '_': lodash\n      }\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = null;\n      this.__dir__ = 1;\n      this.__dropCount__ = 0;\n      this.__filtered__ = false;\n      this.__iteratees__ = null;\n      this.__takeCount__ = POSITIVE_INFINITY;\n      this.__views__ = null;\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var actions = this.__actions__,\n          iteratees = this.__iteratees__,\n          views = this.__views__,\n          result = new LazyWrapper(this.__wrapped__);\n\n      result.__actions__ = actions ? arrayCopy(actions) : null;\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = iteratees ? arrayCopy(iteratees) : null;\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = views ? arrayCopy(views) : null;\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value();\n      if (!isArray(array)) {\n        return baseWrapperValue(array, this.__actions__);\n      }\n      var dir = this.__dir__,\n          isRight = dir < 0,\n          view = getView(0, array.length, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          takeCount = nativeMin(length, this.__takeCount__),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees ? iteratees.length : 0,\n          resIndex = 0,\n          result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type;\n\n          if (type == LAZY_DROP_WHILE_FLAG) {\n            if (data.done && (isRight ? (index > data.index) : (index < data.index))) {\n              data.count = 0;\n              data.done = false;\n            }\n            data.index = index;\n            if (!data.done) {\n              var limit = data.limit;\n              if (!(data.done = limit > -1 ? (data.count++ >= limit) : !iteratee(value))) {\n                continue outer;\n              }\n            }\n          } else {\n            var computed = iteratee(value);\n            if (type == LAZY_MAP_FLAG) {\n              value = computed;\n            } else if (!computed) {\n              if (type == LAZY_FILTER_FLAG) {\n                continue outer;\n              } else {\n                break outer;\n              }\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a cache object to store key/value pairs.\n     *\n     * @private\n     * @static\n     * @name Cache\n     * @memberOf _.memoize\n     */\n    function MapCache() {\n      this.__data__ = {};\n    }\n\n    /**\n     * Removes `key` and its value from the cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed successfully, else `false`.\n     */\n    function mapDelete(key) {\n      return this.has(key) && delete this.__data__[key];\n    }\n\n    /**\n     * Gets the cached value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the cached value.\n     */\n    function mapGet(key) {\n      return key == '__proto__' ? undefined : this.__data__[key];\n    }\n\n    /**\n     * Checks if a cached value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapHas(key) {\n      return key != '__proto__' && hasOwnProperty.call(this.__data__, key);\n    }\n\n    /**\n     * Sets `value` to `key` of the cache.\n     *\n     * @private\n     * @name set\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the value to cache.\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache object.\n     */\n    function mapSet(key, value) {\n      if (key != '__proto__') {\n        this.__data__[key] = value;\n      }\n      return this;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates a cache object to store unique values.\n     *\n     * @private\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var length = values ? values.length : 0;\n\n      this.data = { 'hash': nativeCreate(null), 'set': new Set };\n      while (length--) {\n        this.push(values[length]);\n      }\n    }\n\n    /**\n     * Checks if `value` is in `cache` mimicking the return signature of\n     * `_.indexOf` by returning `0` if the value is found, else `-1`.\n     *\n     * @private\n     * @param {Object} cache The cache to search.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `0` if `value` is found, else `-1`.\n     */\n    function cacheIndexOf(cache, value) {\n      var data = cache.data,\n          result = (typeof value == 'string' || isObject(value)) ? data.set.has(value) : data.hash[value];\n\n      return result ? 0 : -1;\n    }\n\n    /**\n     * Adds `value` to the cache.\n     *\n     * @private\n     * @name push\n     * @memberOf SetCache\n     * @param {*} value The value to cache.\n     */\n    function cachePush(value) {\n      var data = this.data;\n      if (typeof value == 'string' || isObject(value)) {\n        data.set.add(value);\n      } else {\n        data.hash[value] = true;\n      }\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayCopy(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.forEach` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayEach(array, iteratee) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        if (iteratee(array[index], index, array) === false) {\n          break;\n        }\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.forEachRight` for arrays without support for\n     * callback shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayEachRight(array, iteratee) {\n      var length = array.length;\n\n      while (length--) {\n        if (iteratee(array[length], length, array) === false) {\n          break;\n        }\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.every` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     */\n    function arrayEvery(array, predicate) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        if (!predicate(array[index], index, array)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * A specialized version of `baseExtremum` for arrays which invokes `iteratee`\n     * with one argument: (value).\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} comparator The function used to compare values.\n     * @param {*} exValue The initial extremum value.\n     * @returns {*} Returns the extremum value.\n     */\n    function arrayExtremum(array, iteratee, comparator, exValue) {\n      var index = -1,\n          length = array.length,\n          computed = exValue,\n          result = computed;\n\n      while (++index < length) {\n        var value = array[index],\n            current = +iteratee(value);\n\n        if (comparator(current, computed)) {\n          computed = current;\n          result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.filter` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function arrayFilter(array, predicate) {\n      var index = -1,\n          length = array.length,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result[++resIndex] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.map` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function arrayMap(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = iteratee(array[index], index, array);\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.reduce` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {boolean} [initFromArray] Specify using the first element of `array`\n     *  as the initial value.\n     * @returns {*} Returns the accumulated value.\n     */\n    function arrayReduce(array, iteratee, accumulator, initFromArray) {\n      var index = -1,\n          length = array.length;\n\n      if (initFromArray && length) {\n        accumulator = array[++index];\n      }\n      while (++index < length) {\n        accumulator = iteratee(accumulator, array[index], index, array);\n      }\n      return accumulator;\n    }\n\n    /**\n     * A specialized version of `_.reduceRight` for arrays without support for\n     * callback shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {boolean} [initFromArray] Specify using the last element of `array`\n     *  as the initial value.\n     * @returns {*} Returns the accumulated value.\n     */\n    function arrayReduceRight(array, iteratee, accumulator, initFromArray) {\n      var length = array.length;\n      if (initFromArray && length) {\n        accumulator = array[--length];\n      }\n      while (length--) {\n        accumulator = iteratee(accumulator, array[length], length, array);\n      }\n      return accumulator;\n    }\n\n    /**\n     * A specialized version of `_.some` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function arraySome(array, predicate) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        if (predicate(array[index], index, array)) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `_.sum` for arrays without support for iteratees.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the sum.\n     */\n    function arraySum(array) {\n      var length = array.length,\n          result = 0;\n\n      while (length--) {\n        result += +array[length] || 0;\n      }\n      return result;\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assign` use.\n     *\n     * @private\n     * @param {*} objectValue The destination object property value.\n     * @param {*} sourceValue The source object property value.\n     * @returns {*} Returns the value to assign to the destination object.\n     */\n    function assignDefaults(objectValue, sourceValue) {\n      return objectValue === undefined ? sourceValue : objectValue;\n    }\n\n    /**\n     * Used by `_.template` to customize its `_.assign` use.\n     *\n     * **Note:** This function is like `assignDefaults` except that it ignores\n     * inherited property values when checking if a property is `undefined`.\n     *\n     * @private\n     * @param {*} objectValue The destination object property value.\n     * @param {*} sourceValue The source object property value.\n     * @param {string} key The key associated with the object and source values.\n     * @param {Object} object The destination object.\n     * @returns {*} Returns the value to assign to the destination object.\n     */\n    function assignOwnDefaults(objectValue, sourceValue, key, object) {\n      return (objectValue === undefined || !hasOwnProperty.call(object, key))\n        ? sourceValue\n        : objectValue;\n    }\n\n    /**\n     * A specialized version of `_.assign` for customizing assigned values without\n     * support for argument juggling, multiple sources, and `this` binding `customizer`\n     * functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     */\n    function assignWith(object, source, customizer) {\n      var index = -1,\n          props = keys(source),\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index],\n            value = object[key],\n            result = customizer(value, source[key], key, object, source);\n\n        if ((result === result ? (result !== value) : (value === value)) ||\n            (value === undefined && !(key in object))) {\n          object[key] = result;\n        }\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for argument juggling,\n     * multiple sources, and `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssign(object, source) {\n      return source == null\n        ? object\n        : baseCopy(source, keys(source), object);\n    }\n\n    /**\n     * The base implementation of `_.at` without support for string collections\n     * and individual key arguments.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {number[]|string[]} props The property names or indexes of elements to pick.\n     * @returns {Array} Returns the new array of picked elements.\n     */\n    function baseAt(collection, props) {\n      var index = -1,\n          isNil = collection == null,\n          isArr = !isNil && isArrayLike(collection),\n          length = isArr ? collection.length : 0,\n          propsLength = props.length,\n          result = Array(propsLength);\n\n      while(++index < propsLength) {\n        var key = props[index];\n        if (isArr) {\n          result[index] = isIndex(key, length) ? collection[key] : undefined;\n        } else {\n          result[index] = isNil ? undefined : collection[key];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Array} props The property names to copy.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @returns {Object} Returns `object`.\n     */\n    function baseCopy(source, props, object) {\n      object || (object = {});\n\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n        object[key] = source[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `_.callback` which supports specifying the\n     * number of arguments to provide to `func`.\n     *\n     * @private\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {number} [argCount] The number of arguments to provide to `func`.\n     * @returns {Function} Returns the callback.\n     */\n    function baseCallback(func, thisArg, argCount) {\n      var type = typeof func;\n      if (type == 'function') {\n        return thisArg === undefined\n          ? func\n          : bindCallback(func, thisArg, argCount);\n      }\n      if (func == null) {\n        return identity;\n      }\n      if (type == 'object') {\n        return baseMatches(func);\n      }\n      return thisArg === undefined\n        ? property(func)\n        : baseMatchesProperty(func, thisArg);\n    }\n\n    /**\n     * The base implementation of `_.clone` without support for argument juggling\n     * and `this` binding `customizer` functions.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @param {Function} [customizer] The function to customize cloning values.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The object `value` belongs to.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates clones with source counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, isDeep, customizer, key, object, stackA, stackB) {\n      var result;\n      if (customizer) {\n        result = object ? customizer(value, key, object) : customizer(value);\n      }\n      if (result !== undefined) {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return arrayCopy(value, result);\n        }\n      } else {\n        var tag = objToString.call(value),\n            isFunc = tag == funcTag;\n\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          result = initCloneObject(isFunc ? {} : value);\n          if (!isDeep) {\n            return baseAssign(result, value);\n          }\n        } else {\n          return cloneableTags[tag]\n            ? initCloneByTag(value, tag, isDeep)\n            : (object ? value : {});\n        }\n      }\n      // Check for circular references and return corresponding clone.\n      stackA || (stackA = []);\n      stackB || (stackB = []);\n\n      var length = stackA.length;\n      while (length--) {\n        if (stackA[length] == value) {\n          return stackB[length];\n        }\n      }\n      // Add the source value to the stack of traversed objects and associate it with its clone.\n      stackA.push(value);\n      stackB.push(result);\n\n      // Recursively populate clone (susceptible to call stack limits).\n      (isArr ? arrayEach : baseForOwn)(value, function(subValue, key) {\n        result[key] = baseClone(subValue, isDeep, customizer, key, value, stackA, stackB);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} prototype The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function object() {}\n      return function(prototype) {\n        if (isObject(prototype)) {\n          object.prototype = prototype;\n          var result = new object;\n          object.prototype = null;\n        }\n        return result || {};\n      };\n    }());\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts an index\n     * of where to slice the arguments to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Object} args The arguments provide to `func`.\n     * @returns {number} Returns the timer id.\n     */\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * The base implementation of `_.difference` which accepts a single array\n     * of values to exclude.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values) {\n      var length = array ? array.length : 0,\n          result = [];\n\n      if (!length) {\n        return result;\n      }\n      var index = -1,\n          indexOf = getIndexOf(),\n          isCommon = indexOf == baseIndexOf,\n          cache = (isCommon && values.length >= 200) ? createCache(values) : null,\n          valuesLength = values.length;\n\n      if (cache) {\n        indexOf = cacheIndexOf;\n        isCommon = false;\n        values = cache;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index];\n\n        if (isCommon && value === value) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === value) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (indexOf(values, value, 0) < 0) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object|string} Returns `collection`.\n     */\n    var baseEach = createBaseEach(baseForOwn);\n\n    /**\n     * The base implementation of `_.forEachRight` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object|string} Returns `collection`.\n     */\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n\n    /**\n     * The base implementation of `_.every` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * Gets the extremum value of `collection` invoking `iteratee` for each value\n     * in `collection` to generate the criterion by which the value is ranked.\n     * The `iteratee` is invoked with three arguments: (value, index|key, collection).\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} comparator The function used to compare values.\n     * @param {*} exValue The initial extremum value.\n     * @returns {*} Returns the extremum value.\n     */\n    function baseExtremum(collection, iteratee, comparator, exValue) {\n      var computed = exValue,\n          result = computed;\n\n      baseEach(collection, function(value, index, collection) {\n        var current = +iteratee(value, index, collection);\n        if (comparator(current, computed) || (current === exValue && current === result)) {\n          computed = current;\n          result = value;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = start == null ? 0 : (+start || 0);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : (+end || 0);\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : (end >>> 0);\n      start >>>= 0;\n\n      while (start < length) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.find`, `_.findLast`, `_.findKey`, and `_.findLastKey`,\n     * without support for callback shorthands and `this` binding, which iterates\n     * over `collection` using the provided `eachFunc`.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {Function} eachFunc The function to iterate over `collection`.\n     * @param {boolean} [retKey] Specify returning the key of the found element\n     *  instead of the element itself.\n     * @returns {*} Returns the found element or its key, else `undefined`.\n     */\n    function baseFind(collection, predicate, eachFunc, retKey) {\n      var result;\n      eachFunc(collection, function(value, key, collection) {\n        if (predicate(value, key, collection)) {\n          result = retKey ? key : value;\n          return false;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with added support for restricting\n     * flattening and specifying the start index.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {boolean} [isDeep] Specify a deep flatten.\n     * @param {boolean} [isStrict] Restrict flattening to arrays-like objects.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, isDeep, isStrict) {\n      var index = -1,\n          length = array.length,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (isObjectLike(value) && isArrayLike(value) &&\n            (isStrict || isArray(value) || isArguments(value))) {\n          if (isDeep) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            value = baseFlatten(value, isDeep, isStrict);\n          }\n          var valIndex = -1,\n              valLength = value.length;\n\n          while (++valIndex < valLength) {\n            result[++resIndex] = value[valIndex];\n          }\n        } else if (!isStrict) {\n          result[++resIndex] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForIn` and `baseForOwn` which iterates\n     * over `object` properties returned by `keysFunc` invoking `iteratee` for\n     * each property. Iteratee functions may exit iteration early by explicitly\n     * returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseFor = createBaseFor();\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseForRight = createBaseFor(true);\n\n    /**\n     * The base implementation of `_.forIn` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForIn(object, iteratee) {\n      return baseFor(object, iteratee, keysIn);\n    }\n\n    /**\n     * The base implementation of `_.forOwn` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from those provided.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the new array of filtered property names.\n     */\n    function baseFunctions(object, props) {\n      var index = -1,\n          length = props.length,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var key = props[index];\n        if (isFunction(object[key])) {\n          result[++resIndex] = key;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `get` without support for string paths\n     * and default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} path The path of the property to get.\n     * @param {string} [pathKey] The key representation of path.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseGet(object, path, pathKey) {\n      if (object == null) {\n        return;\n      }\n      if (pathKey !== undefined && pathKey in toObject(object)) {\n        path = [pathKey];\n      }\n      var index = 0,\n          length = path.length;\n\n      while (object != null && index < length) {\n        object = object[path[index++]];\n      }\n      return (index && index == length) ? object : undefined;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` without support for `this` binding\n     * `customizer` functions.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparing values.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA] Tracks traversed `value` objects.\n     * @param {Array} [stackB] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, customizer, isLoose, stackA, stackB) {\n      if (value === other) {\n        return true;\n      }\n      if (value == null || other == null || (!isObject(value) && !isObjectLike(other))) {\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, baseIsEqual, customizer, isLoose, stackA, stackB);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} [customizer] The function to customize comparing objects.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA=[]] Tracks traversed `value` objects.\n     * @param {Array} [stackB=[]] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, equalFunc, customizer, isLoose, stackA, stackB) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = arrayTag,\n          othTag = arrayTag;\n\n      if (!objIsArr) {\n        objTag = objToString.call(object);\n        if (objTag == argsTag) {\n          objTag = objectTag;\n        } else if (objTag != objectTag) {\n          objIsArr = isTypedArray(object);\n        }\n      }\n      if (!othIsArr) {\n        othTag = objToString.call(other);\n        if (othTag == argsTag) {\n          othTag = objectTag;\n        } else if (othTag != objectTag) {\n          othIsArr = isTypedArray(other);\n        }\n      }\n      var objIsObj = objTag == objectTag,\n          othIsObj = othTag == objectTag,\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && !(objIsArr || objIsObj)) {\n        return equalByTag(object, other, objTag);\n      }\n      if (!isLoose) {\n        var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (objIsWrapped || othIsWrapped) {\n          return equalFunc(objIsWrapped ? object.value() : object, othIsWrapped ? other.value() : other, customizer, isLoose, stackA, stackB);\n        }\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      // For more information on detecting circular references see https://es5.github.io/#JO.\n      stackA || (stackA = []);\n      stackB || (stackB = []);\n\n      var length = stackA.length;\n      while (length--) {\n        if (stackA[length] == object) {\n          return stackB[length] == other;\n        }\n      }\n      // Add `object` and `other` to the stack of traversed objects.\n      stackA.push(object);\n      stackB.push(other);\n\n      var result = (objIsArr ? equalArrays : equalObjects)(object, other, equalFunc, customizer, isLoose, stackA, stackB);\n\n      stackA.pop();\n      stackB.pop();\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} matchData The propery names, values, and compare flags to match.\n     * @param {Function} [customizer] The function to customize comparing objects.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, matchData, customizer) {\n      var index = matchData.length,\n          length = index,\n          noCustomizer = !customizer;\n\n      if (object == null) {\n        return !length;\n      }\n      object = toObject(object);\n      while (index--) {\n        var data = matchData[index];\n        if ((noCustomizer && data[2])\n              ? data[1] !== object[data[0]]\n              : !(data[0] in object)\n            ) {\n          return false;\n        }\n      }\n      while (++index < length) {\n        data = matchData[index];\n        var key = data[0],\n            objValue = object[key],\n            srcValue = data[1];\n\n        if (noCustomizer && data[2]) {\n          if (objValue === undefined && !(key in object)) {\n            return false;\n          }\n        } else {\n          var result = customizer ? customizer(objValue, srcValue, key) : undefined;\n          if (!(result === undefined ? baseIsEqual(srcValue, objValue, customizer, true) : result)) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var index = -1,\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = iteratee(value, key, collection);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which does not clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new function.\n     */\n    function baseMatches(source) {\n      var matchData = getMatchData(source);\n      if (matchData.length == 1 && matchData[0][2]) {\n        var key = matchData[0][0],\n            value = matchData[0][1];\n\n        return function(object) {\n          if (object == null) {\n            return false;\n          }\n          return object[key] === value && (value !== undefined || (key in toObject(object)));\n        };\n      }\n      return function(object) {\n        return baseIsMatch(object, matchData);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which does not clone `srcValue`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} srcValue The value to compare.\n     * @returns {Function} Returns the new function.\n     */\n    function baseMatchesProperty(path, srcValue) {\n      var isArr = isArray(path),\n          isCommon = isKey(path) && isStrictComparable(srcValue),\n          pathKey = (path + '');\n\n      path = toPath(path);\n      return function(object) {\n        if (object == null) {\n          return false;\n        }\n        var key = pathKey;\n        object = toObject(object);\n        if ((isArr || !isCommon) && !(key in object)) {\n          object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n          if (object == null) {\n            return false;\n          }\n          key = last(path);\n          object = toObject(object);\n        }\n        return object[key] === srcValue\n          ? (srcValue !== undefined || (key in object))\n          : baseIsEqual(srcValue, object[key], undefined, true);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for argument juggling,\n     * multiple sources, and `this` binding `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {Function} [customizer] The function to customize merging properties.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates values with source counterparts.\n     * @returns {Object} Returns `object`.\n     */\n    function baseMerge(object, source, customizer, stackA, stackB) {\n      if (!isObject(object)) {\n        return object;\n      }\n      var isSrcArr = isArrayLike(source) && (isArray(source) || isTypedArray(source)),\n          props = isSrcArr ? null : keys(source);\n\n      arrayEach(props || source, function(srcValue, key) {\n        if (props) {\n          key = srcValue;\n          srcValue = source[key];\n        }\n        if (isObjectLike(srcValue)) {\n          stackA || (stackA = []);\n          stackB || (stackB = []);\n          baseMergeDeep(object, source, key, baseMerge, customizer, stackA, stackB);\n        }\n        else {\n          var value = object[key],\n              result = customizer ? customizer(value, srcValue, key, object, source) : undefined,\n              isCommon = result === undefined;\n\n          if (isCommon) {\n            result = srcValue;\n          }\n          if ((result !== undefined || (isSrcArr && !(key in object))) &&\n              (isCommon || (result === result ? (result !== value) : (value === value)))) {\n            object[key] = result;\n          }\n        }\n      });\n      return object;\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize merging properties.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates values with source counterparts.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseMergeDeep(object, source, key, mergeFunc, customizer, stackA, stackB) {\n      var length = stackA.length,\n          srcValue = source[key];\n\n      while (length--) {\n        if (stackA[length] == srcValue) {\n          object[key] = stackB[length];\n          return;\n        }\n      }\n      var value = object[key],\n          result = customizer ? customizer(value, srcValue, key, object, source) : undefined,\n          isCommon = result === undefined;\n\n      if (isCommon) {\n        result = srcValue;\n        if (isArrayLike(srcValue) && (isArray(srcValue) || isTypedArray(srcValue))) {\n          result = isArray(value)\n            ? value\n            : (isArrayLike(value) ? arrayCopy(value) : []);\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          result = isArguments(value)\n            ? toPlainObject(value)\n            : (isPlainObject(value) ? value : {});\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      // Add the source value to the stack of traversed objects and associate\n      // it with its merged value.\n      stackA.push(srcValue);\n      stackB.push(result);\n\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        object[key] = mergeFunc(result, srcValue, customizer, stackA, stackB);\n      } else if (result === result ? (result !== value) : (value === value)) {\n        object[key] = result;\n      }\n    }\n\n    /**\n     * The base implementation of `_.property` without support for deep paths.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @returns {Function} Returns the new function.\n     */\n    function baseProperty(key) {\n      return function(object) {\n        return object == null ? undefined : object[key];\n      };\n    }\n\n    /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new function.\n     */\n    function basePropertyDeep(path) {\n      var pathKey = (path + '');\n      path = toPath(path);\n      return function(object) {\n        return baseGet(object, path, pathKey);\n      };\n    }\n\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * index arguments and capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAt(array, indexes) {\n      var length = array ? indexes.length : 0;\n      while (length--) {\n        var index = indexes[length];\n        if (index != previous && isIndex(index)) {\n          var previous = index;\n          splice.call(array, index, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.random` without support for argument juggling\n     * and returning floating-point numbers.\n     *\n     * @private\n     * @param {number} min The minimum possible value.\n     * @param {number} max The maximum possible value.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(min, max) {\n      return min + floor(nativeRandom() * (max - min + 1));\n    }\n\n    /**\n     * The base implementation of `_.reduce` and `_.reduceRight` without support\n     * for callback shorthands and `this` binding, which iterates over `collection`\n     * using the provided `eachFunc`.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {*} accumulator The initial value.\n     * @param {boolean} initFromCollection Specify using the first or last element\n     *  of `collection` as the initial value.\n     * @param {Function} eachFunc The function to iterate over `collection`.\n     * @returns {*} Returns the accumulated value.\n     */\n    function baseReduce(collection, iteratee, accumulator, initFromCollection, eachFunc) {\n      eachFunc(collection, function(value, index, collection) {\n        accumulator = initFromCollection\n          ? (initFromCollection = false, value)\n          : iteratee(accumulator, value, index, collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop detection.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      start = start == null ? 0 : (+start || 0);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : (+end || 0);\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortBy` which uses `comparer` to define\n     * the sort order of `array` and replaces criteria objects with their\n     * corresponding values.\n     *\n     * @private\n     * @param {Array} array The array to sort.\n     * @param {Function} comparer The function to define sort order.\n     * @returns {Array} Returns `array`.\n     */\n    function baseSortBy(array, comparer) {\n      var length = array.length;\n\n      array.sort(comparer);\n      while (length--) {\n        array[length] = array[length].value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.sortByOrder` without param guards.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {boolean[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseSortByOrder(collection, iteratees, orders) {\n      var callback = getCallback(),\n          index = -1;\n\n      iteratees = arrayMap(iteratees, function(iteratee) { return callback(iteratee); });\n\n      var result = baseMap(collection, function(value) {\n        var criteria = arrayMap(iteratees, function(iteratee) { return iteratee(value); });\n        return { 'criteria': criteria, 'index': ++index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.sum` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {number} Returns the sum.\n     */\n    function baseSum(collection, iteratee) {\n      var result = 0;\n      baseEach(collection, function(value, index, collection) {\n        result += +iteratee(value, index, collection) || 0;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.uniq` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The function invoked per iteration.\n     * @returns {Array} Returns the new duplicate-value-free array.\n     */\n    function baseUniq(array, iteratee) {\n      var index = -1,\n          indexOf = getIndexOf(),\n          length = array.length,\n          isCommon = indexOf == baseIndexOf,\n          isLarge = isCommon && length >= 200,\n          seen = isLarge ? createCache() : null,\n          result = [];\n\n      if (seen) {\n        indexOf = cacheIndexOf;\n        isCommon = false;\n      } else {\n        isLarge = false;\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value, index, array) : value;\n\n        if (isCommon && value === value) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (indexOf(seen, computed, 0) < 0) {\n          if (iteratee || isLarge) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.values` and `_.valuesIn` which creates an\n     * array of `object` property values corresponding to the property names\n     * of `props`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} props The property names to get values for.\n     * @returns {Object} Returns the array of property values.\n     */\n    function baseValues(object, props) {\n      var index = -1,\n          length = props.length,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = object[props[index]];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.dropRightWhile`, `_.dropWhile`, `_.takeRightWhile`,\n     * and `_.takeWhile` without support for callback shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) && predicate(array[index], index, array)) {}\n      return isDrop\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to peform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      var index = -1,\n          length = actions.length;\n\n      while (++index < length) {\n        var args = [result],\n            action = actions[index];\n\n        push.apply(args, action.args);\n        result = action.func.apply(action.thisArg, args);\n      }\n      return result;\n    }\n\n    /**\n     * Performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function binaryIndex(array, value, retHighest) {\n      var low = 0,\n          high = array ? array.length : low;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if ((retHighest ? (computed <= value) : (computed < value)) && computed !== null) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return binaryIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * This function is like `binaryIndex` except that it invokes `iteratee` for\n     * `value` and each element of `array` to compute their sort ranking. The\n     * iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function binaryIndexBy(array, value, iteratee, retHighest) {\n      value = iteratee(value);\n\n      var low = 0,\n          high = array ? array.length : 0,\n          valIsNaN = value !== value,\n          valIsNull = value === null,\n          valIsUndef = value === undefined;\n\n      while (low < high) {\n        var mid = floor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            isDef = computed !== undefined,\n            isReflexive = computed === computed;\n\n        if (valIsNaN) {\n          var setLow = isReflexive || retHighest;\n        } else if (valIsNull) {\n          setLow = isReflexive && isDef && (retHighest || computed != null);\n        } else if (valIsUndef) {\n          setLow = isReflexive && (retHighest || isDef);\n        } else if (computed == null) {\n          setLow = false;\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * A specialized version of `baseCallback` which only supports `this` binding\n     * and specifying the number of arguments to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {number} [argCount] The number of arguments to provide to `func`.\n     * @returns {Function} Returns the callback.\n     */\n    function bindCallback(func, thisArg, argCount) {\n      if (typeof func != 'function') {\n        return identity;\n      }\n      if (thisArg === undefined) {\n        return func;\n      }\n      switch (argCount) {\n        case 1: return function(value) {\n          return func.call(thisArg, value);\n        };\n        case 3: return function(value, index, collection) {\n          return func.call(thisArg, value, index, collection);\n        };\n        case 4: return function(accumulator, value, index, collection) {\n          return func.call(thisArg, accumulator, value, index, collection);\n        };\n        case 5: return function(value, other, key, object, source) {\n          return func.call(thisArg, value, other, key, object, source);\n        };\n      }\n      return function() {\n        return func.apply(thisArg, arguments);\n      };\n    }\n\n    /**\n     * Creates a clone of the given array buffer.\n     *\n     * @private\n     * @param {ArrayBuffer} buffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function bufferClone(buffer) {\n      return bufferSlice.call(buffer, 0);\n    }\n    if (!bufferSlice) {\n      // PhantomJS has `ArrayBuffer` and `Uint8Array` but not `Float64Array`.\n      bufferClone = !(ArrayBuffer && Uint8Array) ? constant(null) : function(buffer) {\n        var byteLength = buffer.byteLength,\n            floatLength = Float64Array ? floor(byteLength / FLOAT64_BYTES_PER_ELEMENT) : 0,\n            offset = floatLength * FLOAT64_BYTES_PER_ELEMENT,\n            result = new ArrayBuffer(byteLength);\n\n        if (floatLength) {\n          var view = new Float64Array(result, 0, floatLength);\n          view.set(new Float64Array(buffer, 0, floatLength));\n        }\n        if (byteLength != offset) {\n          view = new Uint8Array(result, offset);\n          view.set(new Uint8Array(buffer, offset));\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array|Object} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders) {\n      var holdersLength = holders.length,\n          argsIndex = -1,\n          argsLength = nativeMax(args.length - holdersLength, 0),\n          leftIndex = -1,\n          leftLength = partials.length,\n          result = Array(argsLength + leftLength);\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        result[holders[argsIndex]] = args[argsIndex];\n      }\n      while (argsLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array|Object} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders) {\n      var holdersIndex = -1,\n          holdersLength = holders.length,\n          argsIndex = -1,\n          argsLength = nativeMax(args.length - holdersLength, 0),\n          rightIndex = -1,\n          rightLength = partials.length,\n          result = Array(argsLength + rightLength);\n\n      while (++argsIndex < argsLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var offset = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        result[offset + holders[holdersIndex]] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * Creates a function that aggregates a collection, creating an accumulator\n     * object composed from the results of running each element in the collection\n     * through an iteratee.\n     *\n     * **Note:** This function is used to create `_.countBy`, `_.groupBy`, `_.indexBy`,\n     * and `_.partition`.\n     *\n     * @private\n     * @param {Function} setter The function to set keys and values of the accumulator object.\n     * @param {Function} [initializer] The function to initialize the accumulator object.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee, thisArg) {\n        var result = initializer ? initializer() : {};\n        iteratee = getCallback(iteratee, thisArg, 3);\n\n        if (isArray(collection)) {\n          var index = -1,\n              length = collection.length;\n\n          while (++index < length) {\n            var value = collection[index];\n            setter(result, value, iteratee(value, index, collection), collection);\n          }\n        } else {\n          baseEach(collection, function(value, key, collection) {\n            setter(result, value, iteratee(value, key, collection), collection);\n          });\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that assigns properties of source object(s) to a given\n     * destination object.\n     *\n     * **Note:** This function is used to create `_.assign`, `_.defaults`, and `_.merge`.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return restParam(function(object, sources) {\n        var index = -1,\n            length = object == null ? 0 : sources.length,\n            customizer = length > 2 ? sources[length - 2] : undefined,\n            guard = length > 2 ? sources[2] : undefined,\n            thisArg = length > 1 ? sources[length - 1] : undefined;\n\n        if (typeof customizer == 'function') {\n          customizer = bindCallback(customizer, thisArg, 5);\n          length -= 2;\n        } else {\n          customizer = typeof thisArg == 'function' ? thisArg : undefined;\n          length -= (customizer ? 1 : 0);\n        }\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n          customizer = length < 3 ? undefined : customizer;\n          length = 1;\n        }\n        while (++index < length) {\n          var source = sources[index];\n          if (source) {\n            assigner(object, source, customizer);\n          }\n        }\n        return object;\n      });\n    }\n\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseEach(eachFunc, fromRight) {\n      return function(collection, iteratee) {\n        var length = collection ? getLength(collection) : 0;\n        if (!isLength(length)) {\n          return eachFunc(collection, iteratee);\n        }\n        var index = fromRight ? length : -1,\n            iterable = toObject(collection);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n        return collection;\n      };\n    }\n\n    /**\n     * Creates a base function for `_.forIn` or `_.forInRight`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseFor(fromRight) {\n      return function(object, iteratee, keysFunc) {\n        var iterable = toObject(object),\n            props = keysFunc(object),\n            length = props.length,\n            index = fromRight ? length : -1;\n\n        while ((fromRight ? index-- : ++index < length)) {\n          var key = props[index];\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` and invokes it with the `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to bind.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new bound function.\n     */\n    function createBindWrapper(func, thisArg) {\n      var Ctor = createCtorWrapper(func);\n\n      function wrapper() {\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(thisArg, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `Set` cache object to optimize linear searches of large arrays.\n     *\n     * @private\n     * @param {Array} [values] The values to cache.\n     * @returns {null|Object} Returns the new cache object if `Set` is supported, else `null`.\n     */\n    var createCache = !(nativeCreate && Set) ? constant(null) : function(values) {\n      return new SetCache(values);\n    };\n\n    /**\n     * Creates a function that produces compound words out of the words in a\n     * given string.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        var index = -1,\n            array = words(deburr(string)),\n            length = array.length,\n            result = '';\n\n        while (++index < length) {\n          result = callback(result, array[index], index);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtorWrapper(Ctor) {\n      return function() {\n        // Use a `switch` statement to work with class constructors.\n        // See https://people.mozilla.org/~jorendorff/es6-draft.html#sec-ecmascript-function-objects-call-thisargument-argumentslist\n        // for more details.\n        var args = arguments;\n        switch (args.length) {\n          case 0: return new Ctor;\n          case 1: return new Ctor(args[0]);\n          case 2: return new Ctor(args[0], args[1]);\n          case 3: return new Ctor(args[0], args[1], args[2]);\n          case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n          case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n        }\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, args);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a `_.curry` or `_.curryRight` function.\n     *\n     * @private\n     * @param {boolean} flag The curry bit flag.\n     * @returns {Function} Returns the new curry function.\n     */\n    function createCurry(flag) {\n      function curryFunc(func, arity, guard) {\n        if (guard && isIterateeCall(func, arity, guard)) {\n          arity = null;\n        }\n        var result = createWrapper(func, flag, null, null, null, null, null, arity);\n        result.placeholder = curryFunc.placeholder;\n        return result;\n      }\n      return curryFunc;\n    }\n\n    /**\n     * Creates a `_.max` or `_.min` function.\n     *\n     * @private\n     * @param {Function} comparator The function used to compare values.\n     * @param {*} exValue The initial extremum value.\n     * @returns {Function} Returns the new extremum function.\n     */\n    function createExtremum(comparator, exValue) {\n      return function(collection, iteratee, thisArg) {\n        if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\n          iteratee = null;\n        }\n        iteratee = getCallback(iteratee, thisArg, 3);\n        if (iteratee.length == 1) {\n          collection = toIterable(collection);\n          var result = arrayExtremum(collection, iteratee, comparator, exValue);\n          if (!(collection.length && result === exValue)) {\n            return result;\n          }\n        }\n        return baseExtremum(collection, iteratee, comparator, exValue);\n      };\n    }\n\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFind(eachFunc, fromRight) {\n      return function(collection, predicate, thisArg) {\n        predicate = getCallback(predicate, thisArg, 3);\n        if (isArray(collection)) {\n          var index = baseFindIndex(collection, predicate, fromRight);\n          return index > -1 ? collection[index] : undefined;\n        }\n        return baseFind(collection, predicate, eachFunc);\n      };\n    }\n\n    /**\n     * Creates a `_.findIndex` or `_.findLastIndex` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFindIndex(fromRight) {\n      return function(array, predicate, thisArg) {\n        if (!(array && array.length)) {\n          return -1;\n        }\n        predicate = getCallback(predicate, thisArg, 3);\n        return baseFindIndex(array, predicate, fromRight);\n      };\n    }\n\n    /**\n     * Creates a `_.findKey` or `_.findLastKey` function.\n     *\n     * @private\n     * @param {Function} objectFunc The function to iterate over an object.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFindKey(objectFunc) {\n      return function(object, predicate, thisArg) {\n        predicate = getCallback(predicate, thisArg, 3);\n        return baseFind(object, predicate, objectFunc, true);\n      };\n    }\n\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n    function createFlow(fromRight) {\n      return function() {\n        var wrapper,\n            length = arguments.length,\n            index = fromRight ? length : -1,\n            leftIndex = 0,\n            funcs = Array(length);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          var func = funcs[leftIndex++] = arguments[index];\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n          if (!wrapper && LodashWrapper.prototype.thru && getFuncName(func) == 'wrapper') {\n            wrapper = new LodashWrapper([]);\n          }\n        }\n        index = wrapper ? -1 : length;\n        while (++index < length) {\n          func = funcs[index];\n\n          var funcName = getFuncName(func),\n              data = funcName == 'wrapper' ? getData(func) : null;\n\n          if (data && isLaziable(data[0]) && data[1] == (ARY_FLAG | CURRY_FLAG | PARTIAL_FLAG | REARG_FLAG) && !data[4].length && data[9] == 1) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = (func.length == 1 && isLaziable(func)) ? wrapper[funcName]() : wrapper.thru(func);\n          }\n        }\n        return function() {\n          var args = arguments;\n          if (wrapper && args.length == 1 && isArray(args[0])) {\n            return wrapper.plant(args[0]).value();\n          }\n          var index = 0,\n              result = length ? funcs[index].apply(this, args) : args[0];\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n          return result;\n        };\n      };\n    }\n\n    /**\n     * Creates a function for `_.forEach` or `_.forEachRight`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over an array.\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @returns {Function} Returns the new each function.\n     */\n    function createForEach(arrayFunc, eachFunc) {\n      return function(collection, iteratee, thisArg) {\n        return (typeof iteratee == 'function' && thisArg === undefined && isArray(collection))\n          ? arrayFunc(collection, iteratee)\n          : eachFunc(collection, bindCallback(iteratee, thisArg, 3));\n      };\n    }\n\n    /**\n     * Creates a function for `_.forIn` or `_.forInRight`.\n     *\n     * @private\n     * @param {Function} objectFunc The function to iterate over an object.\n     * @returns {Function} Returns the new each function.\n     */\n    function createForIn(objectFunc) {\n      return function(object, iteratee, thisArg) {\n        if (typeof iteratee != 'function' || thisArg !== undefined) {\n          iteratee = bindCallback(iteratee, thisArg, 3);\n        }\n        return objectFunc(object, iteratee, keysIn);\n      };\n    }\n\n    /**\n     * Creates a function for `_.forOwn` or `_.forOwnRight`.\n     *\n     * @private\n     * @param {Function} objectFunc The function to iterate over an object.\n     * @returns {Function} Returns the new each function.\n     */\n    function createForOwn(objectFunc) {\n      return function(object, iteratee, thisArg) {\n        if (typeof iteratee != 'function' || thisArg !== undefined) {\n          iteratee = bindCallback(iteratee, thisArg, 3);\n        }\n        return objectFunc(object, iteratee);\n      };\n    }\n\n    /**\n     * Creates a function for `_.mapKeys` or `_.mapValues`.\n     *\n     * @private\n     * @param {boolean} [isMapKeys] Specify mapping keys instead of values.\n     * @returns {Function} Returns the new map function.\n     */\n    function createObjectMapper(isMapKeys) {\n      return function(object, iteratee, thisArg) {\n        var result = {};\n        iteratee = getCallback(iteratee, thisArg, 3);\n\n        baseForOwn(object, function(value, key, object) {\n          var mapped = iteratee(value, key, object);\n          key = isMapKeys ? mapped : key;\n          value = isMapKeys ? value : mapped;\n          result[key] = value;\n        });\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function for `_.padLeft` or `_.padRight`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify padding from the right.\n     * @returns {Function} Returns the new pad function.\n     */\n    function createPadDir(fromRight) {\n      return function(string, length, chars) {\n        string = baseToString(string);\n        return (fromRight ? string : '') + createPadding(string, length, chars) + (fromRight ? '' : string);\n      };\n    }\n\n    /**\n     * Creates a `_.partial` or `_.partialRight` function.\n     *\n     * @private\n     * @param {boolean} flag The partial bit flag.\n     * @returns {Function} Returns the new partial function.\n     */\n    function createPartial(flag) {\n      var partialFunc = restParam(function(func, partials) {\n        var holders = replaceHolders(partials, partialFunc.placeholder);\n        return createWrapper(func, flag, null, partials, holders);\n      });\n      return partialFunc;\n    }\n\n    /**\n     * Creates a function for `_.reduce` or `_.reduceRight`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over an array.\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @returns {Function} Returns the new each function.\n     */\n    function createReduce(arrayFunc, eachFunc) {\n      return function(collection, iteratee, accumulator, thisArg) {\n        var initFromArray = arguments.length < 3;\n        return (typeof iteratee == 'function' && thisArg === undefined && isArray(collection))\n          ? arrayFunc(collection, iteratee, accumulator, initFromArray)\n          : baseReduce(collection, getCallback(iteratee, thisArg, 4), accumulator, initFromArray, eachFunc);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` and invokes it with optional `this`\n     * binding of, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to reference.\n     * @param {number} bitmask The bitmask of flags. See `createWrapper` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybridWrapper(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & ARY_FLAG,\n          isBind = bitmask & BIND_FLAG,\n          isBindKey = bitmask & BIND_KEY_FLAG,\n          isCurry = bitmask & CURRY_FLAG,\n          isCurryBound = bitmask & CURRY_BOUND_FLAG,\n          isCurryRight = bitmask & CURRY_RIGHT_FLAG,\n          Ctor = isBindKey ? null : createCtorWrapper(func);\n\n      function wrapper() {\n        // Avoid `arguments` object use disqualifying optimizations by\n        // converting it to an array before providing it to other functions.\n        var length = arguments.length,\n            index = length,\n            args = Array(length);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight);\n        }\n        if (isCurry || isCurryRight) {\n          var placeholder = wrapper.placeholder,\n              argsHolders = replaceHolders(args, placeholder);\n\n          length -= argsHolders.length;\n          if (length < arity) {\n            var newArgPos = argPos ? arrayCopy(argPos) : null,\n                newArity = nativeMax(arity - length, 0),\n                newsHolders = isCurry ? argsHolders : null,\n                newHoldersRight = isCurry ? null : argsHolders,\n                newPartials = isCurry ? args : null,\n                newPartialsRight = isCurry ? null : args;\n\n            bitmask |= (isCurry ? PARTIAL_FLAG : PARTIAL_RIGHT_FLAG);\n            bitmask &= ~(isCurry ? PARTIAL_RIGHT_FLAG : PARTIAL_FLAG);\n\n            if (!isCurryBound) {\n              bitmask &= ~(BIND_FLAG | BIND_KEY_FLAG);\n            }\n            var newData = [func, bitmask, thisArg, newPartials, newsHolders, newPartialsRight, newHoldersRight, newArgPos, ary, newArity],\n                result = createHybridWrapper.apply(undefined, newData);\n\n            if (isLaziable(func)) {\n              setData(result, newData);\n            }\n            result.placeholder = placeholder;\n            return result;\n          }\n        }\n        var thisBinding = isBind ? thisArg : this,\n            fn = isBindKey ? thisBinding[func] : func;\n\n        if (argPos) {\n          args = reorder(args, argPos);\n        }\n        if (isAry && ary < args.length) {\n          args.length = ary;\n        }\n        if (this && this !== root && this instanceof wrapper) {\n          fn = Ctor || createCtorWrapper(func);\n        }\n        return fn.apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates the padding required for `string` based on the given `length`.\n     * The `chars` string is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {string} string The string to create padding for.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the pad for `string`.\n     */\n    function createPadding(string, length, chars) {\n      var strLength = string.length;\n      length = +length;\n\n      if (strLength >= length || !nativeIsFinite(length)) {\n        return '';\n      }\n      var padLength = length - strLength;\n      chars = chars == null ? ' ' : (chars + '');\n      return repeat(chars, ceil(padLength / chars.length)).slice(0, padLength);\n    }\n\n    /**\n     * Creates a function that wraps `func` and invokes it with the optional `this`\n     * binding of `thisArg` and the `partials` prepended to those provided to\n     * the wrapper.\n     *\n     * @private\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {number} bitmask The bitmask of flags. See `createWrapper` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to the new function.\n     * @returns {Function} Returns the new bound function.\n     */\n    function createPartialWrapper(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & BIND_FLAG,\n          Ctor = createCtorWrapper(func);\n\n      function wrapper() {\n        // Avoid `arguments` object use disqualifying optimizations by\n        // converting it to an array before providing it `func`.\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(argsLength + leftLength);\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.sortedIndex` or `_.sortedLastIndex` function.\n     *\n     * @private\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {Function} Returns the new index function.\n     */\n    function createSortedIndex(retHighest) {\n      return function(array, value, iteratee, thisArg) {\n        var callback = getCallback(iteratee);\n        return (iteratee == null && callback === baseCallback)\n          ? binaryIndex(array, value, retHighest)\n          : binaryIndexBy(array, value, callback(iteratee, thisArg, 1), retHighest);\n      };\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to reference.\n     * @param {number} bitmask The bitmask of flags.\n     *  The bitmask may be composed of the following flags:\n     *     1 - `_.bind`\n     *     2 - `_.bindKey`\n     *     4 - `_.curry` or `_.curryRight` of a bound function\n     *     8 - `_.curry`\n     *    16 - `_.curryRight`\n     *    32 - `_.partial`\n     *    64 - `_.partialRight`\n     *   128 - `_.rearg`\n     *   256 - `_.ary`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrapper(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(PARTIAL_FLAG | PARTIAL_RIGHT_FLAG);\n        partials = holders = null;\n      }\n      length -= (holders ? holders.length : 0);\n      if (bitmask & PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = null;\n      }\n      var data = isBindKey ? null : getData(func),\n          newData = [func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity];\n\n      if (data) {\n        mergeData(newData, data);\n        bitmask = newData[1];\n        arity = newData[9];\n      }\n      newData[9] = arity == null\n        ? (isBindKey ? 0 : func.length)\n        : (nativeMax(arity - length, 0) || 0);\n\n      if (bitmask == BIND_FLAG) {\n        var result = createBindWrapper(newData[0], newData[2]);\n      } else if ((bitmask == PARTIAL_FLAG || bitmask == (BIND_FLAG | PARTIAL_FLAG)) && !newData[4].length) {\n        result = createPartialWrapper.apply(undefined, newData);\n      } else {\n        result = createHybridWrapper.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setter(result, newData);\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} [customizer] The function to customize comparing arrays.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA] Tracks traversed `value` objects.\n     * @param {Array} [stackB] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, equalFunc, customizer, isLoose, stackA, stackB) {\n      var index = -1,\n          arrLength = array.length,\n          othLength = other.length;\n\n      if (arrLength != othLength && !(isLoose && othLength > arrLength)) {\n        return false;\n      }\n      // Ignore non-index properties.\n      while (++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index],\n            result = customizer ? customizer(isLoose ? othValue : arrValue, isLoose ? arrValue : othValue, index) : undefined;\n\n        if (result !== undefined) {\n          if (result) {\n            continue;\n          }\n          return false;\n        }\n        // Recursively compare arrays (susceptible to call stack limits).\n        if (isLoose) {\n          if (!arraySome(other, function(othValue) {\n                return arrValue === othValue || equalFunc(arrValue, othValue, customizer, isLoose, stackA, stackB);\n              })) {\n            return false;\n          }\n        } else if (!(arrValue === othValue || equalFunc(arrValue, othValue, customizer, isLoose, stackA, stackB))) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} value The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag) {\n      switch (tag) {\n        case boolTag:\n        case dateTag:\n          // Coerce dates and booleans to numbers, dates to milliseconds and booleans\n          // to `1` or `0` treating invalid dates coerced to `NaN` as not equal.\n          return +object == +other;\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case numberTag:\n          // Treat `NaN` vs. `NaN` as equal.\n          return (object != +object)\n            ? other != +other\n            : object == +other;\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings primitives and string\n          // objects as equal. See https://es5.github.io/#x15.10.6.4 for more details.\n          return object == (other + '');\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} [customizer] The function to customize comparing values.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA] Tracks traversed `value` objects.\n     * @param {Array} [stackB] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, equalFunc, customizer, isLoose, stackA, stackB) {\n      var objProps = keys(object),\n          objLength = objProps.length,\n          othProps = keys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isLoose) {\n        return false;\n      }\n      var index = objLength;\n      while (index--) {\n        var key = objProps[index];\n        if (!(isLoose ? key in other : hasOwnProperty.call(other, key))) {\n          return false;\n        }\n      }\n      var skipCtor = isLoose;\n      while (++index < objLength) {\n        key = objProps[index];\n        var objValue = object[key],\n            othValue = other[key],\n            result = customizer ? customizer(isLoose ? othValue : objValue, isLoose? objValue : othValue, key) : undefined;\n\n        // Recursively compare objects (susceptible to call stack limits).\n        if (!(result === undefined ? equalFunc(objValue, othValue, customizer, isLoose, stackA, stackB) : result)) {\n          return false;\n        }\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n      if (!skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor &&\n            ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Gets the appropriate \"callback\" function. If the `_.callback` method is\n     * customized this function returns the custom method, otherwise it returns\n     * the `baseCallback` function. If arguments are provided the chosen function\n     * is invoked with them and its result is returned.\n     *\n     * @private\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getCallback(func, thisArg, argCount) {\n      var result = lodash.callback || callback;\n      result = result === callback ? baseCallback : result;\n      return argCount ? result(func, thisArg, argCount) : result;\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n    function getFuncName(func) {\n      var result = func.name,\n          array = realNames[result],\n          length = array ? array.length : 0;\n\n      while (length--) {\n        var data = array[length],\n            otherFunc = data.func;\n        if (otherFunc == null || otherFunc == func) {\n          return data.name;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the appropriate \"indexOf\" function. If the `_.indexOf` method is\n     * customized this function returns the custom method, otherwise it returns\n     * the `baseIndexOf` function. If arguments are provided the chosen function\n     * is invoked with them and its result is returned.\n     *\n     * @private\n     * @returns {Function|number} Returns the chosen function or its result.\n     */\n    function getIndexOf(collection, target, fromIndex) {\n      var result = lodash.indexOf || indexOf;\n      result = result === indexOf ? baseIndexOf : result;\n      return collection ? result(collection, target, fromIndex) : result;\n    }\n\n    /**\n     * Gets the \"length\" property value of `object`.\n     *\n     * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n     * that affects Safari on at least iOS 8.1-8.3 ARM64.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {*} Returns the \"length\" value.\n     */\n    var getLength = baseProperty('length');\n\n    /**\n     * Gets the propery names, values, and compare flags of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the match data of `object`.\n     */\n    function getMatchData(object) {\n      var result = pairs(object),\n          length = result.length;\n\n      while (length--) {\n        result[length][2] = isStrictComparable(result[length][1]);\n      }\n      return result;\n    }\n\n    /**\n     * Gets the native function at `key` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the method to get.\n     * @returns {*} Returns the function if it's native, else `undefined`.\n     */\n    function getNative(object, key) {\n      var value = object == null ? undefined : object[key];\n      return isNative(value) ? value : undefined;\n    }\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} [transforms] The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms ? transforms.length : 0;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length);\n\n      // Add array properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      var Ctor = object.constructor;\n      if (!(typeof Ctor == 'function' && Ctor instanceof Ctor)) {\n        Ctor = Object;\n      }\n      return new Ctor;\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return bufferClone(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          var buffer = object.buffer;\n          return new Ctor(isDeep ? bufferClone(buffer) : buffer, object.byteOffset, object.length);\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          var result = new Ctor(object.source, reFlags.exec(object));\n          result.lastIndex = object.lastIndex;\n      }\n      return result;\n    }\n\n    /**\n     * Invokes the method at `path` on `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */\n    function invokePath(object, path, args) {\n      if (object != null && !isKey(path, object)) {\n        path = toPath(path);\n        object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n        path = last(path);\n      }\n      var func = object == null ? object : object[path];\n      return func == null ? undefined : func.apply(object, args);\n    }\n\n    /**\n     * Checks if `value` is array-like.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     */\n    function isArrayLike(value) {\n      return value != null && isLength(getLength(value));\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      value = (typeof value == 'number' || reIsUint.test(value)) ? +value : -1;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n      return value > -1 && value % 1 == 0 && value < length;\n    }\n\n    /**\n     * Checks if the provided arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call, else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number'\n          ? (isArrayLike(object) && isIndex(index, object.length))\n          : (type == 'string' && index in object)) {\n        var other = object[index];\n        return value === value ? (value === other) : (other !== other);\n      }\n      return false;\n    }\n\n    /**\n     * Checks if `value` is a property name and not a property path.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n     */\n    function isKey(value, object) {\n      var type = typeof value;\n      if ((type == 'string' && reIsPlainProp.test(value)) || type == 'number') {\n        return true;\n      }\n      if (isArray(value)) {\n        return false;\n      }\n      var result = !reIsDeepProp.test(value);\n      return result || (object != null && value in toObject(object));\n    }\n\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart, else `false`.\n     */\n    function isLaziable(func) {\n      var funcName = getFuncName(func);\n      if (!(funcName in LazyWrapper.prototype)) {\n        return false;\n      }\n      var other = lodash[funcName];\n      if (func === other) {\n        return true;\n      }\n      var data = getData(other);\n      return !!data && func === data[0];\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This function is based on [`ToLength`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength).\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     */\n    function isLength(value) {\n      return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && !isObject(value);\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers required to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and `_.rearg`\n     * augment function arguments, making the order in which they are executed important,\n     * preventing the merging of metadata. However, we make an exception for a safe\n     * common case where curried functions have `_.ary` and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < ARY_FLAG;\n\n      var isCombo =\n        (srcBitmask == ARY_FLAG && bitmask == CURRY_FLAG) ||\n        (srcBitmask == ARY_FLAG && bitmask == REARG_FLAG && data[7].length <= source[8]) ||\n        (srcBitmask == (ARY_FLAG | REARG_FLAG) && bitmask == CURRY_FLAG);\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= (bitmask & BIND_FLAG) ? 0 : CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : arrayCopy(value);\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : arrayCopy(source[4]);\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : arrayCopy(value);\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : arrayCopy(source[6]);\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = arrayCopy(value);\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * A specialized version of `_.pick` which picks `object` properties specified\n     * by `props`.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} props The property names to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function pickByArray(object, props) {\n      object = toObject(object);\n\n      var index = -1,\n          length = props.length,\n          result = {};\n\n      while (++index < length) {\n        var key = props[index];\n        if (key in object) {\n          result[key] = object[key];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.pick` which picks `object` properties `predicate`\n     * returns truthy for.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Object} Returns the new object.\n     */\n    function pickByCallback(object, predicate) {\n      var result = {};\n      baseForIn(object, function(value, key, object) {\n        if (predicate(value, key, object)) {\n          result[key] = value;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = arrayCopy(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity function\n     * to avoid garbage collection pauses in V8. See [V8 issue 2070](https://code.google.com/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = (function() {\n      var count = 0,\n          lastCalled = 0;\n\n      return function(key, value) {\n        var stamp = now(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return key;\n          }\n        } else {\n          count = 0;\n        }\n        return baseSetData(key, value);\n      };\n    }());\n\n    /**\n     * A fallback implementation of `_.isPlainObject` which checks if `value`\n     * is an object created by the `Object` constructor or has a `[[Prototype]]`\n     * of `null`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     */\n    function shimIsPlainObject(value) {\n      var Ctor,\n          support = lodash.support;\n\n      // Exit early for non `Object` objects.\n      if (!(isObjectLike(value) && objToString.call(value) == objectTag) ||\n          (!hasOwnProperty.call(value, 'constructor') &&\n            (Ctor = value.constructor, typeof Ctor == 'function' && !(Ctor instanceof Ctor)))) {\n        return false;\n      }\n      // IE < 9 iterates inherited properties before own properties. If the first\n      // iterated property is an object's own property then there are no inherited\n      // enumerable properties.\n      var result;\n      // In most environments an object's own properties are iterated before\n      // its inherited properties. If the last iterated property is an object's\n      // own property then there are no inherited enumerable properties.\n      baseForIn(value, function(subValue, key) {\n        result = key;\n      });\n      return result === undefined || hasOwnProperty.call(value, result);\n    }\n\n    /**\n     * A fallback implementation of `Object.keys` which creates an array of the\n     * own enumerable property names of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function shimKeys(object) {\n      var props = keysIn(object),\n          propsLength = props.length,\n          length = propsLength && object.length;\n\n      var allowIndexes = !!length && isLength(length) &&\n        (isArray(object) || isArguments(object));\n\n      var index = -1,\n          result = [];\n\n      while (++index < propsLength) {\n        var key = props[index];\n        if ((allowIndexes && isIndex(key, length)) || hasOwnProperty.call(object, key)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to an array-like object if it's not one.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {Array|Object} Returns the array-like object.\n     */\n    function toIterable(value) {\n      if (value == null) {\n        return [];\n      }\n      if (!isArrayLike(value)) {\n        return values(value);\n      }\n      return isObject(value) ? value : Object(value);\n    }\n\n    /**\n     * Converts `value` to an object if it's not one.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {Object} Returns the object.\n     */\n    function toObject(value) {\n      return isObject(value) ? value : Object(value);\n    }\n\n    /**\n     * Converts `value` to property path array if it's not one.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {Array} Returns the property path array.\n     */\n    function toPath(value) {\n      if (isArray(value)) {\n        return value;\n      }\n      var result = [];\n      baseToString(value).replace(rePropName, function(match, number, quote, string) {\n        result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n      });\n      return result;\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      return wrapper instanceof LazyWrapper\n        ? wrapper.clone()\n        : new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__, arrayCopy(wrapper.__actions__));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `collection` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the new array containing chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if (guard ? isIterateeCall(array, size, guard) : size == null) {\n        size = 1;\n      } else {\n        size = nativeMax(+size || 1, 1);\n      }\n      var index = 0,\n          length = array ? array.length : 0,\n          resIndex = -1,\n          result = Array(ceil(length / size));\n\n      while (index < length) {\n        result[++resIndex] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array ? array.length : 0,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[++resIndex] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of unique `array` values not included in the other\n     * provided arrays using [`SameValueZero`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The arrays of values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.difference([1, 2, 3], [4, 2]);\n     * // => [1, 3]\n     */\n    var difference = restParam(function(array, values) {\n      return isArrayLike(array)\n        ? baseDifference(array, baseFlatten(values, false, true))\n        : [];\n    });\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      return baseSlice(array, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      n = length - (+n || 0);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * bound to `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that match the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRightWhile([1, 2, 3], function(n) {\n     *   return n > 1;\n     * });\n     * // => [1]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.dropRightWhile(users, { 'user': 'pebbles', 'active': false }), 'user');\n     * // => ['barney', 'fred']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.dropRightWhile(users, 'active', false), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.dropRightWhile(users, 'active'), 'user');\n     * // => ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3), true, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * bound to `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropWhile([1, 2, 3], function(n) {\n     *   return n < 3;\n     * });\n     * // => [3]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.dropWhile(users, { 'user': 'barney', 'active': false }), 'user');\n     * // => ['fred', 'pebbles']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.dropWhile(users, 'active', false), 'user');\n     * // => ['pebbles']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.dropWhile(users, 'active'), 'user');\n     * // => ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3), true)\n        : [];\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8], '*', 1, 2);\n     * // => [4, '*', 8]\n     */\n    function fill(array, value, start, end) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(chr) {\n     *   return chr.user == 'barney';\n     * });\n     * // => 0\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findIndex(users, 'active', false);\n     * // => 0\n     *\n     * // using the `_.property` callback shorthand\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    var findIndex = createFindIndex();\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(chr) {\n     *   return chr.user == 'pebbles';\n     * });\n     * // => 2\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findLastIndex(users, 'active', false);\n     * // => 2\n     *\n     * // using the `_.property` callback shorthand\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    var findLastIndex = createFindIndex(true);\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @alias head\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.first([1, 2, 3]);\n     * // => 1\n     *\n     * _.first([]);\n     * // => undefined\n     */\n    function first(array) {\n      return array ? array[0] : undefined;\n    }\n\n    /**\n     * Flattens a nested array. If `isDeep` is `true` the array is recursively\n     * flattened, otherwise it is only flattened a single level.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {boolean} [isDeep] Specify a deep flatten.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, 3, [4]]]);\n     * // => [1, 2, 3, [4]]\n     *\n     * // using `isDeep`\n     * _.flatten([1, [2, 3, [4]]], true);\n     * // => [1, 2, 3, 4]\n     */\n    function flatten(array, isDeep, guard) {\n      var length = array ? array.length : 0;\n      if (guard && isIterateeCall(array, isDeep, guard)) {\n        isDeep = false;\n      }\n      return length ? baseFlatten(array, isDeep) : [];\n    }\n\n    /**\n     * Recursively flattens a nested array.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to recursively flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, 3, [4]]]);\n     * // => [1, 2, 3, 4]\n     */\n    function flattenDeep(array) {\n      var length = array ? array.length : 0;\n      return length ? baseFlatten(array, true) : [];\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using [`SameValueZero`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it is used as the offset\n     * from the end of `array`. If `array` is sorted providing `true` for `fromIndex`\n     * performs a faster binary search.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {*} value The value to search for.\n     * @param {boolean|number} [fromIndex=0] The index to search from or `true`\n     *  to perform a binary search on a sorted array.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // using `fromIndex`\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     *\n     * // performing a binary search\n     * _.indexOf([1, 1, 2, 2], 2, true);\n     * // => 2\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return -1;\n      }\n      if (typeof fromIndex == 'number') {\n        fromIndex = fromIndex < 0 ? nativeMax(length + fromIndex, 0) : fromIndex;\n      } else if (fromIndex) {\n        var index = binaryIndex(array, value),\n            other = array[index];\n\n        if (value === value ? (value === other) : (other !== other)) {\n          return index;\n        }\n        return -1;\n      }\n      return baseIndexOf(array, value, fromIndex || 0);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      return dropRight(array, 1);\n    }\n\n    /**\n     * Creates an array of unique values that are included in all of the provided\n     * arrays using [`SameValueZero`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of shared values.\n     * @example\n     * _.intersection([1, 2], [4, 2], [2, 1]);\n     * // => [2]\n     */\n    var intersection = restParam(function(arrays) {\n      var othLength = arrays.length,\n          othIndex = othLength,\n          caches = Array(length),\n          indexOf = getIndexOf(),\n          isCommon = indexOf == baseIndexOf,\n          result = [];\n\n      while (othIndex--) {\n        var value = arrays[othIndex] = isArrayLike(value = arrays[othIndex]) ? value : [];\n        caches[othIndex] = (isCommon && value.length >= 120) ? createCache(othIndex && value) : null;\n      }\n      var array = arrays[0],\n          index = -1,\n          length = array ? array.length : 0,\n          seen = caches[0];\n\n      outer:\n      while (++index < length) {\n        value = array[index];\n        if ((seen ? cacheIndexOf(seen, value) : indexOf(result, value, 0)) < 0) {\n          var othIndex = othLength;\n          while (--othIndex) {\n            var cache = caches[othIndex];\n            if ((cache ? cacheIndexOf(cache, value) : indexOf(arrays[othIndex], value, 0)) < 0) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(value);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    });\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array ? array.length : 0;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {*} value The value to search for.\n     * @param {boolean|number} [fromIndex=array.length-1] The index to search from\n     *  or `true` to perform a binary search on a sorted array.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // using `fromIndex`\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     *\n     * // performing a binary search\n     * _.lastIndexOf([1, 1, 2, 2], 2, true);\n     * // => 3\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (typeof fromIndex == 'number') {\n        index = (fromIndex < 0 ? nativeMax(length + fromIndex, 0) : nativeMin(fromIndex || 0, length - 1)) + 1;\n      } else if (fromIndex) {\n        index = binaryIndex(array, value, true) - 1;\n        var other = array[index];\n        if (value === value ? (value === other) : (other !== other)) {\n          return index;\n        }\n        return -1;\n      }\n      if (value !== value) {\n        return indexOfNaN(array, index, true);\n      }\n      while (index--) {\n        if (array[index] === value) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Removes all provided values from `array` using\n     * [`SameValueZero`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.without`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3, 1, 2, 3];\n     *\n     * _.pull(array, 2, 3);\n     * console.log(array);\n     * // => [1, 1]\n     */\n    function pull() {\n      var args = arguments,\n          array = args[0];\n\n      if (!(array && array.length)) {\n        return array;\n      }\n      var index = 0,\n          indexOf = getIndexOf(),\n          length = args.length;\n\n      while (++index < length) {\n        var fromIndex = 0,\n            value = args[index];\n\n        while ((fromIndex = indexOf(array, value, fromIndex)) > -1) {\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to the given indexes and returns\n     * an array of the removed elements. Indexes may be specified as an array of\n     * indexes or as individual arguments.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove,\n     *  specified as individual indexes or arrays of indexes.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [5, 10, 15, 20];\n     * var evens = _.pullAt(array, 1, 3);\n     *\n     * console.log(array);\n     * // => [5, 15]\n     *\n     * console.log(evens);\n     * // => [10, 20]\n     */\n    var pullAt = restParam(function(array, indexes) {\n      indexes = baseFlatten(indexes);\n\n      var result = baseAt(array, indexes);\n      basePullAt(array, indexes.sort(baseCompareAscending));\n      return result;\n    });\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is bound to\n     * `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate, thisArg) {\n      var result = [];\n      if (!(array && array.length)) {\n        return result;\n      }\n      var index = -1,\n          indexes = [],\n          length = array.length;\n\n      predicate = getCallback(predicate, thisArg, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          indexes.push(index);\n        }\n      }\n      basePullAt(array, indexes);\n      return result;\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @alias tail\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.rest([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function rest(array) {\n      return drop(array, 1);\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This method is used instead of `Array#slice` to support node\n     * lists in IE < 9 and to ensure dense arrays are returned.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value` should\n     * be inserted into `array` in order to maintain its sort order. If an iteratee\n     * function is provided it is invoked for `value` and each element of `array`\n     * to compute their sort ranking. The iteratee is bound to `thisArg` and\n     * invoked with one argument; (value).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     *\n     * _.sortedIndex([4, 4, 5, 5], 5);\n     * // => 2\n     *\n     * var dict = { 'data': { 'thirty': 30, 'forty': 40, 'fifty': 50 } };\n     *\n     * // using an iteratee function\n     * _.sortedIndex(['thirty', 'fifty'], 'forty', function(word) {\n     *   return this.data[word];\n     * }, dict);\n     * // => 1\n     *\n     * // using the `_.property` callback shorthand\n     * _.sortedIndex([{ 'x': 30 }, { 'x': 50 }], { 'x': 40 }, 'x');\n     * // => 1\n     */\n    var sortedIndex = createSortedIndex();\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 4, 5, 5], 5);\n     * // => 4\n     */\n    var sortedLastIndex = createSortedIndex(true);\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      n = length - (+n || 0);\n      return baseSlice(array, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is bound to `thisArg`\n     * and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRightWhile([1, 2, 3], function(n) {\n     *   return n > 1;\n     * });\n     * // => [2, 3]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.takeRightWhile(users, { 'user': 'pebbles', 'active': false }), 'user');\n     * // => ['pebbles']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.takeRightWhile(users, 'active', false), 'user');\n     * // => ['fred', 'pebbles']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.takeRightWhile(users, 'active'), 'user');\n     * // => []\n     */\n    function takeRightWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3), false, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is bound to\n     * `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeWhile([1, 2, 3], function(n) {\n     *   return n < 3;\n     * });\n     * // => [1, 2]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false},\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.takeWhile(users, { 'user': 'barney', 'active': false }), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.takeWhile(users, 'active', false), 'user');\n     * // => ['barney', 'fred']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.takeWhile(users, 'active'), 'user');\n     * // => []\n     */\n    function takeWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3))\n        : [];\n    }\n\n    /**\n     * Creates an array of unique values, in order, from all of the provided arrays\n     * using [`SameValueZero`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([1, 2], [4, 2], [2, 1]);\n     * // => [1, 2, 4]\n     */\n    var union = restParam(function(arrays) {\n      return baseUniq(baseFlatten(arrays, false, true));\n    });\n\n    /**\n     * Creates a duplicate-free version of an array, using\n     * [`SameValueZero`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * for equality comparisons, in which only the first occurence of each element\n     * is kept. Providing `true` for `isSorted` performs a faster search algorithm\n     * for sorted arrays. If an iteratee function is provided it is invoked for\n     * each element in the array to generate the criterion by which uniqueness\n     * is computed. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index, array).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias unique\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {boolean} [isSorted] Specify the array is sorted.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new duplicate-value-free array.\n     * @example\n     *\n     * _.uniq([2, 1, 2]);\n     * // => [2, 1]\n     *\n     * // using `isSorted`\n     * _.uniq([1, 1, 2], true);\n     * // => [1, 2]\n     *\n     * // using an iteratee function\n     * _.uniq([1, 2.5, 1.5, 2], function(n) {\n     *   return this.floor(n);\n     * }, Math);\n     * // => [1, 2.5]\n     *\n     * // using the `_.property` callback shorthand\n     * _.uniq([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniq(array, isSorted, iteratee, thisArg) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (isSorted != null && typeof isSorted != 'boolean') {\n        thisArg = iteratee;\n        iteratee = isIterateeCall(array, isSorted, thisArg) ? null : isSorted;\n        isSorted = false;\n      }\n      var callback = getCallback();\n      if (!(iteratee == null && callback === baseCallback)) {\n        iteratee = callback(iteratee, thisArg, 3);\n      }\n      return (isSorted && getIndexOf() == baseIndexOf)\n        ? sortedUniq(array, iteratee)\n        : baseUniq(array, iteratee);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-zip\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['fred', 'barney'], [30, 40], [true, false]);\n     * // => [['fred', 30, true], ['barney', 40, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['fred', 'barney'], [30, 40], [true, false]]\n     */\n    function unzip(array) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var index = -1,\n          length = 0;\n\n      array = arrayFilter(array, function(group) {\n        if (isArrayLike(group)) {\n          length = nativeMax(group.length, length);\n          return true;\n        }\n      });\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = arrayMap(array, baseProperty(index));\n      }\n      return result;\n    }\n\n    /**\n     * This method is like `_.unzip` except that it accepts an iteratee to specify\n     * how regrouped values should be combined. The `iteratee` is bound to `thisArg`\n     * and invoked with four arguments: (accumulator, value, index, group).\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @param {Function} [iteratee] The function to combine regrouped values.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n     * // => [[1, 10, 100], [2, 20, 200]]\n     *\n     * _.unzipWith(zipped, _.add);\n     * // => [3, 30, 300]\n     */\n    function unzipWith(array, iteratee, thisArg) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      var result = unzip(array);\n      if (iteratee == null) {\n        return result;\n      }\n      iteratee = bindCallback(iteratee, thisArg, 4);\n      return arrayMap(result, function(group) {\n        return arrayReduce(group, iteratee, undefined, true);\n      });\n    }\n\n    /**\n     * Creates an array excluding all provided values using\n     * [`SameValueZero`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to filter.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.without([1, 2, 1, 3], 1, 2);\n     * // => [3]\n     */\n    var without = restParam(function(array, values) {\n      return isArrayLike(array)\n        ? baseDifference(array, values)\n        : [];\n    });\n\n    /**\n     * Creates an array of unique values that is the [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the provided arrays.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of values.\n     * @example\n     *\n     * _.xor([1, 2], [4, 2]);\n     * // => [1, 4]\n     */\n    function xor() {\n      var index = -1,\n          length = arguments.length;\n\n      while (++index < length) {\n        var array = arguments[index];\n        if (isArrayLike(array)) {\n          var result = result\n            ? baseDifference(result, array).concat(baseDifference(array, result))\n            : array;\n        }\n      }\n      return result ? baseUniq(result) : [];\n    }\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the first\n     * elements of the given arrays, the second of which contains the second elements\n     * of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['fred', 'barney'], [30, 40], [true, false]);\n     * // => [['fred', 30, true], ['barney', 40, false]]\n     */\n    var zip = restParam(unzip);\n\n    /**\n     * The inverse of `_.pairs`; this method returns an object composed from arrays\n     * of property names and values. Provide either a single two dimensional array,\n     * e.g. `[[key1, value1], [key2, value2]]` or two arrays, one of property names\n     * and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @alias object\n     * @category Array\n     * @param {Array} props The property names.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject([['fred', 30], ['barney', 40]]);\n     * // => { 'fred': 30, 'barney': 40 }\n     *\n     * _.zipObject(['fred', 'barney'], [30, 40]);\n     * // => { 'fred': 30, 'barney': 40 }\n     */\n    function zipObject(props, values) {\n      var index = -1,\n          length = props ? props.length : 0,\n          result = {};\n\n      if (length && !values && !isArray(props[0])) {\n        values = [];\n      }\n      while (++index < length) {\n        var key = props[index];\n        if (values) {\n          result[key] = values[index];\n        } else if (key) {\n          result[key[0]] = key[1];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an iteratee to specify\n     * how grouped values should be combined. The `iteratee` is bound to `thisArg`\n     * and invoked with four arguments: (accumulator, value, index, group).\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @param {Function} [iteratee] The function to combine grouped values.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zipWith([1, 2], [10, 20], [100, 200], _.add);\n     * // => [111, 222]\n     */\n    var zipWith = restParam(function(arrays) {\n      var length = arrays.length,\n          iteratee = length > 2 ? arrays[length - 2] : undefined,\n          thisArg = length > 1 ? arrays[length - 1] : undefined;\n\n      if (length > 2 && typeof iteratee == 'function') {\n        length -= 2;\n      } else {\n        iteratee = (length > 1 && typeof thisArg == 'function') ? (--length, thisArg) : undefined;\n        thisArg = undefined;\n      }\n      arrays.length = length;\n      return unzipWith(arrays, iteratee, thisArg);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object that wraps `value` with explicit method\n     * chaining enabled.\n     *\n     * @static\n     * @memberOf _\n     * @category Chain\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _.chain(users)\n     *   .sortBy('age')\n     *   .map(function(chr) {\n     *     return chr.user + ' is ' + chr.age;\n     *   })\n     *   .first()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor is\n     * bound to `thisArg` and invoked with one argument; (value). The purpose of\n     * this method is to \"tap into\" a method chain in order to perform operations\n     * on intermediate results within the chain.\n     *\n     * @static\n     * @memberOf _\n     * @category Chain\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @param {*} [thisArg] The `this` binding of `interceptor`.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor, thisArg) {\n      interceptor.call(thisArg, value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     *\n     * @static\n     * @memberOf _\n     * @category Chain\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @param {*} [thisArg] The `this` binding of `interceptor`.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n    function thru(value, interceptor, thisArg) {\n      return interceptor.call(thisArg, value);\n    }\n\n    /**\n     * Enables explicit method chaining on the wrapper object.\n     *\n     * @name chain\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // without explicit chaining\n     * _(users).first();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // with explicit chaining\n     * _(users).chain()\n     *   .first()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chained sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapper = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapper = wrapper.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapper.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Creates a clone of the chained sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapper = _(array).map(function(value) {\n     *   return Math.pow(value, 2);\n     * });\n     *\n     * var other = [3, 4];\n     * var otherWrapper = wrapper.plant(other);\n     *\n     * otherWrapper.value();\n     * // => [9, 16]\n     *\n     * wrapper.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * Reverses the wrapped array so the first element becomes the last, the\n     * second element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new reversed `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n      if (value instanceof LazyWrapper) {\n        if (this.__actions__.length) {\n          value = new LazyWrapper(this);\n        }\n        return new LodashWrapper(value.reverse(), this.__chain__);\n      }\n      return this.thru(function(value) {\n        return value.reverse();\n      });\n    }\n\n    /**\n     * Produces the result of coercing the unwrapped value to a string.\n     *\n     * @name toString\n     * @memberOf _\n     * @category Chain\n     * @returns {string} Returns the coerced string value.\n     * @example\n     *\n     * _([1, 2, 3]).toString();\n     * // => '1,2,3'\n     */\n    function wrapperToString() {\n      return (this.value() + '');\n    }\n\n    /**\n     * Executes the chained sequence to extract the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @alias run, toJSON, valueOf\n     * @category Chain\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements corresponding to the given keys, or indexes,\n     * of `collection`. Keys may be specified as individual arguments or as arrays\n     * of keys.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {...(number|number[]|string|string[])} [props] The property names\n     *  or indexes of elements to pick, specified individually or in arrays.\n     * @returns {Array} Returns the new array of picked elements.\n     * @example\n     *\n     * _.at(['a', 'b', 'c'], [0, 2]);\n     * // => ['a', 'c']\n     *\n     * _.at(['barney', 'fred', 'pebbles'], 0, 2);\n     * // => ['barney', 'pebbles']\n     */\n    var at = restParam(function(collection, props) {\n      return baseAt(collection, baseFlatten(props));\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through `iteratee`. The corresponding value\n     * of each key is the number of times the key was returned by `iteratee`.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([4.3, 6.1, 6.4], function(n) {\n     *   return Math.floor(n);\n     * });\n     * // => { '4': 1, '6': 2 }\n     *\n     * _.countBy([4.3, 6.1, 6.4], function(n) {\n     *   return this.floor(n);\n     * }, Math);\n     * // => { '4': 1, '6': 2 }\n     *\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      hasOwnProperty.call(result, key) ? ++result[key] : (result[key] = 1);\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * The predicate is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias all\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': false },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.every(users, 'active', false);\n     * // => true\n     *\n     * // using the `_.property` callback shorthand\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (thisArg && isIterateeCall(collection, predicate, thisArg)) {\n        predicate = null;\n      }\n      if (typeof predicate != 'function' || thisArg !== undefined) {\n        predicate = getCallback(predicate, thisArg, 3);\n      }\n      return func(collection, predicate);\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is bound to `thisArg` and\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias select\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the new filtered array.\n     * @example\n     *\n     * _.filter([4, 5, 6], function(n) {\n     *   return n % 2 == 0;\n     * });\n     * // => [4, 6]\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.filter(users, { 'age': 36, 'active': true }), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.filter(users, 'active', false), 'user');\n     * // => ['fred']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.filter(users, 'active'), 'user');\n     * // => ['barney']\n     */\n    function filter(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      predicate = getCallback(predicate, thisArg, 3);\n      return func(collection, predicate);\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is bound to `thisArg` and\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias detect\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.result(_.find(users, function(chr) {\n     *   return chr.age < 40;\n     * }), 'user');\n     * // => 'barney'\n     *\n     * // using the `_.matches` callback shorthand\n     * _.result(_.find(users, { 'age': 1, 'active': true }), 'user');\n     * // => 'pebbles'\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.result(_.find(users, 'active', false), 'user');\n     * // => 'fred'\n     *\n     * // using the `_.property` callback shorthand\n     * _.result(_.find(users, 'active'), 'user');\n     * // => 'barney'\n     */\n    var find = createFind(baseEach);\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    var findLast = createFind(baseEachRight, true);\n\n    /**\n     * Performs a deep comparison between each element in `collection` and the\n     * source object, returning the first element that has equivalent property\n     * values.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. For comparing a single\n     * own or inherited property value see `_.matchesProperty`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Object} source The object of property values to match.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.result(_.findWhere(users, { 'age': 36, 'active': true }), 'user');\n     * // => 'barney'\n     *\n     * _.result(_.findWhere(users, { 'age': 40, 'active': false }), 'user');\n     * // => 'fred'\n     */\n    function findWhere(collection, source) {\n      return find(collection, baseMatches(source));\n    }\n\n    /**\n     * Iterates over elements of `collection` invoking `iteratee` for each element.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection). Iteratee functions may exit iteration early\n     * by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\" property\n     * are iterated like arrays. To avoid this behavior `_.forIn` or `_.forOwn`\n     * may be used for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @alias each\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array|Object|string} Returns `collection`.\n     * @example\n     *\n     * _([1, 2]).forEach(function(n) {\n     *   console.log(n);\n     * }).value();\n     * // => logs each value from left to right and returns the array\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(n, key) {\n     *   console.log(n, key);\n     * });\n     * // => logs each value-key pair and returns the object (iteration order is not guaranteed)\n     */\n    var forEach = createForEach(arrayEach, baseEach);\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array|Object|string} Returns `collection`.\n     * @example\n     *\n     * _([1, 2]).forEachRight(function(n) {\n     *   console.log(n);\n     * }).value();\n     * // => logs each value from right to left and returns the array\n     */\n    var forEachRight = createForEach(arrayEachRight, baseEachRight);\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through `iteratee`. The corresponding value\n     * of each key is an array of the elements responsible for generating the key.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([4.2, 6.1, 6.4], function(n) {\n     *   return Math.floor(n);\n     * });\n     * // => { '4': [4.2], '6': [6.1, 6.4] }\n     *\n     * _.groupBy([4.2, 6.1, 6.4], function(n) {\n     *   return this.floor(n);\n     * }, Math);\n     * // => { '4': [4.2], '6': [6.1, 6.4] }\n     *\n     * // using the `_.property` callback shorthand\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        result[key] = [value];\n      }\n    });\n\n    /**\n     * Checks if `value` is in `collection` using\n     * [`SameValueZero`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it is used as the offset\n     * from the end of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @alias contains, include\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {*} target The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.reduce`.\n     * @returns {boolean} Returns `true` if a matching element is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'user': 'fred', 'age': 40 }, 'fred');\n     * // => true\n     *\n     * _.includes('pebbles', 'eb');\n     * // => true\n     */\n    function includes(collection, target, fromIndex, guard) {\n      var length = collection ? getLength(collection) : 0;\n      if (!isLength(length)) {\n        collection = values(collection);\n        length = collection.length;\n      }\n      if (!length) {\n        return false;\n      }\n      if (typeof fromIndex != 'number' || (guard && isIterateeCall(target, fromIndex, guard))) {\n        fromIndex = 0;\n      } else {\n        fromIndex = fromIndex < 0 ? nativeMax(length + fromIndex, 0) : (fromIndex || 0);\n      }\n      return (typeof collection == 'string' || !isArray(collection) && isString(collection))\n        ? (fromIndex < length && collection.indexOf(target, fromIndex) > -1)\n        : (getIndexOf(collection, target, fromIndex) > -1);\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through `iteratee`. The corresponding value\n     * of each key is the last element responsible for generating the key. The\n     * iteratee function is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var keyData = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.indexBy(keyData, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.indexBy(keyData, function(object) {\n     *   return String.fromCharCode(object.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.indexBy(keyData, function(object) {\n     *   return this.fromCharCode(object.code);\n     * }, String);\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     */\n    var indexBy = createAggregator(function(result, value, key) {\n      result[key] = value;\n    });\n\n    /**\n     * Invokes the method at `path` of each element in `collection`, returning\n     * an array of the results of each invoked method. Any additional arguments\n     * are provided to each invoked method. If `methodName` is a function it is\n     * invoked for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Array|Function|string} path The path of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invoke([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invoke([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    var invoke = restParam(function(collection, path, args) {\n      var index = -1,\n          isFunc = typeof path == 'function',\n          isProp = isKey(path),\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value) {\n        var func = isFunc ? path : ((isProp && value != null) ? value[path] : null);\n        result[++index] = func ? func.apply(value, args) : invokePath(value, path, args);\n      });\n      return result;\n    });\n\n    /**\n     * Creates an array of values by running each element in `collection` through\n     * `iteratee`. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `callback`, `chunk`, `clone`, `create`, `curry`, `curryRight`,\n     * `drop`, `dropRight`, `every`, `fill`, `flatten`, `invert`, `max`, `min`,\n     * `parseInt`, `slice`, `sortBy`, `take`, `takeRight`, `template`, `trim`,\n     * `trimLeft`, `trimRight`, `trunc`, `random`, `range`, `sample`, `some`,\n     * `sum`, `uniq`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @alias collect\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function timesThree(n) {\n     *   return n * 3;\n     * }\n     *\n     * _.map([1, 2], timesThree);\n     * // => [3, 6]\n     *\n     * _.map({ 'a': 1, 'b': 2 }, timesThree);\n     * // => [3, 6] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // using the `_.property` callback shorthand\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee, thisArg) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      iteratee = getCallback(iteratee, thisArg, 3);\n      return func(collection, iteratee);\n    }\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, while the second of which\n     * contains elements `predicate` returns falsey for. The predicate is bound\n     * to `thisArg` and invoked with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * _.partition([1, 2, 3], function(n) {\n     *   return n % 2;\n     * });\n     * // => [[1, 3], [2]]\n     *\n     * _.partition([1.2, 2.3, 3.4], function(n) {\n     *   return this.floor(n) % 2;\n     * }, Math);\n     * // => [[1.2, 3.4], [2.3]]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * var mapper = function(array) {\n     *   return _.pluck(array, 'user');\n     * };\n     *\n     * // using the `_.matches` callback shorthand\n     * _.map(_.partition(users, { 'age': 1, 'active': false }), mapper);\n     * // => [['pebbles'], ['barney', 'fred']]\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.map(_.partition(users, 'active', false), mapper);\n     * // => [['barney', 'pebbles'], ['fred']]\n     *\n     * // using the `_.property` callback shorthand\n     * _.map(_.partition(users, 'active'), mapper);\n     * // => [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Gets the property value of `path` from all elements in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Array|string} path The path of the property to pluck.\n     * @returns {Array} Returns the property values.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.pluck(users, 'user');\n     * // => ['barney', 'fred']\n     *\n     * var userIndex = _.indexBy(users, 'user');\n     * _.pluck(userIndex, 'age');\n     * // => [36, 40] (iteration order is not guaranteed)\n     */\n    function pluck(collection, path) {\n      return map(collection, property(path));\n    }\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` through `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not provided the first element of `collection` is used as the initial\n     * value. The `iteratee` is bound to `thisArg` and invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `includes`, `merge`, `sortByAll`, and `sortByOrder`\n     *\n     * @static\n     * @memberOf _\n     * @alias foldl, inject\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.reduce([1, 2], function(total, n) {\n     *   return total + n;\n     * });\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2 }, function(result, n, key) {\n     *   result[key] = n * 3;\n     *   return result;\n     * }, {});\n     * // => { 'a': 3, 'b': 6 } (iteration order is not guaranteed)\n     */\n    var reduce = createReduce(arrayReduce, baseEach);\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias foldr\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    var reduceRight = createReduce(arrayReduceRight, baseEachRight);\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the new filtered array.\n     * @example\n     *\n     * _.reject([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 0;\n     * });\n     * // => [1, 3]\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.reject(users, { 'age': 40, 'active': true }), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.reject(users, 'active', false), 'user');\n     * // => ['fred']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.reject(users, 'active'), 'user');\n     * // => ['barney']\n     */\n    function reject(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      predicate = getCallback(predicate, thisArg, 3);\n      return func(collection, function(value, index, collection) {\n        return !predicate(value, index, collection);\n      });\n    }\n\n    /**\n     * Gets a random element or `n` random elements from a collection.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to sample.\n     * @param {number} [n] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {*} Returns the random sample(s).\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     *\n     * _.sample([1, 2, 3, 4], 2);\n     * // => [3, 1]\n     */\n    function sample(collection, n, guard) {\n      if (guard ? isIterateeCall(collection, n, guard) : n == null) {\n        collection = toIterable(collection);\n        var length = collection.length;\n        return length > 0 ? collection[baseRandom(0, length - 1)] : undefined;\n      }\n      var index = -1,\n          result = toArray(collection),\n          length = result.length,\n          lastIndex = length - 1;\n\n      n = nativeMin(n < 0 ? 0 : (+n || 0), length);\n      while (++index < n) {\n        var rand = baseRandom(index, lastIndex),\n            value = result[rand];\n\n        result[rand] = result[index];\n        result[index] = value;\n      }\n      result.length = n;\n      return result;\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      return sample(collection, POSITIVE_INFINITY);\n    }\n\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the size of `collection`.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      var length = collection ? getLength(collection) : 0;\n      return isLength(length) ? length : keys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * The function returns as soon as it finds a passing value and does not iterate\n     * over the entire collection. The predicate is bound to `thisArg` and invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias any\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.some(users, 'active', false);\n     * // => true\n     *\n     * // using the `_.property` callback shorthand\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (thisArg && isIterateeCall(collection, predicate, thisArg)) {\n        predicate = null;\n      }\n      if (typeof predicate != 'function' || thisArg !== undefined) {\n        predicate = getCallback(predicate, thisArg, 3);\n      }\n      return func(collection, predicate);\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection through `iteratee`. This method performs\n     * a stable sort, that is, it preserves the original sort order of equal elements.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * _.sortBy([1, 2, 3], function(n) {\n     *   return Math.sin(n);\n     * });\n     * // => [3, 1, 2]\n     *\n     * _.sortBy([1, 2, 3], function(n) {\n     *   return this.sin(n);\n     * }, Math);\n     * // => [3, 1, 2]\n     *\n     * var users = [\n     *   { 'user': 'fred' },\n     *   { 'user': 'pebbles' },\n     *   { 'user': 'barney' }\n     * ];\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.sortBy(users, 'user'), 'user');\n     * // => ['barney', 'fred', 'pebbles']\n     */\n    function sortBy(collection, iteratee, thisArg) {\n      if (collection == null) {\n        return [];\n      }\n      if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\n        iteratee = null;\n      }\n      var index = -1;\n      iteratee = getCallback(iteratee, thisArg, 3);\n\n      var result = baseMap(collection, function(value, key, collection) {\n        return { 'criteria': iteratee(value, key, collection), 'index': ++index, 'value': value };\n      });\n      return baseSortBy(result, compareAscending);\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it can sort by multiple iteratees\n     * or property names.\n     *\n     * If a property name is provided for an iteratee the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If an object is provided for an iteratee the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {...(Function|Function[]|Object|Object[]|string|string[])} iteratees\n     *  The iteratees to sort by, specified as individual values or arrays of values.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 42 },\n     *   { 'user': 'barney', 'age': 34 }\n     * ];\n     *\n     * _.map(_.sortByAll(users, ['user', 'age']), _.values);\n     * // => [['barney', 34], ['barney', 36], ['fred', 42], ['fred', 48]]\n     *\n     * _.map(_.sortByAll(users, 'user', function(chr) {\n     *   return Math.floor(chr.age / 10);\n     * }), _.values);\n     * // => [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 42]]\n     */\n    var sortByAll = restParam(function(collection, iteratees) {\n      if (collection == null) {\n        return [];\n      }\n      var guard = iteratees[2];\n      if (guard && isIterateeCall(iteratees[0], iteratees[1], guard)) {\n        iteratees.length = 1;\n      }\n      return baseSortByOrder(collection, baseFlatten(iteratees), []);\n    });\n\n    /**\n     * This method is like `_.sortByAll` except that it allows specifying the\n     * sort orders of the iteratees to sort by. A truthy value in `orders` will\n     * sort the corresponding property name in ascending order while a falsey\n     * value will sort it in descending order.\n     *\n     * If a property name is provided for an iteratee the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If an object is provided for an iteratee the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {boolean[]} orders The sort orders of `iteratees`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 34 },\n     *   { 'user': 'fred',   'age': 42 },\n     *   { 'user': 'barney', 'age': 36 }\n     * ];\n     *\n     * // sort by `user` in ascending order and by `age` in descending order\n     * _.map(_.sortByOrder(users, ['user', 'age'], [true, false]), _.values);\n     * // => [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 42]]\n     */\n    function sortByOrder(collection, iteratees, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n      if (guard && isIterateeCall(iteratees, orders, guard)) {\n        orders = null;\n      }\n      if (!isArray(iteratees)) {\n        iteratees = iteratees == null ? [] : [iteratees];\n      }\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n      return baseSortByOrder(collection, iteratees, orders);\n    }\n\n    /**\n     * Performs a deep comparison between each element in `collection` and the\n     * source object, returning an array of all elements that have equivalent\n     * property values.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. For comparing a single\n     * own or inherited property value see `_.matchesProperty`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Object} source The object of property values to match.\n     * @returns {Array} Returns the new filtered array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false, 'pets': ['hoppy'] },\n     *   { 'user': 'fred',   'age': 40, 'active': true, 'pets': ['baby puss', 'dino'] }\n     * ];\n     *\n     * _.pluck(_.where(users, { 'age': 36, 'active': false }), 'user');\n     * // => ['barney']\n     *\n     * _.pluck(_.where(users, { 'pets': ['dino'] }), 'user');\n     * // => ['fred']\n     */\n    function where(collection, source) {\n      return filter(collection, baseMatches(source));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the number of milliseconds that have elapsed since the Unix epoch\n     * (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @category Date\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => logs the number of milliseconds it took for the deferred function to be invoked\n     */\n    var now = nativeNow || function() {\n      return new Date().getTime();\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it is called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => logs 'done saving!' after the two async saves have completed\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        if (typeof n == 'function') {\n          var temp = n;\n          n = func;\n          func = temp;\n        } else {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n      }\n      n = nativeIsFinite(n = +n) ? n : 0;\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that accepts up to `n` arguments ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      if (guard && isIterateeCall(func, n, guard)) {\n        n = null;\n      }\n      n = (func && n == null) ? func.length : nativeMax(+n || 0, 0);\n      return createWrapper(func, ARY_FLAG, null, null, null, null, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it is called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery('#add').on('click', _.before(5, addContactToList));\n     * // => allows adding up to 4 contacts to the list\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        if (typeof n == 'function') {\n          var temp = n;\n          n = func;\n          func = temp;\n        } else {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n      }\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        }\n        if (n <= 1) {\n          func = null;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and prepends any additional `_.bind` arguments to those provided to the\n     * bound function.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind` this method does not set the \"length\"\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var greet = function(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * };\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // using placeholders\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    var bind = restParam(function(func, thisArg, partials) {\n      var bitmask = BIND_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, bind.placeholder);\n        bitmask |= PARTIAL_FLAG;\n      }\n      return createWrapper(func, bitmask, thisArg, partials, holders);\n    });\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method. Method names may be specified as individual arguments or as arrays\n     * of method names. If no method names are provided all enumerable function\n     * properties, own and inherited, of `object` are bound.\n     *\n     * **Note:** This method does not set the \"length\" property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} [methodNames] The object method names to bind,\n     *  specified as individual method names or arrays of method names.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'onClick': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view);\n     * jQuery('#docs').on('click', view.onClick);\n     * // => logs 'clicked docs' when the element is clicked\n     */\n    var bindAll = restParam(function(object, methodNames) {\n      methodNames = methodNames.length ? baseFlatten(methodNames) : functions(object);\n\n      var index = -1,\n          length = methodNames.length;\n\n      while (++index < length) {\n        var key = methodNames[index];\n        object[key] = createWrapper(object[key], BIND_FLAG, object);\n      }\n      return object;\n    });\n\n    /**\n     * Creates a function that invokes the method at `object[key]` and prepends\n     * any additional `_.bindKey` arguments to those provided to the bound function.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist.\n     * See [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Object} object The object the method belongs to.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // using placeholders\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    var bindKey = restParam(function(object, key, partials) {\n      var bitmask = BIND_FLAG | BIND_KEY_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, bindKey.placeholder);\n        bitmask |= PARTIAL_FLAG;\n      }\n      return createWrapper(key, bitmask, object, partials, holders);\n    });\n\n    /**\n     * Creates a function that accepts one or more arguments of `func` that when\n     * called either invokes `func` returning its result, if all `func` arguments\n     * have been provided, or returns a function that accepts one or more of the\n     * remaining `func` arguments, and so on. The arity of `func` may be specified\n     * if `func.length` is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method does not set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // using placeholders\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    var curry = createCurry(CURRY_FLAG);\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method does not set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // using placeholders\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    var curryRight = createCurry(CURRY_RIGHT_FLAG);\n\n    /**\n     * Creates a debounced function that delays invoking `func` until after `wait`\n     * milliseconds have elapsed since the last time the debounced function was\n     * invoked. The debounced function comes with a `cancel` method to cancel\n     * delayed invocations. Provide an options object to indicate that `func`\n     * should be invoked on the leading and/or trailing edge of the `wait` timeout.\n     * Subsequent calls to the debounced function return the result of the last\n     * `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is invoked\n     * on the trailing edge of the timeout only if the the debounced function is\n     * invoked more than once during the `wait` timeout.\n     *\n     * See [David Corbacho's article](http://drupalmotion.com/article/debounce-and-throttle-visual-explanation)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.leading=false] Specify invoking on the leading\n     *  edge of the timeout.\n     * @param {number} [options.maxWait] The maximum time `func` is allowed to be\n     *  delayed before it is invoked.\n     * @param {boolean} [options.trailing=true] Specify invoking on the trailing\n     *  edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // avoid costly calculations while the window size is in flux\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // invoke `sendMail` when the click event is fired, debouncing subsequent calls\n     * jQuery('#postbox').on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // ensure `batchLog` is invoked once after 1 second of debounced calls\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', _.debounce(batchLog, 250, {\n     *   'maxWait': 1000\n     * }));\n     *\n     * // cancel a debounced call\n     * var todoChanges = _.debounce(batchLog, 1000);\n     * Object.observe(models.todo, todoChanges);\n     *\n     * Object.observe(models, function(changes) {\n     *   if (_.find(changes, { 'user': 'todo', 'type': 'delete'})) {\n     *     todoChanges.cancel();\n     *   }\n     * }, ['delete']);\n     *\n     * // ...at some point `models.todo` is changed\n     * models.todo.completed = true;\n     *\n     * // ...before 1 second has passed `models.todo` is deleted\n     * // which cancels the debounced `todoChanges` call\n     * delete models.todo;\n     */\n    function debounce(func, wait, options) {\n      var args,\n          maxTimeoutId,\n          result,\n          stamp,\n          thisArg,\n          timeoutId,\n          trailingCall,\n          lastCalled = 0,\n          maxWait = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = wait < 0 ? 0 : (+wait || 0);\n      if (options === true) {\n        var leading = true;\n        trailing = false;\n      } else if (isObject(options)) {\n        leading = options.leading;\n        maxWait = 'maxWait' in options && nativeMax(+options.maxWait || 0, wait);\n        trailing = 'trailing' in options ? options.trailing : trailing;\n      }\n\n      function cancel() {\n        if (timeoutId) {\n          clearTimeout(timeoutId);\n        }\n        if (maxTimeoutId) {\n          clearTimeout(maxTimeoutId);\n        }\n        maxTimeoutId = timeoutId = trailingCall = undefined;\n      }\n\n      function delayed() {\n        var remaining = wait - (now() - stamp);\n        if (remaining <= 0 || remaining > wait) {\n          if (maxTimeoutId) {\n            clearTimeout(maxTimeoutId);\n          }\n          var isCalled = trailingCall;\n          maxTimeoutId = timeoutId = trailingCall = undefined;\n          if (isCalled) {\n            lastCalled = now();\n            result = func.apply(thisArg, args);\n            if (!timeoutId && !maxTimeoutId) {\n              args = thisArg = null;\n            }\n          }\n        } else {\n          timeoutId = setTimeout(delayed, remaining);\n        }\n      }\n\n      function maxDelayed() {\n        if (timeoutId) {\n          clearTimeout(timeoutId);\n        }\n        maxTimeoutId = timeoutId = trailingCall = undefined;\n        if (trailing || (maxWait !== wait)) {\n          lastCalled = now();\n          result = func.apply(thisArg, args);\n          if (!timeoutId && !maxTimeoutId) {\n            args = thisArg = null;\n          }\n        }\n      }\n\n      function debounced() {\n        args = arguments;\n        stamp = now();\n        thisArg = this;\n        trailingCall = trailing && (timeoutId || !leading);\n\n        if (maxWait === false) {\n          var leadingCall = leading && !timeoutId;\n        } else {\n          if (!maxTimeoutId && !leading) {\n            lastCalled = stamp;\n          }\n          var remaining = maxWait - (stamp - lastCalled),\n              isCalled = remaining <= 0 || remaining > maxWait;\n\n          if (isCalled) {\n            if (maxTimeoutId) {\n              maxTimeoutId = clearTimeout(maxTimeoutId);\n            }\n            lastCalled = stamp;\n            result = func.apply(thisArg, args);\n          }\n          else if (!maxTimeoutId) {\n            maxTimeoutId = setTimeout(maxDelayed, remaining);\n          }\n        }\n        if (isCalled && timeoutId) {\n          timeoutId = clearTimeout(timeoutId);\n        }\n        else if (!timeoutId && wait !== maxWait) {\n          timeoutId = setTimeout(delayed, wait);\n        }\n        if (leadingCall) {\n          isCalled = true;\n          result = func.apply(thisArg, args);\n        }\n        if (isCalled && !timeoutId && !maxTimeoutId) {\n          args = thisArg = null;\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke the function with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // logs 'deferred' after one or more milliseconds\n     */\n    var defer = restParam(function(func, args) {\n      return baseDelay(func, 1, args);\n    });\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke the function with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => logs 'later' after one second\n     */\n    var delay = restParam(function(func, wait, args) {\n      return baseDelay(func, wait, args);\n    });\n\n    /**\n     * Creates a function that returns the result of invoking the provided\n     * functions with the `this` binding of the created function, where each\n     * successive invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {...Function} [funcs] Functions to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow(_.add, square);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flow = createFlow();\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the provided functions from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias backflow, compose\n     * @category Function\n     * @param {...Function} [funcs] Functions to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight(square, _.add);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flowRight = createFlow(true);\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is coerced to a string and used as the\n     * cache key. The `func` is invoked with the `this` binding of the memoized\n     * function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the [`Map`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-properties-of-the-map-prototype-object)\n     * method interface of `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoizing function.\n     * @example\n     *\n     * var upperCase = _.memoize(function(string) {\n     *   return string.toUpperCase();\n     * });\n     *\n     * upperCase('fred');\n     * // => 'FRED'\n     *\n     * // modifying the result cache\n     * upperCase.cache.set('fred', 'BARNEY');\n     * upperCase('fred');\n     * // => 'BARNEY'\n     *\n     * // replacing `_.memoize.Cache`\n     * var object = { 'user': 'fred' };\n     * var other = { 'user': 'barney' };\n     * var identity = _.memoize(_.identity);\n     *\n     * identity(object);\n     * // => { 'user': 'fred' }\n     * identity(other);\n     * // => { 'user': 'fred' }\n     *\n     * _.memoize.Cache = WeakMap;\n     * var identity = _.memoize(_.identity);\n     *\n     * identity(object);\n     * // => { 'user': 'fred' }\n     * identity(other);\n     * // => { 'user': 'barney' }\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments,\n            key = resolver ? resolver.apply(this, args) : args[0],\n            cache = memoized.cache;\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        memoized.cache = cache.set(key, result);\n        return result;\n      };\n      memoized.cache = new memoize.Cache;\n      return memoized;\n    }\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        return !predicate.apply(this, arguments);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first call. The `func` is invoked\n     * with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // `initialize` invokes `createApplication` once\n     */\n    function once(func) {\n      return before(2, func);\n    }\n\n    /**\n     * Creates a function that invokes `func` with `partial` arguments prepended\n     * to those provided to the new function. This method is like `_.bind` except\n     * it does **not** alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method does not set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * var greet = function(greeting, name) {\n     *   return greeting + ' ' + name;\n     * };\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // using placeholders\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    var partial = createPartial(PARTIAL_FLAG);\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to those provided to the new function.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method does not set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * var greet = function(greeting, name) {\n     *   return greeting + ' ' + name;\n     * };\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // using placeholders\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    var partialRight = createPartial(PARTIAL_RIGHT_FLAG);\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified indexes where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes,\n     *  specified as individual indexes or arrays of indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, 2, 0, 1);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     *\n     * var map = _.rearg(_.map, [1, 0]);\n     * map(function(n) {\n     *   return n * 3;\n     * }, [1, 2, 3]);\n     * // => [3, 6, 9]\n     */\n    var rearg = restParam(function(func, indexes) {\n      return createWrapper(func, REARG_FLAG, null, null, null, baseFlatten(indexes));\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as an array.\n     *\n     * **Note:** This method is based on the [rest parameter](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.restParam(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n    function restParam(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = nativeMax(start === undefined ? (func.length - 1) : (+start || 0), 0);\n      return function() {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            rest = Array(length);\n\n        while (++index < length) {\n          rest[index] = args[start + index];\n        }\n        switch (start) {\n          case 0: return func.call(this, rest);\n          case 1: return func.call(this, args[0], rest);\n          case 2: return func.call(this, args[0], args[1], rest);\n        }\n        var otherArgs = Array(start + 1);\n        index = -1;\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n        otherArgs[start] = rest;\n        return func.apply(this, otherArgs);\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the created\n     * function and an array of arguments much like [`Function#apply`](https://es5.github.io/#x15.3.4.3).\n     *\n     * **Note:** This method is based on the [spread operator](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * // with a Promise\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function(array) {\n        return func.apply(this, array);\n      };\n    }\n\n    /**\n     * Creates a throttled function that only invokes `func` at most once per\n     * every `wait` milliseconds. The throttled function comes with a `cancel`\n     * method to cancel delayed invocations. Provide an options object to indicate\n     * that `func` should be invoked on the leading and/or trailing edge of the\n     * `wait` timeout. Subsequent calls to the throttled function return the\n     * result of the last `func` call.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is invoked\n     * on the trailing edge of the timeout only if the the throttled function is\n     * invoked more than once during the `wait` timeout.\n     *\n     * See [David Corbacho's article](http://drupalmotion.com/article/debounce-and-throttle-visual-explanation)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.leading=true] Specify invoking on the leading\n     *  edge of the timeout.\n     * @param {boolean} [options.trailing=true] Specify invoking on the trailing\n     *  edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // avoid excessively updating the position while scrolling\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // invoke `renewToken` when the click event is fired, but not more than once every 5 minutes\n     * jQuery('.interactive').on('click', _.throttle(renewToken, 300000, {\n     *   'trailing': false\n     * }));\n     *\n     * // cancel a trailing throttled call\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (options === false) {\n        leading = false;\n      } else if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      debounceOptions.leading = leading;\n      debounceOptions.maxWait = +wait;\n      debounceOptions.trailing = trailing;\n      return debounce(func, wait, debounceOptions);\n    }\n\n    /**\n     * Creates a function that provides `value` to the wrapper function as its\n     * first argument. Any additional arguments provided to the function are\n     * appended to those provided to the wrapper function. The wrapper is invoked\n     * with the `this` binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} wrapper The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      wrapper = wrapper == null ? identity : wrapper;\n      return createWrapper(wrapper, PARTIAL_FLAG, null, [value], []);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a clone of `value`. If `isDeep` is `true` nested objects are cloned,\n     * otherwise they are assigned by reference. If `customizer` is provided it is\n     * invoked to produce the cloned values. If `customizer` returns `undefined`\n     * cloning is handled by the method instead. The `customizer` is bound to\n     * `thisArg` and invoked with two argument; (value [, index|key, object]).\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm).\n     * The enumerable properties of `arguments` objects and objects created by\n     * constructors other than `Object` are cloned to plain `Object` objects. An\n     * empty object is returned for uncloneable values such as functions, DOM nodes,\n     * Maps, Sets, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @param {Function} [customizer] The function to customize cloning values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {*} Returns the cloned value.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * var shallow = _.clone(users);\n     * shallow[0] === users[0];\n     * // => true\n     *\n     * var deep = _.clone(users, true);\n     * deep[0] === users[0];\n     * // => false\n     *\n     * // using a customizer callback\n     * var el = _.clone(document.body, function(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * });\n     *\n     * el === document.body\n     * // => false\n     * el.nodeName\n     * // => BODY\n     * el.childNodes.length;\n     * // => 0\n     */\n    function clone(value, isDeep, customizer, thisArg) {\n      if (isDeep && typeof isDeep != 'boolean' && isIterateeCall(value, isDeep, customizer)) {\n        isDeep = false;\n      }\n      else if (typeof isDeep == 'function') {\n        thisArg = customizer;\n        customizer = isDeep;\n        isDeep = false;\n      }\n      return typeof customizer == 'function'\n        ? baseClone(value, isDeep, bindCallback(customizer, thisArg, 1))\n        : baseClone(value, isDeep);\n    }\n\n    /**\n     * Creates a deep clone of `value`. If `customizer` is provided it is invoked\n     * to produce the cloned values. If `customizer` returns `undefined` cloning\n     * is handled by the method instead. The `customizer` is bound to `thisArg`\n     * and invoked with two argument; (value [, index|key, object]).\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm).\n     * The enumerable properties of `arguments` objects and objects created by\n     * constructors other than `Object` are cloned to plain `Object` objects. An\n     * empty object is returned for uncloneable values such as functions, DOM nodes,\n     * Maps, Sets, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to deep clone.\n     * @param {Function} [customizer] The function to customize cloning values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {*} Returns the deep cloned value.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * var deep = _.cloneDeep(users);\n     * deep[0] === users[0];\n     * // => false\n     *\n     * // using a customizer callback\n     * var el = _.cloneDeep(document.body, function(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * });\n     *\n     * el === document.body\n     * // => false\n     * el.nodeName\n     * // => BODY\n     * el.childNodes.length;\n     * // => 20\n     */\n    function cloneDeep(value, customizer, thisArg) {\n      return typeof customizer == 'function'\n        ? baseClone(value, true, bindCallback(customizer, thisArg, 1))\n        : baseClone(value, true);\n    }\n\n    /**\n     * Checks if `value` is greater than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`, else `false`.\n     * @example\n     *\n     * _.gt(3, 1);\n     * // => true\n     *\n     * _.gt(3, 3);\n     * // => false\n     *\n     * _.gt(1, 3);\n     * // => false\n     */\n    function gt(value, other) {\n      return value > other;\n    }\n\n    /**\n     * Checks if `value` is greater than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than or equal to `other`, else `false`.\n     * @example\n     *\n     * _.gte(3, 1);\n     * // => true\n     *\n     * _.gte(3, 3);\n     * // => true\n     *\n     * _.gte(1, 3);\n     * // => false\n     */\n    function gte(value, other) {\n      return value >= other;\n    }\n\n    /**\n     * Checks if `value` is classified as an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    function isArguments(value) {\n      return isObjectLike(value) && isArrayLike(value) && objToString.call(value) == argsTag;\n    }\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(function() { return arguments; }());\n     * // => false\n     */\n    var isArray = nativeIsArray || function(value) {\n      return isObjectLike(value) && isLength(value.length) && objToString.call(value) == arrayTag;\n    };\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false || (isObjectLike(value) && objToString.call(value) == boolTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    function isDate(value) {\n      return isObjectLike(value) && objToString.call(value) == dateTag;\n    }\n\n    /**\n     * Checks if `value` is a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return !!value && value.nodeType === 1 && isObjectLike(value) &&\n        (objToString.call(value).indexOf('Element') > -1);\n    }\n    // Fallback for environments without DOM support.\n    if (!support.dom) {\n      isElement = function(value) {\n        return !!value && value.nodeType === 1 && isObjectLike(value) && !isPlainObject(value);\n      };\n    }\n\n    /**\n     * Checks if `value` is empty. A value is considered empty unless it is an\n     * `arguments` object, array, string, or jQuery-like collection with a length\n     * greater than `0` or an object with own enumerable properties.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {Array|Object|string} value The value to inspect.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n      if (isArrayLike(value) && (isArray(value) || isString(value) || isArguments(value) ||\n          (isObjectLike(value) && isFunction(value.splice)))) {\n        return !value.length;\n      }\n      return !keys(value).length;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent. If `customizer` is provided it is invoked to compare values.\n     * If `customizer` returns `undefined` comparisons are handled by the method\n     * instead. The `customizer` is bound to `thisArg` and invoked with three\n     * arguments: (value, other [, index|key]).\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. Functions and DOM nodes\n     * are **not** supported. Provide a customizer function to extend support\n     * for comparing other values.\n     *\n     * @static\n     * @memberOf _\n     * @alias eq\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize value comparisons.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     * var other = { 'user': 'fred' };\n     *\n     * object == other;\n     * // => false\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * // using a customizer callback\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqual(array, other, function(value, other) {\n     *   if (_.every([value, other], RegExp.prototype.test, /^h(?:i|ello)$/)) {\n     *     return true;\n     *   }\n     * });\n     * // => true\n     */\n    function isEqual(value, other, customizer, thisArg) {\n      customizer = typeof customizer == 'function' ? bindCallback(customizer, thisArg, 3) : undefined;\n      var result = customizer ? customizer(value, other) : undefined;\n      return  result === undefined ? baseIsEqual(value, other, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      return isObjectLike(value) && typeof value.message == 'string' && objToString.call(value) == errorTag;\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on [`Number.isFinite`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-number.isfinite).\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(10);\n     * // => true\n     *\n     * _.isFinite('10');\n     * // => false\n     *\n     * _.isFinite(true);\n     * // => false\n     *\n     * _.isFinite(Object(10));\n     * // => false\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     */\n    var isFinite = nativeNumIsFinite || function(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    };\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    var isFunction = !(baseIsFunction(/x/) || (Uint8Array && !baseIsFunction(Uint8Array))) ? baseIsFunction : function(value) {\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in older versions of Chrome and Safari which return 'function' for regexes\n      // and Safari 8 equivalents which return 'object' for typed array constructors.\n      return objToString.call(value) == funcTag;\n    };\n\n    /**\n     * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n     * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(1);\n     * // => false\n     */\n    function isObject(value) {\n      // Avoid a V8 JIT bug in Chrome 19-20.\n      // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n      var type = typeof value;\n      return !!value && (type == 'object' || type == 'function');\n    }\n\n    /**\n     * Performs a deep comparison between `object` and `source` to determine if\n     * `object` contains equivalent property values. If `customizer` is provided\n     * it is invoked to compare values. If `customizer` returns `undefined`\n     * comparisons are handled by the method instead. The `customizer` is bound\n     * to `thisArg` and invoked with three arguments: (value, other, index|key).\n     *\n     * **Note:** This method supports comparing properties of arrays, booleans,\n     * `Date` objects, numbers, `Object` objects, regexes, and strings. Functions\n     * and DOM nodes are **not** supported. Provide a customizer function to extend\n     * support for comparing other values.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize value comparisons.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': 40 };\n     *\n     * _.isMatch(object, { 'age': 40 });\n     * // => true\n     *\n     * _.isMatch(object, { 'age': 36 });\n     * // => false\n     *\n     * // using a customizer callback\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatch(object, source, function(value, other) {\n     *   return _.every([value, other], RegExp.prototype.test, /^h(?:i|ello)$/) || undefined;\n     * });\n     * // => true\n     */\n    function isMatch(object, source, customizer, thisArg) {\n      customizer = typeof customizer == 'function' ? bindCallback(customizer, thisArg, 3) : undefined;\n      return baseIsMatch(object, getMatchData(source), customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is not the same as [`isNaN`](https://es5.github.io/#x15.1.2.4)\n     * which returns `true` for `undefined` and other non-numeric values.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some host objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a native function.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function, else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (value == null) {\n        return false;\n      }\n      if (objToString.call(value) == funcTag) {\n        return reIsNative.test(fnToString.call(value));\n      }\n      return isObjectLike(value) && reIsHostCtor.test(value);\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are classified\n     * as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isNumber(8.4);\n     * // => true\n     *\n     * _.isNumber(NaN);\n     * // => true\n     *\n     * _.isNumber('8.4');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' || (isObjectLike(value) && objToString.call(value) == numberTag);\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * **Note:** This method assumes objects created by the `Object` constructor\n     * have no inherited enumerable properties.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    var isPlainObject = !getPrototypeOf ? shimIsPlainObject : function(value) {\n      if (!(value && objToString.call(value) == objectTag)) {\n        return false;\n      }\n      var valueOf = getNative(value, 'valueOf'),\n          objProto = valueOf && (objProto = getPrototypeOf(valueOf)) && getPrototypeOf(objProto);\n\n      return objProto\n        ? (value == objProto || getPrototypeOf(value) == objProto)\n        : shimIsPlainObject(value);\n    };\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    function isRegExp(value) {\n      return isObjectLike(value) && objToString.call(value) == regexpTag;\n    }\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' || (isObjectLike(value) && objToString.call(value) == stringTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    function isTypedArray(value) {\n      return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[objToString.call(value)];\n    }\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return value === undefined;\n    }\n\n    /**\n     * Checks if `value` is less than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`, else `false`.\n     * @example\n     *\n     * _.lt(1, 3);\n     * // => true\n     *\n     * _.lt(3, 3);\n     * // => false\n     *\n     * _.lt(3, 1);\n     * // => false\n     */\n    function lt(value, other) {\n      return value < other;\n    }\n\n    /**\n     * Checks if `value` is less than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than or equal to `other`, else `false`.\n     * @example\n     *\n     * _.lte(1, 3);\n     * // => true\n     *\n     * _.lte(3, 3);\n     * // => true\n     *\n     * _.lte(3, 1);\n     * // => false\n     */\n    function lte(value, other) {\n      return value <= other;\n    }\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * (function() {\n     *   return _.toArray(arguments).slice(1);\n     * }(1, 2, 3));\n     * // => [2, 3]\n     */\n    function toArray(value) {\n      var length = value ? getLength(value) : 0;\n      if (!isLength(length)) {\n        return values(value);\n      }\n      if (!length) {\n        return [];\n      }\n      return arrayCopy(value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable\n     * properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return baseCopy(value, keysIn(value));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable properties of source object(s) to the destination\n     * object. Subsequent sources overwrite property assignments of previous sources.\n     * If `customizer` is provided it is invoked to produce the assigned values.\n     * The `customizer` is bound to `thisArg` and invoked with five arguments:\n     * (objectValue, sourceValue, key, object, source).\n     *\n     * **Note:** This method mutates `object` and is based on\n     * [`Object.assign`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.assign).\n     *\n     * @static\n     * @memberOf _\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.assign({ 'user': 'barney' }, { 'age': 40 }, { 'user': 'fred' });\n     * // => { 'user': 'fred', 'age': 40 }\n     *\n     * // using a customizer callback\n     * var defaults = _.partialRight(_.assign, function(value, other) {\n     *   return _.isUndefined(value) ? other : value;\n     * });\n     *\n     * defaults({ 'user': 'barney' }, { 'age': 36 }, { 'user': 'fred' });\n     * // => { 'user': 'barney', 'age': 36 }\n     */\n    var assign = createAssigner(function(object, source, customizer) {\n      return customizer\n        ? assignWith(object, source, customizer)\n        : baseAssign(object, source);\n    });\n\n    /**\n     * Creates an object that inherits from the given `prototype` object. If a\n     * `properties` object is provided its own enumerable properties are assigned\n     * to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties, guard) {\n      var result = baseCreate(prototype);\n      if (guard && isIterateeCall(prototype, properties, guard)) {\n        properties = null;\n      }\n      return properties ? baseAssign(result, properties) : result;\n    }\n\n    /**\n     * Assigns own enumerable properties of source object(s) to the destination\n     * object for all destination properties that resolve to `undefined`. Once a\n     * property is set, additional values of the same property are ignored.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.defaults({ 'user': 'barney' }, { 'age': 36 }, { 'user': 'fred' });\n     * // => { 'user': 'barney', 'age': 36 }\n     */\n    var defaults = restParam(function(args) {\n      var object = args[0];\n      if (object == null) {\n        return object;\n      }\n      args.push(assignDefaults);\n      return assign.apply(undefined, args);\n    });\n\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {string|undefined} Returns the key of the matched element, else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(chr) {\n     *   return chr.age < 40;\n     * });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findKey(users, 'active', false);\n     * // => 'fred'\n     *\n     * // using the `_.property` callback shorthand\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    var findKey = createFindKey(baseForOwn);\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {string|undefined} Returns the key of the matched element, else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(chr) {\n     *   return chr.age < 40;\n     * });\n     * // => returns `pebbles` assuming `_.findKey` returns `barney`\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findLastKey(users, 'active', false);\n     * // => 'fred'\n     *\n     * // using the `_.property` callback shorthand\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    var findLastKey = createFindKey(baseForOwnRight);\n\n    /**\n     * Iterates over own and inherited enumerable properties of an object invoking\n     * `iteratee` for each property. The `iteratee` is bound to `thisArg` and invoked\n     * with three arguments: (value, key, object). Iteratee functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'a', 'b', and 'c' (iteration order is not guaranteed)\n     */\n    var forIn = createForIn(baseFor);\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'c', 'b', and 'a' assuming `_.forIn ` logs 'a', 'b', and 'c'\n     */\n    var forInRight = createForIn(baseForRight);\n\n    /**\n     * Iterates over own enumerable properties of an object invoking `iteratee`\n     * for each property. The `iteratee` is bound to `thisArg` and invoked with\n     * three arguments: (value, key, object). Iteratee functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'a' and 'b' (iteration order is not guaranteed)\n     */\n    var forOwn = createForOwn(baseForOwn);\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'b' and 'a' assuming `_.forOwn` logs 'a' and 'b'\n     */\n    var forOwnRight = createForOwn(baseForOwnRight);\n\n    /**\n     * Creates an array of function property names from all enumerable properties,\n     * own and inherited, of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @alias methods\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the new array of property names.\n     * @example\n     *\n     * _.functions(_);\n     * // => ['after', 'ary', 'assign', ...]\n     */\n    function functions(object) {\n      return baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Gets the property value at `path` of `object`. If the resolved value is\n     * `undefined` the `defaultValue` is used in its place.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} [defaultValue] The value returned if the resolved value is `undefined`.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.get(object, 'a[0].b.c');\n     * // => 3\n     *\n     * _.get(object, ['a', '0', 'b', 'c']);\n     * // => 3\n     *\n     * _.get(object, 'a.b.c', 'default');\n     * // => 'default'\n     */\n    function get(object, path, defaultValue) {\n      var result = object == null ? undefined : baseGet(object, toPath(path), path + '');\n      return result === undefined ? defaultValue : result;\n    }\n\n    /**\n     * Checks if `path` is a direct property.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` is a direct property, else `false`.\n     * @example\n     *\n     * var object = { 'a': { 'b': { 'c': 3 } } };\n     *\n     * _.has(object, 'a');\n     * // => true\n     *\n     * _.has(object, 'a.b.c');\n     * // => true\n     *\n     * _.has(object, ['a', 'b', 'c']);\n     * // => true\n     */\n    function has(object, path) {\n      if (object == null) {\n        return false;\n      }\n      var result = hasOwnProperty.call(object, path);\n      if (!result && !isKey(path)) {\n        path = toPath(path);\n        object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n        if (object == null) {\n          return false;\n        }\n        path = last(path);\n        result = hasOwnProperty.call(object, path);\n      }\n      return result || (isLength(object.length) && isIndex(path, object.length) &&\n        (isArray(object) || isArguments(object)));\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite property\n     * assignments of previous values unless `multiValue` is `true`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {boolean} [multiValue] Allow multiple values per key.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     *\n     * // with `multiValue`\n     * _.invert(object, true);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function invert(object, multiValue, guard) {\n      if (guard && isIterateeCall(object, multiValue, guard)) {\n        multiValue = null;\n      }\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = {};\n\n      while (++index < length) {\n        var key = props[index],\n            value = object[key];\n\n        if (multiValue) {\n          if (hasOwnProperty.call(result, value)) {\n            result[value].push(key);\n          } else {\n            result[value] = [key];\n          }\n        }\n        else {\n          result[value] = key;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    var keys = !nativeKeys ? shimKeys : function(object) {\n      var Ctor = object == null ? null : object.constructor;\n      if ((typeof Ctor == 'function' && Ctor.prototype === object) ||\n          (typeof object != 'function' && isArrayLike(object))) {\n        return shimKeys(object);\n      }\n      return isObject(object) ? nativeKeys(object) : [];\n    };\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      if (object == null) {\n        return [];\n      }\n      if (!isObject(object)) {\n        object = Object(object);\n      }\n      var length = object.length;\n      length = (length && isLength(length) &&\n        (isArray(object) || isArguments(object)) && length) || 0;\n\n      var Ctor = object.constructor,\n          index = -1,\n          isProto = typeof Ctor == 'function' && Ctor.prototype === object,\n          result = Array(length),\n          skipIndexes = length > 0;\n\n      while (++index < length) {\n        result[index] = (index + '');\n      }\n      for (var key in object) {\n        if (!(skipIndexes && isIndex(key, length)) &&\n            !(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The opposite of `_.mapValues`; this method creates an object with the\n     * same values as `object` and keys generated by running each own enumerable\n     * property of `object` through `iteratee`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the new mapped object.\n     * @example\n     *\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   return key + value;\n     * });\n     * // => { 'a1': 1, 'b2': 2 }\n     */\n    var mapKeys = createObjectMapper(true);\n\n    /**\n     * Creates an object with the same keys as `object` and values generated by\n     * running each own enumerable property of `object` through `iteratee`. The\n     * iteratee function is bound to `thisArg` and invoked with three arguments:\n     * (value, key, object).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the new mapped object.\n     * @example\n     *\n     * _.mapValues({ 'a': 1, 'b': 2 }, function(n) {\n     *   return n * 3;\n     * });\n     * // => { 'a': 3, 'b': 6 }\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * // using the `_.property` callback shorthand\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    var mapValues = createObjectMapper();\n\n    /**\n     * Recursively merges own enumerable properties of the source object(s), that\n     * don't resolve to `undefined` into the destination object. Subsequent sources\n     * overwrite property assignments of previous sources. If `customizer` is\n     * provided it is invoked to produce the merged values of the destination and\n     * source properties. If `customizer` returns `undefined` merging is handled\n     * by the method instead. The `customizer` is bound to `thisArg` and invoked\n     * with five arguments: (objectValue, sourceValue, key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var users = {\n     *   'data': [{ 'user': 'barney' }, { 'user': 'fred' }]\n     * };\n     *\n     * var ages = {\n     *   'data': [{ 'age': 36 }, { 'age': 40 }]\n     * };\n     *\n     * _.merge(users, ages);\n     * // => { 'data': [{ 'user': 'barney', 'age': 36 }, { 'user': 'fred', 'age': 40 }] }\n     *\n     * // using a customizer callback\n     * var object = {\n     *   'fruits': ['apple'],\n     *   'vegetables': ['beet']\n     * };\n     *\n     * var other = {\n     *   'fruits': ['banana'],\n     *   'vegetables': ['carrot']\n     * };\n     *\n     * _.merge(object, other, function(a, b) {\n     *   if (_.isArray(a)) {\n     *     return a.concat(b);\n     *   }\n     * });\n     * // => { 'fruits': ['apple', 'banana'], 'vegetables': ['beet', 'carrot'] }\n     */\n    var merge = createAssigner(baseMerge);\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable properties of `object` that are not omitted.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function|...(string|string[])} [predicate] The function invoked per\n     *  iteration or property names to omit, specified as individual property\n     *  names or arrays of property names.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': 40 };\n     *\n     * _.omit(object, 'age');\n     * // => { 'user': 'fred' }\n     *\n     * _.omit(object, _.isNumber);\n     * // => { 'user': 'fred' }\n     */\n    var omit = restParam(function(object, props) {\n      if (object == null) {\n        return {};\n      }\n      if (typeof props[0] != 'function') {\n        var props = arrayMap(baseFlatten(props), String);\n        return pickByArray(object, baseDifference(keysIn(object), props));\n      }\n      var predicate = bindCallback(props[0], props[1], 3);\n      return pickByCallback(object, function(value, key, object) {\n        return !predicate(value, key, object);\n      });\n    });\n\n    /**\n     * Creates a two dimensional array of the key-value pairs for `object`,\n     * e.g. `[[key1, value1], [key2, value2]]`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the new array of key-value pairs.\n     * @example\n     *\n     * _.pairs({ 'barney': 36, 'fred': 40 });\n     * // => [['barney', 36], ['fred', 40]] (iteration order is not guaranteed)\n     */\n    function pairs(object) {\n      object = toObject(object);\n\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = Array(length);\n\n      while (++index < length) {\n        var key = props[index];\n        result[index] = [key, object[key]];\n      }\n      return result;\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties. Property\n     * names may be specified as individual arguments or as arrays of property\n     * names. If `predicate` is provided it is invoked for each property of `object`\n     * picking the properties `predicate` returns truthy for. The predicate is\n     * bound to `thisArg` and invoked with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function|...(string|string[])} [predicate] The function invoked per\n     *  iteration or property names to pick, specified as individual property\n     *  names or arrays of property names.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': 40 };\n     *\n     * _.pick(object, 'user');\n     * // => { 'user': 'fred' }\n     *\n     * _.pick(object, _.isString);\n     * // => { 'user': 'fred' }\n     */\n    var pick = restParam(function(object, props) {\n      if (object == null) {\n        return {};\n      }\n      return typeof props[0] == 'function'\n        ? pickByCallback(object, bindCallback(props[0], props[1], 3))\n        : pickByArray(object, baseFlatten(props));\n    });\n\n    /**\n     * This method is like `_.get` except that if the resolved value is a function\n     * it is invoked with the `this` binding of its parent object and its result\n     * is returned.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to resolve.\n     * @param {*} [defaultValue] The value returned if the resolved value is `undefined`.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n     *\n     * _.result(object, 'a[0].b.c1');\n     * // => 3\n     *\n     * _.result(object, 'a[0].b.c2');\n     * // => 4\n     *\n     * _.result(object, 'a.b.c', 'default');\n     * // => 'default'\n     *\n     * _.result(object, 'a.b.c', _.constant('default'));\n     * // => 'default'\n     */\n    function result(object, path, defaultValue) {\n      var result = object == null ? undefined : object[path];\n      if (result === undefined) {\n        if (object != null && !isKey(path, object)) {\n          path = toPath(path);\n          object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n          result = object == null ? undefined : object[last(path)];\n        }\n        result = result === undefined ? defaultValue : result;\n      }\n      return isFunction(result) ? result.call(object) : result;\n    }\n\n    /**\n     * Sets the property value of `path` on `object`. If a portion of `path`\n     * does not exist it is created.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to augment.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.set(object, 'a[0].b.c', 4);\n     * console.log(object.a[0].b.c);\n     * // => 4\n     *\n     * _.set(object, 'x[0].y.z', 5);\n     * console.log(object.x[0].y.z);\n     * // => 5\n     */\n    function set(object, path, value) {\n      if (object == null) {\n        return object;\n      }\n      var pathKey = (path + '');\n      path = (object[pathKey] != null || isKey(path, object)) ? [pathKey] : toPath(path);\n\n      var index = -1,\n          length = path.length,\n          lastIndex = length - 1,\n          nested = object;\n\n      while (nested != null && ++index < length) {\n        var key = path[index];\n        if (isObject(nested)) {\n          if (index == lastIndex) {\n            nested[key] = value;\n          } else if (nested[key] == null) {\n            nested[key] = isIndex(path[index + 1]) ? [] : {};\n          }\n        }\n        nested = nested[key];\n      }\n      return object;\n    }\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own enumerable\n     * properties through `iteratee`, with each invocation potentially mutating\n     * the `accumulator` object. The `iteratee` is bound to `thisArg` and invoked\n     * with four arguments: (accumulator, value, key, object). Iteratee functions\n     * may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Array|Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * });\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2 }, function(result, n, key) {\n     *   result[key] = n * 3;\n     * });\n     * // => { 'a': 3, 'b': 6 }\n     */\n    function transform(object, iteratee, accumulator, thisArg) {\n      var isArr = isArray(object) || isTypedArray(object);\n      iteratee = getCallback(iteratee, thisArg, 4);\n\n      if (accumulator == null) {\n        if (isArr || isObject(object)) {\n          var Ctor = object.constructor;\n          if (isArr) {\n            accumulator = isArray(object) ? new Ctor : [];\n          } else {\n            accumulator = baseCreate(isFunction(Ctor) ? Ctor.prototype : null);\n          }\n        } else {\n          accumulator = {};\n        }\n      }\n      (isArr ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Creates an array of the own enumerable property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return baseValues(object, keys(object));\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property values\n     * of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return baseValues(object, keysIn(object));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Checks if `n` is between `start` and up to but not including, `end`. If\n     * `end` is not specified it is set to `start` with `start` then set to `0`.\n     *\n     * @static\n     * @memberOf _\n     * @category Number\n     * @param {number} n The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `n` is in the range, else `false`.\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     */\n    function inRange(value, start, end) {\n      start = +start || 0;\n      if (typeof end === 'undefined') {\n        end = start;\n        start = 0;\n      } else {\n        end = +end || 0;\n      }\n      return value >= nativeMin(start, end) && value < nativeMax(start, end);\n    }\n\n    /**\n     * Produces a random number between `min` and `max` (inclusive). If only one\n     * argument is provided a number between `0` and the given number is returned.\n     * If `floating` is `true`, or either `min` or `max` are floats, a floating-point\n     * number is returned instead of an integer.\n     *\n     * @static\n     * @memberOf _\n     * @category Number\n     * @param {number} [min=0] The minimum possible value.\n     * @param {number} [max=1] The maximum possible value.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(min, max, floating) {\n      if (floating && isIterateeCall(min, max, floating)) {\n        max = floating = null;\n      }\n      var noMin = min == null,\n          noMax = max == null;\n\n      if (floating == null) {\n        if (noMax && typeof min == 'boolean') {\n          floating = min;\n          min = 1;\n        }\n        else if (typeof max == 'boolean') {\n          floating = max;\n          noMax = true;\n        }\n      }\n      if (noMin && noMax) {\n        max = 1;\n        noMax = false;\n      }\n      min = +min || 0;\n      if (noMax) {\n        max = min;\n        min = 0;\n      } else {\n        max = +max || 0;\n      }\n      if (floating || min % 1 || max % 1) {\n        var rand = nativeRandom();\n        return nativeMin(min + (rand * (max - min + parseFloat('1e-' + ((rand + '').length - 1)))), max);\n      }\n      return baseRandom(min, max);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__foo_bar__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? (word.charAt(0).toUpperCase() + word.slice(1)) : word);\n    });\n\n    /**\n     * Capitalizes the first character of `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('fred');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      string = baseToString(string);\n      return string && (string.charAt(0).toUpperCase() + string.slice(1));\n    }\n\n    /**\n     * Deburrs `string` by converting [latin-1 supplementary letters](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * to basic latin letters and removing [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('déjà vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = baseToString(string);\n      return string && string.replace(reLatin1, deburrLetter).replace(reComboMark, '');\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to search.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search from.\n     * @returns {boolean} Returns `true` if `string` ends with `target`, else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = baseToString(string);\n      target = (target + '');\n\n      var length = string.length;\n      position = position === undefined\n        ? length\n        : nativeMin(position < 0 ? 0 : (+position || 0), length);\n\n      position -= target.length;\n      return position >= 0 && string.indexOf(target, position) == position;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', \"'\", and \"\\`\", in `string` to\n     * their corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional characters\n     * use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value.\n     * See [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * Backticks are escaped because in Internet Explorer < 9, they can break out\n     * of attribute values or HTML comments. See [#59](https://html5sec.org/#59),\n     * [#102](https://html5sec.org/#102), [#108](https://html5sec.org/#108), and\n     * [#133](https://html5sec.org/#133) of the [HTML5 Security Cheatsheet](https://html5sec.org/)\n     * for more details.\n     *\n     * When working with HTML you should always [quote attribute values](http://wonko.com/post/html-escaping)\n     * to reduce XSS vectors.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      // Reset `lastIndex` because in IE < 9 `String#replace` does not.\n      string = baseToString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"\\\", \"/\", \"^\", \"$\", \".\", \"|\", \"?\",\n     * \"*\", \"+\", \"(\", \")\", \"[\", \"]\", \"{\" and \"}\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https:\\/\\/lodash\\.com\\/\\)'\n     */\n    function escapeRegExp(string) {\n      string = baseToString(string);\n      return (string && reHasRegExpChars.test(string))\n        ? string.replace(reRegExpChars, '\\\\$&')\n        : string;\n    }\n\n    /**\n     * Converts `string` to [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__foo_bar__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Pads `string` on the left and right sides if it's shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = baseToString(string);\n      length = +length;\n\n      var strLength = string.length;\n      if (strLength >= length || !nativeIsFinite(length)) {\n        return string;\n      }\n      var mid = (length - strLength) / 2,\n          leftLength = floor(mid),\n          rightLength = ceil(mid);\n\n      chars = createPadding('', rightLength, chars);\n      return chars.slice(0, leftLength) + string + chars;\n    }\n\n    /**\n     * Pads `string` on the left side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padLeft('abc', 6);\n     * // => '   abc'\n     *\n     * _.padLeft('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padLeft('abc', 3);\n     * // => 'abc'\n     */\n    var padLeft = createPadDir();\n\n    /**\n     * Pads `string` on the right side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padRight('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padRight('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padRight('abc', 3);\n     * // => 'abc'\n     */\n    var padRight = createPadDir(true);\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a hexadecimal,\n     * in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the [ES5 implementation](https://es5.github.io/#E)\n     * of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      if (guard && isIterateeCall(string, radix, guard)) {\n        radix = 0;\n      }\n      return nativeParseInt(string, radix);\n    }\n    // Fallback for environments with pre-ES5 implementations.\n    if (nativeParseInt(whitespace + '08') != 8) {\n      parseInt = function(string, radix, guard) {\n        // Firefox < 21 and Opera < 15 follow ES3 for `parseInt`.\n        // Chrome fails to trim leading <BOM> whitespace characters.\n        // See https://code.google.com/p/v8/issues/detail?id=3109 for more details.\n        if (guard ? isIterateeCall(string, radix, guard) : radix == null) {\n          radix = 0;\n        } else if (radix) {\n          radix = +radix;\n        }\n        string = trim(string);\n        return nativeParseInt(string, radix || (reHasHexPrefix.test(string) ? 16 : 10));\n      };\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=0] The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n) {\n      var result = '';\n      string = baseToString(string);\n      n = +n;\n      if (n < 1 || !string || !nativeIsFinite(n)) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = floor(n / 2);\n        string += string;\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * Converts `string` to [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--foo-bar');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string` to [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__foo_bar__');\n     * // => 'Foo Bar'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + (word.charAt(0).toUpperCase() + word.slice(1));\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to search.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`, else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = baseToString(string);\n      position = position == null\n        ? 0\n        : nativeMin(position < 0 ? 0 : (+position || 0), string.length);\n\n      return string.lastIndexOf(target, position) == position;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is provided it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options] The options object.\n     * @param {RegExp} [options.escape] The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate] The \"evaluate\" delimiter.\n     * @param {Object} [options.imports] An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate] The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL] The sourceURL of the template's compiled source.\n     * @param {string} [options.variable] The data object variable name.\n     * @param- {Object} [otherOptions] Enables the legacy `options` param signature.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // using the \"interpolate\" delimiter to create a compiled template\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // using the HTML \"escape\" delimiter to escape data property values\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // using the \"evaluate\" delimiter to execute JavaScript and generate HTML\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // using the internal `print` function in \"evaluate\" delimiters\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // using the ES delimiter as an alternative to the default \"interpolate\" delimiter\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // using custom template delimiters\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // using backslashes to treat delimiters as plain text\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // using the `imports` option to import `jQuery` as `jq`\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // using the `sourceURL` option to specify a custom sourceURL for the template\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector\n     *\n     * // using the `variable` option to ensure a with-statement isn't used in the compiled template\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // using the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and a stack trace\n     * fs.writeFileSync(path.join(cwd, 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, otherOptions) {\n      // Based on John Resig's `tmpl` implementation (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (otherOptions && isIterateeCall(string, options, otherOptions)) {\n        options = otherOptions = null;\n      }\n      string = baseToString(string);\n      options = assignWith(baseAssign({}, otherOptions || options), settings, assignOwnDefaults);\n\n      var imports = assignWith(baseAssign({}, options.imports), settings.imports, assignOwnDefaults),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      var sourceURL = '//# sourceURL=' +\n        ('sourceURL' in options\n          ? options.sourceURL\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products requires returning the `match`\n        // string in order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      var variable = options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source).apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n    function trim(string, chars, guard) {\n      var value = string;\n      string = baseToString(string);\n      if (!string) {\n        return string;\n      }\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\n        return string.slice(trimmedLeftIndex(string), trimmedRightIndex(string) + 1);\n      }\n      chars = (chars + '');\n      return string.slice(charsLeftIndex(string, chars), charsRightIndex(string, chars) + 1);\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimLeft('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimLeft('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimLeft(string, chars, guard) {\n      var value = string;\n      string = baseToString(string);\n      if (!string) {\n        return string;\n      }\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\n        return string.slice(trimmedLeftIndex(string));\n      }\n      return string.slice(charsLeftIndex(string, (chars + '')));\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimRight('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimRight('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimRight(string, chars, guard) {\n      var value = string;\n      string = baseToString(string);\n      if (!string) {\n        return string;\n      }\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\n        return string.slice(0, trimmedRightIndex(string) + 1);\n      }\n      return string.slice(0, charsRightIndex(string, (chars + '')) + 1);\n    }\n\n    /**\n     * Truncates `string` if it's longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object|number} [options] The options object or maximum string length.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.trunc('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', 24);\n     * // => 'hi-diddly-ho there, n...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function trunc(string, options, guard) {\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = null;\n      }\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (options != null) {\n        if (isObject(options)) {\n          var separator = 'separator' in options ? options.separator : separator;\n          length = 'length' in options ? (+options.length || 0) : length;\n          omission = 'omission' in options ? baseToString(options.omission) : omission;\n        } else {\n          length = +options || 0;\n        }\n      }\n      string = baseToString(string);\n      if (length >= string.length) {\n        return string;\n      }\n      var end = length - omission.length;\n      if (end < 1) {\n        return omission;\n      }\n      var result = string.slice(0, end);\n      if (separator == null) {\n        return result + omission;\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              newEnd,\n              substring = string.slice(0, end);\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, (reFlags.exec(separator) || '') + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            newEnd = match.index;\n          }\n          result = result.slice(0, newEnd == null ? end : newEnd);\n        }\n      } else if (string.indexOf(separator, end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, `&#39;`, and `&#96;` in `string` to their\n     * corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional HTML\n     * entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = baseToString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      if (guard && isIterateeCall(string, pattern, guard)) {\n        pattern = null;\n      }\n      string = baseToString(string);\n      return string.match(pattern || reWords) || [];\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Function} func The function to attempt.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // avoid throwing errors for invalid selectors\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    var attempt = restParam(function(func, args) {\n      try {\n        return func.apply(undefined, args);\n      } catch(e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and arguments of the created function. If `func` is a property name the\n     * created callback returns the property value for a given element. If `func`\n     * is an object the created callback returns `true` for elements that contain\n     * the equivalent object properties, otherwise it returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias iteratee\n     * @category Utility\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // wrap to create custom callback shorthands\n     * _.callback = _.wrap(_.callback, function(callback, func, thisArg) {\n     *   var match = /^(.+?)__([gl]t)(.+)$/.exec(func);\n     *   if (!match) {\n     *     return callback(func, thisArg);\n     *   }\n     *   return function(object) {\n     *     return match[2] == 'gt'\n     *       ? object[match[1]] > match[3]\n     *       : object[match[1]] < match[3];\n     *   };\n     * });\n     *\n     * _.filter(users, 'age__gt36');\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     */\n    function callback(func, thisArg, guard) {\n      if (guard && isIterateeCall(func, thisArg, guard)) {\n        thisArg = null;\n      }\n      return isObjectLike(func)\n        ? matches(func)\n        : baseCallback(func, thisArg);\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     * var getter = _.constant(object);\n     *\n     * getter() === object;\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * This method returns the first argument provided to it.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * _.identity(object) === object;\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function that performs a deep comparison between a given object\n     * and `source`, returning `true` if the given object has equivalent property\n     * values, else `false`.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. For comparing a single\n     * own or inherited property value see `_.matchesProperty`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, _.matches({ 'age': 40, 'active': false }));\n     * // => [{ 'user': 'fred', 'age': 40, 'active': false }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, true));\n    }\n\n    /**\n     * Creates a function that compares the property value of `path` on a given\n     * object to `value`.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * _.find(users, _.matchesProperty('user', 'fred'));\n     * // => { 'user': 'fred' }\n     */\n    function matchesProperty(path, srcValue) {\n      return baseMatchesProperty(path, baseClone(srcValue, true));\n    }\n\n    /**\n     * Creates a function that invokes the method at `path` on a given object.\n     * Any additional arguments are provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': { 'c': _.constant(2) } } },\n     *   { 'a': { 'b': { 'c': _.constant(1) } } }\n     * ];\n     *\n     * _.map(objects, _.method('a.b.c'));\n     * // => [2, 1]\n     *\n     * _.invoke(_.sortBy(objects, _.method(['a', 'b', 'c'])), 'a.b.c');\n     * // => [1, 2]\n     */\n    var method = restParam(function(path, args) {\n      return function(object) {\n        return invokePath(object, path, args);\n      };\n    });\n\n    /**\n     * The opposite of `_.method`; this method creates a function that invokes\n     * the method at a given path on `object`. Any additional arguments are\n     * provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Object} object The object to query.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var array = _.times(3, _.constant),\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n     * // => [2, 0]\n     */\n    var methodOf = restParam(function(object, args) {\n      return function(path) {\n        return invokePath(object, path, args);\n      };\n    });\n\n    /**\n     * Adds all own enumerable function properties of a source object to the\n     * destination object. If `object` is a function then methods are added to\n     * its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n     * avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Function|Object} [object=lodash] The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.chain=true] Specify whether the functions added\n     *  are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      if (options == null) {\n        var isObj = isObject(source),\n            props = isObj ? keys(source) : null,\n            methodNames = (props && props.length) ? baseFunctions(source, props) : null;\n\n        if (!(methodNames ? methodNames.length : isObj)) {\n          methodNames = false;\n          options = source;\n          source = object;\n          object = this;\n        }\n      }\n      if (!methodNames) {\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = true,\n          index = -1,\n          isFunc = isFunction(object),\n          length = methodNames.length;\n\n      if (options === false) {\n        chain = false;\n      } else if (isObject(options) && 'chain' in options) {\n        chain = options.chain;\n      }\n      while (++index < length) {\n        var methodName = methodNames[index],\n            func = source[methodName];\n\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = (function(func) {\n            return function() {\n              var chainAll = this.__chain__;\n              if (chain || chainAll) {\n                var result = object(this.__wrapped__),\n                    actions = result.__actions__ = arrayCopy(this.__actions__);\n\n                actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\n                result.__chain__ = chainAll;\n                return result;\n              }\n              var args = [this.value()];\n              push.apply(args, arguments);\n              return func.apply(object, args);\n            };\n          }(func));\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      context._ = oldDash;\n      return this;\n    }\n\n    /**\n     * A no-operation function that returns `undefined` regardless of the\n     * arguments it receives.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * _.noop(object) === undefined;\n     * // => true\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function that returns the property value at `path` on a\n     * given object.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': { 'c': 2 } } },\n     *   { 'a': { 'b': { 'c': 1 } } }\n     * ];\n     *\n     * _.map(objects, _.property('a.b.c'));\n     * // => [2, 1]\n     *\n     * _.pluck(_.sortBy(objects, _.property(['a', 'b', 'c'])), 'a.b.c');\n     * // => [1, 2]\n     */\n    function property(path) {\n      return isKey(path) ? baseProperty(path) : basePropertyDeep(path);\n    }\n\n    /**\n     * The opposite of `_.property`; this method creates a function that returns\n     * the property value at a given path on `object`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var array = [0, 1, 2],\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n     * // => [2, 0]\n     */\n    function propertyOf(object) {\n      return function(path) {\n        return baseGet(object, toPath(path), path + '');\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. If `end` is not specified it is\n     * set to `start` with `start` then set to `0`. If `end` is less than `start`\n     * a zero-length range is created unless a negative `step` is specified.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the new array of numbers.\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    function range(start, end, step) {\n      if (step && isIterateeCall(start, end, step)) {\n        end = step = null;\n      }\n      start = +start || 0;\n      step = step == null ? 1 : (+step || 0);\n\n      if (end == null) {\n        end = start;\n        start = 0;\n      } else {\n        end = +end || 0;\n      }\n      // Use `Array(length)` so engines like Chakra and V8 avoid slower modes.\n      // See https://youtu.be/XAqIpGU8ZZk#t=17m25s for more details.\n      var index = -1,\n          length = nativeMax(ceil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * Invokes the iteratee function `n` times, returning an array of the results\n     * of each invocation. The `iteratee` is bound to `thisArg` and invoked with\n     * one argument; (index).\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * var diceRolls = _.times(3, _.partial(_.random, 1, 6, false));\n     * // => [3, 6, 4]\n     *\n     * _.times(3, function(n) {\n     *   mage.castSpell(n);\n     * });\n     * // => invokes `mage.castSpell(n)` three times with `n` of `0`, `1`, and `2`\n     *\n     * _.times(3, function(n) {\n     *   this.cast(n);\n     * }, mage);\n     * // => also invokes `mage.castSpell(n)` three times\n     */\n    function times(n, iteratee, thisArg) {\n      n = floor(n);\n\n      // Exit early to avoid a JSC JIT bug in Safari 8\n      // where `Array(0)` is treated as `Array(1)`.\n      if (n < 1 || !nativeIsFinite(n)) {\n        return [];\n      }\n      var index = -1,\n          result = Array(nativeMin(n, MAX_ARRAY_LENGTH));\n\n      iteratee = bindCallback(iteratee, thisArg, 1);\n      while (++index < n) {\n        if (index < MAX_ARRAY_LENGTH) {\n          result[index] = iteratee(index);\n        } else {\n          iteratee(index);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is provided the ID is appended to it.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {string} [prefix] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return baseToString(prefix) + id;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {number} augend The first number to add.\n     * @param {number} addend The second number to add.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n    function add(augend, addend) {\n      return (+augend || 0) + (+addend || 0);\n    }\n\n    /**\n     * Gets the maximum value of `collection`. If `collection` is empty or falsey\n     * `-Infinity` is returned. If an iteratee function is provided it is invoked\n     * for each value in `collection` to generate the criterion by which the value\n     * is ranked. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => -Infinity\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.max(users, function(chr) {\n     *   return chr.age;\n     * });\n     * // => { 'user': 'fred', 'age': 40 }\n     *\n     * // using the `_.property` callback shorthand\n     * _.max(users, 'age');\n     * // => { 'user': 'fred', 'age': 40 }\n     */\n    var max = createExtremum(gt, NEGATIVE_INFINITY);\n\n    /**\n     * Gets the minimum value of `collection`. If `collection` is empty or falsey\n     * `Infinity` is returned. If an iteratee function is provided it is invoked\n     * for each value in `collection` to generate the criterion by which the value\n     * is ranked. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => Infinity\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.min(users, function(chr) {\n     *   return chr.age;\n     * });\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // using the `_.property` callback shorthand\n     * _.min(users, 'age');\n     * // => { 'user': 'barney', 'age': 36 }\n     */\n    var min = createExtremum(lt, POSITIVE_INFINITY);\n\n    /**\n     * Gets the sum of the values in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 6]);\n     * // => 10\n     *\n     * _.sum({ 'a': 4, 'b': 6 });\n     * // => 10\n     *\n     * var objects = [\n     *   { 'n': 4 },\n     *   { 'n': 6 }\n     * ];\n     *\n     * _.sum(objects, function(object) {\n     *   return object.n;\n     * });\n     * // => 10\n     *\n     * // using the `_.property` callback shorthand\n     * _.sum(objects, 'n');\n     * // => 10\n     */\n    function sum(collection, iteratee, thisArg) {\n      if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\n        iteratee = null;\n      }\n      var callback = getCallback(),\n          noIteratee = iteratee == null;\n\n      if (!(noIteratee && callback === baseCallback)) {\n        noIteratee = false;\n        iteratee = callback(iteratee, thisArg, 3);\n      }\n      return noIteratee\n        ? arraySum(isArray(collection) ? collection : toIterable(collection))\n        : baseSum(collection, iteratee);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    // Add functions to the `Map` cache.\n    MapCache.prototype['delete'] = mapDelete;\n    MapCache.prototype.get = mapGet;\n    MapCache.prototype.has = mapHas;\n    MapCache.prototype.set = mapSet;\n\n    // Add functions to the `Set` cache.\n    SetCache.prototype.push = cachePush;\n\n    // Assign cache to `_.memoize`.\n    memoize.Cache = MapCache;\n\n    // Add functions that return wrapped values when chaining.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.callback = callback;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.functions = functions;\n    lodash.groupBy = groupBy;\n    lodash.indexBy = indexBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.invert = invert;\n    lodash.invoke = invoke;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapKeys = mapKeys;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.method = method;\n    lodash.methodOf = methodOf;\n    lodash.mixin = mixin;\n    lodash.negate = negate;\n    lodash.omit = omit;\n    lodash.once = once;\n    lodash.pairs = pairs;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pluck = pluck;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.restParam = restParam;\n    lodash.set = set;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortByAll = sortByAll;\n    lodash.sortByOrder = sortByOrder;\n    lodash.spread = spread;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.times = times;\n    lodash.toArray = toArray;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.union = union;\n    lodash.uniq = uniq;\n    lodash.unzip = unzip;\n    lodash.unzipWith = unzipWith;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.where = where;\n    lodash.without = without;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n    lodash.zipWith = zipWith;\n\n    // Add aliases.\n    lodash.backflow = flowRight;\n    lodash.collect = map;\n    lodash.compose = flowRight;\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.extend = assign;\n    lodash.iteratee = callback;\n    lodash.methods = functions;\n    lodash.object = zipObject;\n    lodash.select = filter;\n    lodash.tail = rest;\n    lodash.unique = uniq;\n\n    // Add functions to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add functions that return unwrapped values when chaining.\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.deburr = deburr;\n    lodash.endsWith = endsWith;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.findWhere = findWhere;\n    lodash.first = first;\n    lodash.get = get;\n    lodash.gt = gt;\n    lodash.gte = gte;\n    lodash.has = has;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isBoolean = isBoolean;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isMatch = isMatch;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isString = isString;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.lt = lt;\n    lodash.lte = lte;\n    lodash.max = max;\n    lodash.min = min;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padLeft = padLeft;\n    lodash.padRight = padRight;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.result = result;\n    lodash.runInContext = runInContext;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.sum = sum;\n    lodash.template = template;\n    lodash.trim = trim;\n    lodash.trimLeft = trimLeft;\n    lodash.trimRight = trimRight;\n    lodash.trunc = trunc;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.words = words;\n\n    // Add aliases.\n    lodash.all = every;\n    lodash.any = some;\n    lodash.contains = includes;\n    lodash.eq = isEqual;\n    lodash.detect = find;\n    lodash.foldl = reduce;\n    lodash.foldr = reduceRight;\n    lodash.head = first;\n    lodash.include = includes;\n    lodash.inject = reduce;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!lodash.prototype[methodName]) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), false);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add functions capable of returning wrapped and unwrapped values when chaining.\n    lodash.sample = sample;\n\n    lodash.prototype.sample = function(n) {\n      if (!this.__chain__ && n == null) {\n        return sample(this.value());\n      }\n      return this.thru(function(value) {\n        return sample(value, n);\n      });\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type string\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['dropWhile', 'filter', 'map', 'takeWhile'], function(methodName, type) {\n      var isFilter = type != LAZY_MAP_FLAG,\n          isDropWhile = type == LAZY_DROP_WHILE_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee, thisArg) {\n        var filtered = this.__filtered__,\n            result = (filtered && isDropWhile) ? new LazyWrapper(this) : this.clone(),\n            iteratees = result.__iteratees__ || (result.__iteratees__ = []);\n\n        iteratees.push({\n          'done': false,\n          'count': 0,\n          'index': 0,\n          'iteratee': getCallback(iteratee, thisArg, 1),\n          'limit': -1,\n          'type': type\n        });\n\n        result.__filtered__ = filtered || isFilter;\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      var whileName = methodName + 'While';\n\n      LazyWrapper.prototype[methodName] = function(n) {\n        var filtered = this.__filtered__,\n            result = (filtered && !index) ? this.dropWhile() : this.clone();\n\n        n = n == null ? 1 : nativeMax(floor(n) || 0, 0);\n        if (filtered) {\n          if (index) {\n            result.__takeCount__ = nativeMin(result.__takeCount__, n);\n          } else {\n            last(result.__iteratees__).limit = n;\n          }\n        } else {\n          var views = result.__views__ || (result.__views__ = []);\n          views.push({ 'size': n, 'type': methodName + (result.__dir__ < 0 ? 'Right' : '') });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n\n      LazyWrapper.prototype[methodName + 'RightWhile'] = function(predicate, thisArg) {\n        return this.reverse()[whileName](predicate, thisArg).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.first` and `_.last`.\n    arrayEach(['first', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.rest`.\n    arrayEach(['initial', 'rest'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[dropName](1);\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.pluck` and `_.where`.\n    arrayEach(['pluck', 'where'], function(methodName, index) {\n      var operationName = index ? 'filter' : 'map',\n          createCallback = index ? baseMatches : property;\n\n      LazyWrapper.prototype[methodName] = function(value) {\n        return this[operationName](createCallback(value));\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.reject = function(predicate, thisArg) {\n      predicate = getCallback(predicate, thisArg, 1);\n      return this.filter(function(value) {\n        return !predicate(value);\n      });\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = start == null ? 0 : (+start || 0);\n\n      var result = this;\n      if (start < 0) {\n        result = this.takeRight(-start);\n      } else if (start) {\n        result = this.drop(start);\n      }\n      if (end !== undefined) {\n        end = (+end || 0);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.drop(0);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (!lodashFunc) {\n        return;\n      }\n      var checkIteratee = /^(?:filter|map|reject)|While$/.test(methodName),\n          retUnwrapped = /^(?:first|last)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments,\n            chainAll = this.__chain__,\n            value = this.__wrapped__,\n            isHybrid = !!this.__actions__.length,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // avoid lazy use if the iteratee has a \"length\" value other than `1`\n          isLazy = useLazy = false;\n        }\n        var onlyLazy = isLazy && !isHybrid;\n        if (retUnwrapped && !chainAll) {\n          return onlyLazy\n            ? func.call(value)\n            : lodashFunc.call(lodash, this.value());\n        }\n        var interceptor = function(value) {\n          var otherArgs = [value];\n          push.apply(otherArgs, args);\n          return lodashFunc.apply(lodash, otherArgs);\n        };\n        if (useLazy) {\n          var wrapper = onlyLazy ? value : new LazyWrapper(this),\n              result = func.apply(wrapper, args);\n\n          if (!retUnwrapped && (isHybrid || result.__actions__)) {\n            var actions = result.__actions__ || (result.__actions__ = []);\n            actions.push({ 'func': thru, 'args': [interceptor], 'thisArg': lodash });\n          }\n          return new LodashWrapper(result, chainAll);\n        }\n        return this.thru(interceptor);\n      };\n    });\n\n    // Add `Array` and `String` methods to `lodash.prototype`.\n    arrayEach(['concat', 'join', 'pop', 'push', 'replace', 'shift', 'sort', 'splice', 'split', 'unshift'], function(methodName) {\n      var func = (/^(?:replace|split)$/.test(methodName) ? stringProto : arrayProto)[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:join|pop|replace|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          return func.apply(this.value(), args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(value, args);\n        });\n      };\n    });\n\n    // Map minified function names to their real names.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (lodashFunc) {\n        var key = lodashFunc.name,\n            names = realNames[key] || (realNames[key] = []);\n\n        names.push({ 'name': methodName, 'func': lodashFunc });\n      }\n    });\n\n    realNames[createHybridWrapper(null, BIND_KEY_FLAG).name] = [{ 'name': 'wrapper', 'func': null }];\n\n    // Add functions to the lazy wrapper.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chaining functions to the `lodash` wrapper.\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toString = wrapperToString;\n    lodash.prototype.run = lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add function aliases to the `lodash` wrapper.\n    lodash.prototype.collect = lodash.prototype.map;\n    lodash.prototype.head = lodash.prototype.first;\n    lodash.prototype.select = lodash.prototype.filter;\n    lodash.prototype.tail = lodash.prototype.rest;\n\n    return lodash;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers like r.js check for condition patterns like the following:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose lodash to the global object when an AMD loader is present to avoid\n    // errors in cases where lodash is loaded by a script tag and not intended\n    // as an AMD module. See http://requirejs.org/docs/errors.html#mismatch for\n    // more details.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    define(function() {\n      return _;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds an `exports` object.\n  else if (freeExports && freeModule) {\n    // Export for Node.js or RingoJS.\n    if (moduleExports) {\n      (freeModule.exports = _)._ = _;\n    }\n    // Export for Rhino with CommonJS support.\n    else {\n      freeExports._ = _;\n    }\n  }\n  else {\n    // Export for a browser or Rhino.\n    root._ = _;\n  }\n}.call(this));\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],7:[function(require,module,exports){\n/*!\n * numeral.js\n * version : 1.5.3\n * author : Adam Draper\n * license : MIT\n * http://adamwdraper.github.com/Numeral-js/\n */\n\n(function () {\n\n    /************************************\n        Constants\n    ************************************/\n\n    var numeral,\n        VERSION = '1.5.3',\n        // internal storage for language config files\n        languages = {},\n        currentLanguage = 'en',\n        zeroFormat = null,\n        defaultFormat = '0,0',\n        // check for nodeJS\n        hasModule = (typeof module !== 'undefined' && module.exports);\n\n\n    /************************************\n        Constructors\n    ************************************/\n\n\n    // Numeral prototype object\n    function Numeral (number) {\n        this._value = number;\n    }\n\n    /**\n     * Implementation of toFixed() that treats floats more like decimals\n     *\n     * Fixes binary rounding issues (eg. (0.615).toFixed(2) === '0.61') that present\n     * problems for accounting- and finance-related software.\n     */\n    function toFixed (value, precision, roundingFunction, optionals) {\n        var power = Math.pow(10, precision),\n            optionalsRegExp,\n            output;\n            \n        //roundingFunction = (roundingFunction !== undefined ? roundingFunction : Math.round);\n        // Multiply up by precision, round accurately, then divide and use native toFixed():\n        output = (roundingFunction(value * power) / power).toFixed(precision);\n\n        if (optionals) {\n            optionalsRegExp = new RegExp('0{1,' + optionals + '}$');\n            output = output.replace(optionalsRegExp, '');\n        }\n\n        return output;\n    }\n\n    /************************************\n        Formatting\n    ************************************/\n\n    // determine what type of formatting we need to do\n    function formatNumeral (n, format, roundingFunction) {\n        var output;\n\n        // figure out what kind of format we are dealing with\n        if (format.indexOf('$') > -1) { // currency!!!!!\n            output = formatCurrency(n, format, roundingFunction);\n        } else if (format.indexOf('%') > -1) { // percentage\n            output = formatPercentage(n, format, roundingFunction);\n        } else if (format.indexOf(':') > -1) { // time\n            output = formatTime(n, format);\n        } else { // plain ol' numbers or bytes\n            output = formatNumber(n._value, format, roundingFunction);\n        }\n\n        // return string\n        return output;\n    }\n\n    // revert to number\n    function unformatNumeral (n, string) {\n        var stringOriginal = string,\n            thousandRegExp,\n            millionRegExp,\n            billionRegExp,\n            trillionRegExp,\n            suffixes = ['KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'],\n            bytesMultiplier = false,\n            power;\n\n        if (string.indexOf(':') > -1) {\n            n._value = unformatTime(string);\n        } else {\n            if (string === zeroFormat) {\n                n._value = 0;\n            } else {\n                if (languages[currentLanguage].delimiters.decimal !== '.') {\n                    string = string.replace(/\\./g,'').replace(languages[currentLanguage].delimiters.decimal, '.');\n                }\n\n                // see if abbreviations are there so that we can multiply to the correct number\n                thousandRegExp = new RegExp('[^a-zA-Z]' + languages[currentLanguage].abbreviations.thousand + '(?:\\\\)|(\\\\' + languages[currentLanguage].currency.symbol + ')?(?:\\\\))?)?$');\n                millionRegExp = new RegExp('[^a-zA-Z]' + languages[currentLanguage].abbreviations.million + '(?:\\\\)|(\\\\' + languages[currentLanguage].currency.symbol + ')?(?:\\\\))?)?$');\n                billionRegExp = new RegExp('[^a-zA-Z]' + languages[currentLanguage].abbreviations.billion + '(?:\\\\)|(\\\\' + languages[currentLanguage].currency.symbol + ')?(?:\\\\))?)?$');\n                trillionRegExp = new RegExp('[^a-zA-Z]' + languages[currentLanguage].abbreviations.trillion + '(?:\\\\)|(\\\\' + languages[currentLanguage].currency.symbol + ')?(?:\\\\))?)?$');\n\n                // see if bytes are there so that we can multiply to the correct number\n                for (power = 0; power <= suffixes.length; power++) {\n                    bytesMultiplier = (string.indexOf(suffixes[power]) > -1) ? Math.pow(1024, power + 1) : false;\n\n                    if (bytesMultiplier) {\n                        break;\n                    }\n                }\n\n                // do some math to create our number\n                n._value = ((bytesMultiplier) ? bytesMultiplier : 1) * ((stringOriginal.match(thousandRegExp)) ? Math.pow(10, 3) : 1) * ((stringOriginal.match(millionRegExp)) ? Math.pow(10, 6) : 1) * ((stringOriginal.match(billionRegExp)) ? Math.pow(10, 9) : 1) * ((stringOriginal.match(trillionRegExp)) ? Math.pow(10, 12) : 1) * ((string.indexOf('%') > -1) ? 0.01 : 1) * (((string.split('-').length + Math.min(string.split('(').length-1, string.split(')').length-1)) % 2)? 1: -1) * Number(string.replace(/[^0-9\\.]+/g, ''));\n\n                // round if we are talking about bytes\n                n._value = (bytesMultiplier) ? Math.ceil(n._value) : n._value;\n            }\n        }\n        return n._value;\n    }\n\n    function formatCurrency (n, format, roundingFunction) {\n        var symbolIndex = format.indexOf('$'),\n            openParenIndex = format.indexOf('('),\n            minusSignIndex = format.indexOf('-'),\n            space = '',\n            spliceIndex,\n            output;\n\n        // check for space before or after currency\n        if (format.indexOf(' $') > -1) {\n            space = ' ';\n            format = format.replace(' $', '');\n        } else if (format.indexOf('$ ') > -1) {\n            space = ' ';\n            format = format.replace('$ ', '');\n        } else {\n            format = format.replace('$', '');\n        }\n\n        // format the number\n        output = formatNumber(n._value, format, roundingFunction);\n\n        // position the symbol\n        if (symbolIndex <= 1) {\n            if (output.indexOf('(') > -1 || output.indexOf('-') > -1) {\n                output = output.split('');\n                spliceIndex = 1;\n                if (symbolIndex < openParenIndex || symbolIndex < minusSignIndex){\n                    // the symbol appears before the \"(\" or \"-\"\n                    spliceIndex = 0;\n                }\n                output.splice(spliceIndex, 0, languages[currentLanguage].currency.symbol + space);\n                output = output.join('');\n            } else {\n                output = languages[currentLanguage].currency.symbol + space + output;\n            }\n        } else {\n            if (output.indexOf(')') > -1) {\n                output = output.split('');\n                output.splice(-1, 0, space + languages[currentLanguage].currency.symbol);\n                output = output.join('');\n            } else {\n                output = output + space + languages[currentLanguage].currency.symbol;\n            }\n        }\n\n        return output;\n    }\n\n    function formatPercentage (n, format, roundingFunction) {\n        var space = '',\n            output,\n            value = n._value * 100;\n\n        // check for space before %\n        if (format.indexOf(' %') > -1) {\n            space = ' ';\n            format = format.replace(' %', '');\n        } else {\n            format = format.replace('%', '');\n        }\n\n        output = formatNumber(value, format, roundingFunction);\n        \n        if (output.indexOf(')') > -1 ) {\n            output = output.split('');\n            output.splice(-1, 0, space + '%');\n            output = output.join('');\n        } else {\n            output = output + space + '%';\n        }\n\n        return output;\n    }\n\n    function formatTime (n) {\n        var hours = Math.floor(n._value/60/60),\n            minutes = Math.floor((n._value - (hours * 60 * 60))/60),\n            seconds = Math.round(n._value - (hours * 60 * 60) - (minutes * 60));\n        return hours + ':' + ((minutes < 10) ? '0' + minutes : minutes) + ':' + ((seconds < 10) ? '0' + seconds : seconds);\n    }\n\n    function unformatTime (string) {\n        var timeArray = string.split(':'),\n            seconds = 0;\n        // turn hours and minutes into seconds and add them all up\n        if (timeArray.length === 3) {\n            // hours\n            seconds = seconds + (Number(timeArray[0]) * 60 * 60);\n            // minutes\n            seconds = seconds + (Number(timeArray[1]) * 60);\n            // seconds\n            seconds = seconds + Number(timeArray[2]);\n        } else if (timeArray.length === 2) {\n            // minutes\n            seconds = seconds + (Number(timeArray[0]) * 60);\n            // seconds\n            seconds = seconds + Number(timeArray[1]);\n        }\n        return Number(seconds);\n    }\n\n    function formatNumber (value, format, roundingFunction) {\n        var negP = false,\n            signed = false,\n            optDec = false,\n            abbr = '',\n            abbrK = false, // force abbreviation to thousands\n            abbrM = false, // force abbreviation to millions\n            abbrB = false, // force abbreviation to billions\n            abbrT = false, // force abbreviation to trillions\n            abbrForce = false, // force abbreviation\n            bytes = '',\n            ord = '',\n            abs = Math.abs(value),\n            suffixes = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'],\n            min,\n            max,\n            power,\n            w,\n            precision,\n            thousands,\n            d = '',\n            neg = false;\n\n        // check if number is zero and a custom zero format has been set\n        if (value === 0 && zeroFormat !== null) {\n            return zeroFormat;\n        } else {\n            // see if we should use parentheses for negative number or if we should prefix with a sign\n            // if both are present we default to parentheses\n            if (format.indexOf('(') > -1) {\n                negP = true;\n                format = format.slice(1, -1);\n            } else if (format.indexOf('+') > -1) {\n                signed = true;\n                format = format.replace(/\\+/g, '');\n            }\n\n            // see if abbreviation is wanted\n            if (format.indexOf('a') > -1) {\n                // check if abbreviation is specified\n                abbrK = format.indexOf('aK') >= 0;\n                abbrM = format.indexOf('aM') >= 0;\n                abbrB = format.indexOf('aB') >= 0;\n                abbrT = format.indexOf('aT') >= 0;\n                abbrForce = abbrK || abbrM || abbrB || abbrT;\n\n                // check for space before abbreviation\n                if (format.indexOf(' a') > -1) {\n                    abbr = ' ';\n                    format = format.replace(' a', '');\n                } else {\n                    format = format.replace('a', '');\n                }\n\n                if (abs >= Math.pow(10, 12) && !abbrForce || abbrT) {\n                    // trillion\n                    abbr = abbr + languages[currentLanguage].abbreviations.trillion;\n                    value = value / Math.pow(10, 12);\n                } else if (abs < Math.pow(10, 12) && abs >= Math.pow(10, 9) && !abbrForce || abbrB) {\n                    // billion\n                    abbr = abbr + languages[currentLanguage].abbreviations.billion;\n                    value = value / Math.pow(10, 9);\n                } else if (abs < Math.pow(10, 9) && abs >= Math.pow(10, 6) && !abbrForce || abbrM) {\n                    // million\n                    abbr = abbr + languages[currentLanguage].abbreviations.million;\n                    value = value / Math.pow(10, 6);\n                } else if (abs < Math.pow(10, 6) && abs >= Math.pow(10, 3) && !abbrForce || abbrK) {\n                    // thousand\n                    abbr = abbr + languages[currentLanguage].abbreviations.thousand;\n                    value = value / Math.pow(10, 3);\n                }\n            }\n\n            // see if we are formatting bytes\n            if (format.indexOf('b') > -1) {\n                // check for space before\n                if (format.indexOf(' b') > -1) {\n                    bytes = ' ';\n                    format = format.replace(' b', '');\n                } else {\n                    format = format.replace('b', '');\n                }\n\n                for (power = 0; power <= suffixes.length; power++) {\n                    min = Math.pow(1024, power);\n                    max = Math.pow(1024, power+1);\n\n                    if (value >= min && value < max) {\n                        bytes = bytes + suffixes[power];\n                        if (min > 0) {\n                            value = value / min;\n                        }\n                        break;\n                    }\n                }\n            }\n\n            // see if ordinal is wanted\n            if (format.indexOf('o') > -1) {\n                // check for space before\n                if (format.indexOf(' o') > -1) {\n                    ord = ' ';\n                    format = format.replace(' o', '');\n                } else {\n                    format = format.replace('o', '');\n                }\n\n                ord = ord + languages[currentLanguage].ordinal(value);\n            }\n\n            if (format.indexOf('[.]') > -1) {\n                optDec = true;\n                format = format.replace('[.]', '.');\n            }\n\n            w = value.toString().split('.')[0];\n            precision = format.split('.')[1];\n            thousands = format.indexOf(',');\n\n            if (precision) {\n                if (precision.indexOf('[') > -1) {\n                    precision = precision.replace(']', '');\n                    precision = precision.split('[');\n                    d = toFixed(value, (precision[0].length + precision[1].length), roundingFunction, precision[1].length);\n                } else {\n                    d = toFixed(value, precision.length, roundingFunction);\n                }\n\n                w = d.split('.')[0];\n\n                if (d.split('.')[1].length) {\n                    d = languages[currentLanguage].delimiters.decimal + d.split('.')[1];\n                } else {\n                    d = '';\n                }\n\n                if (optDec && Number(d.slice(1)) === 0) {\n                    d = '';\n                }\n            } else {\n                w = toFixed(value, null, roundingFunction);\n            }\n\n            // format number\n            if (w.indexOf('-') > -1) {\n                w = w.slice(1);\n                neg = true;\n            }\n\n            if (thousands > -1) {\n                w = w.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1' + languages[currentLanguage].delimiters.thousands);\n            }\n\n            if (format.indexOf('.') === 0) {\n                w = '';\n            }\n\n            return ((negP && neg) ? '(' : '') + ((!negP && neg) ? '-' : '') + ((!neg && signed) ? '+' : '') + w + d + ((ord) ? ord : '') + ((abbr) ? abbr : '') + ((bytes) ? bytes : '') + ((negP && neg) ? ')' : '');\n        }\n    }\n\n    /************************************\n        Top Level Functions\n    ************************************/\n\n    numeral = function (input) {\n        if (numeral.isNumeral(input)) {\n            input = input.value();\n        } else if (input === 0 || typeof input === 'undefined') {\n            input = 0;\n        } else if (!Number(input)) {\n            input = numeral.fn.unformat(input);\n        }\n\n        return new Numeral(Number(input));\n    };\n\n    // version number\n    numeral.version = VERSION;\n\n    // compare numeral object\n    numeral.isNumeral = function (obj) {\n        return obj instanceof Numeral;\n    };\n\n    // This function will load languages and then set the global language.  If\n    // no arguments are passed in, it will simply return the current global\n    // language key.\n    numeral.language = function (key, values) {\n        if (!key) {\n            return currentLanguage;\n        }\n\n        if (key && !values) {\n            if(!languages[key]) {\n                throw new Error('Unknown language : ' + key);\n            }\n            currentLanguage = key;\n        }\n\n        if (values || !languages[key]) {\n            loadLanguage(key, values);\n        }\n\n        return numeral;\n    };\n    \n    // This function provides access to the loaded language data.  If\n    // no arguments are passed in, it will simply return the current\n    // global language object.\n    numeral.languageData = function (key) {\n        if (!key) {\n            return languages[currentLanguage];\n        }\n        \n        if (!languages[key]) {\n            throw new Error('Unknown language : ' + key);\n        }\n        \n        return languages[key];\n    };\n\n    numeral.language('en', {\n        delimiters: {\n            thousands: ',',\n            decimal: '.'\n        },\n        abbreviations: {\n            thousand: 'k',\n            million: 'm',\n            billion: 'b',\n            trillion: 't'\n        },\n        ordinal: function (number) {\n            var b = number % 10;\n            return (~~ (number % 100 / 10) === 1) ? 'th' :\n                (b === 1) ? 'st' :\n                (b === 2) ? 'nd' :\n                (b === 3) ? 'rd' : 'th';\n        },\n        currency: {\n            symbol: '$'\n        }\n    });\n\n    numeral.zeroFormat = function (format) {\n        zeroFormat = typeof(format) === 'string' ? format : null;\n    };\n\n    numeral.defaultFormat = function (format) {\n        defaultFormat = typeof(format) === 'string' ? format : '0.0';\n    };\n\n    /************************************\n        Helpers\n    ************************************/\n\n    function loadLanguage(key, values) {\n        languages[key] = values;\n    }\n\n    /************************************\n        Floating-point helpers\n    ************************************/\n\n    // The floating-point helper functions and implementation\n    // borrows heavily from sinful.js: http://guipn.github.io/sinful.js/\n\n    /**\n     * Array.prototype.reduce for browsers that don't support it\n     * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce#Compatibility\n     */\n    if ('function' !== typeof Array.prototype.reduce) {\n        Array.prototype.reduce = function (callback, opt_initialValue) {\n            'use strict';\n            \n            if (null === this || 'undefined' === typeof this) {\n                // At the moment all modern browsers, that support strict mode, have\n                // native implementation of Array.prototype.reduce. For instance, IE8\n                // does not support strict mode, so this check is actually useless.\n                throw new TypeError('Array.prototype.reduce called on null or undefined');\n            }\n            \n            if ('function' !== typeof callback) {\n                throw new TypeError(callback + ' is not a function');\n            }\n\n            var index,\n                value,\n                length = this.length >>> 0,\n                isValueSet = false;\n\n            if (1 < arguments.length) {\n                value = opt_initialValue;\n                isValueSet = true;\n            }\n\n            for (index = 0; length > index; ++index) {\n                if (this.hasOwnProperty(index)) {\n                    if (isValueSet) {\n                        value = callback(value, this[index], index, this);\n                    } else {\n                        value = this[index];\n                        isValueSet = true;\n                    }\n                }\n            }\n\n            if (!isValueSet) {\n                throw new TypeError('Reduce of empty array with no initial value');\n            }\n\n            return value;\n        };\n    }\n\n    \n    /**\n     * Computes the multiplier necessary to make x >= 1,\n     * effectively eliminating miscalculations caused by\n     * finite precision.\n     */\n    function multiplier(x) {\n        var parts = x.toString().split('.');\n        if (parts.length < 2) {\n            return 1;\n        }\n        return Math.pow(10, parts[1].length);\n    }\n\n    /**\n     * Given a variable number of arguments, returns the maximum\n     * multiplier that must be used to normalize an operation involving\n     * all of them.\n     */\n    function correctionFactor() {\n        var args = Array.prototype.slice.call(arguments);\n        return args.reduce(function (prev, next) {\n            var mp = multiplier(prev),\n                mn = multiplier(next);\n        return mp > mn ? mp : mn;\n        }, -Infinity);\n    }        \n\n\n    /************************************\n        Numeral Prototype\n    ************************************/\n\n\n    numeral.fn = Numeral.prototype = {\n\n        clone : function () {\n            return numeral(this);\n        },\n\n        format : function (inputString, roundingFunction) {\n            return formatNumeral(this, \n                  inputString ? inputString : defaultFormat, \n                  (roundingFunction !== undefined) ? roundingFunction : Math.round\n              );\n        },\n\n        unformat : function (inputString) {\n            if (Object.prototype.toString.call(inputString) === '[object Number]') { \n                return inputString; \n            }\n            return unformatNumeral(this, inputString ? inputString : defaultFormat);\n        },\n\n        value : function () {\n            return this._value;\n        },\n\n        valueOf : function () {\n            return this._value;\n        },\n\n        set : function (value) {\n            this._value = Number(value);\n            return this;\n        },\n\n        add : function (value) {\n            var corrFactor = correctionFactor.call(null, this._value, value);\n            function cback(accum, curr, currI, O) {\n                return accum + corrFactor * curr;\n            }\n            this._value = [this._value, value].reduce(cback, 0) / corrFactor;\n            return this;\n        },\n\n        subtract : function (value) {\n            var corrFactor = correctionFactor.call(null, this._value, value);\n            function cback(accum, curr, currI, O) {\n                return accum - corrFactor * curr;\n            }\n            this._value = [value].reduce(cback, this._value * corrFactor) / corrFactor;            \n            return this;\n        },\n\n        multiply : function (value) {\n            function cback(accum, curr, currI, O) {\n                var corrFactor = correctionFactor(accum, curr);\n                return (accum * corrFactor) * (curr * corrFactor) /\n                    (corrFactor * corrFactor);\n            }\n            this._value = [this._value, value].reduce(cback, 1);\n            return this;\n        },\n\n        divide : function (value) {\n            function cback(accum, curr, currI, O) {\n                var corrFactor = correctionFactor(accum, curr);\n                return (accum * corrFactor) / (curr * corrFactor);\n            }\n            this._value = [this._value, value].reduce(cback);            \n            return this;\n        },\n\n        difference : function (value) {\n            return Math.abs(numeral(this._value).subtract(value).value());\n        }\n\n    };\n\n    /************************************\n        Exposing Numeral\n    ************************************/\n\n    // CommonJS module is defined\n    if (hasModule) {\n        module.exports = numeral;\n    }\n\n    /*global ender:false */\n    if (typeof ender === 'undefined') {\n        // here, `this` means `window` in the browser, or `global` on the server\n        // add `numeral` as a global object via a string identifier,\n        // for Closure Compiler 'advanced' mode\n        this['numeral'] = numeral;\n    }\n\n    /*global define:false */\n    if (typeof define === 'function' && define.amd) {\n        define([], function () {\n            return numeral;\n        });\n    }\n}).call(this);\n\n},{}],8:[function(require,module,exports){\n/*!\n* screenfull\n* v2.0.0 - 2014-12-22\n* (c) Sindre Sorhus; MIT License\n*/\n(function () {\n\t'use strict';\n\n\tvar isCommonjs = typeof module !== 'undefined' && module.exports;\n\tvar keyboardAllowed = typeof Element !== 'undefined' && 'ALLOW_KEYBOARD_INPUT' in Element;\n\n\tvar fn = (function () {\n\t\tvar val;\n\t\tvar valLength;\n\n\t\tvar fnMap = [\n\t\t\t[\n\t\t\t\t'requestFullscreen',\n\t\t\t\t'exitFullscreen',\n\t\t\t\t'fullscreenElement',\n\t\t\t\t'fullscreenEnabled',\n\t\t\t\t'fullscreenchange',\n\t\t\t\t'fullscreenerror'\n\t\t\t],\n\t\t\t// new WebKit\n\t\t\t[\n\t\t\t\t'webkitRequestFullscreen',\n\t\t\t\t'webkitExitFullscreen',\n\t\t\t\t'webkitFullscreenElement',\n\t\t\t\t'webkitFullscreenEnabled',\n\t\t\t\t'webkitfullscreenchange',\n\t\t\t\t'webkitfullscreenerror'\n\n\t\t\t],\n\t\t\t// old WebKit (Safari 5.1)\n\t\t\t[\n\t\t\t\t'webkitRequestFullScreen',\n\t\t\t\t'webkitCancelFullScreen',\n\t\t\t\t'webkitCurrentFullScreenElement',\n\t\t\t\t'webkitCancelFullScreen',\n\t\t\t\t'webkitfullscreenchange',\n\t\t\t\t'webkitfullscreenerror'\n\n\t\t\t],\n\t\t\t[\n\t\t\t\t'mozRequestFullScreen',\n\t\t\t\t'mozCancelFullScreen',\n\t\t\t\t'mozFullScreenElement',\n\t\t\t\t'mozFullScreenEnabled',\n\t\t\t\t'mozfullscreenchange',\n\t\t\t\t'mozfullscreenerror'\n\t\t\t],\n\t\t\t[\n\t\t\t\t'msRequestFullscreen',\n\t\t\t\t'msExitFullscreen',\n\t\t\t\t'msFullscreenElement',\n\t\t\t\t'msFullscreenEnabled',\n\t\t\t\t'MSFullscreenChange',\n\t\t\t\t'MSFullscreenError'\n\t\t\t]\n\t\t];\n\n\t\tvar i = 0;\n\t\tvar l = fnMap.length;\n\t\tvar ret = {};\n\n\t\tfor (; i < l; i++) {\n\t\t\tval = fnMap[i];\n\t\t\tif (val && val[1] in document) {\n\t\t\t\tfor (i = 0, valLength = val.length; i < valLength; i++) {\n\t\t\t\t\tret[fnMap[0][i]] = val[i];\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t})();\n\n\tvar screenfull = {\n\t\trequest: function (elem) {\n\t\t\tvar request = fn.requestFullscreen;\n\n\t\t\telem = elem || document.documentElement;\n\n\t\t\t// Work around Safari 5.1 bug: reports support for\n\t\t\t// keyboard in fullscreen even though it doesn't.\n\t\t\t// Browser sniffing, since the alternative with\n\t\t\t// setTimeout is even worse.\n\t\t\tif (/5\\.1[\\.\\d]* Safari/.test(navigator.userAgent)) {\n\t\t\t\telem[request]();\n\t\t\t} else {\n\t\t\t\telem[request](keyboardAllowed && Element.ALLOW_KEYBOARD_INPUT);\n\t\t\t}\n\t\t},\n\t\texit: function () {\n\t\t\tdocument[fn.exitFullscreen]();\n\t\t},\n\t\ttoggle: function (elem) {\n\t\t\tif (this.isFullscreen) {\n\t\t\t\tthis.exit();\n\t\t\t} else {\n\t\t\t\tthis.request(elem);\n\t\t\t}\n\t\t},\n\t\traw: fn\n\t};\n\n\tif (!fn) {\n\t\tif (isCommonjs) {\n\t\t\tmodule.exports = false;\n\t\t} else {\n\t\t\twindow.screenfull = false;\n\t\t}\n\n\t\treturn;\n\t}\n\n\tObject.defineProperties(screenfull, {\n\t\tisFullscreen: {\n\t\t\tget: function () {\n\t\t\t\treturn !!document[fn.fullscreenElement];\n\t\t\t}\n\t\t},\n\t\telement: {\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\treturn document[fn.fullscreenElement];\n\t\t\t}\n\t\t},\n\t\tenabled: {\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\t// Coerce to boolean in case of old WebKit\n\t\t\t\treturn !!document[fn.fullscreenEnabled];\n\t\t\t}\n\t\t}\n\t});\n\n\tif (isCommonjs) {\n\t\tmodule.exports = screenfull;\n\t} else {\n\t\twindow.screenfull = screenfull;\n\t}\n})();\n\n},{}],9:[function(require,module,exports){\n\nmodule.exports = require('./lib/');\n\n},{\"./lib/\":10}],10:[function(require,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar url = require('./url');\nvar parser = require('socket.io-parser');\nvar Manager = require('./manager');\nvar debug = require('debug')('socket.io-client');\n\n/**\n * Module exports.\n */\n\nmodule.exports = exports = lookup;\n\n/**\n * Managers cache.\n */\n\nvar cache = exports.managers = {};\n\n/**\n * Looks up an existing `Manager` for multiplexing.\n * If the user summons:\n *\n *   `io('http://localhost/a');`\n *   `io('http://localhost/b');`\n *\n * We reuse the existing instance based on same scheme/port/host,\n * and we initialize sockets for each namespace.\n *\n * @api public\n */\n\nfunction lookup(uri, opts) {\n  if (typeof uri == 'object') {\n    opts = uri;\n    uri = undefined;\n  }\n\n  opts = opts || {};\n\n  var parsed = url(uri);\n  var source = parsed.source;\n  var id = parsed.id;\n  var io;\n\n  if (opts.forceNew || opts['force new connection'] || false === opts.multiplex) {\n    debug('ignoring socket cache for %s', source);\n    io = Manager(source, opts);\n  } else {\n    if (!cache[id]) {\n      debug('new io instance for %s', source);\n      cache[id] = Manager(source, opts);\n    }\n    io = cache[id];\n  }\n\n  return io.socket(parsed.path);\n}\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nexports.protocol = parser.protocol;\n\n/**\n * `connect`.\n *\n * @param {String} uri\n * @api public\n */\n\nexports.connect = lookup;\n\n/**\n * Expose constructors for standalone build.\n *\n * @api public\n */\n\nexports.Manager = require('./manager');\nexports.Socket = require('./socket');\n\n},{\"./manager\":11,\"./socket\":13,\"./url\":14,\"debug\":18,\"socket.io-parser\":54}],11:[function(require,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar url = require('./url');\nvar eio = require('engine.io-client');\nvar Socket = require('./socket');\nvar Emitter = require('component-emitter');\nvar parser = require('socket.io-parser');\nvar on = require('./on');\nvar bind = require('component-bind');\nvar object = require('object-component');\nvar debug = require('debug')('socket.io-client:manager');\nvar indexOf = require('indexof');\nvar Backoff = require('backo2');\n\n/**\n * Module exports\n */\n\nmodule.exports = Manager;\n\n/**\n * `Manager` constructor.\n *\n * @param {String} engine instance or engine uri/opts\n * @param {Object} options\n * @api public\n */\n\nfunction Manager(uri, opts){\n  if (!(this instanceof Manager)) return new Manager(uri, opts);\n  if (uri && ('object' == typeof uri)) {\n    opts = uri;\n    uri = undefined;\n  }\n  opts = opts || {};\n\n  opts.path = opts.path || '/socket.io';\n  this.nsps = {};\n  this.subs = [];\n  this.opts = opts;\n  this.reconnection(opts.reconnection !== false);\n  this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n  this.reconnectionDelay(opts.reconnectionDelay || 1000);\n  this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n  this.randomizationFactor(opts.randomizationFactor || 0.5);\n  this.backoff = new Backoff({\n    min: this.reconnectionDelay(),\n    max: this.reconnectionDelayMax(),\n    jitter: this.randomizationFactor()\n  });\n  this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n  this.readyState = 'closed';\n  this.uri = uri;\n  this.connected = [];\n  this.encoding = false;\n  this.packetBuffer = [];\n  this.encoder = new parser.Encoder();\n  this.decoder = new parser.Decoder();\n  this.autoConnect = opts.autoConnect !== false;\n  if (this.autoConnect) this.open();\n}\n\n/**\n * Propagate given event to sockets and emit on `this`\n *\n * @api private\n */\n\nManager.prototype.emitAll = function() {\n  this.emit.apply(this, arguments);\n  for (var nsp in this.nsps) {\n    this.nsps[nsp].emit.apply(this.nsps[nsp], arguments);\n  }\n};\n\n/**\n * Update `socket.id` of all sockets\n *\n * @api private\n */\n\nManager.prototype.updateSocketIds = function(){\n  for (var nsp in this.nsps) {\n    this.nsps[nsp].id = this.engine.id;\n  }\n};\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Manager.prototype);\n\n/**\n * Sets the `reconnection` config.\n *\n * @param {Boolean} true/false if it should automatically reconnect\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnection = function(v){\n  if (!arguments.length) return this._reconnection;\n  this._reconnection = !!v;\n  return this;\n};\n\n/**\n * Sets the reconnection attempts config.\n *\n * @param {Number} max reconnection attempts before giving up\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionAttempts = function(v){\n  if (!arguments.length) return this._reconnectionAttempts;\n  this._reconnectionAttempts = v;\n  return this;\n};\n\n/**\n * Sets the delay between reconnections.\n *\n * @param {Number} delay\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionDelay = function(v){\n  if (!arguments.length) return this._reconnectionDelay;\n  this._reconnectionDelay = v;\n  this.backoff && this.backoff.setMin(v);\n  return this;\n};\n\nManager.prototype.randomizationFactor = function(v){\n  if (!arguments.length) return this._randomizationFactor;\n  this._randomizationFactor = v;\n  this.backoff && this.backoff.setJitter(v);\n  return this;\n};\n\n/**\n * Sets the maximum delay between reconnections.\n *\n * @param {Number} delay\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionDelayMax = function(v){\n  if (!arguments.length) return this._reconnectionDelayMax;\n  this._reconnectionDelayMax = v;\n  this.backoff && this.backoff.setMax(v);\n  return this;\n};\n\n/**\n * Sets the connection timeout. `false` to disable\n *\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.timeout = function(v){\n  if (!arguments.length) return this._timeout;\n  this._timeout = v;\n  return this;\n};\n\n/**\n * Starts trying to reconnect if reconnection is enabled and we have not\n * started reconnecting yet\n *\n * @api private\n */\n\nManager.prototype.maybeReconnectOnOpen = function() {\n  // Only try to reconnect if it's the first time we're connecting\n  if (!this.reconnecting && this._reconnection && this.backoff.attempts === 0) {\n    // keeps reconnection from firing twice for the same reconnection loop\n    this.reconnect();\n  }\n};\n\n\n/**\n * Sets the current transport `socket`.\n *\n * @param {Function} optional, callback\n * @return {Manager} self\n * @api public\n */\n\nManager.prototype.open =\nManager.prototype.connect = function(fn){\n  debug('readyState %s', this.readyState);\n  if (~this.readyState.indexOf('open')) return this;\n\n  debug('opening %s', this.uri);\n  this.engine = eio(this.uri, this.opts);\n  var socket = this.engine;\n  var self = this;\n  this.readyState = 'opening';\n  this.skipReconnect = false;\n\n  // emit `open`\n  var openSub = on(socket, 'open', function() {\n    self.onopen();\n    fn && fn();\n  });\n\n  // emit `connect_error`\n  var errorSub = on(socket, 'error', function(data){\n    debug('connect_error');\n    self.cleanup();\n    self.readyState = 'closed';\n    self.emitAll('connect_error', data);\n    if (fn) {\n      var err = new Error('Connection error');\n      err.data = data;\n      fn(err);\n    } else {\n      // Only do this if there is no fn to handle the error\n      self.maybeReconnectOnOpen();\n    }\n  });\n\n  // emit `connect_timeout`\n  if (false !== this._timeout) {\n    var timeout = this._timeout;\n    debug('connect attempt will timeout after %d', timeout);\n\n    // set timer\n    var timer = setTimeout(function(){\n      debug('connect attempt timed out after %d', timeout);\n      openSub.destroy();\n      socket.close();\n      socket.emit('error', 'timeout');\n      self.emitAll('connect_timeout', timeout);\n    }, timeout);\n\n    this.subs.push({\n      destroy: function(){\n        clearTimeout(timer);\n      }\n    });\n  }\n\n  this.subs.push(openSub);\n  this.subs.push(errorSub);\n\n  return this;\n};\n\n/**\n * Called upon transport open.\n *\n * @api private\n */\n\nManager.prototype.onopen = function(){\n  debug('open');\n\n  // clear old subs\n  this.cleanup();\n\n  // mark as open\n  this.readyState = 'open';\n  this.emit('open');\n\n  // add new subs\n  var socket = this.engine;\n  this.subs.push(on(socket, 'data', bind(this, 'ondata')));\n  this.subs.push(on(this.decoder, 'decoded', bind(this, 'ondecoded')));\n  this.subs.push(on(socket, 'error', bind(this, 'onerror')));\n  this.subs.push(on(socket, 'close', bind(this, 'onclose')));\n};\n\n/**\n * Called with data.\n *\n * @api private\n */\n\nManager.prototype.ondata = function(data){\n  this.decoder.add(data);\n};\n\n/**\n * Called when parser fully decodes a packet.\n *\n * @api private\n */\n\nManager.prototype.ondecoded = function(packet) {\n  this.emit('packet', packet);\n};\n\n/**\n * Called upon socket error.\n *\n * @api private\n */\n\nManager.prototype.onerror = function(err){\n  debug('error', err);\n  this.emitAll('error', err);\n};\n\n/**\n * Creates a new socket for the given `nsp`.\n *\n * @return {Socket}\n * @api public\n */\n\nManager.prototype.socket = function(nsp){\n  var socket = this.nsps[nsp];\n  if (!socket) {\n    socket = new Socket(this, nsp);\n    this.nsps[nsp] = socket;\n    var self = this;\n    socket.on('connect', function(){\n      socket.id = self.engine.id;\n      if (!~indexOf(self.connected, socket)) {\n        self.connected.push(socket);\n      }\n    });\n  }\n  return socket;\n};\n\n/**\n * Called upon a socket close.\n *\n * @param {Socket} socket\n */\n\nManager.prototype.destroy = function(socket){\n  var index = indexOf(this.connected, socket);\n  if (~index) this.connected.splice(index, 1);\n  if (this.connected.length) return;\n\n  this.close();\n};\n\n/**\n * Writes a packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nManager.prototype.packet = function(packet){\n  debug('writing packet %j', packet);\n  var self = this;\n\n  if (!self.encoding) {\n    // encode, then write to engine with result\n    self.encoding = true;\n    this.encoder.encode(packet, function(encodedPackets) {\n      for (var i = 0; i < encodedPackets.length; i++) {\n        self.engine.write(encodedPackets[i]);\n      }\n      self.encoding = false;\n      self.processPacketQueue();\n    });\n  } else { // add packet to the queue\n    self.packetBuffer.push(packet);\n  }\n};\n\n/**\n * If packet buffer is non-empty, begins encoding the\n * next packet in line.\n *\n * @api private\n */\n\nManager.prototype.processPacketQueue = function() {\n  if (this.packetBuffer.length > 0 && !this.encoding) {\n    var pack = this.packetBuffer.shift();\n    this.packet(pack);\n  }\n};\n\n/**\n * Clean up transport subscriptions and packet buffer.\n *\n * @api private\n */\n\nManager.prototype.cleanup = function(){\n  var sub;\n  while (sub = this.subs.shift()) sub.destroy();\n\n  this.packetBuffer = [];\n  this.encoding = false;\n\n  this.decoder.destroy();\n};\n\n/**\n * Close the current socket.\n *\n * @api private\n */\n\nManager.prototype.close =\nManager.prototype.disconnect = function(){\n  this.skipReconnect = true;\n  this.backoff.reset();\n  this.readyState = 'closed';\n  this.engine && this.engine.close();\n};\n\n/**\n * Called upon engine close.\n *\n * @api private\n */\n\nManager.prototype.onclose = function(reason){\n  debug('close');\n  this.cleanup();\n  this.backoff.reset();\n  this.readyState = 'closed';\n  this.emit('close', reason);\n  if (this._reconnection && !this.skipReconnect) {\n    this.reconnect();\n  }\n};\n\n/**\n * Attempt a reconnection.\n *\n * @api private\n */\n\nManager.prototype.reconnect = function(){\n  if (this.reconnecting || this.skipReconnect) return this;\n\n  var self = this;\n\n  if (this.backoff.attempts >= this._reconnectionAttempts) {\n    debug('reconnect failed');\n    this.backoff.reset();\n    this.emitAll('reconnect_failed');\n    this.reconnecting = false;\n  } else {\n    var delay = this.backoff.duration();\n    debug('will wait %dms before reconnect attempt', delay);\n\n    this.reconnecting = true;\n    var timer = setTimeout(function(){\n      if (self.skipReconnect) return;\n\n      debug('attempting reconnect');\n      self.emitAll('reconnect_attempt', self.backoff.attempts);\n      self.emitAll('reconnecting', self.backoff.attempts);\n\n      // check again for the case socket closed in above events\n      if (self.skipReconnect) return;\n\n      self.open(function(err){\n        if (err) {\n          debug('reconnect attempt error');\n          self.reconnecting = false;\n          self.reconnect();\n          self.emitAll('reconnect_error', err.data);\n        } else {\n          debug('reconnect success');\n          self.onreconnect();\n        }\n      });\n    }, delay);\n\n    this.subs.push({\n      destroy: function(){\n        clearTimeout(timer);\n      }\n    });\n  }\n};\n\n/**\n * Called upon successful reconnect.\n *\n * @api private\n */\n\nManager.prototype.onreconnect = function(){\n  var attempt = this.backoff.attempts;\n  this.reconnecting = false;\n  this.backoff.reset();\n  this.updateSocketIds();\n  this.emitAll('reconnect', attempt);\n};\n\n},{\"./on\":12,\"./socket\":13,\"./url\":14,\"backo2\":15,\"component-bind\":16,\"component-emitter\":17,\"debug\":18,\"engine.io-client\":19,\"indexof\":50,\"object-component\":51,\"socket.io-parser\":54}],12:[function(require,module,exports){\n\n/**\n * Module exports.\n */\n\nmodule.exports = on;\n\n/**\n * Helper for subscriptions.\n *\n * @param {Object|EventEmitter} obj with `Emitter` mixin or `EventEmitter`\n * @param {String} event name\n * @param {Function} callback\n * @api public\n */\n\nfunction on(obj, ev, fn) {\n  obj.on(ev, fn);\n  return {\n    destroy: function(){\n      obj.removeListener(ev, fn);\n    }\n  };\n}\n\n},{}],13:[function(require,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar parser = require('socket.io-parser');\nvar Emitter = require('component-emitter');\nvar toArray = require('to-array');\nvar on = require('./on');\nvar bind = require('component-bind');\nvar debug = require('debug')('socket.io-client:socket');\nvar hasBin = require('has-binary');\n\n/**\n * Module exports.\n */\n\nmodule.exports = exports = Socket;\n\n/**\n * Internal events (blacklisted).\n * These events can't be emitted by the user.\n *\n * @api private\n */\n\nvar events = {\n  connect: 1,\n  connect_error: 1,\n  connect_timeout: 1,\n  disconnect: 1,\n  error: 1,\n  reconnect: 1,\n  reconnect_attempt: 1,\n  reconnect_failed: 1,\n  reconnect_error: 1,\n  reconnecting: 1\n};\n\n/**\n * Shortcut to `Emitter#emit`.\n */\n\nvar emit = Emitter.prototype.emit;\n\n/**\n * `Socket` constructor.\n *\n * @api public\n */\n\nfunction Socket(io, nsp){\n  this.io = io;\n  this.nsp = nsp;\n  this.json = this; // compat\n  this.ids = 0;\n  this.acks = {};\n  if (this.io.autoConnect) this.open();\n  this.receiveBuffer = [];\n  this.sendBuffer = [];\n  this.connected = false;\n  this.disconnected = true;\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Socket.prototype);\n\n/**\n * Subscribe to open, close and packet events\n *\n * @api private\n */\n\nSocket.prototype.subEvents = function() {\n  if (this.subs) return;\n\n  var io = this.io;\n  this.subs = [\n    on(io, 'open', bind(this, 'onopen')),\n    on(io, 'packet', bind(this, 'onpacket')),\n    on(io, 'close', bind(this, 'onclose'))\n  ];\n};\n\n/**\n * \"Opens\" the socket.\n *\n * @api public\n */\n\nSocket.prototype.open =\nSocket.prototype.connect = function(){\n  if (this.connected) return this;\n\n  this.subEvents();\n  this.io.open(); // ensure open\n  if ('open' == this.io.readyState) this.onopen();\n  return this;\n};\n\n/**\n * Sends a `message` event.\n *\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.send = function(){\n  var args = toArray(arguments);\n  args.unshift('message');\n  this.emit.apply(this, args);\n  return this;\n};\n\n/**\n * Override `emit`.\n * If the event is in `events`, it's emitted normally.\n *\n * @param {String} event name\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.emit = function(ev){\n  if (events.hasOwnProperty(ev)) {\n    emit.apply(this, arguments);\n    return this;\n  }\n\n  var args = toArray(arguments);\n  var parserType = parser.EVENT; // default\n  if (hasBin(args)) { parserType = parser.BINARY_EVENT; } // binary\n  var packet = { type: parserType, data: args };\n\n  // event ack callback\n  if ('function' == typeof args[args.length - 1]) {\n    debug('emitting packet with ack id %d', this.ids);\n    this.acks[this.ids] = args.pop();\n    packet.id = this.ids++;\n  }\n\n  if (this.connected) {\n    this.packet(packet);\n  } else {\n    this.sendBuffer.push(packet);\n  }\n\n  return this;\n};\n\n/**\n * Sends a packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.packet = function(packet){\n  packet.nsp = this.nsp;\n  this.io.packet(packet);\n};\n\n/**\n * Called upon engine `open`.\n *\n * @api private\n */\n\nSocket.prototype.onopen = function(){\n  debug('transport is open - connecting');\n\n  // write connect packet if necessary\n  if ('/' != this.nsp) {\n    this.packet({ type: parser.CONNECT });\n  }\n};\n\n/**\n * Called upon engine `close`.\n *\n * @param {String} reason\n * @api private\n */\n\nSocket.prototype.onclose = function(reason){\n  debug('close (%s)', reason);\n  this.connected = false;\n  this.disconnected = true;\n  delete this.id;\n  this.emit('disconnect', reason);\n};\n\n/**\n * Called with socket packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onpacket = function(packet){\n  if (packet.nsp != this.nsp) return;\n\n  switch (packet.type) {\n    case parser.CONNECT:\n      this.onconnect();\n      break;\n\n    case parser.EVENT:\n      this.onevent(packet);\n      break;\n\n    case parser.BINARY_EVENT:\n      this.onevent(packet);\n      break;\n\n    case parser.ACK:\n      this.onack(packet);\n      break;\n\n    case parser.BINARY_ACK:\n      this.onack(packet);\n      break;\n\n    case parser.DISCONNECT:\n      this.ondisconnect();\n      break;\n\n    case parser.ERROR:\n      this.emit('error', packet.data);\n      break;\n  }\n};\n\n/**\n * Called upon a server event.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onevent = function(packet){\n  var args = packet.data || [];\n  debug('emitting event %j', args);\n\n  if (null != packet.id) {\n    debug('attaching ack callback to event');\n    args.push(this.ack(packet.id));\n  }\n\n  if (this.connected) {\n    emit.apply(this, args);\n  } else {\n    this.receiveBuffer.push(args);\n  }\n};\n\n/**\n * Produces an ack callback to emit with an event.\n *\n * @api private\n */\n\nSocket.prototype.ack = function(id){\n  var self = this;\n  var sent = false;\n  return function(){\n    // prevent double callbacks\n    if (sent) return;\n    sent = true;\n    var args = toArray(arguments);\n    debug('sending ack %j', args);\n\n    var type = hasBin(args) ? parser.BINARY_ACK : parser.ACK;\n    self.packet({\n      type: type,\n      id: id,\n      data: args\n    });\n  };\n};\n\n/**\n * Called upon a server acknowlegement.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onack = function(packet){\n  debug('calling ack %s with %j', packet.id, packet.data);\n  var fn = this.acks[packet.id];\n  fn.apply(this, packet.data);\n  delete this.acks[packet.id];\n};\n\n/**\n * Called upon server connect.\n *\n * @api private\n */\n\nSocket.prototype.onconnect = function(){\n  this.connected = true;\n  this.disconnected = false;\n  this.emit('connect');\n  this.emitBuffered();\n};\n\n/**\n * Emit buffered events (received and emitted).\n *\n * @api private\n */\n\nSocket.prototype.emitBuffered = function(){\n  var i;\n  for (i = 0; i < this.receiveBuffer.length; i++) {\n    emit.apply(this, this.receiveBuffer[i]);\n  }\n  this.receiveBuffer = [];\n\n  for (i = 0; i < this.sendBuffer.length; i++) {\n    this.packet(this.sendBuffer[i]);\n  }\n  this.sendBuffer = [];\n};\n\n/**\n * Called upon server disconnect.\n *\n * @api private\n */\n\nSocket.prototype.ondisconnect = function(){\n  debug('server disconnect (%s)', this.nsp);\n  this.destroy();\n  this.onclose('io server disconnect');\n};\n\n/**\n * Called upon forced client/server side disconnections,\n * this method ensures the manager stops tracking us and\n * that reconnections don't get triggered for this.\n *\n * @api private.\n */\n\nSocket.prototype.destroy = function(){\n  if (this.subs) {\n    // clean subscriptions to avoid reconnections\n    for (var i = 0; i < this.subs.length; i++) {\n      this.subs[i].destroy();\n    }\n    this.subs = null;\n  }\n\n  this.io.destroy(this);\n};\n\n/**\n * Disconnects the socket manually.\n *\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.close =\nSocket.prototype.disconnect = function(){\n  if (this.connected) {\n    debug('performing disconnect (%s)', this.nsp);\n    this.packet({ type: parser.DISCONNECT });\n  }\n\n  // remove socket from pool\n  this.destroy();\n\n  if (this.connected) {\n    // fire events\n    this.onclose('io client disconnect');\n  }\n  return this;\n};\n\n},{\"./on\":12,\"component-bind\":16,\"component-emitter\":17,\"debug\":18,\"has-binary\":48,\"socket.io-parser\":54,\"to-array\":58}],14:[function(require,module,exports){\n(function (global){\n\n/**\n * Module dependencies.\n */\n\nvar parseuri = require('parseuri');\nvar debug = require('debug')('socket.io-client:url');\n\n/**\n * Module exports.\n */\n\nmodule.exports = url;\n\n/**\n * URL parser.\n *\n * @param {String} url\n * @param {Object} An object meant to mimic window.location.\n *                 Defaults to window.location.\n * @api public\n */\n\nfunction url(uri, loc){\n  var obj = uri;\n\n  // default to window.location\n  var loc = loc || global.location;\n  if (null == uri) uri = loc.protocol + '//' + loc.host;\n\n  // relative path support\n  if ('string' == typeof uri) {\n    if ('/' == uri.charAt(0)) {\n      if ('/' == uri.charAt(1)) {\n        uri = loc.protocol + uri;\n      } else {\n        uri = loc.hostname + uri;\n      }\n    }\n\n    if (!/^(https?|wss?):\\/\\//.test(uri)) {\n      debug('protocol-less url %s', uri);\n      if ('undefined' != typeof loc) {\n        uri = loc.protocol + '//' + uri;\n      } else {\n        uri = 'https://' + uri;\n      }\n    }\n\n    // parse\n    debug('parse %s', uri);\n    obj = parseuri(uri);\n  }\n\n  // make sure we treat `localhost:80` and `localhost` equally\n  if (!obj.port) {\n    if (/^(http|ws)$/.test(obj.protocol)) {\n      obj.port = '80';\n    }\n    else if (/^(http|ws)s$/.test(obj.protocol)) {\n      obj.port = '443';\n    }\n  }\n\n  obj.path = obj.path || '/';\n\n  // define unique id\n  obj.id = obj.protocol + '://' + obj.host + ':' + obj.port;\n  // define href\n  obj.href = obj.protocol + '://' + obj.host + (loc && loc.port == obj.port ? '' : (':' + obj.port));\n\n  return obj;\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"debug\":18,\"parseuri\":52}],15:[function(require,module,exports){\n\n/**\n * Expose `Backoff`.\n */\n\nmodule.exports = Backoff;\n\n/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction Backoff(opts) {\n  opts = opts || {};\n  this.ms = opts.min || 100;\n  this.max = opts.max || 10000;\n  this.factor = opts.factor || 2;\n  this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n  this.attempts = 0;\n}\n\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\n\nBackoff.prototype.duration = function(){\n  var ms = this.ms * Math.pow(this.factor, this.attempts++);\n  if (this.jitter) {\n    var rand =  Math.random();\n    var deviation = Math.floor(rand * this.jitter * ms);\n    ms = (Math.floor(rand * 10) & 1) == 0  ? ms - deviation : ms + deviation;\n  }\n  return Math.min(ms, this.max) | 0;\n};\n\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\n\nBackoff.prototype.reset = function(){\n  this.attempts = 0;\n};\n\n/**\n * Set the minimum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMin = function(min){\n  this.ms = min;\n};\n\n/**\n * Set the maximum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMax = function(max){\n  this.max = max;\n};\n\n/**\n * Set the jitter\n *\n * @api public\n */\n\nBackoff.prototype.setJitter = function(jitter){\n  this.jitter = jitter;\n};\n\n\n},{}],16:[function(require,module,exports){\n/**\n * Slice reference.\n */\n\nvar slice = [].slice;\n\n/**\n * Bind `obj` to `fn`.\n *\n * @param {Object} obj\n * @param {Function|String} fn or string\n * @return {Function}\n * @api public\n */\n\nmodule.exports = function(obj, fn){\n  if ('string' == typeof fn) fn = obj[fn];\n  if ('function' != typeof fn) throw new Error('bind() requires a function');\n  var args = slice.call(arguments, 2);\n  return function(){\n    return fn.apply(obj, args.concat(slice.call(arguments)));\n  }\n};\n\n},{}],17:[function(require,module,exports){\n\n/**\n * Expose `Emitter`.\n */\n\nmodule.exports = Emitter;\n\n/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nfunction Emitter(obj) {\n  if (obj) return mixin(obj);\n};\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks[event] = this._callbacks[event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  var self = this;\n  this._callbacks = this._callbacks || {};\n\n  function on() {\n    self.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks[event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks[event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n  var args = [].slice.call(arguments, 1)\n    , callbacks = this._callbacks[event];\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks[event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n\n},{}],18:[function(require,module,exports){\n\n/**\n * Expose `debug()` as the module.\n */\n\nmodule.exports = debug;\n\n/**\n * Create a debugger with the given `name`.\n *\n * @param {String} name\n * @return {Type}\n * @api public\n */\n\nfunction debug(name) {\n  if (!debug.enabled(name)) return function(){};\n\n  return function(fmt){\n    fmt = coerce(fmt);\n\n    var curr = new Date;\n    var ms = curr - (debug[name] || curr);\n    debug[name] = curr;\n\n    fmt = name\n      + ' '\n      + fmt\n      + ' +' + debug.humanize(ms);\n\n    // This hackery is required for IE8\n    // where `console.log` doesn't have 'apply'\n    window.console\n      && console.log\n      && Function.prototype.apply.call(console.log, console, arguments);\n  }\n}\n\n/**\n * The currently active debug mode names.\n */\n\ndebug.names = [];\ndebug.skips = [];\n\n/**\n * Enables a debug mode by name. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} name\n * @api public\n */\n\ndebug.enable = function(name) {\n  try {\n    localStorage.debug = name;\n  } catch(e){}\n\n  var split = (name || '').split(/[\\s,]+/)\n    , len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    name = split[i].replace('*', '.*?');\n    if (name[0] === '-') {\n      debug.skips.push(new RegExp('^' + name.substr(1) + '$'));\n    }\n    else {\n      debug.names.push(new RegExp('^' + name + '$'));\n    }\n  }\n};\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\ndebug.disable = function(){\n  debug.enable('');\n};\n\n/**\n * Humanize the given `ms`.\n *\n * @param {Number} m\n * @return {String}\n * @api private\n */\n\ndebug.humanize = function(ms) {\n  var sec = 1000\n    , min = 60 * 1000\n    , hour = 60 * min;\n\n  if (ms >= hour) return (ms / hour).toFixed(1) + 'h';\n  if (ms >= min) return (ms / min).toFixed(1) + 'm';\n  if (ms >= sec) return (ms / sec | 0) + 's';\n  return ms + 'ms';\n};\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\ndebug.enabled = function(name) {\n  for (var i = 0, len = debug.skips.length; i < len; i++) {\n    if (debug.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (var i = 0, len = debug.names.length; i < len; i++) {\n    if (debug.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n};\n\n/**\n * Coerce `val`.\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n\n// persist\n\ntry {\n  if (window.localStorage) debug.enable(localStorage.debug);\n} catch(e){}\n\n},{}],19:[function(require,module,exports){\n\nmodule.exports =  require('./lib/');\n\n},{\"./lib/\":20}],20:[function(require,module,exports){\n\nmodule.exports = require('./socket');\n\n/**\n * Exports parser\n *\n * @api public\n *\n */\nmodule.exports.parser = require('engine.io-parser');\n\n},{\"./socket\":21,\"engine.io-parser\":33}],21:[function(require,module,exports){\n(function (global){\n/**\n * Module dependencies.\n */\n\nvar transports = require('./transports');\nvar Emitter = require('component-emitter');\nvar debug = require('debug')('engine.io-client:socket');\nvar index = require('indexof');\nvar parser = require('engine.io-parser');\nvar parseuri = require('parseuri');\nvar parsejson = require('parsejson');\nvar parseqs = require('parseqs');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Socket;\n\n/**\n * Noop function.\n *\n * @api private\n */\n\nfunction noop(){}\n\n/**\n * Socket constructor.\n *\n * @param {String|Object} uri or options\n * @param {Object} options\n * @api public\n */\n\nfunction Socket(uri, opts){\n  if (!(this instanceof Socket)) return new Socket(uri, opts);\n\n  opts = opts || {};\n\n  if (uri && 'object' == typeof uri) {\n    opts = uri;\n    uri = null;\n  }\n\n  if (uri) {\n    uri = parseuri(uri);\n    opts.host = uri.host;\n    opts.secure = uri.protocol == 'https' || uri.protocol == 'wss';\n    opts.port = uri.port;\n    if (uri.query) opts.query = uri.query;\n  }\n\n  this.secure = null != opts.secure ? opts.secure :\n    (global.location && 'https:' == location.protocol);\n\n  if (opts.host) {\n    var pieces = opts.host.split(':');\n    opts.hostname = pieces.shift();\n    if (pieces.length) {\n      opts.port = pieces.pop();\n    } else if (!opts.port) {\n      // if no port is specified manually, use the protocol default\n      opts.port = this.secure ? '443' : '80';\n    }\n  }\n\n  this.agent = opts.agent || false;\n  this.hostname = opts.hostname ||\n    (global.location ? location.hostname : 'localhost');\n  this.port = opts.port || (global.location && location.port ?\n       location.port :\n       (this.secure ? 443 : 80));\n  this.query = opts.query || {};\n  if ('string' == typeof this.query) this.query = parseqs.decode(this.query);\n  this.upgrade = false !== opts.upgrade;\n  this.path = (opts.path || '/engine.io').replace(/\\/$/, '') + '/';\n  this.forceJSONP = !!opts.forceJSONP;\n  this.jsonp = false !== opts.jsonp;\n  this.forceBase64 = !!opts.forceBase64;\n  this.enablesXDR = !!opts.enablesXDR;\n  this.timestampParam = opts.timestampParam || 't';\n  this.timestampRequests = opts.timestampRequests;\n  this.transports = opts.transports || ['polling', 'websocket'];\n  this.readyState = '';\n  this.writeBuffer = [];\n  this.callbackBuffer = [];\n  this.policyPort = opts.policyPort || 843;\n  this.rememberUpgrade = opts.rememberUpgrade || false;\n  this.binaryType = null;\n  this.onlyBinaryUpgrades = opts.onlyBinaryUpgrades;\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx || null;\n  this.key = opts.key || null;\n  this.passphrase = opts.passphrase || null;\n  this.cert = opts.cert || null;\n  this.ca = opts.ca || null;\n  this.ciphers = opts.ciphers || null;\n  this.rejectUnauthorized = opts.rejectUnauthorized || null;\n\n  this.open();\n}\n\nSocket.priorWebsocketSuccess = false;\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Socket.prototype);\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nSocket.protocol = parser.protocol; // this is an int\n\n/**\n * Expose deps for legacy compatibility\n * and standalone browser access.\n */\n\nSocket.Socket = Socket;\nSocket.Transport = require('./transport');\nSocket.transports = require('./transports');\nSocket.parser = require('engine.io-parser');\n\n/**\n * Creates transport of the given type.\n *\n * @param {String} transport name\n * @return {Transport}\n * @api private\n */\n\nSocket.prototype.createTransport = function (name) {\n  debug('creating transport \"%s\"', name);\n  var query = clone(this.query);\n\n  // append engine.io protocol identifier\n  query.EIO = parser.protocol;\n\n  // transport name\n  query.transport = name;\n\n  // session id if we already have one\n  if (this.id) query.sid = this.id;\n\n  var transport = new transports[name]({\n    agent: this.agent,\n    hostname: this.hostname,\n    port: this.port,\n    secure: this.secure,\n    path: this.path,\n    query: query,\n    forceJSONP: this.forceJSONP,\n    jsonp: this.jsonp,\n    forceBase64: this.forceBase64,\n    enablesXDR: this.enablesXDR,\n    timestampRequests: this.timestampRequests,\n    timestampParam: this.timestampParam,\n    policyPort: this.policyPort,\n    socket: this,\n    pfx: this.pfx,\n    key: this.key,\n    passphrase: this.passphrase,\n    cert: this.cert,\n    ca: this.ca,\n    ciphers: this.ciphers,\n    rejectUnauthorized: this.rejectUnauthorized\n  });\n\n  return transport;\n};\n\nfunction clone (obj) {\n  var o = {};\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      o[i] = obj[i];\n    }\n  }\n  return o;\n}\n\n/**\n * Initializes transport to use and starts probe.\n *\n * @api private\n */\nSocket.prototype.open = function () {\n  var transport;\n  if (this.rememberUpgrade && Socket.priorWebsocketSuccess && this.transports.indexOf('websocket') != -1) {\n    transport = 'websocket';\n  } else if (0 == this.transports.length) {\n    // Emit error on next tick so it can be listened to\n    var self = this;\n    setTimeout(function() {\n      self.emit('error', 'No transports available');\n    }, 0);\n    return;\n  } else {\n    transport = this.transports[0];\n  }\n  this.readyState = 'opening';\n\n  // Retry with the next transport if the transport is disabled (jsonp: false)\n  var transport;\n  try {\n    transport = this.createTransport(transport);\n  } catch (e) {\n    this.transports.shift();\n    this.open();\n    return;\n  }\n\n  transport.open();\n  this.setTransport(transport);\n};\n\n/**\n * Sets the current transport. Disables the existing one (if any).\n *\n * @api private\n */\n\nSocket.prototype.setTransport = function(transport){\n  debug('setting transport %s', transport.name);\n  var self = this;\n\n  if (this.transport) {\n    debug('clearing existing transport %s', this.transport.name);\n    this.transport.removeAllListeners();\n  }\n\n  // set up transport\n  this.transport = transport;\n\n  // set up transport listeners\n  transport\n  .on('drain', function(){\n    self.onDrain();\n  })\n  .on('packet', function(packet){\n    self.onPacket(packet);\n  })\n  .on('error', function(e){\n    self.onError(e);\n  })\n  .on('close', function(){\n    self.onClose('transport close');\n  });\n};\n\n/**\n * Probes a transport.\n *\n * @param {String} transport name\n * @api private\n */\n\nSocket.prototype.probe = function (name) {\n  debug('probing transport \"%s\"', name);\n  var transport = this.createTransport(name, { probe: 1 })\n    , failed = false\n    , self = this;\n\n  Socket.priorWebsocketSuccess = false;\n\n  function onTransportOpen(){\n    if (self.onlyBinaryUpgrades) {\n      var upgradeLosesBinary = !this.supportsBinary && self.transport.supportsBinary;\n      failed = failed || upgradeLosesBinary;\n    }\n    if (failed) return;\n\n    debug('probe transport \"%s\" opened', name);\n    transport.send([{ type: 'ping', data: 'probe' }]);\n    transport.once('packet', function (msg) {\n      if (failed) return;\n      if ('pong' == msg.type && 'probe' == msg.data) {\n        debug('probe transport \"%s\" pong', name);\n        self.upgrading = true;\n        self.emit('upgrading', transport);\n        if (!transport) return;\n        Socket.priorWebsocketSuccess = 'websocket' == transport.name;\n\n        debug('pausing current transport \"%s\"', self.transport.name);\n        self.transport.pause(function () {\n          if (failed) return;\n          if ('closed' == self.readyState) return;\n          debug('changing transport and sending upgrade packet');\n\n          cleanup();\n\n          self.setTransport(transport);\n          transport.send([{ type: 'upgrade' }]);\n          self.emit('upgrade', transport);\n          transport = null;\n          self.upgrading = false;\n          self.flush();\n        });\n      } else {\n        debug('probe transport \"%s\" failed', name);\n        var err = new Error('probe error');\n        err.transport = transport.name;\n        self.emit('upgradeError', err);\n      }\n    });\n  }\n\n  function freezeTransport() {\n    if (failed) return;\n\n    // Any callback called by transport should be ignored since now\n    failed = true;\n\n    cleanup();\n\n    transport.close();\n    transport = null;\n  }\n\n  //Handle any error that happens while probing\n  function onerror(err) {\n    var error = new Error('probe error: ' + err);\n    error.transport = transport.name;\n\n    freezeTransport();\n\n    debug('probe transport \"%s\" failed because of error: %s', name, err);\n\n    self.emit('upgradeError', error);\n  }\n\n  function onTransportClose(){\n    onerror(\"transport closed\");\n  }\n\n  //When the socket is closed while we're probing\n  function onclose(){\n    onerror(\"socket closed\");\n  }\n\n  //When the socket is upgraded while we're probing\n  function onupgrade(to){\n    if (transport && to.name != transport.name) {\n      debug('\"%s\" works - aborting \"%s\"', to.name, transport.name);\n      freezeTransport();\n    }\n  }\n\n  //Remove all listeners on the transport and on self\n  function cleanup(){\n    transport.removeListener('open', onTransportOpen);\n    transport.removeListener('error', onerror);\n    transport.removeListener('close', onTransportClose);\n    self.removeListener('close', onclose);\n    self.removeListener('upgrading', onupgrade);\n  }\n\n  transport.once('open', onTransportOpen);\n  transport.once('error', onerror);\n  transport.once('close', onTransportClose);\n\n  this.once('close', onclose);\n  this.once('upgrading', onupgrade);\n\n  transport.open();\n\n};\n\n/**\n * Called when connection is deemed open.\n *\n * @api public\n */\n\nSocket.prototype.onOpen = function () {\n  debug('socket open');\n  this.readyState = 'open';\n  Socket.priorWebsocketSuccess = 'websocket' == this.transport.name;\n  this.emit('open');\n  this.flush();\n\n  // we check for `readyState` in case an `open`\n  // listener already closed the socket\n  if ('open' == this.readyState && this.upgrade && this.transport.pause) {\n    debug('starting upgrade probes');\n    for (var i = 0, l = this.upgrades.length; i < l; i++) {\n      this.probe(this.upgrades[i]);\n    }\n  }\n};\n\n/**\n * Handles a packet.\n *\n * @api private\n */\n\nSocket.prototype.onPacket = function (packet) {\n  if ('opening' == this.readyState || 'open' == this.readyState) {\n    debug('socket receive: type \"%s\", data \"%s\"', packet.type, packet.data);\n\n    this.emit('packet', packet);\n\n    // Socket is live - any packet counts\n    this.emit('heartbeat');\n\n    switch (packet.type) {\n      case 'open':\n        this.onHandshake(parsejson(packet.data));\n        break;\n\n      case 'pong':\n        this.setPing();\n        break;\n\n      case 'error':\n        var err = new Error('server error');\n        err.code = packet.data;\n        this.emit('error', err);\n        break;\n\n      case 'message':\n        this.emit('data', packet.data);\n        this.emit('message', packet.data);\n        break;\n    }\n  } else {\n    debug('packet received with socket readyState \"%s\"', this.readyState);\n  }\n};\n\n/**\n * Called upon handshake completion.\n *\n * @param {Object} handshake obj\n * @api private\n */\n\nSocket.prototype.onHandshake = function (data) {\n  this.emit('handshake', data);\n  this.id = data.sid;\n  this.transport.query.sid = data.sid;\n  this.upgrades = this.filterUpgrades(data.upgrades);\n  this.pingInterval = data.pingInterval;\n  this.pingTimeout = data.pingTimeout;\n  this.onOpen();\n  // In case open handler closes socket\n  if  ('closed' == this.readyState) return;\n  this.setPing();\n\n  // Prolong liveness of socket on heartbeat\n  this.removeListener('heartbeat', this.onHeartbeat);\n  this.on('heartbeat', this.onHeartbeat);\n};\n\n/**\n * Resets ping timeout.\n *\n * @api private\n */\n\nSocket.prototype.onHeartbeat = function (timeout) {\n  clearTimeout(this.pingTimeoutTimer);\n  var self = this;\n  self.pingTimeoutTimer = setTimeout(function () {\n    if ('closed' == self.readyState) return;\n    self.onClose('ping timeout');\n  }, timeout || (self.pingInterval + self.pingTimeout));\n};\n\n/**\n * Pings server every `this.pingInterval` and expects response\n * within `this.pingTimeout` or closes connection.\n *\n * @api private\n */\n\nSocket.prototype.setPing = function () {\n  var self = this;\n  clearTimeout(self.pingIntervalTimer);\n  self.pingIntervalTimer = setTimeout(function () {\n    debug('writing ping packet - expecting pong within %sms', self.pingTimeout);\n    self.ping();\n    self.onHeartbeat(self.pingTimeout);\n  }, self.pingInterval);\n};\n\n/**\n* Sends a ping packet.\n*\n* @api public\n*/\n\nSocket.prototype.ping = function () {\n  this.sendPacket('ping');\n};\n\n/**\n * Called on `drain` event\n *\n * @api private\n */\n\nSocket.prototype.onDrain = function() {\n  for (var i = 0; i < this.prevBufferLen; i++) {\n    if (this.callbackBuffer[i]) {\n      this.callbackBuffer[i]();\n    }\n  }\n\n  this.writeBuffer.splice(0, this.prevBufferLen);\n  this.callbackBuffer.splice(0, this.prevBufferLen);\n\n  // setting prevBufferLen = 0 is very important\n  // for example, when upgrading, upgrade packet is sent over,\n  // and a nonzero prevBufferLen could cause problems on `drain`\n  this.prevBufferLen = 0;\n\n  if (this.writeBuffer.length == 0) {\n    this.emit('drain');\n  } else {\n    this.flush();\n  }\n};\n\n/**\n * Flush write buffers.\n *\n * @api private\n */\n\nSocket.prototype.flush = function () {\n  if ('closed' != this.readyState && this.transport.writable &&\n    !this.upgrading && this.writeBuffer.length) {\n    debug('flushing %d packets in socket', this.writeBuffer.length);\n    this.transport.send(this.writeBuffer);\n    // keep track of current length of writeBuffer\n    // splice writeBuffer and callbackBuffer on `drain`\n    this.prevBufferLen = this.writeBuffer.length;\n    this.emit('flush');\n  }\n};\n\n/**\n * Sends a message.\n *\n * @param {String} message.\n * @param {Function} callback function.\n * @return {Socket} for chaining.\n * @api public\n */\n\nSocket.prototype.write =\nSocket.prototype.send = function (msg, fn) {\n  this.sendPacket('message', msg, fn);\n  return this;\n};\n\n/**\n * Sends a packet.\n *\n * @param {String} packet type.\n * @param {String} data.\n * @param {Function} callback function.\n * @api private\n */\n\nSocket.prototype.sendPacket = function (type, data, fn) {\n  if ('closing' == this.readyState || 'closed' == this.readyState) {\n    return;\n  }\n\n  var packet = { type: type, data: data };\n  this.emit('packetCreate', packet);\n  this.writeBuffer.push(packet);\n  this.callbackBuffer.push(fn);\n  this.flush();\n};\n\n/**\n * Closes the connection.\n *\n * @api private\n */\n\nSocket.prototype.close = function () {\n  if ('opening' == this.readyState || 'open' == this.readyState) {\n    this.readyState = 'closing';\n\n    var self = this;\n\n    function close() {\n      self.onClose('forced close');\n      debug('socket closing - telling transport to close');\n      self.transport.close();\n    }\n\n    function cleanupAndClose() {\n      self.removeListener('upgrade', cleanupAndClose);\n      self.removeListener('upgradeError', cleanupAndClose);\n      close();\n    }\n\n    function waitForUpgrade() {\n      // wait for upgrade to finish since we can't send packets while pausing a transport\n      self.once('upgrade', cleanupAndClose);\n      self.once('upgradeError', cleanupAndClose);\n    }\n\n    if (this.writeBuffer.length) {\n      this.once('drain', function() {\n        if (this.upgrading) {\n          waitForUpgrade();\n        } else {\n          close();\n        }\n      });\n    } else if (this.upgrading) {\n      waitForUpgrade();\n    } else {\n      close();\n    }\n  }\n\n  return this;\n};\n\n/**\n * Called upon transport error\n *\n * @api private\n */\n\nSocket.prototype.onError = function (err) {\n  debug('socket error %j', err);\n  Socket.priorWebsocketSuccess = false;\n  this.emit('error', err);\n  this.onClose('transport error', err);\n};\n\n/**\n * Called upon transport close.\n *\n * @api private\n */\n\nSocket.prototype.onClose = function (reason, desc) {\n  if ('opening' == this.readyState || 'open' == this.readyState || 'closing' == this.readyState) {\n    debug('socket close with reason: \"%s\"', reason);\n    var self = this;\n\n    // clear timers\n    clearTimeout(this.pingIntervalTimer);\n    clearTimeout(this.pingTimeoutTimer);\n\n    // clean buffers in next tick, so developers can still\n    // grab the buffers on `close` event\n    setTimeout(function() {\n      self.writeBuffer = [];\n      self.callbackBuffer = [];\n      self.prevBufferLen = 0;\n    }, 0);\n\n    // stop event from firing again for transport\n    this.transport.removeAllListeners('close');\n\n    // ensure transport won't stay open\n    this.transport.close();\n\n    // ignore further transport communication\n    this.transport.removeAllListeners();\n\n    // set ready state\n    this.readyState = 'closed';\n\n    // clear session id\n    this.id = null;\n\n    // emit close event\n    this.emit('close', reason, desc);\n  }\n};\n\n/**\n * Filters upgrades, returning only those matching client transports.\n *\n * @param {Array} server upgrades\n * @api private\n *\n */\n\nSocket.prototype.filterUpgrades = function (upgrades) {\n  var filteredUpgrades = [];\n  for (var i = 0, j = upgrades.length; i<j; i++) {\n    if (~index(this.transports, upgrades[i])) filteredUpgrades.push(upgrades[i]);\n  }\n  return filteredUpgrades;\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./transport\":22,\"./transports\":23,\"component-emitter\":17,\"debug\":30,\"engine.io-parser\":33,\"indexof\":50,\"parsejson\":44,\"parseqs\":45,\"parseuri\":46}],22:[function(require,module,exports){\n/**\n * Module dependencies.\n */\n\nvar parser = require('engine.io-parser');\nvar Emitter = require('component-emitter');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Transport;\n\n/**\n * Transport abstract constructor.\n *\n * @param {Object} options.\n * @api private\n */\n\nfunction Transport (opts) {\n  this.path = opts.path;\n  this.hostname = opts.hostname;\n  this.port = opts.port;\n  this.secure = opts.secure;\n  this.query = opts.query;\n  this.timestampParam = opts.timestampParam;\n  this.timestampRequests = opts.timestampRequests;\n  this.readyState = '';\n  this.agent = opts.agent || false;\n  this.socket = opts.socket;\n  this.enablesXDR = opts.enablesXDR;\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx;\n  this.key = opts.key;\n  this.passphrase = opts.passphrase;\n  this.cert = opts.cert;\n  this.ca = opts.ca;\n  this.ciphers = opts.ciphers;\n  this.rejectUnauthorized = opts.rejectUnauthorized;\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Transport.prototype);\n\n/**\n * A counter used to prevent collisions in the timestamps used\n * for cache busting.\n */\n\nTransport.timestamps = 0;\n\n/**\n * Emits an error.\n *\n * @param {String} str\n * @return {Transport} for chaining\n * @api public\n */\n\nTransport.prototype.onError = function (msg, desc) {\n  var err = new Error(msg);\n  err.type = 'TransportError';\n  err.description = desc;\n  this.emit('error', err);\n  return this;\n};\n\n/**\n * Opens the transport.\n *\n * @api public\n */\n\nTransport.prototype.open = function () {\n  if ('closed' == this.readyState || '' == this.readyState) {\n    this.readyState = 'opening';\n    this.doOpen();\n  }\n\n  return this;\n};\n\n/**\n * Closes the transport.\n *\n * @api private\n */\n\nTransport.prototype.close = function () {\n  if ('opening' == this.readyState || 'open' == this.readyState) {\n    this.doClose();\n    this.onClose();\n  }\n\n  return this;\n};\n\n/**\n * Sends multiple packets.\n *\n * @param {Array} packets\n * @api private\n */\n\nTransport.prototype.send = function(packets){\n  if ('open' == this.readyState) {\n    this.write(packets);\n  } else {\n    throw new Error('Transport not open');\n  }\n};\n\n/**\n * Called upon open\n *\n * @api private\n */\n\nTransport.prototype.onOpen = function () {\n  this.readyState = 'open';\n  this.writable = true;\n  this.emit('open');\n};\n\n/**\n * Called with data.\n *\n * @param {String} data\n * @api private\n */\n\nTransport.prototype.onData = function(data){\n  var packet = parser.decodePacket(data, this.socket.binaryType);\n  this.onPacket(packet);\n};\n\n/**\n * Called with a decoded packet.\n */\n\nTransport.prototype.onPacket = function (packet) {\n  this.emit('packet', packet);\n};\n\n/**\n * Called upon close.\n *\n * @api private\n */\n\nTransport.prototype.onClose = function () {\n  this.readyState = 'closed';\n  this.emit('close');\n};\n\n},{\"component-emitter\":17,\"engine.io-parser\":33}],23:[function(require,module,exports){\n(function (global){\n/**\n * Module dependencies\n */\n\nvar XMLHttpRequest = require('xmlhttprequest');\nvar XHR = require('./polling-xhr');\nvar JSONP = require('./polling-jsonp');\nvar websocket = require('./websocket');\n\n/**\n * Export transports.\n */\n\nexports.polling = polling;\nexports.websocket = websocket;\n\n/**\n * Polling transport polymorphic constructor.\n * Decides on xhr vs jsonp based on feature detection.\n *\n * @api private\n */\n\nfunction polling(opts){\n  var xhr;\n  var xd = false;\n  var xs = false;\n  var jsonp = false !== opts.jsonp;\n\n  if (global.location) {\n    var isSSL = 'https:' == location.protocol;\n    var port = location.port;\n\n    // some user agents have empty `location.port`\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    xd = opts.hostname != location.hostname || port != opts.port;\n    xs = opts.secure != isSSL;\n  }\n\n  opts.xdomain = xd;\n  opts.xscheme = xs;\n  xhr = new XMLHttpRequest(opts);\n\n  if ('open' in xhr && !opts.forceJSONP) {\n    return new XHR(opts);\n  } else {\n    if (!jsonp) throw new Error('JSONP disabled');\n    return new JSONP(opts);\n  }\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./polling-jsonp\":24,\"./polling-xhr\":25,\"./websocket\":27,\"xmlhttprequest\":28}],24:[function(require,module,exports){\n(function (global){\n\n/**\n * Module requirements.\n */\n\nvar Polling = require('./polling');\nvar inherit = require('component-inherit');\n\n/**\n * Module exports.\n */\n\nmodule.exports = JSONPPolling;\n\n/**\n * Cached regular expressions.\n */\n\nvar rNewline = /\\n/g;\nvar rEscapedNewline = /\\\\n/g;\n\n/**\n * Global JSONP callbacks.\n */\n\nvar callbacks;\n\n/**\n * Callbacks count.\n */\n\nvar index = 0;\n\n/**\n * Noop.\n */\n\nfunction empty () { }\n\n/**\n * JSONP Polling constructor.\n *\n * @param {Object} opts.\n * @api public\n */\n\nfunction JSONPPolling (opts) {\n  Polling.call(this, opts);\n\n  this.query = this.query || {};\n\n  // define global callbacks array if not present\n  // we do this here (lazily) to avoid unneeded global pollution\n  if (!callbacks) {\n    // we need to consider multiple engines in the same page\n    if (!global.___eio) global.___eio = [];\n    callbacks = global.___eio;\n  }\n\n  // callback identifier\n  this.index = callbacks.length;\n\n  // add callback to jsonp global\n  var self = this;\n  callbacks.push(function (msg) {\n    self.onData(msg);\n  });\n\n  // append to query string\n  this.query.j = this.index;\n\n  // prevent spurious errors from being emitted when the window is unloaded\n  if (global.document && global.addEventListener) {\n    global.addEventListener('beforeunload', function () {\n      if (self.script) self.script.onerror = empty;\n    }, false);\n  }\n}\n\n/**\n * Inherits from Polling.\n */\n\ninherit(JSONPPolling, Polling);\n\n/*\n * JSONP only supports binary as base64 encoded strings\n */\n\nJSONPPolling.prototype.supportsBinary = false;\n\n/**\n * Closes the socket.\n *\n * @api private\n */\n\nJSONPPolling.prototype.doClose = function () {\n  if (this.script) {\n    this.script.parentNode.removeChild(this.script);\n    this.script = null;\n  }\n\n  if (this.form) {\n    this.form.parentNode.removeChild(this.form);\n    this.form = null;\n    this.iframe = null;\n  }\n\n  Polling.prototype.doClose.call(this);\n};\n\n/**\n * Starts a poll cycle.\n *\n * @api private\n */\n\nJSONPPolling.prototype.doPoll = function () {\n  var self = this;\n  var script = document.createElement('script');\n\n  if (this.script) {\n    this.script.parentNode.removeChild(this.script);\n    this.script = null;\n  }\n\n  script.async = true;\n  script.src = this.uri();\n  script.onerror = function(e){\n    self.onError('jsonp poll error',e);\n  };\n\n  var insertAt = document.getElementsByTagName('script')[0];\n  insertAt.parentNode.insertBefore(script, insertAt);\n  this.script = script;\n\n  var isUAgecko = 'undefined' != typeof navigator && /gecko/i.test(navigator.userAgent);\n  \n  if (isUAgecko) {\n    setTimeout(function () {\n      var iframe = document.createElement('iframe');\n      document.body.appendChild(iframe);\n      document.body.removeChild(iframe);\n    }, 100);\n  }\n};\n\n/**\n * Writes with a hidden iframe.\n *\n * @param {String} data to send\n * @param {Function} called upon flush.\n * @api private\n */\n\nJSONPPolling.prototype.doWrite = function (data, fn) {\n  var self = this;\n\n  if (!this.form) {\n    var form = document.createElement('form');\n    var area = document.createElement('textarea');\n    var id = this.iframeId = 'eio_iframe_' + this.index;\n    var iframe;\n\n    form.className = 'socketio';\n    form.style.position = 'absolute';\n    form.style.top = '-1000px';\n    form.style.left = '-1000px';\n    form.target = id;\n    form.method = 'POST';\n    form.setAttribute('accept-charset', 'utf-8');\n    area.name = 'd';\n    form.appendChild(area);\n    document.body.appendChild(form);\n\n    this.form = form;\n    this.area = area;\n  }\n\n  this.form.action = this.uri();\n\n  function complete () {\n    initIframe();\n    fn();\n  }\n\n  function initIframe () {\n    if (self.iframe) {\n      try {\n        self.form.removeChild(self.iframe);\n      } catch (e) {\n        self.onError('jsonp polling iframe removal error', e);\n      }\n    }\n\n    try {\n      // ie6 dynamic iframes with target=\"\" support (thanks Chris Lambacher)\n      var html = '<iframe src=\"javascript:0\" name=\"'+ self.iframeId +'\">';\n      iframe = document.createElement(html);\n    } catch (e) {\n      iframe = document.createElement('iframe');\n      iframe.name = self.iframeId;\n      iframe.src = 'javascript:0';\n    }\n\n    iframe.id = self.iframeId;\n\n    self.form.appendChild(iframe);\n    self.iframe = iframe;\n  }\n\n  initIframe();\n\n  // escape \\n to prevent it from being converted into \\r\\n by some UAs\n  // double escaping is required for escaped new lines because unescaping of new lines can be done safely on server-side\n  data = data.replace(rEscapedNewline, '\\\\\\n');\n  this.area.value = data.replace(rNewline, '\\\\n');\n\n  try {\n    this.form.submit();\n  } catch(e) {}\n\n  if (this.iframe.attachEvent) {\n    this.iframe.onreadystatechange = function(){\n      if (self.iframe.readyState == 'complete') {\n        complete();\n      }\n    };\n  } else {\n    this.iframe.onload = complete;\n  }\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./polling\":26,\"component-inherit\":29}],25:[function(require,module,exports){\n(function (global){\n/**\n * Module requirements.\n */\n\nvar XMLHttpRequest = require('xmlhttprequest');\nvar Polling = require('./polling');\nvar Emitter = require('component-emitter');\nvar inherit = require('component-inherit');\nvar debug = require('debug')('engine.io-client:polling-xhr');\n\n/**\n * Module exports.\n */\n\nmodule.exports = XHR;\nmodule.exports.Request = Request;\n\n/**\n * Empty function\n */\n\nfunction empty(){}\n\n/**\n * XHR Polling constructor.\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction XHR(opts){\n  Polling.call(this, opts);\n\n  if (global.location) {\n    var isSSL = 'https:' == location.protocol;\n    var port = location.port;\n\n    // some user agents have empty `location.port`\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    this.xd = opts.hostname != global.location.hostname ||\n      port != opts.port;\n    this.xs = opts.secure != isSSL;\n  }\n}\n\n/**\n * Inherits from Polling.\n */\n\ninherit(XHR, Polling);\n\n/**\n * XHR supports binary\n */\n\nXHR.prototype.supportsBinary = true;\n\n/**\n * Creates a request.\n *\n * @param {String} method\n * @api private\n */\n\nXHR.prototype.request = function(opts){\n  opts = opts || {};\n  opts.uri = this.uri();\n  opts.xd = this.xd;\n  opts.xs = this.xs;\n  opts.agent = this.agent || false;\n  opts.supportsBinary = this.supportsBinary;\n  opts.enablesXDR = this.enablesXDR;\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n\n  return new Request(opts);\n};\n\n/**\n * Sends data.\n *\n * @param {String} data to send.\n * @param {Function} called upon flush.\n * @api private\n */\n\nXHR.prototype.doWrite = function(data, fn){\n  var isBinary = typeof data !== 'string' && data !== undefined;\n  var req = this.request({ method: 'POST', data: data, isBinary: isBinary });\n  var self = this;\n  req.on('success', fn);\n  req.on('error', function(err){\n    self.onError('xhr post error', err);\n  });\n  this.sendXhr = req;\n};\n\n/**\n * Starts a poll cycle.\n *\n * @api private\n */\n\nXHR.prototype.doPoll = function(){\n  debug('xhr poll');\n  var req = this.request();\n  var self = this;\n  req.on('data', function(data){\n    self.onData(data);\n  });\n  req.on('error', function(err){\n    self.onError('xhr poll error', err);\n  });\n  this.pollXhr = req;\n};\n\n/**\n * Request constructor\n *\n * @param {Object} options\n * @api public\n */\n\nfunction Request(opts){\n  this.method = opts.method || 'GET';\n  this.uri = opts.uri;\n  this.xd = !!opts.xd;\n  this.xs = !!opts.xs;\n  this.async = false !== opts.async;\n  this.data = undefined != opts.data ? opts.data : null;\n  this.agent = opts.agent;\n  this.isBinary = opts.isBinary;\n  this.supportsBinary = opts.supportsBinary;\n  this.enablesXDR = opts.enablesXDR;\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx;\n  this.key = opts.key;\n  this.passphrase = opts.passphrase;\n  this.cert = opts.cert;\n  this.ca = opts.ca;\n  this.ciphers = opts.ciphers;\n  this.rejectUnauthorized = opts.rejectUnauthorized;\n\n  this.create();\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Request.prototype);\n\n/**\n * Creates the XHR object and sends the request.\n *\n * @api private\n */\n\nRequest.prototype.create = function(){\n  var opts = { agent: this.agent, xdomain: this.xd, xscheme: this.xs, enablesXDR: this.enablesXDR };\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n\n  var xhr = this.xhr = new XMLHttpRequest(opts);\n  var self = this;\n\n  try {\n    debug('xhr open %s: %s', this.method, this.uri);\n    xhr.open(this.method, this.uri, this.async);\n    if (this.supportsBinary) {\n      // This has to be done after open because Firefox is stupid\n      // http://stackoverflow.com/questions/13216903/get-binary-data-with-xmlhttprequest-in-a-firefox-extension\n      xhr.responseType = 'arraybuffer';\n    }\n\n    if ('POST' == this.method) {\n      try {\n        if (this.isBinary) {\n          xhr.setRequestHeader('Content-type', 'application/octet-stream');\n        } else {\n          xhr.setRequestHeader('Content-type', 'text/plain;charset=UTF-8');\n        }\n      } catch (e) {}\n    }\n\n    // ie6 check\n    if ('withCredentials' in xhr) {\n      xhr.withCredentials = true;\n    }\n\n    if (this.hasXDR()) {\n      xhr.onload = function(){\n        self.onLoad();\n      };\n      xhr.onerror = function(){\n        self.onError(xhr.responseText);\n      };\n    } else {\n      xhr.onreadystatechange = function(){\n        if (4 != xhr.readyState) return;\n        if (200 == xhr.status || 1223 == xhr.status) {\n          self.onLoad();\n        } else {\n          // make sure the `error` event handler that's user-set\n          // does not throw in the same tick and gets caught here\n          setTimeout(function(){\n            self.onError(xhr.status);\n          }, 0);\n        }\n      };\n    }\n\n    debug('xhr data %s', this.data);\n    xhr.send(this.data);\n  } catch (e) {\n    // Need to defer since .create() is called directly fhrom the constructor\n    // and thus the 'error' event can only be only bound *after* this exception\n    // occurs.  Therefore, also, we cannot throw here at all.\n    setTimeout(function() {\n      self.onError(e);\n    }, 0);\n    return;\n  }\n\n  if (global.document) {\n    this.index = Request.requestsCount++;\n    Request.requests[this.index] = this;\n  }\n};\n\n/**\n * Called upon successful response.\n *\n * @api private\n */\n\nRequest.prototype.onSuccess = function(){\n  this.emit('success');\n  this.cleanup();\n};\n\n/**\n * Called if we have data.\n *\n * @api private\n */\n\nRequest.prototype.onData = function(data){\n  this.emit('data', data);\n  this.onSuccess();\n};\n\n/**\n * Called upon error.\n *\n * @api private\n */\n\nRequest.prototype.onError = function(err){\n  this.emit('error', err);\n  this.cleanup(true);\n};\n\n/**\n * Cleans up house.\n *\n * @api private\n */\n\nRequest.prototype.cleanup = function(fromError){\n  if ('undefined' == typeof this.xhr || null === this.xhr) {\n    return;\n  }\n  // xmlhttprequest\n  if (this.hasXDR()) {\n    this.xhr.onload = this.xhr.onerror = empty;\n  } else {\n    this.xhr.onreadystatechange = empty;\n  }\n\n  if (fromError) {\n    try {\n      this.xhr.abort();\n    } catch(e) {}\n  }\n\n  if (global.document) {\n    delete Request.requests[this.index];\n  }\n\n  this.xhr = null;\n};\n\n/**\n * Called upon load.\n *\n * @api private\n */\n\nRequest.prototype.onLoad = function(){\n  var data;\n  try {\n    var contentType;\n    try {\n      contentType = this.xhr.getResponseHeader('Content-Type').split(';')[0];\n    } catch (e) {}\n    if (contentType === 'application/octet-stream') {\n      data = this.xhr.response;\n    } else {\n      if (!this.supportsBinary) {\n        data = this.xhr.responseText;\n      } else {\n        data = 'ok';\n      }\n    }\n  } catch (e) {\n    this.onError(e);\n  }\n  if (null != data) {\n    this.onData(data);\n  }\n};\n\n/**\n * Check if it has XDomainRequest.\n *\n * @api private\n */\n\nRequest.prototype.hasXDR = function(){\n  return 'undefined' !== typeof global.XDomainRequest && !this.xs && this.enablesXDR;\n};\n\n/**\n * Aborts the request.\n *\n * @api public\n */\n\nRequest.prototype.abort = function(){\n  this.cleanup();\n};\n\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\n\nif (global.document) {\n  Request.requestsCount = 0;\n  Request.requests = {};\n  if (global.attachEvent) {\n    global.attachEvent('onunload', unloadHandler);\n  } else if (global.addEventListener) {\n    global.addEventListener('beforeunload', unloadHandler, false);\n  }\n}\n\nfunction unloadHandler() {\n  for (var i in Request.requests) {\n    if (Request.requests.hasOwnProperty(i)) {\n      Request.requests[i].abort();\n    }\n  }\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./polling\":26,\"component-emitter\":17,\"component-inherit\":29,\"debug\":30,\"xmlhttprequest\":28}],26:[function(require,module,exports){\n/**\n * Module dependencies.\n */\n\nvar Transport = require('../transport');\nvar parseqs = require('parseqs');\nvar parser = require('engine.io-parser');\nvar inherit = require('component-inherit');\nvar debug = require('debug')('engine.io-client:polling');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Polling;\n\n/**\n * Is XHR2 supported?\n */\n\nvar hasXHR2 = (function() {\n  var XMLHttpRequest = require('xmlhttprequest');\n  var xhr = new XMLHttpRequest({ xdomain: false });\n  return null != xhr.responseType;\n})();\n\n/**\n * Polling interface.\n *\n * @param {Object} opts\n * @api private\n */\n\nfunction Polling(opts){\n  var forceBase64 = (opts && opts.forceBase64);\n  if (!hasXHR2 || forceBase64) {\n    this.supportsBinary = false;\n  }\n  Transport.call(this, opts);\n}\n\n/**\n * Inherits from Transport.\n */\n\ninherit(Polling, Transport);\n\n/**\n * Transport name.\n */\n\nPolling.prototype.name = 'polling';\n\n/**\n * Opens the socket (triggers polling). We write a PING message to determine\n * when the transport is open.\n *\n * @api private\n */\n\nPolling.prototype.doOpen = function(){\n  this.poll();\n};\n\n/**\n * Pauses polling.\n *\n * @param {Function} callback upon buffers are flushed and transport is paused\n * @api private\n */\n\nPolling.prototype.pause = function(onPause){\n  var pending = 0;\n  var self = this;\n\n  this.readyState = 'pausing';\n\n  function pause(){\n    debug('paused');\n    self.readyState = 'paused';\n    onPause();\n  }\n\n  if (this.polling || !this.writable) {\n    var total = 0;\n\n    if (this.polling) {\n      debug('we are currently polling - waiting to pause');\n      total++;\n      this.once('pollComplete', function(){\n        debug('pre-pause polling complete');\n        --total || pause();\n      });\n    }\n\n    if (!this.writable) {\n      debug('we are currently writing - waiting to pause');\n      total++;\n      this.once('drain', function(){\n        debug('pre-pause writing complete');\n        --total || pause();\n      });\n    }\n  } else {\n    pause();\n  }\n};\n\n/**\n * Starts polling cycle.\n *\n * @api public\n */\n\nPolling.prototype.poll = function(){\n  debug('polling');\n  this.polling = true;\n  this.doPoll();\n  this.emit('poll');\n};\n\n/**\n * Overloads onData to detect payloads.\n *\n * @api private\n */\n\nPolling.prototype.onData = function(data){\n  var self = this;\n  debug('polling got data %s', data);\n  var callback = function(packet, index, total) {\n    // if its the first message we consider the transport open\n    if ('opening' == self.readyState) {\n      self.onOpen();\n    }\n\n    // if its a close packet, we close the ongoing requests\n    if ('close' == packet.type) {\n      self.onClose();\n      return false;\n    }\n\n    // otherwise bypass onData and handle the message\n    self.onPacket(packet);\n  };\n\n  // decode payload\n  parser.decodePayload(data, this.socket.binaryType, callback);\n\n  // if an event did not trigger closing\n  if ('closed' != this.readyState) {\n    // if we got data we're not polling\n    this.polling = false;\n    this.emit('pollComplete');\n\n    if ('open' == this.readyState) {\n      this.poll();\n    } else {\n      debug('ignoring poll - transport state \"%s\"', this.readyState);\n    }\n  }\n};\n\n/**\n * For polling, send a close packet.\n *\n * @api private\n */\n\nPolling.prototype.doClose = function(){\n  var self = this;\n\n  function close(){\n    debug('writing close packet');\n    self.write([{ type: 'close' }]);\n  }\n\n  if ('open' == this.readyState) {\n    debug('transport open - closing');\n    close();\n  } else {\n    // in case we're trying to close while\n    // handshaking is in progress (GH-164)\n    debug('transport not open - deferring close');\n    this.once('open', close);\n  }\n};\n\n/**\n * Writes a packets payload.\n *\n * @param {Array} data packets\n * @param {Function} drain callback\n * @api private\n */\n\nPolling.prototype.write = function(packets){\n  var self = this;\n  this.writable = false;\n  var callbackfn = function() {\n    self.writable = true;\n    self.emit('drain');\n  };\n\n  var self = this;\n  parser.encodePayload(packets, this.supportsBinary, function(data) {\n    self.doWrite(data, callbackfn);\n  });\n};\n\n/**\n * Generates uri for connection.\n *\n * @api private\n */\n\nPolling.prototype.uri = function(){\n  var query = this.query || {};\n  var schema = this.secure ? 'https' : 'http';\n  var port = '';\n\n  // cache busting is forced\n  if (false !== this.timestampRequests) {\n    query[this.timestampParam] = +new Date + '-' + Transport.timestamps++;\n  }\n\n  if (!this.supportsBinary && !query.sid) {\n    query.b64 = 1;\n  }\n\n  query = parseqs.encode(query);\n\n  // avoid port if default for schema\n  if (this.port && (('https' == schema && this.port != 443) ||\n     ('http' == schema && this.port != 80))) {\n    port = ':' + this.port;\n  }\n\n  // prepend ? to query\n  if (query.length) {\n    query = '?' + query;\n  }\n\n  return schema + '://' + this.hostname + port + this.path + query;\n};\n\n},{\"../transport\":22,\"component-inherit\":29,\"debug\":30,\"engine.io-parser\":33,\"parseqs\":45,\"xmlhttprequest\":28}],27:[function(require,module,exports){\n/**\n * Module dependencies.\n */\n\nvar Transport = require('../transport');\nvar parser = require('engine.io-parser');\nvar parseqs = require('parseqs');\nvar inherit = require('component-inherit');\nvar debug = require('debug')('engine.io-client:websocket');\n\n/**\n * `ws` exposes a WebSocket-compatible interface in\n * Node, or the `WebSocket` or `MozWebSocket` globals\n * in the browser.\n */\n\nvar WebSocket = require('ws');\n\n/**\n * Module exports.\n */\n\nmodule.exports = WS;\n\n/**\n * WebSocket transport constructor.\n *\n * @api {Object} connection options\n * @api public\n */\n\nfunction WS(opts){\n  var forceBase64 = (opts && opts.forceBase64);\n  if (forceBase64) {\n    this.supportsBinary = false;\n  }\n  Transport.call(this, opts);\n}\n\n/**\n * Inherits from Transport.\n */\n\ninherit(WS, Transport);\n\n/**\n * Transport name.\n *\n * @api public\n */\n\nWS.prototype.name = 'websocket';\n\n/*\n * WebSockets support binary\n */\n\nWS.prototype.supportsBinary = true;\n\n/**\n * Opens socket.\n *\n * @api private\n */\n\nWS.prototype.doOpen = function(){\n  if (!this.check()) {\n    // let probe timeout\n    return;\n  }\n\n  var self = this;\n  var uri = this.uri();\n  var protocols = void(0);\n  var opts = { agent: this.agent };\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n\n  this.ws = new WebSocket(uri, protocols, opts);\n\n  if (this.ws.binaryType === undefined) {\n    this.supportsBinary = false;\n  }\n\n  this.ws.binaryType = 'arraybuffer';\n  this.addEventListeners();\n};\n\n/**\n * Adds event listeners to the socket\n *\n * @api private\n */\n\nWS.prototype.addEventListeners = function(){\n  var self = this;\n\n  this.ws.onopen = function(){\n    self.onOpen();\n  };\n  this.ws.onclose = function(){\n    self.onClose();\n  };\n  this.ws.onmessage = function(ev){\n    self.onData(ev.data);\n  };\n  this.ws.onerror = function(e){\n    self.onError('websocket error', e);\n  };\n};\n\n/**\n * Override `onData` to use a timer on iOS.\n * See: https://gist.github.com/mloughran/2052006\n *\n * @api private\n */\n\nif ('undefined' != typeof navigator\n  && /iPad|iPhone|iPod/i.test(navigator.userAgent)) {\n  WS.prototype.onData = function(data){\n    var self = this;\n    setTimeout(function(){\n      Transport.prototype.onData.call(self, data);\n    }, 0);\n  };\n}\n\n/**\n * Writes data to socket.\n *\n * @param {Array} array of packets.\n * @api private\n */\n\nWS.prototype.write = function(packets){\n  var self = this;\n  this.writable = false;\n  // encodePacket efficient as it uses WS framing\n  // no need for encodePayload\n  for (var i = 0, l = packets.length; i < l; i++) {\n    parser.encodePacket(packets[i], this.supportsBinary, function(data) {\n      //Sometimes the websocket has already been closed but the browser didn't\n      //have a chance of informing us about it yet, in that case send will\n      //throw an error\n      try {\n        self.ws.send(data);\n      } catch (e){\n        debug('websocket closed before onclose event');\n      }\n    });\n  }\n\n  function ondrain() {\n    self.writable = true;\n    self.emit('drain');\n  }\n  // fake drain\n  // defer to next tick to allow Socket to clear writeBuffer\n  setTimeout(ondrain, 0);\n};\n\n/**\n * Called upon close\n *\n * @api private\n */\n\nWS.prototype.onClose = function(){\n  Transport.prototype.onClose.call(this);\n};\n\n/**\n * Closes socket.\n *\n * @api private\n */\n\nWS.prototype.doClose = function(){\n  if (typeof this.ws !== 'undefined') {\n    this.ws.close();\n  }\n};\n\n/**\n * Generates uri for connection.\n *\n * @api private\n */\n\nWS.prototype.uri = function(){\n  var query = this.query || {};\n  var schema = this.secure ? 'wss' : 'ws';\n  var port = '';\n\n  // avoid port if default for schema\n  if (this.port && (('wss' == schema && this.port != 443)\n    || ('ws' == schema && this.port != 80))) {\n    port = ':' + this.port;\n  }\n\n  // append timestamp to URI\n  if (this.timestampRequests) {\n    query[this.timestampParam] = +new Date;\n  }\n\n  // communicate binary support capabilities\n  if (!this.supportsBinary) {\n    query.b64 = 1;\n  }\n\n  query = parseqs.encode(query);\n\n  // prepend ? to query\n  if (query.length) {\n    query = '?' + query;\n  }\n\n  return schema + '://' + this.hostname + port + this.path + query;\n};\n\n/**\n * Feature detection for WebSocket.\n *\n * @return {Boolean} whether this transport is available.\n * @api public\n */\n\nWS.prototype.check = function(){\n  return !!WebSocket && !('__initialize' in WebSocket && this.name === WS.prototype.name);\n};\n\n},{\"../transport\":22,\"component-inherit\":29,\"debug\":30,\"engine.io-parser\":33,\"parseqs\":45,\"ws\":47}],28:[function(require,module,exports){\n// browser shim for xmlhttprequest module\nvar hasCORS = require('has-cors');\n\nmodule.exports = function(opts) {\n  var xdomain = opts.xdomain;\n\n  // scheme must be same when usign XDomainRequest\n  // http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx\n  var xscheme = opts.xscheme;\n\n  // XDomainRequest has a flow of not sending cookie, therefore it should be disabled as a default.\n  // https://github.com/Automattic/engine.io-client/pull/217\n  var enablesXDR = opts.enablesXDR;\n\n  // XMLHttpRequest can be disabled on IE\n  try {\n    if ('undefined' != typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n      return new XMLHttpRequest();\n    }\n  } catch (e) { }\n\n  // Use XDomainRequest for IE8 if enablesXDR is true\n  // because loading bar keeps flashing when using jsonp-polling\n  // https://github.com/yujiosaka/socke.io-ie8-loading-example\n  try {\n    if ('undefined' != typeof XDomainRequest && !xscheme && enablesXDR) {\n      return new XDomainRequest();\n    }\n  } catch (e) { }\n\n  if (!xdomain) {\n    try {\n      return new ActiveXObject('Microsoft.XMLHTTP');\n    } catch(e) { }\n  }\n}\n\n},{\"has-cors\":42}],29:[function(require,module,exports){\n\nmodule.exports = function(a, b){\n  var fn = function(){};\n  fn.prototype = b.prototype;\n  a.prototype = new fn;\n  a.prototype.constructor = a;\n};\n},{}],30:[function(require,module,exports){\n\n/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  return ('WebkitAppearance' in document.documentElement.style) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (window.console && (console.firebug || (console.exception && console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31);\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  return JSON.stringify(v);\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs() {\n  var args = arguments;\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return args;\n\n  var c = 'color: ' + this.color;\n  args = [args[0], c, 'color: inherit'].concat(Array.prototype.slice.call(args, 1));\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n  return args;\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // This hackery is required for IE8,\n  // where the `console.log` function doesn't have 'apply'\n  return 'object' == typeof console\n    && 'function' == typeof console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      localStorage.removeItem('debug');\n    } else {\n      localStorage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = localStorage.debug;\n  } catch(e) {}\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n},{\"./debug\":31}],31:[function(require,module,exports){\n\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = debug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lowercased letter, i.e. \"n\".\n */\n\nexports.formatters = {};\n\n/**\n * Previously assigned color.\n */\n\nvar prevColor = 0;\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n *\n * @return {Number}\n * @api private\n */\n\nfunction selectColor() {\n  return exports.colors[prevColor++ % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction debug(namespace) {\n\n  // define the `disabled` version\n  function disabled() {\n  }\n  disabled.enabled = false;\n\n  // define the `enabled` version\n  function enabled() {\n\n    var self = enabled;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // add the `color` if not set\n    if (null == self.useColors) self.useColors = exports.useColors();\n    if (null == self.color && self.useColors) self.color = selectColor();\n\n    var args = Array.prototype.slice.call(arguments);\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %o\n      args = ['%o'].concat(args);\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    if ('function' === typeof exports.formatArgs) {\n      args = exports.formatArgs.apply(self, args);\n    }\n    var logFn = enabled.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n  enabled.enabled = true;\n\n  var fn = exports.enabled(namespace) ? enabled : disabled;\n\n  fn.namespace = namespace;\n\n  return fn;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  var split = (namespaces || '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n\n},{\"ms\":32}],32:[function(require,module,exports){\n/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} options\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options){\n  options = options || {};\n  if ('string' == typeof val) return parse(val);\n  return options.long\n    ? long(val)\n    : short(val);\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  var match = /^((?:\\d+)?\\.?\\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(str);\n  if (!match) return;\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 's':\n      return n * s;\n    case 'ms':\n      return n;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction short(ms) {\n  if (ms >= d) return Math.round(ms / d) + 'd';\n  if (ms >= h) return Math.round(ms / h) + 'h';\n  if (ms >= m) return Math.round(ms / m) + 'm';\n  if (ms >= s) return Math.round(ms / s) + 's';\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction long(ms) {\n  return plural(ms, d, 'day')\n    || plural(ms, h, 'hour')\n    || plural(ms, m, 'minute')\n    || plural(ms, s, 'second')\n    || ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) return;\n  if (ms < n * 1.5) return Math.floor(ms / n) + ' ' + name;\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n\n},{}],33:[function(require,module,exports){\n(function (global){\n/**\n * Module dependencies.\n */\n\nvar keys = require('./keys');\nvar hasBinary = require('has-binary');\nvar sliceBuffer = require('arraybuffer.slice');\nvar base64encoder = require('base64-arraybuffer');\nvar after = require('after');\nvar utf8 = require('utf8');\n\n/**\n * Check if we are running an android browser. That requires us to use\n * ArrayBuffer with polling transports...\n *\n * http://ghinda.net/jpeg-blob-ajax-android/\n */\n\nvar isAndroid = navigator.userAgent.match(/Android/i);\n\n/**\n * Check if we are running in PhantomJS.\n * Uploading a Blob with PhantomJS does not work correctly, as reported here:\n * https://github.com/ariya/phantomjs/issues/11395\n * @type boolean\n */\nvar isPhantomJS = /PhantomJS/i.test(navigator.userAgent);\n\n/**\n * When true, avoids using Blobs to encode payloads.\n * @type boolean\n */\nvar dontSendBlobs = isAndroid || isPhantomJS;\n\n/**\n * Current protocol version.\n */\n\nexports.protocol = 3;\n\n/**\n * Packet types.\n */\n\nvar packets = exports.packets = {\n    open:     0    // non-ws\n  , close:    1    // non-ws\n  , ping:     2\n  , pong:     3\n  , message:  4\n  , upgrade:  5\n  , noop:     6\n};\n\nvar packetslist = keys(packets);\n\n/**\n * Premade error packet.\n */\n\nvar err = { type: 'error', data: 'parser error' };\n\n/**\n * Create a blob api even for blob builder when vendor prefixes exist\n */\n\nvar Blob = require('blob');\n\n/**\n * Encodes a packet.\n *\n *     <packet type id> [ <data> ]\n *\n * Example:\n *\n *     5hello world\n *     3\n *     4\n *\n * Binary is encoded in an identical principle\n *\n * @api private\n */\n\nexports.encodePacket = function (packet, supportsBinary, utf8encode, callback) {\n  if ('function' == typeof supportsBinary) {\n    callback = supportsBinary;\n    supportsBinary = false;\n  }\n\n  if ('function' == typeof utf8encode) {\n    callback = utf8encode;\n    utf8encode = null;\n  }\n\n  var data = (packet.data === undefined)\n    ? undefined\n    : packet.data.buffer || packet.data;\n\n  if (global.ArrayBuffer && data instanceof ArrayBuffer) {\n    return encodeArrayBuffer(packet, supportsBinary, callback);\n  } else if (Blob && data instanceof global.Blob) {\n    return encodeBlob(packet, supportsBinary, callback);\n  }\n\n  // might be an object with { base64: true, data: dataAsBase64String }\n  if (data && data.base64) {\n    return encodeBase64Object(packet, callback);\n  }\n\n  // Sending data as a utf-8 string\n  var encoded = packets[packet.type];\n\n  // data fragment is optional\n  if (undefined !== packet.data) {\n    encoded += utf8encode ? utf8.encode(String(packet.data)) : String(packet.data);\n  }\n\n  return callback('' + encoded);\n\n};\n\nfunction encodeBase64Object(packet, callback) {\n  // packet data is an object { base64: true, data: dataAsBase64String }\n  var message = 'b' + exports.packets[packet.type] + packet.data.data;\n  return callback(message);\n}\n\n/**\n * Encode packet helpers for binary types\n */\n\nfunction encodeArrayBuffer(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  var data = packet.data;\n  var contentArray = new Uint8Array(data);\n  var resultBuffer = new Uint8Array(1 + data.byteLength);\n\n  resultBuffer[0] = packets[packet.type];\n  for (var i = 0; i < contentArray.length; i++) {\n    resultBuffer[i+1] = contentArray[i];\n  }\n\n  return callback(resultBuffer.buffer);\n}\n\nfunction encodeBlobAsArrayBuffer(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  var fr = new FileReader();\n  fr.onload = function() {\n    packet.data = fr.result;\n    exports.encodePacket(packet, supportsBinary, true, callback);\n  };\n  return fr.readAsArrayBuffer(packet.data);\n}\n\nfunction encodeBlob(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  if (dontSendBlobs) {\n    return encodeBlobAsArrayBuffer(packet, supportsBinary, callback);\n  }\n\n  var length = new Uint8Array(1);\n  length[0] = packets[packet.type];\n  var blob = new Blob([length.buffer, packet.data]);\n\n  return callback(blob);\n}\n\n/**\n * Encodes a packet with binary data in a base64 string\n *\n * @param {Object} packet, has `type` and `data`\n * @return {String} base64 encoded message\n */\n\nexports.encodeBase64Packet = function(packet, callback) {\n  var message = 'b' + exports.packets[packet.type];\n  if (Blob && packet.data instanceof Blob) {\n    var fr = new FileReader();\n    fr.onload = function() {\n      var b64 = fr.result.split(',')[1];\n      callback(message + b64);\n    };\n    return fr.readAsDataURL(packet.data);\n  }\n\n  var b64data;\n  try {\n    b64data = String.fromCharCode.apply(null, new Uint8Array(packet.data));\n  } catch (e) {\n    // iPhone Safari doesn't let you apply with typed arrays\n    var typed = new Uint8Array(packet.data);\n    var basic = new Array(typed.length);\n    for (var i = 0; i < typed.length; i++) {\n      basic[i] = typed[i];\n    }\n    b64data = String.fromCharCode.apply(null, basic);\n  }\n  message += global.btoa(b64data);\n  return callback(message);\n};\n\n/**\n * Decodes a packet. Changes format to Blob if requested.\n *\n * @return {Object} with `type` and `data` (if any)\n * @api private\n */\n\nexports.decodePacket = function (data, binaryType, utf8decode) {\n  // String data\n  if (typeof data == 'string' || data === undefined) {\n    if (data.charAt(0) == 'b') {\n      return exports.decodeBase64Packet(data.substr(1), binaryType);\n    }\n\n    if (utf8decode) {\n      try {\n        data = utf8.decode(data);\n      } catch (e) {\n        return err;\n      }\n    }\n    var type = data.charAt(0);\n\n    if (Number(type) != type || !packetslist[type]) {\n      return err;\n    }\n\n    if (data.length > 1) {\n      return { type: packetslist[type], data: data.substring(1) };\n    } else {\n      return { type: packetslist[type] };\n    }\n  }\n\n  var asArray = new Uint8Array(data);\n  var type = asArray[0];\n  var rest = sliceBuffer(data, 1);\n  if (Blob && binaryType === 'blob') {\n    rest = new Blob([rest]);\n  }\n  return { type: packetslist[type], data: rest };\n};\n\n/**\n * Decodes a packet encoded in a base64 string\n *\n * @param {String} base64 encoded message\n * @return {Object} with `type` and `data` (if any)\n */\n\nexports.decodeBase64Packet = function(msg, binaryType) {\n  var type = packetslist[msg.charAt(0)];\n  if (!global.ArrayBuffer) {\n    return { type: type, data: { base64: true, data: msg.substr(1) } };\n  }\n\n  var data = base64encoder.decode(msg.substr(1));\n\n  if (binaryType === 'blob' && Blob) {\n    data = new Blob([data]);\n  }\n\n  return { type: type, data: data };\n};\n\n/**\n * Encodes multiple messages (payload).\n *\n *     <length>:data\n *\n * Example:\n *\n *     11:hello world2:hi\n *\n * If any contents are binary, they will be encoded as base64 strings. Base64\n * encoded strings are marked with a b before the length specifier\n *\n * @param {Array} packets\n * @api private\n */\n\nexports.encodePayload = function (packets, supportsBinary, callback) {\n  if (typeof supportsBinary == 'function') {\n    callback = supportsBinary;\n    supportsBinary = null;\n  }\n\n  var isBinary = hasBinary(packets);\n\n  if (supportsBinary && isBinary) {\n    if (Blob && !dontSendBlobs) {\n      return exports.encodePayloadAsBlob(packets, callback);\n    }\n\n    return exports.encodePayloadAsArrayBuffer(packets, callback);\n  }\n\n  if (!packets.length) {\n    return callback('0:');\n  }\n\n  function setLengthHeader(message) {\n    return message.length + ':' + message;\n  }\n\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, !isBinary ? false : supportsBinary, true, function(message) {\n      doneCallback(null, setLengthHeader(message));\n    });\n  }\n\n  map(packets, encodeOne, function(err, results) {\n    return callback(results.join(''));\n  });\n};\n\n/**\n * Async array map using after\n */\n\nfunction map(ary, each, done) {\n  var result = new Array(ary.length);\n  var next = after(ary.length, done);\n\n  var eachWithIndex = function(i, el, cb) {\n    each(el, function(error, msg) {\n      result[i] = msg;\n      cb(error, result);\n    });\n  };\n\n  for (var i = 0; i < ary.length; i++) {\n    eachWithIndex(i, ary[i], next);\n  }\n}\n\n/*\n * Decodes data when a payload is maybe expected. Possible binary contents are\n * decoded from their base64 representation\n *\n * @param {String} data, callback method\n * @api public\n */\n\nexports.decodePayload = function (data, binaryType, callback) {\n  if (typeof data != 'string') {\n    return exports.decodePayloadAsBinary(data, binaryType, callback);\n  }\n\n  if (typeof binaryType === 'function') {\n    callback = binaryType;\n    binaryType = null;\n  }\n\n  var packet;\n  if (data == '') {\n    // parser error - ignoring payload\n    return callback(err, 0, 1);\n  }\n\n  var length = ''\n    , n, msg;\n\n  for (var i = 0, l = data.length; i < l; i++) {\n    var chr = data.charAt(i);\n\n    if (':' != chr) {\n      length += chr;\n    } else {\n      if ('' == length || (length != (n = Number(length)))) {\n        // parser error - ignoring payload\n        return callback(err, 0, 1);\n      }\n\n      msg = data.substr(i + 1, n);\n\n      if (length != msg.length) {\n        // parser error - ignoring payload\n        return callback(err, 0, 1);\n      }\n\n      if (msg.length) {\n        packet = exports.decodePacket(msg, binaryType, true);\n\n        if (err.type == packet.type && err.data == packet.data) {\n          // parser error in individual packet - ignoring payload\n          return callback(err, 0, 1);\n        }\n\n        var ret = callback(packet, i + n, l);\n        if (false === ret) return;\n      }\n\n      // advance cursor\n      i += n;\n      length = '';\n    }\n  }\n\n  if (length != '') {\n    // parser error - ignoring payload\n    return callback(err, 0, 1);\n  }\n\n};\n\n/**\n * Encodes multiple messages (payload) as binary.\n *\n * <1 = binary, 0 = string><number from 0-9><number from 0-9>[...]<number\n * 255><data>\n *\n * Example:\n * 1 3 255 1 2 3, if the binary contents are interpreted as 8 bit integers\n *\n * @param {Array} packets\n * @return {ArrayBuffer} encoded payload\n * @api private\n */\n\nexports.encodePayloadAsArrayBuffer = function(packets, callback) {\n  if (!packets.length) {\n    return callback(new ArrayBuffer(0));\n  }\n\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, true, true, function(data) {\n      return doneCallback(null, data);\n    });\n  }\n\n  map(packets, encodeOne, function(err, encodedPackets) {\n    var totalLength = encodedPackets.reduce(function(acc, p) {\n      var len;\n      if (typeof p === 'string'){\n        len = p.length;\n      } else {\n        len = p.byteLength;\n      }\n      return acc + len.toString().length + len + 2; // string/binary identifier + separator = 2\n    }, 0);\n\n    var resultArray = new Uint8Array(totalLength);\n\n    var bufferIndex = 0;\n    encodedPackets.forEach(function(p) {\n      var isString = typeof p === 'string';\n      var ab = p;\n      if (isString) {\n        var view = new Uint8Array(p.length);\n        for (var i = 0; i < p.length; i++) {\n          view[i] = p.charCodeAt(i);\n        }\n        ab = view.buffer;\n      }\n\n      if (isString) { // not true binary\n        resultArray[bufferIndex++] = 0;\n      } else { // true binary\n        resultArray[bufferIndex++] = 1;\n      }\n\n      var lenStr = ab.byteLength.toString();\n      for (var i = 0; i < lenStr.length; i++) {\n        resultArray[bufferIndex++] = parseInt(lenStr[i]);\n      }\n      resultArray[bufferIndex++] = 255;\n\n      var view = new Uint8Array(ab);\n      for (var i = 0; i < view.length; i++) {\n        resultArray[bufferIndex++] = view[i];\n      }\n    });\n\n    return callback(resultArray.buffer);\n  });\n};\n\n/**\n * Encode as Blob\n */\n\nexports.encodePayloadAsBlob = function(packets, callback) {\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, true, true, function(encoded) {\n      var binaryIdentifier = new Uint8Array(1);\n      binaryIdentifier[0] = 1;\n      if (typeof encoded === 'string') {\n        var view = new Uint8Array(encoded.length);\n        for (var i = 0; i < encoded.length; i++) {\n          view[i] = encoded.charCodeAt(i);\n        }\n        encoded = view.buffer;\n        binaryIdentifier[0] = 0;\n      }\n\n      var len = (encoded instanceof ArrayBuffer)\n        ? encoded.byteLength\n        : encoded.size;\n\n      var lenStr = len.toString();\n      var lengthAry = new Uint8Array(lenStr.length + 1);\n      for (var i = 0; i < lenStr.length; i++) {\n        lengthAry[i] = parseInt(lenStr[i]);\n      }\n      lengthAry[lenStr.length] = 255;\n\n      if (Blob) {\n        var blob = new Blob([binaryIdentifier.buffer, lengthAry.buffer, encoded]);\n        doneCallback(null, blob);\n      }\n    });\n  }\n\n  map(packets, encodeOne, function(err, results) {\n    return callback(new Blob(results));\n  });\n};\n\n/*\n * Decodes data when a payload is maybe expected. Strings are decoded by\n * interpreting each byte as a key code for entries marked to start with 0. See\n * description of encodePayloadAsBinary\n *\n * @param {ArrayBuffer} data, callback method\n * @api public\n */\n\nexports.decodePayloadAsBinary = function (data, binaryType, callback) {\n  if (typeof binaryType === 'function') {\n    callback = binaryType;\n    binaryType = null;\n  }\n\n  var bufferTail = data;\n  var buffers = [];\n\n  var numberTooLong = false;\n  while (bufferTail.byteLength > 0) {\n    var tailArray = new Uint8Array(bufferTail);\n    var isString = tailArray[0] === 0;\n    var msgLength = '';\n\n    for (var i = 1; ; i++) {\n      if (tailArray[i] == 255) break;\n\n      if (msgLength.length > 310) {\n        numberTooLong = true;\n        break;\n      }\n\n      msgLength += tailArray[i];\n    }\n\n    if(numberTooLong) return callback(err, 0, 1);\n\n    bufferTail = sliceBuffer(bufferTail, 2 + msgLength.length);\n    msgLength = parseInt(msgLength);\n\n    var msg = sliceBuffer(bufferTail, 0, msgLength);\n    if (isString) {\n      try {\n        msg = String.fromCharCode.apply(null, new Uint8Array(msg));\n      } catch (e) {\n        // iPhone Safari doesn't let you apply to typed arrays\n        var typed = new Uint8Array(msg);\n        msg = '';\n        for (var i = 0; i < typed.length; i++) {\n          msg += String.fromCharCode(typed[i]);\n        }\n      }\n    }\n\n    buffers.push(msg);\n    bufferTail = sliceBuffer(bufferTail, msgLength);\n  }\n\n  var total = buffers.length;\n  buffers.forEach(function(buffer, i) {\n    callback(exports.decodePacket(buffer, binaryType, true), i, total);\n  });\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./keys\":34,\"after\":35,\"arraybuffer.slice\":36,\"base64-arraybuffer\":37,\"blob\":38,\"has-binary\":39,\"utf8\":41}],34:[function(require,module,exports){\n\n/**\n * Gets the keys for an object.\n *\n * @return {Array} keys\n * @api private\n */\n\nmodule.exports = Object.keys || function keys (obj){\n  var arr = [];\n  var has = Object.prototype.hasOwnProperty;\n\n  for (var i in obj) {\n    if (has.call(obj, i)) {\n      arr.push(i);\n    }\n  }\n  return arr;\n};\n\n},{}],35:[function(require,module,exports){\nmodule.exports = after\n\nfunction after(count, callback, err_cb) {\n    var bail = false\n    err_cb = err_cb || noop\n    proxy.count = count\n\n    return (count === 0) ? callback() : proxy\n\n    function proxy(err, result) {\n        if (proxy.count <= 0) {\n            throw new Error('after called too many times')\n        }\n        --proxy.count\n\n        // after first error, rest are passed to err_cb\n        if (err) {\n            bail = true\n            callback(err)\n            // future error callbacks will go to error handler\n            callback = err_cb\n        } else if (proxy.count === 0 && !bail) {\n            callback(null, result)\n        }\n    }\n}\n\nfunction noop() {}\n\n},{}],36:[function(require,module,exports){\n/**\n * An abstraction for slicing an arraybuffer even when\n * ArrayBuffer.prototype.slice is not supported\n *\n * @api public\n */\n\nmodule.exports = function(arraybuffer, start, end) {\n  var bytes = arraybuffer.byteLength;\n  start = start || 0;\n  end = end || bytes;\n\n  if (arraybuffer.slice) { return arraybuffer.slice(start, end); }\n\n  if (start < 0) { start += bytes; }\n  if (end < 0) { end += bytes; }\n  if (end > bytes) { end = bytes; }\n\n  if (start >= bytes || start >= end || bytes === 0) {\n    return new ArrayBuffer(0);\n  }\n\n  var abv = new Uint8Array(arraybuffer);\n  var result = new Uint8Array(end - start);\n  for (var i = start, ii = 0; i < end; i++, ii++) {\n    result[ii] = abv[i];\n  }\n  return result.buffer;\n};\n\n},{}],37:[function(require,module,exports){\n/*\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n(function(chars){\n  \"use strict\";\n\n  exports.encode = function(arraybuffer) {\n    var bytes = new Uint8Array(arraybuffer),\n    i, len = bytes.length, base64 = \"\";\n\n    for (i = 0; i < len; i+=3) {\n      base64 += chars[bytes[i] >> 2];\n      base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n      base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n      base64 += chars[bytes[i + 2] & 63];\n    }\n\n    if ((len % 3) === 2) {\n      base64 = base64.substring(0, base64.length - 1) + \"=\";\n    } else if (len % 3 === 1) {\n      base64 = base64.substring(0, base64.length - 2) + \"==\";\n    }\n\n    return base64;\n  };\n\n  exports.decode =  function(base64) {\n    var bufferLength = base64.length * 0.75,\n    len = base64.length, i, p = 0,\n    encoded1, encoded2, encoded3, encoded4;\n\n    if (base64[base64.length - 1] === \"=\") {\n      bufferLength--;\n      if (base64[base64.length - 2] === \"=\") {\n        bufferLength--;\n      }\n    }\n\n    var arraybuffer = new ArrayBuffer(bufferLength),\n    bytes = new Uint8Array(arraybuffer);\n\n    for (i = 0; i < len; i+=4) {\n      encoded1 = chars.indexOf(base64[i]);\n      encoded2 = chars.indexOf(base64[i+1]);\n      encoded3 = chars.indexOf(base64[i+2]);\n      encoded4 = chars.indexOf(base64[i+3]);\n\n      bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n      bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n      bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return arraybuffer;\n  };\n})(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\");\n\n},{}],38:[function(require,module,exports){\n(function (global){\n/**\n * Create a blob builder even when vendor prefixes exist\n */\n\nvar BlobBuilder = global.BlobBuilder\n  || global.WebKitBlobBuilder\n  || global.MSBlobBuilder\n  || global.MozBlobBuilder;\n\n/**\n * Check if Blob constructor is supported\n */\n\nvar blobSupported = (function() {\n  try {\n    var b = new Blob(['hi']);\n    return b.size == 2;\n  } catch(e) {\n    return false;\n  }\n})();\n\n/**\n * Check if BlobBuilder is supported\n */\n\nvar blobBuilderSupported = BlobBuilder\n  && BlobBuilder.prototype.append\n  && BlobBuilder.prototype.getBlob;\n\nfunction BlobBuilderConstructor(ary, options) {\n  options = options || {};\n\n  var bb = new BlobBuilder();\n  for (var i = 0; i < ary.length; i++) {\n    bb.append(ary[i]);\n  }\n  return (options.type) ? bb.getBlob(options.type) : bb.getBlob();\n};\n\nmodule.exports = (function() {\n  if (blobSupported) {\n    return global.Blob;\n  } else if (blobBuilderSupported) {\n    return BlobBuilderConstructor;\n  } else {\n    return undefined;\n  }\n})();\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],39:[function(require,module,exports){\n(function (global){\n\n/*\n * Module requirements.\n */\n\nvar isArray = require('isarray');\n\n/**\n * Module exports.\n */\n\nmodule.exports = hasBinary;\n\n/**\n * Checks for binary data.\n *\n * Right now only Buffer and ArrayBuffer are supported..\n *\n * @param {Object} anything\n * @api public\n */\n\nfunction hasBinary(data) {\n\n  function _hasBinary(obj) {\n    if (!obj) return false;\n\n    if ( (global.Buffer && global.Buffer.isBuffer(obj)) ||\n         (global.ArrayBuffer && obj instanceof ArrayBuffer) ||\n         (global.Blob && obj instanceof Blob) ||\n         (global.File && obj instanceof File)\n        ) {\n      return true;\n    }\n\n    if (isArray(obj)) {\n      for (var i = 0; i < obj.length; i++) {\n          if (_hasBinary(obj[i])) {\n              return true;\n          }\n      }\n    } else if (obj && 'object' == typeof obj) {\n      if (obj.toJSON) {\n        obj = obj.toJSON();\n      }\n\n      for (var key in obj) {\n        if (obj.hasOwnProperty(key) && _hasBinary(obj[key])) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  return _hasBinary(data);\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"isarray\":40}],40:[function(require,module,exports){\nmodule.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n\n},{}],41:[function(require,module,exports){\n(function (global){\n/*! http://mths.be/utf8js v2.0.0 by @mathias */\n;(function(root) {\n\n\t// Detect free variables `exports`\n\tvar freeExports = typeof exports == 'object' && exports;\n\n\t// Detect free variable `module`\n\tvar freeModule = typeof module == 'object' && module &&\n\t\tmodule.exports == freeExports && module;\n\n\t// Detect free variable `global`, from Node.js or Browserified code,\n\t// and use it as `root`\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\troot = freeGlobal;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar stringFromCharCode = String.fromCharCode;\n\n\t// Taken from http://mths.be/punycode\n\tfunction ucs2decode(string) {\n\t\tvar output = [];\n\t\tvar counter = 0;\n\t\tvar length = string.length;\n\t\tvar value;\n\t\tvar extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t// Taken from http://mths.be/punycode\n\tfunction ucs2encode(array) {\n\t\tvar length = array.length;\n\t\tvar index = -1;\n\t\tvar value;\n\t\tvar output = '';\n\t\twhile (++index < length) {\n\t\t\tvalue = array[index];\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t}\n\t\treturn output;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tfunction createByte(codePoint, shift) {\n\t\treturn stringFromCharCode(((codePoint >> shift) & 0x3F) | 0x80);\n\t}\n\n\tfunction encodeCodePoint(codePoint) {\n\t\tif ((codePoint & 0xFFFFFF80) == 0) { // 1-byte sequence\n\t\t\treturn stringFromCharCode(codePoint);\n\t\t}\n\t\tvar symbol = '';\n\t\tif ((codePoint & 0xFFFFF800) == 0) { // 2-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 6) & 0x1F) | 0xC0);\n\t\t}\n\t\telse if ((codePoint & 0xFFFF0000) == 0) { // 3-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 12) & 0x0F) | 0xE0);\n\t\t\tsymbol += createByte(codePoint, 6);\n\t\t}\n\t\telse if ((codePoint & 0xFFE00000) == 0) { // 4-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 18) & 0x07) | 0xF0);\n\t\t\tsymbol += createByte(codePoint, 12);\n\t\t\tsymbol += createByte(codePoint, 6);\n\t\t}\n\t\tsymbol += stringFromCharCode((codePoint & 0x3F) | 0x80);\n\t\treturn symbol;\n\t}\n\n\tfunction utf8encode(string) {\n\t\tvar codePoints = ucs2decode(string);\n\n\t\t// console.log(JSON.stringify(codePoints.map(function(x) {\n\t\t// \treturn 'U+' + x.toString(16).toUpperCase();\n\t\t// })));\n\n\t\tvar length = codePoints.length;\n\t\tvar index = -1;\n\t\tvar codePoint;\n\t\tvar byteString = '';\n\t\twhile (++index < length) {\n\t\t\tcodePoint = codePoints[index];\n\t\t\tbyteString += encodeCodePoint(codePoint);\n\t\t}\n\t\treturn byteString;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tfunction readContinuationByte() {\n\t\tif (byteIndex >= byteCount) {\n\t\t\tthrow Error('Invalid byte index');\n\t\t}\n\n\t\tvar continuationByte = byteArray[byteIndex] & 0xFF;\n\t\tbyteIndex++;\n\n\t\tif ((continuationByte & 0xC0) == 0x80) {\n\t\t\treturn continuationByte & 0x3F;\n\t\t}\n\n\t\t// If we end up here, it’s not a continuation byte\n\t\tthrow Error('Invalid continuation byte');\n\t}\n\n\tfunction decodeSymbol() {\n\t\tvar byte1;\n\t\tvar byte2;\n\t\tvar byte3;\n\t\tvar byte4;\n\t\tvar codePoint;\n\n\t\tif (byteIndex > byteCount) {\n\t\t\tthrow Error('Invalid byte index');\n\t\t}\n\n\t\tif (byteIndex == byteCount) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Read first byte\n\t\tbyte1 = byteArray[byteIndex] & 0xFF;\n\t\tbyteIndex++;\n\n\t\t// 1-byte sequence (no continuation bytes)\n\t\tif ((byte1 & 0x80) == 0) {\n\t\t\treturn byte1;\n\t\t}\n\n\t\t// 2-byte sequence\n\t\tif ((byte1 & 0xE0) == 0xC0) {\n\t\t\tvar byte2 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x1F) << 6) | byte2;\n\t\t\tif (codePoint >= 0x80) {\n\t\t\t\treturn codePoint;\n\t\t\t} else {\n\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t}\n\t\t}\n\n\t\t// 3-byte sequence (may include unpaired surrogates)\n\t\tif ((byte1 & 0xF0) == 0xE0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tbyte3 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x0F) << 12) | (byte2 << 6) | byte3;\n\t\t\tif (codePoint >= 0x0800) {\n\t\t\t\treturn codePoint;\n\t\t\t} else {\n\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t}\n\t\t}\n\n\t\t// 4-byte sequence\n\t\tif ((byte1 & 0xF8) == 0xF0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tbyte3 = readContinuationByte();\n\t\t\tbyte4 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x0F) << 0x12) | (byte2 << 0x0C) |\n\t\t\t\t(byte3 << 0x06) | byte4;\n\t\t\tif (codePoint >= 0x010000 && codePoint <= 0x10FFFF) {\n\t\t\t\treturn codePoint;\n\t\t\t}\n\t\t}\n\n\t\tthrow Error('Invalid UTF-8 detected');\n\t}\n\n\tvar byteArray;\n\tvar byteCount;\n\tvar byteIndex;\n\tfunction utf8decode(byteString) {\n\t\tbyteArray = ucs2decode(byteString);\n\t\tbyteCount = byteArray.length;\n\t\tbyteIndex = 0;\n\t\tvar codePoints = [];\n\t\tvar tmp;\n\t\twhile ((tmp = decodeSymbol()) !== false) {\n\t\t\tcodePoints.push(tmp);\n\t\t}\n\t\treturn ucs2encode(codePoints);\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar utf8 = {\n\t\t'version': '2.0.0',\n\t\t'encode': utf8encode,\n\t\t'decode': utf8decode\n\t};\n\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine(function() {\n\t\t\treturn utf8;\n\t\t});\n\t}\telse if (freeExports && !freeExports.nodeType) {\n\t\tif (freeModule) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = utf8;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tvar object = {};\n\t\t\tvar hasOwnProperty = object.hasOwnProperty;\n\t\t\tfor (var key in utf8) {\n\t\t\t\thasOwnProperty.call(utf8, key) && (freeExports[key] = utf8[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.utf8 = utf8;\n\t}\n\n}(this));\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],42:[function(require,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar global = require('global');\n\n/**\n * Module exports.\n *\n * Logic borrowed from Modernizr:\n *\n *   - https://github.com/Modernizr/Modernizr/blob/master/feature-detects/cors.js\n */\n\ntry {\n  module.exports = 'XMLHttpRequest' in global &&\n    'withCredentials' in new global.XMLHttpRequest();\n} catch (err) {\n  // if XMLHttp support is disabled in IE then it will throw\n  // when trying to create\n  module.exports = false;\n}\n\n},{\"global\":43}],43:[function(require,module,exports){\n\n/**\n * Returns `this`. Execute this without a \"context\" (i.e. without it being\n * attached to an object of the left-hand side), and `this` points to the\n * \"global\" scope of the current JS execution.\n */\n\nmodule.exports = (function () { return this; })();\n\n},{}],44:[function(require,module,exports){\n(function (global){\n/**\n * JSON parse.\n *\n * @see Based on jQuery#parseJSON (MIT) and JSON2\n * @api private\n */\n\nvar rvalidchars = /^[\\],:{}\\s]*$/;\nvar rvalidescape = /\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g;\nvar rvalidtokens = /\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g;\nvar rvalidbraces = /(?:^|:|,)(?:\\s*\\[)+/g;\nvar rtrimLeft = /^\\s+/;\nvar rtrimRight = /\\s+$/;\n\nmodule.exports = function parsejson(data) {\n  if ('string' != typeof data || !data) {\n    return null;\n  }\n\n  data = data.replace(rtrimLeft, '').replace(rtrimRight, '');\n\n  // Attempt to parse using the native JSON parser first\n  if (global.JSON && JSON.parse) {\n    return JSON.parse(data);\n  }\n\n  if (rvalidchars.test(data.replace(rvalidescape, '@')\n      .replace(rvalidtokens, ']')\n      .replace(rvalidbraces, ''))) {\n    return (new Function('return ' + data))();\n  }\n};\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],45:[function(require,module,exports){\n/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\n\nexports.encode = function (obj) {\n  var str = '';\n\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      if (str.length) str += '&';\n      str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n    }\n  }\n\n  return str;\n};\n\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\n\nexports.decode = function(qs){\n  var qry = {};\n  var pairs = qs.split('&');\n  for (var i = 0, l = pairs.length; i < l; i++) {\n    var pair = pairs[i].split('=');\n    qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n  }\n  return qry;\n};\n\n},{}],46:[function(require,module,exports){\n/**\n * Parses an URI\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\n\nvar re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\nvar parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\n\nmodule.exports = function parseuri(str) {\n    var src = str,\n        b = str.indexOf('['),\n        e = str.indexOf(']');\n\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n\n    var m = re.exec(str || ''),\n        uri = {},\n        i = 14;\n\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n\n    return uri;\n};\n\n},{}],47:[function(require,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar global = (function() { return this; })();\n\n/**\n * WebSocket constructor.\n */\n\nvar WebSocket = global.WebSocket || global.MozWebSocket;\n\n/**\n * Module exports.\n */\n\nmodule.exports = WebSocket ? ws : null;\n\n/**\n * WebSocket constructor.\n *\n * The third `opts` options object gets ignored in web browsers, since it's\n * non-standard, and throws a TypeError if passed to the constructor.\n * See: https://github.com/einaros/ws/issues/227\n *\n * @param {String} uri\n * @param {Array} protocols (optional)\n * @param {Object) opts (optional)\n * @api public\n */\n\nfunction ws(uri, protocols, opts) {\n  var instance;\n  if (protocols) {\n    instance = new WebSocket(uri, protocols);\n  } else {\n    instance = new WebSocket(uri);\n  }\n  return instance;\n}\n\nif (WebSocket) ws.prototype = WebSocket.prototype;\n\n},{}],48:[function(require,module,exports){\n(function (global){\n\n/*\n * Module requirements.\n */\n\nvar isArray = require('isarray');\n\n/**\n * Module exports.\n */\n\nmodule.exports = hasBinary;\n\n/**\n * Checks for binary data.\n *\n * Right now only Buffer and ArrayBuffer are supported..\n *\n * @param {Object} anything\n * @api public\n */\n\nfunction hasBinary(data) {\n\n  function _hasBinary(obj) {\n    if (!obj) return false;\n\n    if ( (global.Buffer && global.Buffer.isBuffer(obj)) ||\n         (global.ArrayBuffer && obj instanceof ArrayBuffer) ||\n         (global.Blob && obj instanceof Blob) ||\n         (global.File && obj instanceof File)\n        ) {\n      return true;\n    }\n\n    if (isArray(obj)) {\n      for (var i = 0; i < obj.length; i++) {\n          if (_hasBinary(obj[i])) {\n              return true;\n          }\n      }\n    } else if (obj && 'object' == typeof obj) {\n      if (obj.toJSON) {\n        obj = obj.toJSON();\n      }\n\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && _hasBinary(obj[key])) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  return _hasBinary(data);\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"isarray\":49}],49:[function(require,module,exports){\narguments[4][40][0].apply(exports,arguments)\n},{\"dup\":40}],50:[function(require,module,exports){\n\nvar indexOf = [].indexOf;\n\nmodule.exports = function(arr, obj){\n  if (indexOf) return arr.indexOf(obj);\n  for (var i = 0; i < arr.length; ++i) {\n    if (arr[i] === obj) return i;\n  }\n  return -1;\n};\n},{}],51:[function(require,module,exports){\n\n/**\n * HOP ref.\n */\n\nvar has = Object.prototype.hasOwnProperty;\n\n/**\n * Return own keys in `obj`.\n *\n * @param {Object} obj\n * @return {Array}\n * @api public\n */\n\nexports.keys = Object.keys || function(obj){\n  var keys = [];\n  for (var key in obj) {\n    if (has.call(obj, key)) {\n      keys.push(key);\n    }\n  }\n  return keys;\n};\n\n/**\n * Return own values in `obj`.\n *\n * @param {Object} obj\n * @return {Array}\n * @api public\n */\n\nexports.values = function(obj){\n  var vals = [];\n  for (var key in obj) {\n    if (has.call(obj, key)) {\n      vals.push(obj[key]);\n    }\n  }\n  return vals;\n};\n\n/**\n * Merge `b` into `a`.\n *\n * @param {Object} a\n * @param {Object} b\n * @return {Object} a\n * @api public\n */\n\nexports.merge = function(a, b){\n  for (var key in b) {\n    if (has.call(b, key)) {\n      a[key] = b[key];\n    }\n  }\n  return a;\n};\n\n/**\n * Return length of `obj`.\n *\n * @param {Object} obj\n * @return {Number}\n * @api public\n */\n\nexports.length = function(obj){\n  return exports.keys(obj).length;\n};\n\n/**\n * Check if `obj` is empty.\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api public\n */\n\nexports.isEmpty = function(obj){\n  return 0 == exports.length(obj);\n};\n},{}],52:[function(require,module,exports){\n/**\n * Parses an URI\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\n\nvar re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\nvar parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host'\n  , 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\n\nmodule.exports = function parseuri(str) {\n  var m = re.exec(str || '')\n    , uri = {}\n    , i = 14;\n\n  while (i--) {\n    uri[parts[i]] = m[i] || '';\n  }\n\n  return uri;\n};\n\n},{}],53:[function(require,module,exports){\n(function (global){\n/*global Blob,File*/\n\n/**\n * Module requirements\n */\n\nvar isArray = require('isarray');\nvar isBuf = require('./is-buffer');\n\n/**\n * Replaces every Buffer | ArrayBuffer in packet with a numbered placeholder.\n * Anything with blobs or files should be fed through removeBlobs before coming\n * here.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @api public\n */\n\nexports.deconstructPacket = function(packet){\n  var buffers = [];\n  var packetData = packet.data;\n\n  function _deconstructPacket(data) {\n    if (!data) return data;\n\n    if (isBuf(data)) {\n      var placeholder = { _placeholder: true, num: buffers.length };\n      buffers.push(data);\n      return placeholder;\n    } else if (isArray(data)) {\n      var newData = new Array(data.length);\n      for (var i = 0; i < data.length; i++) {\n        newData[i] = _deconstructPacket(data[i]);\n      }\n      return newData;\n    } else if ('object' == typeof data && !(data instanceof Date)) {\n      var newData = {};\n      for (var key in data) {\n        newData[key] = _deconstructPacket(data[key]);\n      }\n      return newData;\n    }\n    return data;\n  }\n\n  var pack = packet;\n  pack.data = _deconstructPacket(packetData);\n  pack.attachments = buffers.length; // number of binary 'attachments'\n  return {packet: pack, buffers: buffers};\n};\n\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @api public\n */\n\nexports.reconstructPacket = function(packet, buffers) {\n  var curPlaceHolder = 0;\n\n  function _reconstructPacket(data) {\n    if (data && data._placeholder) {\n      var buf = buffers[data.num]; // appropriate buffer (should be natural order anyway)\n      return buf;\n    } else if (isArray(data)) {\n      for (var i = 0; i < data.length; i++) {\n        data[i] = _reconstructPacket(data[i]);\n      }\n      return data;\n    } else if (data && 'object' == typeof data) {\n      for (var key in data) {\n        data[key] = _reconstructPacket(data[key]);\n      }\n      return data;\n    }\n    return data;\n  }\n\n  packet.data = _reconstructPacket(packet.data);\n  packet.attachments = undefined; // no longer useful\n  return packet;\n};\n\n/**\n * Asynchronously removes Blobs or Files from data via\n * FileReader's readAsArrayBuffer method. Used before encoding\n * data as msgpack. Calls callback with the blobless data.\n *\n * @param {Object} data\n * @param {Function} callback\n * @api private\n */\n\nexports.removeBlobs = function(data, callback) {\n  function _removeBlobs(obj, curKey, containingObject) {\n    if (!obj) return obj;\n\n    // convert any blob\n    if ((global.Blob && obj instanceof Blob) ||\n        (global.File && obj instanceof File)) {\n      pendingBlobs++;\n\n      // async filereader\n      var fileReader = new FileReader();\n      fileReader.onload = function() { // this.result == arraybuffer\n        if (containingObject) {\n          containingObject[curKey] = this.result;\n        }\n        else {\n          bloblessData = this.result;\n        }\n\n        // if nothing pending its callback time\n        if(! --pendingBlobs) {\n          callback(bloblessData);\n        }\n      };\n\n      fileReader.readAsArrayBuffer(obj); // blob -> arraybuffer\n    } else if (isArray(obj)) { // handle array\n      for (var i = 0; i < obj.length; i++) {\n        _removeBlobs(obj[i], i, obj);\n      }\n    } else if (obj && 'object' == typeof obj && !isBuf(obj)) { // and object\n      for (var key in obj) {\n        _removeBlobs(obj[key], key, obj);\n      }\n    }\n  }\n\n  var pendingBlobs = 0;\n  var bloblessData = data;\n  _removeBlobs(bloblessData);\n  if (!pendingBlobs) {\n    callback(bloblessData);\n  }\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./is-buffer\":55,\"isarray\":56}],54:[function(require,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar debug = require('debug')('socket.io-parser');\nvar json = require('json3');\nvar isArray = require('isarray');\nvar Emitter = require('component-emitter');\nvar binary = require('./binary');\nvar isBuf = require('./is-buffer');\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nexports.protocol = 4;\n\n/**\n * Packet types.\n *\n * @api public\n */\n\nexports.types = [\n  'CONNECT',\n  'DISCONNECT',\n  'EVENT',\n  'BINARY_EVENT',\n  'ACK',\n  'BINARY_ACK',\n  'ERROR'\n];\n\n/**\n * Packet type `connect`.\n *\n * @api public\n */\n\nexports.CONNECT = 0;\n\n/**\n * Packet type `disconnect`.\n *\n * @api public\n */\n\nexports.DISCONNECT = 1;\n\n/**\n * Packet type `event`.\n *\n * @api public\n */\n\nexports.EVENT = 2;\n\n/**\n * Packet type `ack`.\n *\n * @api public\n */\n\nexports.ACK = 3;\n\n/**\n * Packet type `error`.\n *\n * @api public\n */\n\nexports.ERROR = 4;\n\n/**\n * Packet type 'binary event'\n *\n * @api public\n */\n\nexports.BINARY_EVENT = 5;\n\n/**\n * Packet type `binary ack`. For acks with binary arguments.\n *\n * @api public\n */\n\nexports.BINARY_ACK = 6;\n\n/**\n * Encoder constructor.\n *\n * @api public\n */\n\nexports.Encoder = Encoder;\n\n/**\n * Decoder constructor.\n *\n * @api public\n */\n\nexports.Decoder = Decoder;\n\n/**\n * A socket.io Encoder instance\n *\n * @api public\n */\n\nfunction Encoder() {}\n\n/**\n * Encode a packet as a single string if non-binary, or as a\n * buffer sequence, depending on packet type.\n *\n * @param {Object} obj - packet object\n * @param {Function} callback - function to handle encodings (likely engine.write)\n * @return Calls callback with Array of encodings\n * @api public\n */\n\nEncoder.prototype.encode = function(obj, callback){\n  debug('encoding packet %j', obj);\n\n  if (exports.BINARY_EVENT == obj.type || exports.BINARY_ACK == obj.type) {\n    encodeAsBinary(obj, callback);\n  }\n  else {\n    var encoding = encodeAsString(obj);\n    callback([encoding]);\n  }\n};\n\n/**\n * Encode packet as string.\n *\n * @param {Object} packet\n * @return {String} encoded\n * @api private\n */\n\nfunction encodeAsString(obj) {\n  var str = '';\n  var nsp = false;\n\n  // first is type\n  str += obj.type;\n\n  // attachments if we have them\n  if (exports.BINARY_EVENT == obj.type || exports.BINARY_ACK == obj.type) {\n    str += obj.attachments;\n    str += '-';\n  }\n\n  // if we have a namespace other than `/`\n  // we append it followed by a comma `,`\n  if (obj.nsp && '/' != obj.nsp) {\n    nsp = true;\n    str += obj.nsp;\n  }\n\n  // immediately followed by the id\n  if (null != obj.id) {\n    if (nsp) {\n      str += ',';\n      nsp = false;\n    }\n    str += obj.id;\n  }\n\n  // json data\n  if (null != obj.data) {\n    if (nsp) str += ',';\n    str += json.stringify(obj.data);\n  }\n\n  debug('encoded %j as %s', obj, str);\n  return str;\n}\n\n/**\n * Encode packet as 'buffer sequence' by removing blobs, and\n * deconstructing packet into object with placeholders and\n * a list of buffers.\n *\n * @param {Object} packet\n * @return {Buffer} encoded\n * @api private\n */\n\nfunction encodeAsBinary(obj, callback) {\n\n  function writeEncoding(bloblessData) {\n    var deconstruction = binary.deconstructPacket(bloblessData);\n    var pack = encodeAsString(deconstruction.packet);\n    var buffers = deconstruction.buffers;\n\n    buffers.unshift(pack); // add packet info to beginning of data list\n    callback(buffers); // write all the buffers\n  }\n\n  binary.removeBlobs(obj, writeEncoding);\n}\n\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n * @api public\n */\n\nfunction Decoder() {\n  this.reconstructor = null;\n}\n\n/**\n * Mix in `Emitter` with Decoder.\n */\n\nEmitter(Decoder.prototype);\n\n/**\n * Decodes an ecoded packet string into packet JSON.\n *\n * @param {String} obj - encoded packet\n * @return {Object} packet\n * @api public\n */\n\nDecoder.prototype.add = function(obj) {\n  var packet;\n  if ('string' == typeof obj) {\n    packet = decodeString(obj);\n    if (exports.BINARY_EVENT == packet.type || exports.BINARY_ACK == packet.type) { // binary packet's json\n      this.reconstructor = new BinaryReconstructor(packet);\n\n      // no attachments, labeled binary but no binary data to follow\n      if (this.reconstructor.reconPack.attachments === 0) {\n        this.emit('decoded', packet);\n      }\n    } else { // non-binary full packet\n      this.emit('decoded', packet);\n    }\n  }\n  else if (isBuf(obj) || obj.base64) { // raw binary data\n    if (!this.reconstructor) {\n      throw new Error('got binary data when not reconstructing a packet');\n    } else {\n      packet = this.reconstructor.takeBinaryData(obj);\n      if (packet) { // received final buffer\n        this.reconstructor = null;\n        this.emit('decoded', packet);\n      }\n    }\n  }\n  else {\n    throw new Error('Unknown type: ' + obj);\n  }\n};\n\n/**\n * Decode a packet String (JSON data)\n *\n * @param {String} str\n * @return {Object} packet\n * @api private\n */\n\nfunction decodeString(str) {\n  var p = {};\n  var i = 0;\n\n  // look up type\n  p.type = Number(str.charAt(0));\n  if (null == exports.types[p.type]) return error();\n\n  // look up attachments if type binary\n  if (exports.BINARY_EVENT == p.type || exports.BINARY_ACK == p.type) {\n    var buf = '';\n    while (str.charAt(++i) != '-') {\n      buf += str.charAt(i);\n      if (i == str.length) break;\n    }\n    if (buf != Number(buf) || str.charAt(i) != '-') {\n      throw new Error('Illegal attachments');\n    }\n    p.attachments = Number(buf);\n  }\n\n  // look up namespace (if any)\n  if ('/' == str.charAt(i + 1)) {\n    p.nsp = '';\n    while (++i) {\n      var c = str.charAt(i);\n      if (',' == c) break;\n      p.nsp += c;\n      if (i == str.length) break;\n    }\n  } else {\n    p.nsp = '/';\n  }\n\n  // look up id\n  var next = str.charAt(i + 1);\n  if ('' !== next && Number(next) == next) {\n    p.id = '';\n    while (++i) {\n      var c = str.charAt(i);\n      if (null == c || Number(c) != c) {\n        --i;\n        break;\n      }\n      p.id += str.charAt(i);\n      if (i == str.length) break;\n    }\n    p.id = Number(p.id);\n  }\n\n  // look up json data\n  if (str.charAt(++i)) {\n    try {\n      p.data = json.parse(str.substr(i));\n    } catch(e){\n      return error();\n    }\n  }\n\n  debug('decoded %s as %j', str, p);\n  return p;\n}\n\n/**\n * Deallocates a parser's resources\n *\n * @api public\n */\n\nDecoder.prototype.destroy = function() {\n  if (this.reconstructor) {\n    this.reconstructor.finishedReconstruction();\n  }\n};\n\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n * @api private\n */\n\nfunction BinaryReconstructor(packet) {\n  this.reconPack = packet;\n  this.buffers = [];\n}\n\n/**\n * Method to be called when binary data received from connection\n * after a BINARY_EVENT packet.\n *\n * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n * @return {null | Object} returns null if more binary data is expected or\n *   a reconstructed packet object if all buffers have been received.\n * @api private\n */\n\nBinaryReconstructor.prototype.takeBinaryData = function(binData) {\n  this.buffers.push(binData);\n  if (this.buffers.length == this.reconPack.attachments) { // done with buffer list\n    var packet = binary.reconstructPacket(this.reconPack, this.buffers);\n    this.finishedReconstruction();\n    return packet;\n  }\n  return null;\n};\n\n/**\n * Cleans up binary packet reconstruction variables.\n *\n * @api private\n */\n\nBinaryReconstructor.prototype.finishedReconstruction = function() {\n  this.reconPack = null;\n  this.buffers = [];\n};\n\nfunction error(data){\n  return {\n    type: exports.ERROR,\n    data: 'parser error'\n  };\n}\n\n},{\"./binary\":53,\"./is-buffer\":55,\"component-emitter\":17,\"debug\":18,\"isarray\":56,\"json3\":57}],55:[function(require,module,exports){\n(function (global){\n\nmodule.exports = isBuf;\n\n/**\n * Returns true if obj is a buffer or an arraybuffer.\n *\n * @api private\n */\n\nfunction isBuf(obj) {\n  return (global.Buffer && global.Buffer.isBuffer(obj)) ||\n         (global.ArrayBuffer && obj instanceof ArrayBuffer);\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],56:[function(require,module,exports){\narguments[4][40][0].apply(exports,arguments)\n},{\"dup\":40}],57:[function(require,module,exports){\n/*! JSON v3.2.6 | http://bestiejs.github.io/json3 | Copyright 2012-2013, Kit Cambridge | http://kit.mit-license.org */\n;(function (window) {\n  // Convenience aliases.\n  var getClass = {}.toString, isProperty, forEach, undef;\n\n  // Detect the `define` function exposed by asynchronous module loaders. The\n  // strict `define` check is necessary for compatibility with `r.js`.\n  var isLoader = typeof define === \"function\" && define.amd;\n\n  // Detect native implementations.\n  var nativeJSON = typeof JSON == \"object\" && JSON;\n\n  // Set up the JSON 3 namespace, preferring the CommonJS `exports` object if\n  // available.\n  var JSON3 = typeof exports == \"object\" && exports && !exports.nodeType && exports;\n\n  if (JSON3 && nativeJSON) {\n    // Explicitly delegate to the native `stringify` and `parse`\n    // implementations in CommonJS environments.\n    JSON3.stringify = nativeJSON.stringify;\n    JSON3.parse = nativeJSON.parse;\n  } else {\n    // Export for web browsers, JavaScript engines, and asynchronous module\n    // loaders, using the global `JSON` object if available.\n    JSON3 = window.JSON = nativeJSON || {};\n  }\n\n  // Test the `Date#getUTC*` methods. Based on work by @Yaffle.\n  var isExtended = new Date(-3509827334573292);\n  try {\n    // The `getUTCFullYear`, `Month`, and `Date` methods return nonsensical\n    // results for certain dates in Opera >= 10.53.\n    isExtended = isExtended.getUTCFullYear() == -109252 && isExtended.getUTCMonth() === 0 && isExtended.getUTCDate() === 1 &&\n      // Safari < 2.0.2 stores the internal millisecond time value correctly,\n      // but clips the values returned by the date methods to the range of\n      // signed 32-bit integers ([-2 ** 31, 2 ** 31 - 1]).\n      isExtended.getUTCHours() == 10 && isExtended.getUTCMinutes() == 37 && isExtended.getUTCSeconds() == 6 && isExtended.getUTCMilliseconds() == 708;\n  } catch (exception) {}\n\n  // Internal: Determines whether the native `JSON.stringify` and `parse`\n  // implementations are spec-compliant. Based on work by Ken Snyder.\n  function has(name) {\n    if (has[name] !== undef) {\n      // Return cached feature test result.\n      return has[name];\n    }\n\n    var isSupported;\n    if (name == \"bug-string-char-index\") {\n      // IE <= 7 doesn't support accessing string characters using square\n      // bracket notation. IE 8 only supports this for primitives.\n      isSupported = \"a\"[0] != \"a\";\n    } else if (name == \"json\") {\n      // Indicates whether both `JSON.stringify` and `JSON.parse` are\n      // supported.\n      isSupported = has(\"json-stringify\") && has(\"json-parse\");\n    } else {\n      var value, serialized = '{\"a\":[1,true,false,null,\"\\\\u0000\\\\b\\\\n\\\\f\\\\r\\\\t\"]}';\n      // Test `JSON.stringify`.\n      if (name == \"json-stringify\") {\n        var stringify = JSON3.stringify, stringifySupported = typeof stringify == \"function\" && isExtended;\n        if (stringifySupported) {\n          // A test function object with a custom `toJSON` method.\n          (value = function () {\n            return 1;\n          }).toJSON = value;\n          try {\n            stringifySupported =\n              // Firefox 3.1b1 and b2 serialize string, number, and boolean\n              // primitives as object literals.\n              stringify(0) === \"0\" &&\n              // FF 3.1b1, b2, and JSON 2 serialize wrapped primitives as object\n              // literals.\n              stringify(new Number()) === \"0\" &&\n              stringify(new String()) == '\"\"' &&\n              // FF 3.1b1, 2 throw an error if the value is `null`, `undefined`, or\n              // does not define a canonical JSON representation (this applies to\n              // objects with `toJSON` properties as well, *unless* they are nested\n              // within an object or array).\n              stringify(getClass) === undef &&\n              // IE 8 serializes `undefined` as `\"undefined\"`. Safari <= 5.1.7 and\n              // FF 3.1b3 pass this test.\n              stringify(undef) === undef &&\n              // Safari <= 5.1.7 and FF 3.1b3 throw `Error`s and `TypeError`s,\n              // respectively, if the value is omitted entirely.\n              stringify() === undef &&\n              // FF 3.1b1, 2 throw an error if the given value is not a number,\n              // string, array, object, Boolean, or `null` literal. This applies to\n              // objects with custom `toJSON` methods as well, unless they are nested\n              // inside object or array literals. YUI 3.0.0b1 ignores custom `toJSON`\n              // methods entirely.\n              stringify(value) === \"1\" &&\n              stringify([value]) == \"[1]\" &&\n              // Prototype <= 1.6.1 serializes `[undefined]` as `\"[]\"` instead of\n              // `\"[null]\"`.\n              stringify([undef]) == \"[null]\" &&\n              // YUI 3.0.0b1 fails to serialize `null` literals.\n              stringify(null) == \"null\" &&\n              // FF 3.1b1, 2 halts serialization if an array contains a function:\n              // `[1, true, getClass, 1]` serializes as \"[1,true,],\". FF 3.1b3\n              // elides non-JSON values from objects and arrays, unless they\n              // define custom `toJSON` methods.\n              stringify([undef, getClass, null]) == \"[null,null,null]\" &&\n              // Simple serialization test. FF 3.1b1 uses Unicode escape sequences\n              // where character escape codes are expected (e.g., `\\b` => `\\u0008`).\n              stringify({ \"a\": [value, true, false, null, \"\\x00\\b\\n\\f\\r\\t\"] }) == serialized &&\n              // FF 3.1b1 and b2 ignore the `filter` and `width` arguments.\n              stringify(null, value) === \"1\" &&\n              stringify([1, 2], null, 1) == \"[\\n 1,\\n 2\\n]\" &&\n              // JSON 2, Prototype <= 1.7, and older WebKit builds incorrectly\n              // serialize extended years.\n              stringify(new Date(-8.64e15)) == '\"-271821-04-20T00:00:00.000Z\"' &&\n              // The milliseconds are optional in ES 5, but required in 5.1.\n              stringify(new Date(8.64e15)) == '\"+275760-09-13T00:00:00.000Z\"' &&\n              // Firefox <= 11.0 incorrectly serializes years prior to 0 as negative\n              // four-digit years instead of six-digit years. Credits: @Yaffle.\n              stringify(new Date(-621987552e5)) == '\"-000001-01-01T00:00:00.000Z\"' &&\n              // Safari <= 5.1.5 and Opera >= 10.53 incorrectly serialize millisecond\n              // values less than 1000. Credits: @Yaffle.\n              stringify(new Date(-1)) == '\"1969-12-31T23:59:59.999Z\"';\n          } catch (exception) {\n            stringifySupported = false;\n          }\n        }\n        isSupported = stringifySupported;\n      }\n      // Test `JSON.parse`.\n      if (name == \"json-parse\") {\n        var parse = JSON3.parse;\n        if (typeof parse == \"function\") {\n          try {\n            // FF 3.1b1, b2 will throw an exception if a bare literal is provided.\n            // Conforming implementations should also coerce the initial argument to\n            // a string prior to parsing.\n            if (parse(\"0\") === 0 && !parse(false)) {\n              // Simple parsing test.\n              value = parse(serialized);\n              var parseSupported = value[\"a\"].length == 5 && value[\"a\"][0] === 1;\n              if (parseSupported) {\n                try {\n                  // Safari <= 5.1.2 and FF 3.1b1 allow unescaped tabs in strings.\n                  parseSupported = !parse('\"\\t\"');\n                } catch (exception) {}\n                if (parseSupported) {\n                  try {\n                    // FF 4.0 and 4.0.1 allow leading `+` signs and leading\n                    // decimal points. FF 4.0, 4.0.1, and IE 9-10 also allow\n                    // certain octal literals.\n                    parseSupported = parse(\"01\") !== 1;\n                  } catch (exception) {}\n                }\n                if (parseSupported) {\n                  try {\n                    // FF 4.0, 4.0.1, and Rhino 1.7R3-R4 allow trailing decimal\n                    // points. These environments, along with FF 3.1b1 and 2,\n                    // also allow trailing commas in JSON objects and arrays.\n                    parseSupported = parse(\"1.\") !== 1;\n                  } catch (exception) {}\n                }\n              }\n            }\n          } catch (exception) {\n            parseSupported = false;\n          }\n        }\n        isSupported = parseSupported;\n      }\n    }\n    return has[name] = !!isSupported;\n  }\n\n  if (!has(\"json\")) {\n    // Common `[[Class]]` name aliases.\n    var functionClass = \"[object Function]\";\n    var dateClass = \"[object Date]\";\n    var numberClass = \"[object Number]\";\n    var stringClass = \"[object String]\";\n    var arrayClass = \"[object Array]\";\n    var booleanClass = \"[object Boolean]\";\n\n    // Detect incomplete support for accessing string characters by index.\n    var charIndexBuggy = has(\"bug-string-char-index\");\n\n    // Define additional utility methods if the `Date` methods are buggy.\n    if (!isExtended) {\n      var floor = Math.floor;\n      // A mapping between the months of the year and the number of days between\n      // January 1st and the first of the respective month.\n      var Months = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];\n      // Internal: Calculates the number of days between the Unix epoch and the\n      // first day of the given month.\n      var getDay = function (year, month) {\n        return Months[month] + 365 * (year - 1970) + floor((year - 1969 + (month = +(month > 1))) / 4) - floor((year - 1901 + month) / 100) + floor((year - 1601 + month) / 400);\n      };\n    }\n\n    // Internal: Determines if a property is a direct property of the given\n    // object. Delegates to the native `Object#hasOwnProperty` method.\n    if (!(isProperty = {}.hasOwnProperty)) {\n      isProperty = function (property) {\n        var members = {}, constructor;\n        if ((members.__proto__ = null, members.__proto__ = {\n          // The *proto* property cannot be set multiple times in recent\n          // versions of Firefox and SeaMonkey.\n          \"toString\": 1\n        }, members).toString != getClass) {\n          // Safari <= 2.0.3 doesn't implement `Object#hasOwnProperty`, but\n          // supports the mutable *proto* property.\n          isProperty = function (property) {\n            // Capture and break the object's prototype chain (see section 8.6.2\n            // of the ES 5.1 spec). The parenthesized expression prevents an\n            // unsafe transformation by the Closure Compiler.\n            var original = this.__proto__, result = property in (this.__proto__ = null, this);\n            // Restore the original prototype chain.\n            this.__proto__ = original;\n            return result;\n          };\n        } else {\n          // Capture a reference to the top-level `Object` constructor.\n          constructor = members.constructor;\n          // Use the `constructor` property to simulate `Object#hasOwnProperty` in\n          // other environments.\n          isProperty = function (property) {\n            var parent = (this.constructor || constructor).prototype;\n            return property in this && !(property in parent && this[property] === parent[property]);\n          };\n        }\n        members = null;\n        return isProperty.call(this, property);\n      };\n    }\n\n    // Internal: A set of primitive types used by `isHostType`.\n    var PrimitiveTypes = {\n      'boolean': 1,\n      'number': 1,\n      'string': 1,\n      'undefined': 1\n    };\n\n    // Internal: Determines if the given object `property` value is a\n    // non-primitive.\n    var isHostType = function (object, property) {\n      var type = typeof object[property];\n      return type == 'object' ? !!object[property] : !PrimitiveTypes[type];\n    };\n\n    // Internal: Normalizes the `for...in` iteration algorithm across\n    // environments. Each enumerated key is yielded to a `callback` function.\n    forEach = function (object, callback) {\n      var size = 0, Properties, members, property;\n\n      // Tests for bugs in the current environment's `for...in` algorithm. The\n      // `valueOf` property inherits the non-enumerable flag from\n      // `Object.prototype` in older versions of IE, Netscape, and Mozilla.\n      (Properties = function () {\n        this.valueOf = 0;\n      }).prototype.valueOf = 0;\n\n      // Iterate over a new instance of the `Properties` class.\n      members = new Properties();\n      for (property in members) {\n        // Ignore all properties inherited from `Object.prototype`.\n        if (isProperty.call(members, property)) {\n          size++;\n        }\n      }\n      Properties = members = null;\n\n      // Normalize the iteration algorithm.\n      if (!size) {\n        // A list of non-enumerable properties inherited from `Object.prototype`.\n        members = [\"valueOf\", \"toString\", \"toLocaleString\", \"propertyIsEnumerable\", \"isPrototypeOf\", \"hasOwnProperty\", \"constructor\"];\n        // IE <= 8, Mozilla 1.0, and Netscape 6.2 ignore shadowed non-enumerable\n        // properties.\n        forEach = function (object, callback) {\n          var isFunction = getClass.call(object) == functionClass, property, length;\n          var hasProperty = !isFunction && typeof object.constructor != 'function' && isHostType(object, 'hasOwnProperty') ? object.hasOwnProperty : isProperty;\n          for (property in object) {\n            // Gecko <= 1.0 enumerates the `prototype` property of functions under\n            // certain conditions; IE does not.\n            if (!(isFunction && property == \"prototype\") && hasProperty.call(object, property)) {\n              callback(property);\n            }\n          }\n          // Manually invoke the callback for each non-enumerable property.\n          for (length = members.length; property = members[--length]; hasProperty.call(object, property) && callback(property));\n        };\n      } else if (size == 2) {\n        // Safari <= 2.0.4 enumerates shadowed properties twice.\n        forEach = function (object, callback) {\n          // Create a set of iterated properties.\n          var members = {}, isFunction = getClass.call(object) == functionClass, property;\n          for (property in object) {\n            // Store each property name to prevent double enumeration. The\n            // `prototype` property of functions is not enumerated due to cross-\n            // environment inconsistencies.\n            if (!(isFunction && property == \"prototype\") && !isProperty.call(members, property) && (members[property] = 1) && isProperty.call(object, property)) {\n              callback(property);\n            }\n          }\n        };\n      } else {\n        // No bugs detected; use the standard `for...in` algorithm.\n        forEach = function (object, callback) {\n          var isFunction = getClass.call(object) == functionClass, property, isConstructor;\n          for (property in object) {\n            if (!(isFunction && property == \"prototype\") && isProperty.call(object, property) && !(isConstructor = property === \"constructor\")) {\n              callback(property);\n            }\n          }\n          // Manually invoke the callback for the `constructor` property due to\n          // cross-environment inconsistencies.\n          if (isConstructor || isProperty.call(object, (property = \"constructor\"))) {\n            callback(property);\n          }\n        };\n      }\n      return forEach(object, callback);\n    };\n\n    // Public: Serializes a JavaScript `value` as a JSON string. The optional\n    // `filter` argument may specify either a function that alters how object and\n    // array members are serialized, or an array of strings and numbers that\n    // indicates which properties should be serialized. The optional `width`\n    // argument may be either a string or number that specifies the indentation\n    // level of the output.\n    if (!has(\"json-stringify\")) {\n      // Internal: A map of control characters and their escaped equivalents.\n      var Escapes = {\n        92: \"\\\\\\\\\",\n        34: '\\\\\"',\n        8: \"\\\\b\",\n        12: \"\\\\f\",\n        10: \"\\\\n\",\n        13: \"\\\\r\",\n        9: \"\\\\t\"\n      };\n\n      // Internal: Converts `value` into a zero-padded string such that its\n      // length is at least equal to `width`. The `width` must be <= 6.\n      var leadingZeroes = \"000000\";\n      var toPaddedString = function (width, value) {\n        // The `|| 0` expression is necessary to work around a bug in\n        // Opera <= 7.54u2 where `0 == -0`, but `String(-0) !== \"0\"`.\n        return (leadingZeroes + (value || 0)).slice(-width);\n      };\n\n      // Internal: Double-quotes a string `value`, replacing all ASCII control\n      // characters (characters with code unit values between 0 and 31) with\n      // their escaped equivalents. This is an implementation of the\n      // `Quote(value)` operation defined in ES 5.1 section 15.12.3.\n      var unicodePrefix = \"\\\\u00\";\n      var quote = function (value) {\n        var result = '\"', index = 0, length = value.length, isLarge = length > 10 && charIndexBuggy, symbols;\n        if (isLarge) {\n          symbols = value.split(\"\");\n        }\n        for (; index < length; index++) {\n          var charCode = value.charCodeAt(index);\n          // If the character is a control character, append its Unicode or\n          // shorthand escape sequence; otherwise, append the character as-is.\n          switch (charCode) {\n            case 8: case 9: case 10: case 12: case 13: case 34: case 92:\n              result += Escapes[charCode];\n              break;\n            default:\n              if (charCode < 32) {\n                result += unicodePrefix + toPaddedString(2, charCode.toString(16));\n                break;\n              }\n              result += isLarge ? symbols[index] : charIndexBuggy ? value.charAt(index) : value[index];\n          }\n        }\n        return result + '\"';\n      };\n\n      // Internal: Recursively serializes an object. Implements the\n      // `Str(key, holder)`, `JO(value)`, and `JA(value)` operations.\n      var serialize = function (property, object, callback, properties, whitespace, indentation, stack) {\n        var value, className, year, month, date, time, hours, minutes, seconds, milliseconds, results, element, index, length, prefix, result;\n        try {\n          // Necessary for host object support.\n          value = object[property];\n        } catch (exception) {}\n        if (typeof value == \"object\" && value) {\n          className = getClass.call(value);\n          if (className == dateClass && !isProperty.call(value, \"toJSON\")) {\n            if (value > -1 / 0 && value < 1 / 0) {\n              // Dates are serialized according to the `Date#toJSON` method\n              // specified in ES 5.1 section 15.9.5.44. See section 15.9.1.15\n              // for the ISO 8601 date time string format.\n              if (getDay) {\n                // Manually compute the year, month, date, hours, minutes,\n                // seconds, and milliseconds if the `getUTC*` methods are\n                // buggy. Adapted from @Yaffle's `date-shim` project.\n                date = floor(value / 864e5);\n                for (year = floor(date / 365.2425) + 1970 - 1; getDay(year + 1, 0) <= date; year++);\n                for (month = floor((date - getDay(year, 0)) / 30.42); getDay(year, month + 1) <= date; month++);\n                date = 1 + date - getDay(year, month);\n                // The `time` value specifies the time within the day (see ES\n                // 5.1 section 15.9.1.2). The formula `(A % B + B) % B` is used\n                // to compute `A modulo B`, as the `%` operator does not\n                // correspond to the `modulo` operation for negative numbers.\n                time = (value % 864e5 + 864e5) % 864e5;\n                // The hours, minutes, seconds, and milliseconds are obtained by\n                // decomposing the time within the day. See section 15.9.1.10.\n                hours = floor(time / 36e5) % 24;\n                minutes = floor(time / 6e4) % 60;\n                seconds = floor(time / 1e3) % 60;\n                milliseconds = time % 1e3;\n              } else {\n                year = value.getUTCFullYear();\n                month = value.getUTCMonth();\n                date = value.getUTCDate();\n                hours = value.getUTCHours();\n                minutes = value.getUTCMinutes();\n                seconds = value.getUTCSeconds();\n                milliseconds = value.getUTCMilliseconds();\n              }\n              // Serialize extended years correctly.\n              value = (year <= 0 || year >= 1e4 ? (year < 0 ? \"-\" : \"+\") + toPaddedString(6, year < 0 ? -year : year) : toPaddedString(4, year)) +\n                \"-\" + toPaddedString(2, month + 1) + \"-\" + toPaddedString(2, date) +\n                // Months, dates, hours, minutes, and seconds should have two\n                // digits; milliseconds should have three.\n                \"T\" + toPaddedString(2, hours) + \":\" + toPaddedString(2, minutes) + \":\" + toPaddedString(2, seconds) +\n                // Milliseconds are optional in ES 5.0, but required in 5.1.\n                \".\" + toPaddedString(3, milliseconds) + \"Z\";\n            } else {\n              value = null;\n            }\n          } else if (typeof value.toJSON == \"function\" && ((className != numberClass && className != stringClass && className != arrayClass) || isProperty.call(value, \"toJSON\"))) {\n            // Prototype <= 1.6.1 adds non-standard `toJSON` methods to the\n            // `Number`, `String`, `Date`, and `Array` prototypes. JSON 3\n            // ignores all `toJSON` methods on these objects unless they are\n            // defined directly on an instance.\n            value = value.toJSON(property);\n          }\n        }\n        if (callback) {\n          // If a replacement function was provided, call it to obtain the value\n          // for serialization.\n          value = callback.call(object, property, value);\n        }\n        if (value === null) {\n          return \"null\";\n        }\n        className = getClass.call(value);\n        if (className == booleanClass) {\n          // Booleans are represented literally.\n          return \"\" + value;\n        } else if (className == numberClass) {\n          // JSON numbers must be finite. `Infinity` and `NaN` are serialized as\n          // `\"null\"`.\n          return value > -1 / 0 && value < 1 / 0 ? \"\" + value : \"null\";\n        } else if (className == stringClass) {\n          // Strings are double-quoted and escaped.\n          return quote(\"\" + value);\n        }\n        // Recursively serialize objects and arrays.\n        if (typeof value == \"object\") {\n          // Check for cyclic structures. This is a linear search; performance\n          // is inversely proportional to the number of unique nested objects.\n          for (length = stack.length; length--;) {\n            if (stack[length] === value) {\n              // Cyclic structures cannot be serialized by `JSON.stringify`.\n              throw TypeError();\n            }\n          }\n          // Add the object to the stack of traversed objects.\n          stack.push(value);\n          results = [];\n          // Save the current indentation level and indent one additional level.\n          prefix = indentation;\n          indentation += whitespace;\n          if (className == arrayClass) {\n            // Recursively serialize array elements.\n            for (index = 0, length = value.length; index < length; index++) {\n              element = serialize(index, value, callback, properties, whitespace, indentation, stack);\n              results.push(element === undef ? \"null\" : element);\n            }\n            result = results.length ? (whitespace ? \"[\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"]\" : (\"[\" + results.join(\",\") + \"]\")) : \"[]\";\n          } else {\n            // Recursively serialize object members. Members are selected from\n            // either a user-specified list of property names, or the object\n            // itself.\n            forEach(properties || value, function (property) {\n              var element = serialize(property, value, callback, properties, whitespace, indentation, stack);\n              if (element !== undef) {\n                // According to ES 5.1 section 15.12.3: \"If `gap` {whitespace}\n                // is not the empty string, let `member` {quote(property) + \":\"}\n                // be the concatenation of `member` and the `space` character.\"\n                // The \"`space` character\" refers to the literal space\n                // character, not the `space` {width} argument provided to\n                // `JSON.stringify`.\n                results.push(quote(property) + \":\" + (whitespace ? \" \" : \"\") + element);\n              }\n            });\n            result = results.length ? (whitespace ? \"{\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"}\" : (\"{\" + results.join(\",\") + \"}\")) : \"{}\";\n          }\n          // Remove the object from the traversed object stack.\n          stack.pop();\n          return result;\n        }\n      };\n\n      // Public: `JSON.stringify`. See ES 5.1 section 15.12.3.\n      JSON3.stringify = function (source, filter, width) {\n        var whitespace, callback, properties, className;\n        if (typeof filter == \"function\" || typeof filter == \"object\" && filter) {\n          if ((className = getClass.call(filter)) == functionClass) {\n            callback = filter;\n          } else if (className == arrayClass) {\n            // Convert the property names array into a makeshift set.\n            properties = {};\n            for (var index = 0, length = filter.length, value; index < length; value = filter[index++], ((className = getClass.call(value)), className == stringClass || className == numberClass) && (properties[value] = 1));\n          }\n        }\n        if (width) {\n          if ((className = getClass.call(width)) == numberClass) {\n            // Convert the `width` to an integer and create a string containing\n            // `width` number of space characters.\n            if ((width -= width % 1) > 0) {\n              for (whitespace = \"\", width > 10 && (width = 10); whitespace.length < width; whitespace += \" \");\n            }\n          } else if (className == stringClass) {\n            whitespace = width.length <= 10 ? width : width.slice(0, 10);\n          }\n        }\n        // Opera <= 7.54u2 discards the values associated with empty string keys\n        // (`\"\"`) only if they are used directly within an object member list\n        // (e.g., `!(\"\" in { \"\": 1})`).\n        return serialize(\"\", (value = {}, value[\"\"] = source, value), callback, properties, whitespace, \"\", []);\n      };\n    }\n\n    // Public: Parses a JSON source string.\n    if (!has(\"json-parse\")) {\n      var fromCharCode = String.fromCharCode;\n\n      // Internal: A map of escaped control characters and their unescaped\n      // equivalents.\n      var Unescapes = {\n        92: \"\\\\\",\n        34: '\"',\n        47: \"/\",\n        98: \"\\b\",\n        116: \"\\t\",\n        110: \"\\n\",\n        102: \"\\f\",\n        114: \"\\r\"\n      };\n\n      // Internal: Stores the parser state.\n      var Index, Source;\n\n      // Internal: Resets the parser state and throws a `SyntaxError`.\n      var abort = function() {\n        Index = Source = null;\n        throw SyntaxError();\n      };\n\n      // Internal: Returns the next token, or `\"$\"` if the parser has reached\n      // the end of the source string. A token may be a string, number, `null`\n      // literal, or Boolean literal.\n      var lex = function () {\n        var source = Source, length = source.length, value, begin, position, isSigned, charCode;\n        while (Index < length) {\n          charCode = source.charCodeAt(Index);\n          switch (charCode) {\n            case 9: case 10: case 13: case 32:\n              // Skip whitespace tokens, including tabs, carriage returns, line\n              // feeds, and space characters.\n              Index++;\n              break;\n            case 123: case 125: case 91: case 93: case 58: case 44:\n              // Parse a punctuator token (`{`, `}`, `[`, `]`, `:`, or `,`) at\n              // the current position.\n              value = charIndexBuggy ? source.charAt(Index) : source[Index];\n              Index++;\n              return value;\n            case 34:\n              // `\"` delimits a JSON string; advance to the next character and\n              // begin parsing the string. String tokens are prefixed with the\n              // sentinel `@` character to distinguish them from punctuators and\n              // end-of-string tokens.\n              for (value = \"@\", Index++; Index < length;) {\n                charCode = source.charCodeAt(Index);\n                if (charCode < 32) {\n                  // Unescaped ASCII control characters (those with a code unit\n                  // less than the space character) are not permitted.\n                  abort();\n                } else if (charCode == 92) {\n                  // A reverse solidus (`\\`) marks the beginning of an escaped\n                  // control character (including `\"`, `\\`, and `/`) or Unicode\n                  // escape sequence.\n                  charCode = source.charCodeAt(++Index);\n                  switch (charCode) {\n                    case 92: case 34: case 47: case 98: case 116: case 110: case 102: case 114:\n                      // Revive escaped control characters.\n                      value += Unescapes[charCode];\n                      Index++;\n                      break;\n                    case 117:\n                      // `\\u` marks the beginning of a Unicode escape sequence.\n                      // Advance to the first character and validate the\n                      // four-digit code point.\n                      begin = ++Index;\n                      for (position = Index + 4; Index < position; Index++) {\n                        charCode = source.charCodeAt(Index);\n                        // A valid sequence comprises four hexdigits (case-\n                        // insensitive) that form a single hexadecimal value.\n                        if (!(charCode >= 48 && charCode <= 57 || charCode >= 97 && charCode <= 102 || charCode >= 65 && charCode <= 70)) {\n                          // Invalid Unicode escape sequence.\n                          abort();\n                        }\n                      }\n                      // Revive the escaped character.\n                      value += fromCharCode(\"0x\" + source.slice(begin, Index));\n                      break;\n                    default:\n                      // Invalid escape sequence.\n                      abort();\n                  }\n                } else {\n                  if (charCode == 34) {\n                    // An unescaped double-quote character marks the end of the\n                    // string.\n                    break;\n                  }\n                  charCode = source.charCodeAt(Index);\n                  begin = Index;\n                  // Optimize for the common case where a string is valid.\n                  while (charCode >= 32 && charCode != 92 && charCode != 34) {\n                    charCode = source.charCodeAt(++Index);\n                  }\n                  // Append the string as-is.\n                  value += source.slice(begin, Index);\n                }\n              }\n              if (source.charCodeAt(Index) == 34) {\n                // Advance to the next character and return the revived string.\n                Index++;\n                return value;\n              }\n              // Unterminated string.\n              abort();\n            default:\n              // Parse numbers and literals.\n              begin = Index;\n              // Advance past the negative sign, if one is specified.\n              if (charCode == 45) {\n                isSigned = true;\n                charCode = source.charCodeAt(++Index);\n              }\n              // Parse an integer or floating-point value.\n              if (charCode >= 48 && charCode <= 57) {\n                // Leading zeroes are interpreted as octal literals.\n                if (charCode == 48 && ((charCode = source.charCodeAt(Index + 1)), charCode >= 48 && charCode <= 57)) {\n                  // Illegal octal literal.\n                  abort();\n                }\n                isSigned = false;\n                // Parse the integer component.\n                for (; Index < length && ((charCode = source.charCodeAt(Index)), charCode >= 48 && charCode <= 57); Index++);\n                // Floats cannot contain a leading decimal point; however, this\n                // case is already accounted for by the parser.\n                if (source.charCodeAt(Index) == 46) {\n                  position = ++Index;\n                  // Parse the decimal component.\n                  for (; position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57); position++);\n                  if (position == Index) {\n                    // Illegal trailing decimal.\n                    abort();\n                  }\n                  Index = position;\n                }\n                // Parse exponents. The `e` denoting the exponent is\n                // case-insensitive.\n                charCode = source.charCodeAt(Index);\n                if (charCode == 101 || charCode == 69) {\n                  charCode = source.charCodeAt(++Index);\n                  // Skip past the sign following the exponent, if one is\n                  // specified.\n                  if (charCode == 43 || charCode == 45) {\n                    Index++;\n                  }\n                  // Parse the exponential component.\n                  for (position = Index; position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57); position++);\n                  if (position == Index) {\n                    // Illegal empty exponent.\n                    abort();\n                  }\n                  Index = position;\n                }\n                // Coerce the parsed value to a JavaScript number.\n                return +source.slice(begin, Index);\n              }\n              // A negative sign may only precede numbers.\n              if (isSigned) {\n                abort();\n              }\n              // `true`, `false`, and `null` literals.\n              if (source.slice(Index, Index + 4) == \"true\") {\n                Index += 4;\n                return true;\n              } else if (source.slice(Index, Index + 5) == \"false\") {\n                Index += 5;\n                return false;\n              } else if (source.slice(Index, Index + 4) == \"null\") {\n                Index += 4;\n                return null;\n              }\n              // Unrecognized token.\n              abort();\n          }\n        }\n        // Return the sentinel `$` character if the parser has reached the end\n        // of the source string.\n        return \"$\";\n      };\n\n      // Internal: Parses a JSON `value` token.\n      var get = function (value) {\n        var results, hasMembers;\n        if (value == \"$\") {\n          // Unexpected end of input.\n          abort();\n        }\n        if (typeof value == \"string\") {\n          if ((charIndexBuggy ? value.charAt(0) : value[0]) == \"@\") {\n            // Remove the sentinel `@` character.\n            return value.slice(1);\n          }\n          // Parse object and array literals.\n          if (value == \"[\") {\n            // Parses a JSON array, returning a new JavaScript array.\n            results = [];\n            for (;; hasMembers || (hasMembers = true)) {\n              value = lex();\n              // A closing square bracket marks the end of the array literal.\n              if (value == \"]\") {\n                break;\n              }\n              // If the array literal contains elements, the current token\n              // should be a comma separating the previous element from the\n              // next.\n              if (hasMembers) {\n                if (value == \",\") {\n                  value = lex();\n                  if (value == \"]\") {\n                    // Unexpected trailing `,` in array literal.\n                    abort();\n                  }\n                } else {\n                  // A `,` must separate each array element.\n                  abort();\n                }\n              }\n              // Elisions and leading commas are not permitted.\n              if (value == \",\") {\n                abort();\n              }\n              results.push(get(value));\n            }\n            return results;\n          } else if (value == \"{\") {\n            // Parses a JSON object, returning a new JavaScript object.\n            results = {};\n            for (;; hasMembers || (hasMembers = true)) {\n              value = lex();\n              // A closing curly brace marks the end of the object literal.\n              if (value == \"}\") {\n                break;\n              }\n              // If the object literal contains members, the current token\n              // should be a comma separator.\n              if (hasMembers) {\n                if (value == \",\") {\n                  value = lex();\n                  if (value == \"}\") {\n                    // Unexpected trailing `,` in object literal.\n                    abort();\n                  }\n                } else {\n                  // A `,` must separate each object member.\n                  abort();\n                }\n              }\n              // Leading commas are not permitted, object property names must be\n              // double-quoted strings, and a `:` must separate each property\n              // name and value.\n              if (value == \",\" || typeof value != \"string\" || (charIndexBuggy ? value.charAt(0) : value[0]) != \"@\" || lex() != \":\") {\n                abort();\n              }\n              results[value.slice(1)] = get(lex());\n            }\n            return results;\n          }\n          // Unexpected token encountered.\n          abort();\n        }\n        return value;\n      };\n\n      // Internal: Updates a traversed object member.\n      var update = function(source, property, callback) {\n        var element = walk(source, property, callback);\n        if (element === undef) {\n          delete source[property];\n        } else {\n          source[property] = element;\n        }\n      };\n\n      // Internal: Recursively traverses a parsed JSON object, invoking the\n      // `callback` function for each value. This is an implementation of the\n      // `Walk(holder, name)` operation defined in ES 5.1 section 15.12.2.\n      var walk = function (source, property, callback) {\n        var value = source[property], length;\n        if (typeof value == \"object\" && value) {\n          // `forEach` can't be used to traverse an array in Opera <= 8.54\n          // because its `Object#hasOwnProperty` implementation returns `false`\n          // for array indices (e.g., `![1, 2, 3].hasOwnProperty(\"0\")`).\n          if (getClass.call(value) == arrayClass) {\n            for (length = value.length; length--;) {\n              update(value, length, callback);\n            }\n          } else {\n            forEach(value, function (property) {\n              update(value, property, callback);\n            });\n          }\n        }\n        return callback.call(source, property, value);\n      };\n\n      // Public: `JSON.parse`. See ES 5.1 section 15.12.2.\n      JSON3.parse = function (source, callback) {\n        var result, value;\n        Index = 0;\n        Source = \"\" + source;\n        result = get(lex());\n        // If a JSON string contains multiple tokens, it is invalid.\n        if (lex() != \"$\") {\n          abort();\n        }\n        // Reset the parser state.\n        Index = Source = null;\n        return callback && getClass.call(callback) == functionClass ? walk((value = {}, value[\"\"] = result, value), \"\", callback) : result;\n      };\n    }\n  }\n\n  // Export for asynchronous module loaders.\n  if (isLoader) {\n    define(function () {\n      return JSON3;\n    });\n  }\n}(this));\n\n},{}],58:[function(require,module,exports){\nmodule.exports = toArray\n\nfunction toArray(list, index) {\n    var array = []\n\n    index = index || 0\n\n    for (var i = index || 0; i < list.length; i++) {\n        array[i - index] = list[i]\n    }\n\n    return array\n}\n\n},{}],59:[function(require,module,exports){\n'use strict';\n\n//jshint maxparams: 6\nmodule.exports = {\n  type: 'ClientSideAssembler',\n  deps: ['SocketBehaviour', 'Dimensions', 'Window', 'UpdateLoop', 'OnResize', 'OnInitialise'],\n  func: function (socketBehaviour, dimensions, window, updateLoop, resizeCallbacks, onInitialiseCallbacks) {\n\n    var each = require('lodash').each;\n    var $ = require('zepto-browserify').$;\n\n    var resizeCanvas = function () {\n      var dims = dimensions().get();\n\n      each(resizeCallbacks(), function(resizeCallback) {\n        resizeCallback(dims);\n      });\n    };\n\n    return {\n      assembleAndRun: function () {\n        each(onInitialiseCallbacks(), function (callback) {\n          callback();\n        });\n\n        socketBehaviour().connect();\n\n        $(window()).on('load resize', resizeCanvas);\n        updateLoop().run();\n      }\n    };\n  }\n};\n},{\"lodash\":6,\"zepto-browserify\":86}],60:[function(require,module,exports){\n'use strict';\n\nvar plugins = require('plug-n-play').configure(['View', 'InputMode', 'OnMute', 'OnPause', 'OnResume', 'OnUnmute', 'OnConnect', 'OnDisconnect', 'OnEachFrame', 'OnResize', 'OnPacket', 'OnSetup', 'OnError', 'OnInitialise']);\n\nmodule.exports = {\n  load: plugins.load,\n  set: plugins.set,\n  loadWindow: function (window) {\n    plugins.set('Window', window);\n  },\n  run: function () {\n    console.log('ensemblejs-client@' + require('./version') + ' started.');\n    plugins.get('ClientSideAssembler').assembleAndRun();\n  },\n  loadDefaults: function () {\n    plugins.set('ServerUrl', 'http://localhost:3000/');\n    plugins.set('GameMode', 'game');\n    plugins.set('AspectRatio', 26 / 10);\n    plugins.set('WidescreenMinimumMargin', 32);\n    plugins.set('Element', 'canvas');\n    plugins.set('InputElement', 'input');\n\n    plugins.load(require('./ui/dimensions'));\n    plugins.load(require('./ui/effects'));\n    plugins.load(require('./events/on_connect'));\n    plugins.load(require('./events/on_disconnect'));\n    plugins.load(require('./events/on_resize'));\n    plugins.load(require('./events/acknowledge-packet'));\n    plugins.load(require('./events/initialise-state'));\n    plugins.load(require('./events/update-state'));\n    plugins.load(require('./events/initialise-views'));\n    plugins.load(require('./events/on-error'));\n    plugins.load(require('./state/tracker'));\n    plugins.load(require('./state/shortcuts'));\n    plugins.load(require('./input/keyboard'));\n    plugins.load(require('./update/loop'));\n    plugins.load(require('./socket/client'));\n    plugins.load(require('./socket/pending-acknowledgements'));\n\n    plugins.load(require('./views/fullscreen'));\n    plugins.load(require('./views/toggle_sound'));\n    plugins.load(require('./views/layout_icons'));\n    plugins.load(require('./views/player_observer_count'));\n    plugins.load(require('./views/pause_resume'));\n\n    plugins.load(require('./assembler'));\n  }\n};\n},{\"./assembler\":59,\"./events/acknowledge-packet\":61,\"./events/initialise-state\":62,\"./events/initialise-views\":63,\"./events/on-error\":64,\"./events/on_connect\":65,\"./events/on_disconnect\":66,\"./events/on_resize\":67,\"./events/update-state\":68,\"./input/keyboard\":69,\"./socket/client\":70,\"./socket/pending-acknowledgements\":71,\"./state/shortcuts\":72,\"./state/tracker\":73,\"./ui/dimensions\":74,\"./ui/effects\":75,\"./update/loop\":76,\"./version\":77,\"./views/fullscreen\":78,\"./views/layout_icons\":79,\"./views/pause_resume\":80,\"./views/player_observer_count\":81,\"./views/toggle_sound\":82,\"plug-n-play\":85}],61:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n  type: 'OnPacket',\n  deps: ['PendingAcknowledgements'],\n  func: function (pendingAcknowledgements) {\n    return function (packet) {\n      pendingAcknowledgements().add(packet.id);\n    };\n  }\n};\n},{}],62:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n  type: 'OnSetup',\n  deps: ['StateTracker'],\n  func: function (tracker) {\n    return function (state) {\n      tracker().updateState(state);\n    };\n  }\n};\n},{}],63:[function(require,module,exports){\n'use strict';\n\nvar each = require('lodash').each;\n\nmodule.exports = {\n  type: 'OnSetup',\n  deps: ['View', 'Dimensions'],\n  func: function (views, dimensions) {\n    return function () {\n      var dims = dimensions().get();\n\n      each(views(), function(view) {\n        view(dims);\n      });\n    };\n  }\n};\n},{\"lodash\":6}],64:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n  type: 'OnError',\n  func: function() {\n    return function(data) {\n      throw new Error(data);\n    };\n  }\n};\n},{}],65:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n  type: 'OnConnect',\n  func: function () {\n    var $ = require('zepto-browserify').$;\n\n    return function () {\n      $('.disconnected').hide();\n    };\n  }\n};\n},{\"zepto-browserify\":86}],66:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n  type: 'OnDisconnect',\n  func: function () {\n    var $ = require('zepto-browserify').$;\n\n    return function () {\n      $('.disconnected').show();\n    };\n  }\n};\n},{\"zepto-browserify\":86}],67:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n  type: 'OnResize',\n  deps: ['Element', 'InputElement'],\n  func: function (element, inputElement) {\n    var $ = require('zepto-browserify').$;\n\n    return function (dims) {\n      $('#' + element()).css('margin-top', dims.marginTopBottom);\n      $('#' + element()).css('width', dims.usableWidth);\n      $('#' + element()).css('height', dims.usableHeight);\n\n      $('#' + inputElement()).css('width', dims.usableWidth);\n      $('#' + inputElement()).css('height', dims.usableHeight);\n    };\n  }\n};\n},{\"zepto-browserify\":86}],68:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n  type: 'OnPacket',\n  deps: ['StateTracker'],\n  func: function (tracker) {\n    var lastReceivedId = 0;\n\n    return function (packet) {\n      if (packet.id <= lastReceivedId) {\n        return;\n      }\n      lastReceivedId = packet.id;\n\n      tracker().updateState(packet.gameState);\n    };\n  }\n};\n},{}],69:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n  deps: ['Window', 'InputElement'],\n  type: 'InputMode',\n  func: function (window, element) {\n    var _ = require('lodash');\n    var $ = require('zepto-browserify').$;\n\n    return {\n      InputMode: function () {\n        var x = 0;\n        var y = 0;\n        var touches = [];\n        var keys = {};\n        var singlePressKeys = {};\n\n        var keyMap = function () {\n          var map = {\n            '9': 'tab',\n            '17': 'control',\n            '18': 'alt',\n            '27': 'escape',\n            '32': 'space',\n            '37': 'left',\n            '38': 'up',\n            '39': 'right',\n            '40': 'down'\n          };\n          var i = 0;\n\n          for (i = 48; i <= 122; i += 1) {\n            if (i > 57 && i < 65) { continue; }\n            if (i > 90 && i < 97) { continue; }\n            if (map[i] !== undefined) {\n              continue;\n            }\n            map[i] = String.fromCharCode(i);\n          }\n\n          return map;\n        };\n\n        var mouseMap = function () {\n          return {\n            '1': 'button1',\n            '3': 'button2'\n          };\n        };\n\n        var singlePress = function (key) {\n          singlePressKeys[key] = true;\n        };\n\n        var press = function (key) {\n          keys[key] = true;\n        };\n\n        var release = function (key) {\n          keys[key] = false;\n        };\n\n        var bindToWindowEvents = function () {\n          $(window()).on('click', function (e) {\n            singlePress(mouseMap()[e.which]);\n            // e.preventDefault();\n          });\n\n          $(window()).on('mousedown', function (e) {\n            press(mouseMap()[e.which]);\n            e.preventDefault();\n          });\n\n          $(window()).on('mouseup', function (e) {\n            release(mouseMap()[e.which]);\n            e.preventDefault();\n          });\n\n          var elementId = '#' + element();\n\n          $(elementId).on('mousemove', function (e) {\n            x = e.layerX;\n            y = e.layerY;\n          });\n\n          $(elementId).on('touchstart', function (e) {\n            _.each(e.touches, function (touch) {\n              var x = touch.clientX - touch.target.offsetLeft;\n              var y = touch.clientY - touch.target.offsetTop;\n              touches.push({ id: touch.identifier, x: x, y: y, force: touch.webkitForce || 1 });\n            });\n          });\n\n          $(elementId).on('touchmove', function (e) {\n            _.each(e.touches, function (touch) {\n              var x = touch.clientX - touch.target.offsetLeft;\n              var y = touch.clientY - touch.target.offsetTop;\n              touches.push({ id: touch.identifier, x: x, y: y, force: touch.webkitForce || 1 });\n            });\n          });\n\n          $(elementId).on('touchend', function (e) {\n            var ids = _.map(e.changedTouches, function (touch) { return touch.identifier; });\n            touches = _.reject(touches, function (touch) { return ids.indexOf(touch.id) !== -1; });\n          });\n\n          $(elementId).on('touchleave', function (e) {\n            var ids = _.map(e.changedTouches, function (touch) { return touch.identifier; });\n            touches = _.reject(touches, function (touch) { return ids.indexOf(touch.id) !== -1; });\n          });\n\n          $(elementId).on('touchcancel', function (e) {\n            var ids = _.map(e.changedTouches, function (touch) { return touch.identifier; });\n            touches = _.reject(touches, function (touch) { return ids.indexOf(touch.id) !== -1; });\n          });\n\n\n          $(window().document).keypress(function (e) {\n            if (e.metaKey) { return; }\n\n            singlePress(keyMap()[e.which]);\n            //to ensure that both keypress and keydown fire on the same event. We can work around this\n            //but we'll need to get a replicable scene (this is only a problem for the space key)\n            // e.preventDefault();\n          });\n\n          $(window().document).keydown(function (e) {\n            if (e.metaKey) { return; }\n\n            press(keyMap()[e.which]);\n            // e.preventDefault();\n          });\n\n          $(window().document).keyup(function (e) {\n            release(keyMap()[e.which]);\n          });\n        };\n\n        bindToWindowEvents();\n\n        return {\n          getCurrentState: function () {\n            var inputData = {\n              mouse: {\n                x: x,\n                y: y\n              },\n              touches: touches\n            };\n\n            var keysToSend = [];\n            _.each(keys, function (value, key) {\n              if (value) {\n                keysToSend.push(key);\n              }\n            });\n            inputData.keys = keysToSend;\n\n            var singlePressKeysToSend = [];\n            _.each(singlePressKeys, function (value, key) {\n              if (value) {\n                singlePressKeysToSend.push(key);\n              }\n              singlePressKeys[key] = false;\n            });\n            inputData.singlePressKeys = singlePressKeysToSend;\n\n            return inputData;\n          }\n        };\n      }\n    };\n  }\n};\n},{\"lodash\":6,\"zepto-browserify\":86}],70:[function(require,module,exports){\n'use strict';\n\nvar each = require('lodash').each;\nvar extend = require('lodash').extend;\nvar $ = require('zepto-browserify').$;\n\n//jshint maxparams: 11\nmodule.exports = {\n  deps: ['Window', 'InputMode', 'GameMode', 'ServerUrl', 'OnConnect', 'OnDisconnect', 'PendingAcknowledgements', 'OnPacket', 'OnSetup', 'OnError', 'StateTracker'],\n  type: 'SocketBehaviour',\n  func: function (window, inputModes, gameMode, serverUrl, onConnectCallbacks, onDisconnectCallbacks, pendingAcknowledgements, onPacketCallbacks, onSetupCallbacks, onErrorCallbacks, tracker) {\n\n    var controls = [];\n\n    var paused = function (state) { return state.ensemble.paused; };\n\n    var configureEmitFunction = function (socket) {\n      return function () {\n        if (tracker().get(paused)) {\n          return;\n        }\n\n        var packet = {\n          pendingAcks: pendingAcknowledgements().flush(),\n          sentTimestamp: Date.now()\n        };\n\n        each(controls, function (control) {\n          extend(packet, control.getCurrentState());\n        });\n\n        socket.emit('input', packet);\n      };\n    };\n\n    var url = function () {\n      return serverUrl() + gameMode() + '/primary';\n    };\n\n    return {\n      connect: function () {\n        var io = require('socket.io-client');\n        var socket = io.connect(url(), {reconnection: false});\n\n        if (window().document.hasFocus()) {\n          socket.emit('unpause');\n        }\n\n        socket.on('connect', function () {\n          each(onConnectCallbacks(), function (callback) {\n            callback();\n          });\n        });\n        socket.on('disconnect', function () {\n          each(onDisconnectCallbacks(), function (callback) {\n            callback();\n          });\n        });\n        socket.on('playerId', function (playerId) {\n          socket.playerId = playerId;\n        });\n        socket.on('initialState', function (state) {\n          each(onSetupCallbacks(), function (callback) {\n            callback(state);\n          });\n        });\n        socket.on('updateState', function (state) {\n          each(onPacketCallbacks(), function (callback) {\n            callback(state);\n          });\n        });\n        socket.on('error', function (data) {\n          each(onErrorCallbacks(), function (callback) {\n            callback(data);\n          });\n        });\n\n        $(window()).on('blur', function () { socket.emit('pause'); });\n        $(window()).on('focus', function () { socket.emit('unpause'); });\n        $(window()).on('mousedown', function () { socket.emit('unpause'); });\n        $(window()).on('mouseup', function () { socket.emit('unpause'); });\n\n        each(inputModes(), function (inputMode) {\n          controls.push(inputMode.InputMode());\n        });\n\n        var id = setInterval(configureEmitFunction (socket), 1000 / 120);\n        socket.on('disconnect', function () {\n          clearInterval(id);\n        });\n      }\n    };\n  }\n};\n},{\"lodash\":6,\"socket.io-client\":9,\"zepto-browserify\":86}],71:[function(require,module,exports){\n'use strict';\n\nvar clone = require('lodash').clone;\n\nmodule.exports = {\n    type: 'PendingAcknowledgements',\n    func: function () {\n        var acks = [];\n\n        var reset = function () {\n            acks = [];\n        };\n\n        return {\n            flush: function () {\n                var pending = clone(acks);\n\n                reset();\n\n                return pending;\n            },\n            add: function (packetId) {\n                acks.push({ id: packetId, rcvdTimestamp: Date.now(), names: []});\n            },\n            ackLast: function (name) {\n                acks[acks.length - 1].names.push(name);\n            }\n        };\n    }\n};\n},{\"lodash\":6}],72:[function(require,module,exports){\n'use strict';\n\nvar isEqual = require('lodash').isEqual;\n\nmodule.exports = {\n  type: 'StateTrackerHelpers',\n  func: function () {\n    return {\n      equals: function (expectedValue) {\n        return function (currentValue) {\n          return isEqual(currentValue, expectedValue);\n        };\n      }\n    };\n  }\n};\n},{\"lodash\":6}],73:[function(require,module,exports){\n'use strict';\n\nvar each = require('lodash').each;\nvar isArray = require('lodash').isArray;\nvar isEqual = require('lodash').isEqual;\nvar clone = require('lodash').clone;\nvar where = require('lodash').where;\n\nmodule.exports = {\n  type: 'StateTracker',\n  func: function () {\n    var priorState;\n    var currentState;\n    var changes = [];\n\n    var invokeCallback = function (callback, model, priorModel, data) {\n      if (isArray(data)) {\n        var args = clone(data);\n        args.unshift(model, priorModel);\n        callback.apply(this, args);\n      } else {\n        callback(model, priorModel, data);\n      }\n    };\n\n    var hasChanged = function (f) {\n      if (priorState === undefined) { return true; }\n\n      return !isEqual(f(priorState), f(currentState));\n    };\n\n    var currentValue = function (f) {\n      if (currentState === undefined) {\n        return undefined;\n      }\n\n      return f(currentState);\n    };\n    var priorValue = function (f) {\n      if (priorState === undefined) {\n        return undefined;\n      }\n\n      return f(priorState);\n    };\n    var currentElement = function (f, model) {\n      if (currentState === undefined) {\n        return undefined;\n      }\n\n      return where(f(currentState), {id: model.id})[0];\n    };\n    var priorElement = function (f, model) {\n      if (priorState === undefined) {\n        return undefined;\n      }\n\n      return where(f(priorState), {id: model.id})[0];\n    };\n    var elementAdded = function (f, model) {\n      return (where(f(priorState), {id: model.id}).length === 0);\n    };\n    var elementRemoved = function (f, model) {\n      return (where(f(currentState), {id: model.id}).length === 0);\n    };\n    var elementChanged = function (f, model) {\n      if (priorState === undefined) { return true; }\n\n      var current = where(f(currentState), {id: model.id});\n      var prior = where(f(priorState), {id: model.id});\n      return !isEqual(current, prior);\n    };\n    var handleObjects = function (change) {\n      if (hasChanged(change.focus)) {\n        if (!change.when) {\n          invokeCallback(change.callback, currentValue(change.focus), priorValue(change.focus), change.data);\n          return;\n        }\n\n        if (change.when(currentValue(change.focus))) {\n          invokeCallback(change.callback, currentValue(change.focus), priorValue(change.focus), change.data);\n        }\n      }\n    };\n    var handleArrays = function (change) {\n      each(change.operatesOn(change.focus), function (model) {\n        if (change.detectionFunc(change.focus, model)) {\n          invokeCallback(change.callback, currentElement(change.focus, model), priorElement(change.focus, model), change.data);\n        }\n      });\n    };\n    var sendCurrentContentsNow = function (change) {\n      invokeCallback(change.callback, currentValue(change.focus), undefined, change.data);\n    };\n\n    var handle = {\n      'array': handleArrays,\n      'object': handleObjects\n    };\n\n    var detectChangesAndNotifyObservers = function () {\n      each(changes, function (change) {\n        handle[change.type](change);\n      });\n    };\n\n    return {\n      get: function (model) {\n        return currentValue(model);\n      },\n      updateState: function (newState) {\n        priorState = currentState;\n        currentState = newState;\n\n        detectChangesAndNotifyObservers();\n      },\n      onChangeOf: function (model, callback, data) {\n        var change = {\n          type: 'object',\n          focus: model,\n          callback: callback,\n          data: data\n        };\n\n        changes.push(change);\n      },\n      onChangeTo: function (model, condition, callback, data) {\n        var change = {\n          type: 'object',\n          focus: model,\n          'when': condition,\n          callback: callback,\n          data: data\n        };\n\n        handleObjects(change);\n        changes.push(change);\n      },\n      onElementChanged: function (focusArray, callback, data) {\n        var change = {\n          type: 'array',\n          focus: focusArray,\n          callback: callback,\n          detectionFunc: elementChanged,\n          operatesOn: currentValue,\n          data: data\n        };\n\n        changes.push(change);\n      },\n      onElementAdded: function (focusArray, onCallback, existingCallback, data) {\n        var change = {\n          type: 'array',\n          focus: focusArray,\n          callback: onCallback,\n          detectionFunc: elementAdded,\n          operatesOn: currentValue,\n          data: data\n        };\n\n        changes.push(change);\n        sendCurrentContentsNow({\n          focus: focusArray,\n          callback: existingCallback,\n          data: data\n        });\n      },\n      onElementRemoved: function (focusArray, callback, data) {\n        var change = {\n          type: 'array',\n          focus: focusArray,\n          callback: callback,\n          detectionFunc: elementRemoved,\n          operatesOn: priorValue,\n          data: data\n        };\n\n        changes.push(change);\n      }\n    };\n  }\n};\n},{\"lodash\":6}],74:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n  deps: ['AspectRatio', 'WidescreenMinimumMargin', 'Window'],\n  type: 'Dimensions',\n  func: function (ratio, minMargin, window) {\n    return {\n      get: function () {\n        var actualWidth = window().innerWidth;\n        var actualHeight = window().innerHeight;\n        var heightBasedOnWidth = Math.round(actualWidth / ratio());\n        var widthBasedOnHeight = Math.round(actualHeight * ratio());\n        var totalMargin = minMargin() + minMargin();\n\n        var usableWidth;\n        var usableHeight;\n        var orientation;\n\n        if (heightBasedOnWidth >= actualHeight) {\n          if (widthBasedOnHeight + totalMargin > actualWidth) {\n            usableWidth = actualWidth - totalMargin;\n            usableHeight = heightBasedOnWidth;\n          } else {\n            usableWidth = widthBasedOnHeight;\n            usableHeight = actualHeight;\n          }\n\n          orientation = 'landscape';\n        } else {\n          if (heightBasedOnWidth + totalMargin > actualHeight) {\n            usableWidth = widthBasedOnHeight;\n            usableHeight = actualHeight - totalMargin;\n          } else {\n            usableWidth = actualWidth;\n            usableHeight = heightBasedOnWidth;\n          }\n\n          orientation = 'portrait';\n        }\n\n        return {\n          usableWidth: usableWidth,\n          usableHeight: usableHeight,\n          marginSides: Math.round(actualWidth - usableWidth) / 2,\n          marginTopBottom: Math.round(actualHeight - usableHeight) / 2,\n          orientation: orientation,\n          screenWidth: actualWidth,\n          screenHeight: actualHeight,\n          ratio: ratio()\n        };\n      }\n    };\n  }\n};\n},{}],75:[function(require,module,exports){\n'use strict';\n\nvar each = require('lodash').each;\nvar reject = require('lodash').reject;\n\nmodule.exports = {\n  deps: ['DefinePlugin'],\n  type: 'OnInitialise',\n  func: function (define) {\n    var effects = [];\n\n    return function () {\n      define()('OnEachFrame', function () {\n        return function (delta) {\n          each(effects, function (effect) {\n            effect.tick(delta);\n          });\n\n          effects = reject(effects, function (effect) {\n            return !effect.isAlive();\n          });\n        };\n      });\n\n      define()('RegisterEffect', function () {\n        return {\n          register: function (effect) {\n            effects.push(effect);\n          }\n        };\n      });\n    };\n  }\n};\n},{\"lodash\":6}],76:[function(require,module,exports){\n'use strict';\n\nvar each = require('lodash').each;\n\nmodule.exports = {\n  deps: ['Window', 'OnEachFrame', 'StateTracker'],\n  type: 'UpdateLoop',\n  func: function (window, frames, tracker) {\n    var priorStep = Date.now();\n\n    var paused = function (state) { return state.ensemble.paused; };\n\n    return {\n      run: function () {\n        if (tracker().get(paused)) {\n          priorStep = Date.now();\n        } else {\n          var now = Date.now();\n          var delta = (now - priorStep) / 1000;\n          priorStep = Date.now();\n\n          each(frames(), function(frame) {\n            frame(delta);\n          });\n        }\n\n        window().requestAnimationFrame(this.run.bind(this));\n      }\n    };\n    }\n};\n},{\"lodash\":6}],77:[function(require,module,exports){\n'use strict';\n\nmodule.exports = '1.1.0';\n},{}],78:[function(require,module,exports){\n'use strict';\n\nvar screenfull = require('screenfull');\nvar $ = require('zepto-browserify').$;\n\nmodule.exports = {\n  type: 'View',\n  func: function () {\n    return function () {\n      $('.fullscreen').on('click', function () {\n        if (screenfull.enabled) {\n          screenfull.toggle();\n        }\n      });\n    };\n  }\n};\n},{\"screenfull\":8,\"zepto-browserify\":86}],79:[function(require,module,exports){\n'use strict';\n\nvar iconSize = 32;\nvar position = function (slot) { return slot * iconSize; };\nvar iconTop = function () { return 0; };\nvar textTop = function () { return +6; };\n\nvar landscape = function ($) {\n  var pos = 0;\n  $('.fullscreen').css('top', position(pos) - iconTop() + 'px').css('right', '0');\n  pos += 1;\n  $('.sound-on').css('top', position(pos) - iconTop() + 'px').css('right', '0');\n  $('.sound-off').css('top', position(pos) - iconTop() + 'px').css('right', '0');\n  pos += 1;\n  $('.disconnected').css('top', position(pos) - iconTop() + 'px').css('right', '0');\n  pos += 1;\n  $('.paused').css('top', position(pos) - iconTop() + 'px').css('right', '0');\n  pos += 1;\n  $('.players').css('top', position(pos) - iconTop() + 'px').css('right', '0');\n  pos += 1;\n  $('.player-count').css('top', position(pos) - textTop() + 'px').css('right', '0');\n  pos += 1;\n  $('.observers').css('top', position(pos) - iconTop() + 'px').css('right', '0');\n  pos += 1;\n  $('.observer-count').css('top', position(pos) - textTop() + 'px').css('right', '0');\n  pos += 1;\n};\n\nvar portrait = function ($) {\n  var pos = 0;\n  $('.fullscreen').css('right', position(pos) + 'px').css('top', iconTop() + 'px');\n  pos += 1;\n  $('.sound-on').css('right', position(pos) + 'px').css('top', iconTop() + 'px');\n  $('.sound-off').css('right', position(pos) + 'px').css('top', iconTop() + 'px');\n  pos += 1;\n  $('.disconnected').css('right', position(pos) + 'px').css('top', iconTop() + 'px');\n  pos += 1;\n  $('.paused').css('right', position(pos) + 'px').css('top', iconTop() + 'px');\n  pos += 1;\n  $('.players').css('right', position(pos) + 'px').css('top', iconTop() + 'px');\n  pos += 1;\n  $('.player-count').css('right', position(pos) + 'px').css('top', textTop() + 'px');\n  pos += 1;\n  $('.observers').css('right', position(pos) + 'px').css('top', iconTop() + 'px');\n  pos += 1;\n  $('.observer-count').css('right', position(pos) + 'px').css('top', textTop() + 'px');\n  pos += 1;\n};\n\nmodule.exports = {\n  type: 'OnResize',\n  func: function () {\n    var $ = require('zepto-browserify').$;\n\n    return function (dims) {\n      if (dims.orientation === 'landscape') {\n        landscape($);\n      } else {\n        portrait($);\n      }\n    };\n  }\n};\n},{\"zepto-browserify\":86}],80:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n  deps: ['OnPause', 'OnResume', 'StateTrackerHelpers', 'StateTracker'],\n  type: 'View',\n  func: function (onPauseCallbacks, onResumeCallbacks, trackerHelpers, tracker) {\n    var each = require('lodash').each;\n    var $ = require('zepto-browserify').$;\n    var equals = trackerHelpers().equals;\n\n    var pause = function () {\n      $('.paused').show();\n      $('#paused').show();\n\n      each(onPauseCallbacks(), function(onPauseCallback) {\n        onPauseCallback();\n      });\n    };\n    var resume = function () {\n      $('.paused').hide();\n      $('#paused').hide();\n\n      each(onResumeCallbacks(), function(onResumeCallback) {\n        onResumeCallback();\n      });\n    };\n\n    var paused = function (state) { return state.ensemble.paused; };\n\n    return function () {\n      tracker().onChangeTo(paused, equals(true), pause);\n      tracker().onChangeTo(paused, equals(false), resume);\n    };\n  }\n};\n},{\"lodash\":6,\"zepto-browserify\":86}],81:[function(require,module,exports){\n'use strict';\n\nvar numeral = require('numeral');\n\nmodule.exports = {\n  type: 'View',\n  deps: ['StateTracker'],\n  func: function (tracker) {\n    var $ = require('zepto-browserify').$;\n\n    var updatePlayerCount = function (currentValue) {\n      $('#player-count').text(numeral(currentValue).format('0a'));\n    };\n    var updateObserverCount = function (currentValue) {\n      $('#observer-count').text(numeral(currentValue).format('0a'));\n    };\n\n    var playerCount = function (state) { return state.ensemble.players; };\n    var observerCount = function (state) { return state.ensemble.observers; };\n\n    return function () {\n      tracker().onChangeOf(playerCount, updatePlayerCount);\n      tracker().onChangeOf(observerCount, updateObserverCount);\n    };\n  }\n};\n},{\"numeral\":7,\"zepto-browserify\":86}],82:[function(require,module,exports){\n'use strict';\n\nvar each = require('lodash').each;\nvar $ = require('zepto-browserify').$;\n\nmodule.exports = {\n  type: 'View',\n  deps: ['OnMute', 'OnUnmute'],\n  func: function (onMuteCallbacks, onUnmuteCallbacks) {\n    return function () {\n      $('.sound-off').hide();\n      $('.sound-on').on('click', function () {\n        $('.sound-on').hide();\n        $('.sound-off').show();\n\n        each(onMuteCallbacks, function(onMuteCallback) {\n          onMuteCallback();\n        });\n      });\n      $('.sound-off').on('click', function () {\n        $('.sound-off').hide();\n        $('.sound-on').show();\n\n        each(onUnmuteCallbacks, function(onUnmuteCallback) {\n          onUnmuteCallback();\n        });\n      });\n    };\n  }\n};\n},{\"lodash\":6,\"zepto-browserify\":86}],83:[function(require,module,exports){\n(function (global){\n/**\n * @license\n * lodash 3.8.0 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern -d -o ./index.js`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '3.8.0';\n\n  /** Used to compose bitmasks for wrapper metadata. */\n  var BIND_FLAG = 1,\n      BIND_KEY_FLAG = 2,\n      CURRY_BOUND_FLAG = 4,\n      CURRY_FLAG = 8,\n      CURRY_RIGHT_FLAG = 16,\n      PARTIAL_FLAG = 32,\n      PARTIAL_RIGHT_FLAG = 64,\n      ARY_FLAG = 128,\n      REARG_FLAG = 256;\n\n  /** Used as default options for `_.trunc`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect when a function becomes hot. */\n  var HOT_COUNT = 150,\n      HOT_SPAN = 16;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_DROP_WHILE_FLAG = 0,\n      LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2;\n\n  /** Used as the `TypeError` message for \"Functions\" methods. */\n  var FUNC_ERROR_TEXT = 'Expected a function';\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      objectTag = '[object Object]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      weakMapTag = '[object WeakMap]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39|#96);/g,\n      reUnescapedHtml = /[&<>\"'`]/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match property names within property paths. */\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\n\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\n\\\\]|\\\\.)*?)\\2)\\]/g;\n\n  /**\n   * Used to match `RegExp` [special characters](http://www.regular-expressions.info/characters.html#special).\n   * In addition to special characters the forward slash is escaped to allow for\n   * easier `eval` use and `Function` compilation.\n   */\n  var reRegExpChars = /[.*+?^${}()|[\\]\\/\\\\]/g,\n      reHasRegExpChars = RegExp(reRegExpChars.source);\n\n  /** Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks). */\n  var reComboMark = /[\\u0300-\\u036f\\ufe20-\\ufe23]/g;\n\n  /** Used to match backslashes in property paths. */\n  var reEscapeChar = /\\\\(\\\\)?/g;\n\n  /** Used to match [ES template delimiters](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-template-literal-lexical-components). */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect hexadecimal string values. */\n  var reHasHexPrefix = /^0[xX]/;\n\n  /** Used to detect host constructors (Safari > 5). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to match latin-1 supplementary letters (excluding mathematical operators). */\n  var reLatin1 = /[\\xc0-\\xd6\\xd8-\\xde\\xdf-\\xf6\\xf8-\\xff]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to match words to create compound words. */\n  var reWords = (function() {\n    var upper = '[A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]',\n        lower = '[a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff]+';\n\n    return RegExp(upper + '+(?=' + upper + lower + ')|' + upper + '?' + lower + '|' + upper + '+|[0-9]+', 'g');\n  }());\n\n  /** Used to detect and test for whitespace. */\n  var whitespace = (\n    // Basic whitespace characters.\n    ' \\t\\x0b\\f\\xa0\\ufeff' +\n\n    // Line terminators.\n    '\\n\\r\\u2028\\u2029' +\n\n    // Unicode category \"Zs\" space separators.\n    '\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000'\n  );\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'ArrayBuffer', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Math', 'Number',\n    'Object', 'RegExp', 'Set', 'String', '_', 'clearTimeout', 'document',\n    'isFinite', 'parseInt', 'setTimeout', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap',\n    'window'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dateTag] = typedArrayTags[errorTag] =\n  typedArrayTags[funcTag] = typedArrayTags[mapTag] =\n  typedArrayTags[numberTag] = typedArrayTags[objectTag] =\n  typedArrayTags[regexpTag] = typedArrayTags[setTag] =\n  typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[boolTag] =\n  cloneableTags[dateTag] = cloneableTags[float32Tag] =\n  cloneableTags[float64Tag] = cloneableTags[int8Tag] =\n  cloneableTags[int16Tag] = cloneableTags[int32Tag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[stringTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[mapTag] = cloneableTags[setTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used as an internal `_.debounce` options object by `_.throttle`. */\n  var debounceOptions = {\n    'leading': false,\n    'maxWait': 0,\n    'trailing': false\n  };\n\n  /** Used to map latin-1 supplementary letters to basic latin letters. */\n  var deburredLetters = {\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcC': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xeC': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '`': '&#96;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\",\n    '&#96;': '`'\n  };\n\n  /** Used to determine if values are of the language type `Object`. */\n  var objectTypes = {\n    'function': true,\n    'object': true\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Detect free variable `exports`. */\n  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = objectTypes[typeof module] && module && !module.nodeType && module;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = freeExports && freeModule && typeof global == 'object' && global && global.Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = objectTypes[typeof self] && self && self.Object && self;\n\n  /** Detect free variable `window`. */\n  var freeWindow = objectTypes[typeof window] && window && window.Object && window;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports && freeExports;\n\n  /**\n   * Used as a reference to the global object.\n   *\n   * The `this` value is used if it is the global object to avoid Greasemonkey's\n   * restricted `window` object, otherwise the `window` object is used.\n   */\n  var root = freeGlobal || ((freeWindow !== (this && this.window)) && freeWindow) || freeSelf || this;\n\n  /**\n   * The base implementation of `compareAscending` which compares values and\n   * sorts them in ascending order without guaranteeing a stable sort.\n   *\n   * @private\n   * @param {*} value The value to compare to `other`.\n   * @param {*} other The value to compare to `value`.\n   * @returns {number} Returns the sort order indicator for `value`.\n   */\n  function baseCompareAscending(value, other) {\n    if (value !== other) {\n      var valIsReflexive = value === value,\n          othIsReflexive = other === other;\n\n      if (value > other || !valIsReflexive || (value === undefined && othIsReflexive)) {\n        return 1;\n      }\n      if (value < other || !othIsReflexive || (other === undefined && valIsReflexive)) {\n        return -1;\n      }\n    }\n    return 0;\n  }\n\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for callback shorthands and `this` binding.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseFindIndex(array, predicate, fromRight) {\n    var length = array.length,\n        index = fromRight ? length : -1;\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without support for binary searches.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    if (value !== value) {\n      return indexOfNaN(array, fromIndex);\n    }\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isFunction` without support for environments\n   * with incorrect `typeof` results.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n   */\n  function baseIsFunction(value) {\n    // Avoid a Chakra JIT bug in compatibility modes of IE 11.\n    // See https://github.com/jashkenas/underscore/issues/1621 for more details.\n    return typeof value == 'function' || false;\n  }\n\n  /**\n   * Converts `value` to a string if it is not one. An empty string is returned\n   * for `null` or `undefined` values.\n   *\n   * @private\n   * @param {*} value The value to process.\n   * @returns {string} Returns the string.\n   */\n  function baseToString(value) {\n    if (typeof value == 'string') {\n      return value;\n    }\n    return value == null ? '' : (value + '');\n  }\n\n  /**\n   * Used by `_.max` and `_.min` as the default callback for string values.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the code unit of the first character of the string.\n   */\n  function charAtCallback(string) {\n    return string.charCodeAt(0);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimLeft` to get the index of the first character\n   * of `string` that is not found in `chars`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @param {string} chars The characters to find.\n   * @returns {number} Returns the index of the first character not found in `chars`.\n   */\n  function charsLeftIndex(string, chars) {\n    var index = -1,\n        length = string.length;\n\n    while (++index < length && chars.indexOf(string.charAt(index)) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimRight` to get the index of the last character\n   * of `string` that is not found in `chars`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @param {string} chars The characters to find.\n   * @returns {number} Returns the index of the last character not found in `chars`.\n   */\n  function charsRightIndex(string, chars) {\n    var index = string.length;\n\n    while (index-- && chars.indexOf(string.charAt(index)) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.sortBy` to compare transformed elements of a collection and stable\n   * sort them in ascending order.\n   *\n   * @private\n   * @param {Object} object The object to compare to `other`.\n   * @param {Object} other The object to compare to `object`.\n   * @returns {number} Returns the sort order indicator for `object`.\n   */\n  function compareAscending(object, other) {\n    return baseCompareAscending(object.criteria, other.criteria) || (object.index - other.index);\n  }\n\n  /**\n   * Used by `_.sortByOrder` to compare multiple properties of each element\n   * in a collection and stable sort them in the following order:\n   *\n   * If `orders` is unspecified, sort in ascending order for all properties.\n   * Otherwise, for each property, sort in ascending order if its corresponding value in\n   * orders is true, and descending order if false.\n   *\n   * @private\n   * @param {Object} object The object to compare to `other`.\n   * @param {Object} other The object to compare to `object`.\n   * @param {boolean[]} orders The order to sort by for each property.\n   * @returns {number} Returns the sort order indicator for `object`.\n   */\n  function compareMultiple(object, other, orders) {\n    var index = -1,\n        objCriteria = object.criteria,\n        othCriteria = other.criteria,\n        length = objCriteria.length,\n        ordersLength = orders.length;\n\n    while (++index < length) {\n      var result = baseCompareAscending(objCriteria[index], othCriteria[index]);\n      if (result) {\n        if (index >= ordersLength) {\n          return result;\n        }\n        return result * (orders[index] ? 1 : -1);\n      }\n    }\n    // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n    // that causes it, under certain circumstances, to provide the same value for\n    // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n    // for more details.\n    //\n    // This also ensures a stable sort in V8 and other engines.\n    // See https://code.google.com/p/v8/issues/detail?id=90 for more details.\n    return object.index - other.index;\n  }\n\n  /**\n   * Used by `_.deburr` to convert latin-1 supplementary letters to basic latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  function deburrLetter(letter) {\n    return deburredLetters[letter];\n  }\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeHtmlChar(chr) {\n    return htmlEscapes[chr];\n  }\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled\n   * string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the index at which the first occurrence of `NaN` is found in `array`.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched `NaN`, else `-1`.\n   */\n  function indexOfNaN(array, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 0 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      var other = array[index];\n      if (other !== other) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * Checks if `value` is object-like.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n   */\n  function isObjectLike(value) {\n    return !!value && typeof value == 'object';\n  }\n\n  /**\n   * Used by `trimmedLeftIndex` and `trimmedRightIndex` to determine if a\n   * character code is whitespace.\n   *\n   * @private\n   * @param {number} charCode The character code to inspect.\n   * @returns {boolean} Returns `true` if `charCode` is whitespace, else `false`.\n   */\n  function isSpace(charCode) {\n    return ((charCode <= 160 && (charCode >= 9 && charCode <= 13) || charCode == 32 || charCode == 160) || charCode == 5760 || charCode == 6158 ||\n      (charCode >= 8192 && (charCode <= 8202 || charCode == 8232 || charCode == 8233 || charCode == 8239 || charCode == 8287 || charCode == 12288 || charCode == 65279)));\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = -1,\n        result = [];\n\n    while (++index < length) {\n      if (array[index] === placeholder) {\n        array[index] = PLACEHOLDER;\n        result[++resIndex] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * An implementation of `_.uniq` optimized for sorted arrays without support\n   * for callback shorthands and `this` binding.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} [iteratee] The function invoked per iteration.\n   * @returns {Array} Returns the new duplicate-value-free array.\n   */\n  function sortedUniq(array, iteratee) {\n    var seen,\n        index = -1,\n        length = array.length,\n        resIndex = -1,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index],\n          computed = iteratee ? iteratee(value, index, array) : value;\n\n      if (!index || seen !== computed) {\n        seen = computed;\n        result[++resIndex] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimLeft` to get the index of the first non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the first non-whitespace character.\n   */\n  function trimmedLeftIndex(string) {\n    var index = -1,\n        length = string.length;\n\n    while (++index < length && isSpace(string.charCodeAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimRight` to get the index of the last non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the last non-whitespace character.\n   */\n  function trimmedRightIndex(string) {\n    var index = string.length;\n\n    while (index-- && isSpace(string.charCodeAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  function unescapeHtmlChar(chr) {\n    return htmlUnescapes[chr];\n  }\n\n  /**\n   * Create a new pristine `lodash` function using the given `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @category Utility\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // using `context` to mock `Date#getTime` use in `_.now`\n   * var mock = _.runInContext({\n   *   'Date': function() {\n   *     return { 'getTime': getTimeMock };\n   *   }\n   * });\n   *\n   * // or creating a suped-up `defer` in Node.js\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  function runInContext(context) {\n    // Avoid issues with some ES3 environments that attempt to use values, named\n    // after built-in constructors like `Object`, for the creation of literals.\n    // ES5 clears this up by stating that literals must use built-in constructors.\n    // See https://es5.github.io/#x11.1.5 for more details.\n    context = context ? _.defaults(root.Object(), context, _.pick(root, contextProps)) : root;\n\n    /** Native constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Number = context.Number,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for native method references. */\n    var arrayProto = Array.prototype,\n        objectProto = Object.prototype,\n        stringProto = String.prototype;\n\n    /** Used to detect DOM support. */\n    var document = (document = context.window) && document.document;\n\n    /** Used to resolve the decompiled source of functions. */\n    var fnToString = Function.prototype.toString;\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /**\n     * Used to resolve the [`toStringTag`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.prototype.tostring)\n     * of values.\n     */\n    var objToString = objectProto.toString;\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = context._;\n\n    /** Used to detect if a method is native. */\n    var reIsNative = RegExp('^' +\n      escapeRegExp(objToString)\n      .replace(/toString|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Native method references. */\n    var ArrayBuffer = isNative(ArrayBuffer = context.ArrayBuffer) && ArrayBuffer,\n        bufferSlice = isNative(bufferSlice = ArrayBuffer && new ArrayBuffer(0).slice) && bufferSlice,\n        ceil = Math.ceil,\n        clearTimeout = context.clearTimeout,\n        floor = Math.floor,\n        getOwnPropertySymbols = isNative(getOwnPropertySymbols = Object.getOwnPropertySymbols) && getOwnPropertySymbols,\n        getPrototypeOf = isNative(getPrototypeOf = Object.getPrototypeOf) && getPrototypeOf,\n        push = arrayProto.push,\n        preventExtensions = isNative(preventExtensions = Object.preventExtensions) && preventExtensions,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        Set = isNative(Set = context.Set) && Set,\n        setTimeout = context.setTimeout,\n        splice = arrayProto.splice,\n        Uint8Array = isNative(Uint8Array = context.Uint8Array) && Uint8Array,\n        WeakMap = isNative(WeakMap = context.WeakMap) && WeakMap;\n\n    /** Used to clone array buffers. */\n    var Float64Array = (function() {\n      // Safari 5 errors when using an array buffer to initialize a typed array\n      // where the array buffer's `byteLength` is not a multiple of the typed\n      // array's `BYTES_PER_ELEMENT`.\n      try {\n        var func = isNative(func = context.Float64Array) && func,\n            result = new func(new ArrayBuffer(10), 0, 1) && func;\n      } catch(e) {}\n      return result;\n    }());\n\n    /** Used as `baseAssign`. */\n    var nativeAssign = (function() {\n      // Avoid `Object.assign` in Firefox 34-37 which have an early implementation\n      // with a now defunct try/catch behavior. See https://bugzilla.mozilla.org/show_bug.cgi?id=1103344\n      // for more details.\n      //\n      // Use `Object.preventExtensions` on a plain object instead of simply using\n      // `Object('x')` because Chrome and IE fail to throw an error when attempting\n      // to assign values to readonly indexes of strings.\n      var func = preventExtensions && isNative(func = Object.assign) && func;\n      try {\n        if (func) {\n          var object = preventExtensions({ '1': 0 });\n          object[0] = 1;\n        }\n      } catch(e) {\n        // Only attempt in strict mode.\n        try { func(object, 'xo'); } catch(e) {}\n        return !object[1] && func;\n      }\n      return false;\n    }());\n\n    /* Native method references for those with the same name as other `lodash` methods. */\n    var nativeIsArray = isNative(nativeIsArray = Array.isArray) && nativeIsArray,\n        nativeCreate = isNative(nativeCreate = Object.create) && nativeCreate,\n        nativeIsFinite = context.isFinite,\n        nativeKeys = isNative(nativeKeys = Object.keys) && nativeKeys,\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = isNative(nativeNow = Date.now) && nativeNow,\n        nativeNumIsFinite = isNative(nativeNumIsFinite = Number.isFinite) && nativeNumIsFinite,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random;\n\n    /** Used as references for `-Infinity` and `Infinity`. */\n    var NEGATIVE_INFINITY = Number.NEGATIVE_INFINITY,\n        POSITIVE_INFINITY = Number.POSITIVE_INFINITY;\n\n    /** Used as references for the maximum length and index of an array. */\n    var MAX_ARRAY_LENGTH = Math.pow(2, 32) - 1,\n        MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\n        HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n    /** Used as the size, in bytes, of each `Float64Array` element. */\n    var FLOAT64_BYTES_PER_ELEMENT = Float64Array ? Float64Array.BYTES_PER_ELEMENT : 0;\n\n    /**\n     * Used as the [maximum length](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-number.max_safe_integer)\n     * of an array-like value.\n     */\n    var MAX_SAFE_INTEGER = Math.pow(2, 53) - 1;\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /** Used to lookup unminified function names. */\n    var realNames = {};\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit chaining.\n     * Methods that operate on and return arrays, collections, and functions can\n     * be chained together. Methods that return a boolean or single value will\n     * automatically end the chain returning the unwrapped value. Explicit chaining\n     * may be enabled using `_.chain`. The execution of chained methods is lazy,\n     * that is, execution is deferred until `_#value` is implicitly or explicitly\n     * called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion. Shortcut\n     * fusion is an optimization that merges iteratees to avoid creating intermediate\n     * arrays and reduce the number of iteratee executions.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `reverse`, `shift`, `slice`, `sort`,\n     * `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `compact`, `drop`, `dropRight`, `dropRightWhile`, `dropWhile`, `filter`,\n     * `first`, `initial`, `last`, `map`, `pluck`, `reject`, `rest`, `reverse`,\n     * `slice`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, `toArray`,\n     * and `where`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `at`, `before`, `bind`, `bindAll`, `bindKey`,\n     * `callback`, `chain`, `chunk`, `commit`, `compact`, `concat`, `constant`,\n     * `countBy`, `create`, `curry`, `debounce`, `defaults`, `defer`, `delay`,\n     * `difference`, `drop`, `dropRight`, `dropRightWhile`, `dropWhile`, `fill`,\n     * `filter`, `flatten`, `flattenDeep`, `flow`, `flowRight`, `forEach`,\n     * `forEachRight`, `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `functions`,\n     * `groupBy`, `indexBy`, `initial`, `intersection`, `invert`, `invoke`, `keys`,\n     * `keysIn`, `map`, `mapValues`, `matches`, `matchesProperty`, `memoize`,\n     * `merge`, `mixin`, `negate`, `omit`, `once`, `pairs`, `partial`, `partialRight`,\n     * `partition`, `pick`, `plant`, `pluck`, `property`, `propertyOf`, `pull`,\n     * `pullAt`, `push`, `range`, `rearg`, `reject`, `remove`, `rest`, `reverse`,\n     * `shuffle`, `slice`, `sort`, `sortBy`, `sortByAll`, `sortByOrder`, `splice`,\n     * `spread`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, `tap`,\n     * `throttle`, `thru`, `times`, `toArray`, `toPlainObject`, `transform`,\n     * `union`, `uniq`, `unshift`, `unzip`, `values`, `valuesIn`, `where`,\n     * `without`, `wrap`, `xor`, `zip`, and `zipObject`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `clone`, `cloneDeep`, `deburr`,\n     * `endsWith`, `escape`, `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`,\n     * `findLast`, `findLastIndex`, `findLastKey`, `findWhere`, `first`, `has`,\n     * `identity`, `includes`, `indexOf`, `inRange`, `isArguments`, `isArray`,\n     * `isBoolean`, `isDate`, `isElement`, `isEmpty`, `isEqual`, `isError`, `isFinite`\n     * `isFunction`, `isMatch`, `isNative`, `isNaN`, `isNull`, `isNumber`, `isObject`,\n     * `isPlainObject`, `isRegExp`, `isString`, `isUndefined`, `isTypedArray`,\n     * `join`, `kebabCase`, `last`, `lastIndexOf`, `max`, `min`, `noConflict`,\n     * `noop`, `now`, `pad`, `padLeft`, `padRight`, `parseInt`, `pop`, `random`,\n     * `reduce`, `reduceRight`, `repeat`, `result`, `runInContext`, `shift`, `size`,\n     * `snakeCase`, `some`, `sortedIndex`, `sortedLastIndex`, `startCase`, `startsWith`,\n     * `sum`, `template`, `trim`, `trimLeft`, `trimRight`, `trunc`, `unescape`,\n     * `uniqueId`, `value`, and `words`\n     *\n     * The wrapper method `sample` will return a wrapped value when `n` is provided,\n     * otherwise an unwrapped value is returned.\n     *\n     * @name _\n     * @constructor\n     * @category Chain\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // returns an unwrapped value\n     * wrapped.reduce(function(total, n) {\n     *   return total + n;\n     * });\n     * // => 6\n     *\n     * // returns a wrapped value\n     * var squares = wrapped.map(function(n) {\n     *   return n * n;\n     * });\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__chain__') && hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The function whose prototype all chaining wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable chaining for all wrapper methods.\n     * @param {Array} [actions=[]] Actions to peform to resolve the unwrapped value.\n     */\n    function LodashWrapper(value, chainAll, actions) {\n      this.__wrapped__ = value;\n      this.__actions__ = actions || [];\n      this.__chain__ = !!chainAll;\n    }\n\n    /**\n     * An object environment feature flags.\n     *\n     * @static\n     * @memberOf _\n     * @type Object\n     */\n    var support = lodash.support = {};\n\n    (function(x) {\n      var Ctor = function() { this.x = x; },\n          args = arguments,\n          object = { '0': x, 'length': x },\n          props = [];\n\n      Ctor.prototype = { 'valueOf': x, 'y': x };\n      for (var key in new Ctor) { props.push(key); }\n\n      /**\n       * Detect if functions can be decompiled by `Function#toString`\n       * (all but Firefox OS certified apps, older Opera mobile browsers, and\n       * the PlayStation 3; forced `false` for Windows 8 apps).\n       *\n       * @memberOf _.support\n       * @type boolean\n       */\n      support.funcDecomp = /\\bthis\\b/.test(function() { return this; });\n\n      /**\n       * Detect if `Function#name` is supported (all but IE).\n       *\n       * @memberOf _.support\n       * @type boolean\n       */\n      support.funcNames = typeof Function.name == 'string';\n\n      /**\n       * Detect if the DOM is supported.\n       *\n       * @memberOf _.support\n       * @type boolean\n       */\n      try {\n        support.dom = document.createDocumentFragment().nodeType === 11;\n      } catch(e) {\n        support.dom = false;\n      }\n\n      /**\n       * Detect if `arguments` object indexes are non-enumerable.\n       *\n       * In Firefox < 4, IE < 9, PhantomJS, and Safari < 5.1 `arguments` object\n       * indexes are non-enumerable. Chrome < 25 and Node.js < 0.11.0 treat\n       * `arguments` object indexes as non-enumerable and fail `hasOwnProperty`\n       * checks for indexes that exceed the number of function parameters and\n       * whose associated argument values are `0`.\n       *\n       * @memberOf _.support\n       * @type boolean\n       */\n      try {\n        support.nonEnumArgs = !propertyIsEnumerable.call(args, 1);\n      } catch(e) {\n        support.nonEnumArgs = true;\n      }\n    }(1, 0));\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB). Change the following template settings to use\n     * alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type Object\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type string\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type Object\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type Function\n         */\n        '_': lodash\n      }\n    };\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = null;\n      this.__dir__ = 1;\n      this.__dropCount__ = 0;\n      this.__filtered__ = false;\n      this.__iteratees__ = null;\n      this.__takeCount__ = POSITIVE_INFINITY;\n      this.__views__ = null;\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var actions = this.__actions__,\n          iteratees = this.__iteratees__,\n          views = this.__views__,\n          result = new LazyWrapper(this.__wrapped__);\n\n      result.__actions__ = actions ? arrayCopy(actions) : null;\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = iteratees ? arrayCopy(iteratees) : null;\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = views ? arrayCopy(views) : null;\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value();\n      if (!isArray(array)) {\n        return baseWrapperValue(array, this.__actions__);\n      }\n      var dir = this.__dir__,\n          isRight = dir < 0,\n          view = getView(0, array.length, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          takeCount = nativeMin(length, this.__takeCount__),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees ? iteratees.length : 0,\n          resIndex = 0,\n          result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type;\n\n          if (type == LAZY_DROP_WHILE_FLAG) {\n            if (data.done && (isRight ? (index > data.index) : (index < data.index))) {\n              data.count = 0;\n              data.done = false;\n            }\n            data.index = index;\n            if (!data.done) {\n              var limit = data.limit;\n              if (!(data.done = limit > -1 ? (data.count++ >= limit) : !iteratee(value))) {\n                continue outer;\n              }\n            }\n          } else {\n            var computed = iteratee(value);\n            if (type == LAZY_MAP_FLAG) {\n              value = computed;\n            } else if (!computed) {\n              if (type == LAZY_FILTER_FLAG) {\n                continue outer;\n              } else {\n                break outer;\n              }\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    /**\n     * Creates a cache object to store key/value pairs.\n     *\n     * @private\n     * @static\n     * @name Cache\n     * @memberOf _.memoize\n     */\n    function MapCache() {\n      this.__data__ = {};\n    }\n\n    /**\n     * Removes `key` and its value from the cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed successfully, else `false`.\n     */\n    function mapDelete(key) {\n      return this.has(key) && delete this.__data__[key];\n    }\n\n    /**\n     * Gets the cached value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the cached value.\n     */\n    function mapGet(key) {\n      return key == '__proto__' ? undefined : this.__data__[key];\n    }\n\n    /**\n     * Checks if a cached value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapHas(key) {\n      return key != '__proto__' && hasOwnProperty.call(this.__data__, key);\n    }\n\n    /**\n     * Sets `value` to `key` of the cache.\n     *\n     * @private\n     * @name set\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the value to cache.\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache object.\n     */\n    function mapSet(key, value) {\n      if (key != '__proto__') {\n        this.__data__[key] = value;\n      }\n      return this;\n    }\n\n    /**\n     *\n     * Creates a cache object to store unique values.\n     *\n     * @private\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var length = values ? values.length : 0;\n\n      this.data = { 'hash': nativeCreate(null), 'set': new Set };\n      while (length--) {\n        this.push(values[length]);\n      }\n    }\n\n    /**\n     * Checks if `value` is in `cache` mimicking the return signature of\n     * `_.indexOf` by returning `0` if the value is found, else `-1`.\n     *\n     * @private\n     * @param {Object} cache The cache to search.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `0` if `value` is found, else `-1`.\n     */\n    function cacheIndexOf(cache, value) {\n      var data = cache.data,\n          result = (typeof value == 'string' || isObject(value)) ? data.set.has(value) : data.hash[value];\n\n      return result ? 0 : -1;\n    }\n\n    /**\n     * Adds `value` to the cache.\n     *\n     * @private\n     * @name push\n     * @memberOf SetCache\n     * @param {*} value The value to cache.\n     */\n    function cachePush(value) {\n      var data = this.data;\n      if (typeof value == 'string' || isObject(value)) {\n        data.set.add(value);\n      } else {\n        data.hash[value] = true;\n      }\n    }\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayCopy(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.forEach` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayEach(array, iteratee) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        if (iteratee(array[index], index, array) === false) {\n          break;\n        }\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.forEachRight` for arrays without support for\n     * callback shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayEachRight(array, iteratee) {\n      var length = array.length;\n\n      while (length--) {\n        if (iteratee(array[length], length, array) === false) {\n          break;\n        }\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.every` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     */\n    function arrayEvery(array, predicate) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        if (!predicate(array[index], index, array)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * A specialized version of `_.filter` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function arrayFilter(array, predicate) {\n      var index = -1,\n          length = array.length,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result[++resIndex] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.map` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function arrayMap(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = iteratee(array[index], index, array);\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.max` for arrays without support for iteratees.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the maximum value.\n     */\n    function arrayMax(array) {\n      var index = -1,\n          length = array.length,\n          result = NEGATIVE_INFINITY;\n\n      while (++index < length) {\n        var value = array[index];\n        if (value > result) {\n          result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.min` for arrays without support for iteratees.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the minimum value.\n     */\n    function arrayMin(array) {\n      var index = -1,\n          length = array.length,\n          result = POSITIVE_INFINITY;\n\n      while (++index < length) {\n        var value = array[index];\n        if (value < result) {\n          result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.reduce` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {boolean} [initFromArray] Specify using the first element of `array`\n     *  as the initial value.\n     * @returns {*} Returns the accumulated value.\n     */\n    function arrayReduce(array, iteratee, accumulator, initFromArray) {\n      var index = -1,\n          length = array.length;\n\n      if (initFromArray && length) {\n        accumulator = array[++index];\n      }\n      while (++index < length) {\n        accumulator = iteratee(accumulator, array[index], index, array);\n      }\n      return accumulator;\n    }\n\n    /**\n     * A specialized version of `_.reduceRight` for arrays without support for\n     * callback shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {boolean} [initFromArray] Specify using the last element of `array`\n     *  as the initial value.\n     * @returns {*} Returns the accumulated value.\n     */\n    function arrayReduceRight(array, iteratee, accumulator, initFromArray) {\n      var length = array.length;\n      if (initFromArray && length) {\n        accumulator = array[--length];\n      }\n      while (length--) {\n        accumulator = iteratee(accumulator, array[length], length, array);\n      }\n      return accumulator;\n    }\n\n    /**\n     * A specialized version of `_.some` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function arraySome(array, predicate) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        if (predicate(array[index], index, array)) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `_.sum` for arrays without support for iteratees.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the sum.\n     */\n    function arraySum(array) {\n      var length = array.length,\n          result = 0;\n\n      while (length--) {\n        result += +array[length] || 0;\n      }\n      return result;\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assign` use.\n     *\n     * @private\n     * @param {*} objectValue The destination object property value.\n     * @param {*} sourceValue The source object property value.\n     * @returns {*} Returns the value to assign to the destination object.\n     */\n    function assignDefaults(objectValue, sourceValue) {\n      return objectValue === undefined ? sourceValue : objectValue;\n    }\n\n    /**\n     * Used by `_.template` to customize its `_.assign` use.\n     *\n     * **Note:** This function is like `assignDefaults` except that it ignores\n     * inherited property values when checking if a property is `undefined`.\n     *\n     * @private\n     * @param {*} objectValue The destination object property value.\n     * @param {*} sourceValue The source object property value.\n     * @param {string} key The key associated with the object and source values.\n     * @param {Object} object The destination object.\n     * @returns {*} Returns the value to assign to the destination object.\n     */\n    function assignOwnDefaults(objectValue, sourceValue, key, object) {\n      return (objectValue === undefined || !hasOwnProperty.call(object, key))\n        ? sourceValue\n        : objectValue;\n    }\n\n    /**\n     * A specialized version of `_.assign` for customizing assigned values without\n     * support for argument juggling, multiple sources, and `this` binding `customizer`\n     * functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     */\n    function assignWith(object, source, customizer) {\n      var props = keys(source);\n      push.apply(props, getSymbols(source));\n\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index],\n            value = object[key],\n            result = customizer(value, source[key], key, object, source);\n\n        if ((result === result ? (result !== value) : (value === value)) ||\n            (value === undefined && !(key in object))) {\n          object[key] = result;\n        }\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for argument juggling,\n     * multiple sources, and `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    var baseAssign = nativeAssign || function(object, source) {\n      return source == null\n        ? object\n        : baseCopy(source, getSymbols(source), baseCopy(source, keys(source), object));\n    };\n\n    /**\n     * The base implementation of `_.at` without support for string collections\n     * and individual key arguments.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {number[]|string[]} props The property names or indexes of elements to pick.\n     * @returns {Array} Returns the new array of picked elements.\n     */\n    function baseAt(collection, props) {\n      var index = -1,\n          isNil = collection == null,\n          isArr = !isNil && isArrayLike(collection),\n          length = isArr && collection.length,\n          propsLength = props.length,\n          result = Array(propsLength);\n\n      while(++index < propsLength) {\n        var key = props[index];\n        if (isArr) {\n          result[index] = isIndex(key, length) ? collection[key] : undefined;\n        } else {\n          result[index] = isNil ? undefined : collection[key];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Array} props The property names to copy.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @returns {Object} Returns `object`.\n     */\n    function baseCopy(source, props, object) {\n      object || (object = {});\n\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n        object[key] = source[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `_.callback` which supports specifying the\n     * number of arguments to provide to `func`.\n     *\n     * @private\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {number} [argCount] The number of arguments to provide to `func`.\n     * @returns {Function} Returns the callback.\n     */\n    function baseCallback(func, thisArg, argCount) {\n      var type = typeof func;\n      if (type == 'function') {\n        return thisArg === undefined\n          ? func\n          : bindCallback(func, thisArg, argCount);\n      }\n      if (func == null) {\n        return identity;\n      }\n      if (type == 'object') {\n        return baseMatches(func);\n      }\n      return thisArg === undefined\n        ? property(func)\n        : baseMatchesProperty(func, thisArg);\n    }\n\n    /**\n     * The base implementation of `_.clone` without support for argument juggling\n     * and `this` binding `customizer` functions.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @param {Function} [customizer] The function to customize cloning values.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The object `value` belongs to.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates clones with source counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, isDeep, customizer, key, object, stackA, stackB) {\n      var result;\n      if (customizer) {\n        result = object ? customizer(value, key, object) : customizer(value);\n      }\n      if (result !== undefined) {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return arrayCopy(value, result);\n        }\n      } else {\n        var tag = objToString.call(value),\n            isFunc = tag == funcTag;\n\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          result = initCloneObject(isFunc ? {} : value);\n          if (!isDeep) {\n            return baseAssign(result, value);\n          }\n        } else {\n          return cloneableTags[tag]\n            ? initCloneByTag(value, tag, isDeep)\n            : (object ? value : {});\n        }\n      }\n      // Check for circular references and return corresponding clone.\n      stackA || (stackA = []);\n      stackB || (stackB = []);\n\n      var length = stackA.length;\n      while (length--) {\n        if (stackA[length] == value) {\n          return stackB[length];\n        }\n      }\n      // Add the source value to the stack of traversed objects and associate it with its clone.\n      stackA.push(value);\n      stackB.push(result);\n\n      // Recursively populate clone (susceptible to call stack limits).\n      (isArr ? arrayEach : baseForOwn)(value, function(subValue, key) {\n        result[key] = baseClone(subValue, isDeep, customizer, key, value, stackA, stackB);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} prototype The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function Object() {}\n      return function(prototype) {\n        if (isObject(prototype)) {\n          Object.prototype = prototype;\n          var result = new Object;\n          Object.prototype = null;\n        }\n        return result || context.Object();\n      };\n    }());\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts an index\n     * of where to slice the arguments to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Object} args The arguments provide to `func`.\n     * @returns {number} Returns the timer id.\n     */\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * The base implementation of `_.difference` which accepts a single array\n     * of values to exclude.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values) {\n      var length = array ? array.length : 0,\n          result = [];\n\n      if (!length) {\n        return result;\n      }\n      var index = -1,\n          indexOf = getIndexOf(),\n          isCommon = indexOf == baseIndexOf,\n          cache = (isCommon && values.length >= 200) ? createCache(values) : null,\n          valuesLength = values.length;\n\n      if (cache) {\n        indexOf = cacheIndexOf;\n        isCommon = false;\n        values = cache;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index];\n\n        if (isCommon && value === value) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === value) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (indexOf(values, value, 0) < 0) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object|string} Returns `collection`.\n     */\n    var baseEach = createBaseEach(baseForOwn);\n\n    /**\n     * The base implementation of `_.forEachRight` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object|string} Returns `collection`.\n     */\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n\n    /**\n     * The base implementation of `_.every` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = start == null ? 0 : (+start || 0);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : (+end || 0);\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : (end >>> 0);\n      start >>>= 0;\n\n      while (start < length) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.find`, `_.findLast`, `_.findKey`, and `_.findLastKey`,\n     * without support for callback shorthands and `this` binding, which iterates\n     * over `collection` using the provided `eachFunc`.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {Function} eachFunc The function to iterate over `collection`.\n     * @param {boolean} [retKey] Specify returning the key of the found element\n     *  instead of the element itself.\n     * @returns {*} Returns the found element or its key, else `undefined`.\n     */\n    function baseFind(collection, predicate, eachFunc, retKey) {\n      var result;\n      eachFunc(collection, function(value, key, collection) {\n        if (predicate(value, key, collection)) {\n          result = retKey ? key : value;\n          return false;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with added support for restricting\n     * flattening and specifying the start index.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {boolean} [isDeep] Specify a deep flatten.\n     * @param {boolean} [isStrict] Restrict flattening to arrays-like objects.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, isDeep, isStrict) {\n      var index = -1,\n          length = array.length,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (isObjectLike(value) && isArrayLike(value) &&\n            (isStrict || isArray(value) || isArguments(value))) {\n          if (isDeep) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            value = baseFlatten(value, isDeep, isStrict);\n          }\n          var valIndex = -1,\n              valLength = value.length;\n\n          while (++valIndex < valLength) {\n            result[++resIndex] = value[valIndex];\n          }\n        } else if (!isStrict) {\n          result[++resIndex] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForIn` and `baseForOwn` which iterates\n     * over `object` properties returned by `keysFunc` invoking `iteratee` for\n     * each property. Iteratee functions may exit iteration early by explicitly\n     * returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseFor = createBaseFor();\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseForRight = createBaseFor(true);\n\n    /**\n     * The base implementation of `_.forIn` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForIn(object, iteratee) {\n      return baseFor(object, iteratee, keysIn);\n    }\n\n    /**\n     * The base implementation of `_.forOwn` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from those provided.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the new array of filtered property names.\n     */\n    function baseFunctions(object, props) {\n      var index = -1,\n          length = props.length,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var key = props[index];\n        if (isFunction(object[key])) {\n          result[++resIndex] = key;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `get` without support for string paths\n     * and default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} path The path of the property to get.\n     * @param {string} [pathKey] The key representation of path.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseGet(object, path, pathKey) {\n      if (object == null) {\n        return;\n      }\n      if (pathKey !== undefined && pathKey in toObject(object)) {\n        path = [pathKey];\n      }\n      var index = -1,\n          length = path.length;\n\n      while (object != null && ++index < length) {\n        object = object[path[index]];\n      }\n      return (index && index == length) ? object : undefined;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` without support for `this` binding\n     * `customizer` functions.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparing values.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA] Tracks traversed `value` objects.\n     * @param {Array} [stackB] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, customizer, isLoose, stackA, stackB) {\n      // Exit early for identical values.\n      if (value === other) {\n        return true;\n      }\n      var valType = typeof value,\n          othType = typeof other;\n\n      // Exit early for unlike primitive values.\n      if ((valType != 'function' && valType != 'object' && othType != 'function' && othType != 'object') ||\n          value == null || other == null) {\n        // Return `false` unless both values are `NaN`.\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, baseIsEqual, customizer, isLoose, stackA, stackB);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} [customizer] The function to customize comparing objects.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA=[]] Tracks traversed `value` objects.\n     * @param {Array} [stackB=[]] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, equalFunc, customizer, isLoose, stackA, stackB) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = arrayTag,\n          othTag = arrayTag;\n\n      if (!objIsArr) {\n        objTag = objToString.call(object);\n        if (objTag == argsTag) {\n          objTag = objectTag;\n        } else if (objTag != objectTag) {\n          objIsArr = isTypedArray(object);\n        }\n      }\n      if (!othIsArr) {\n        othTag = objToString.call(other);\n        if (othTag == argsTag) {\n          othTag = objectTag;\n        } else if (othTag != objectTag) {\n          othIsArr = isTypedArray(other);\n        }\n      }\n      var objIsObj = objTag == objectTag,\n          othIsObj = othTag == objectTag,\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && !(objIsArr || objIsObj)) {\n        return equalByTag(object, other, objTag);\n      }\n      if (!isLoose) {\n        var valWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (valWrapped || othWrapped) {\n          return equalFunc(valWrapped ? object.value() : object, othWrapped ? other.value() : other, customizer, isLoose, stackA, stackB);\n        }\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      // For more information on detecting circular references see https://es5.github.io/#JO.\n      stackA || (stackA = []);\n      stackB || (stackB = []);\n\n      var length = stackA.length;\n      while (length--) {\n        if (stackA[length] == object) {\n          return stackB[length] == other;\n        }\n      }\n      // Add `object` and `other` to the stack of traversed objects.\n      stackA.push(object);\n      stackB.push(other);\n\n      var result = (objIsArr ? equalArrays : equalObjects)(object, other, equalFunc, customizer, isLoose, stackA, stackB);\n\n      stackA.pop();\n      stackB.pop();\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The source property names to match.\n     * @param {Array} values The source values to match.\n     * @param {Array} strictCompareFlags Strict comparison flags for source values.\n     * @param {Function} [customizer] The function to customize comparing objects.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, props, values, strictCompareFlags, customizer) {\n      var index = -1,\n          length = props.length,\n          noCustomizer = !customizer;\n\n      while (++index < length) {\n        if ((noCustomizer && strictCompareFlags[index])\n              ? values[index] !== object[props[index]]\n              : !(props[index] in object)\n            ) {\n          return false;\n        }\n      }\n      index = -1;\n      while (++index < length) {\n        var key = props[index],\n            objValue = object[key],\n            srcValue = values[index];\n\n        if (noCustomizer && strictCompareFlags[index]) {\n          var result = objValue !== undefined || (key in object);\n        } else {\n          result = customizer ? customizer(objValue, srcValue, key) : undefined;\n          if (result === undefined) {\n            result = baseIsEqual(srcValue, objValue, customizer, true);\n          }\n        }\n        if (!result) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var index = -1,\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = iteratee(value, key, collection);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which does not clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new function.\n     */\n    function baseMatches(source) {\n      var props = keys(source),\n          length = props.length;\n\n      if (!length) {\n        return constant(true);\n      }\n      if (length == 1) {\n        var key = props[0],\n            value = source[key];\n\n        if (isStrictComparable(value)) {\n          return function(object) {\n            if (object == null) {\n              return false;\n            }\n            return object[key] === value && (value !== undefined || (key in toObject(object)));\n          };\n        }\n      }\n      var values = Array(length),\n          strictCompareFlags = Array(length);\n\n      while (length--) {\n        value = source[props[length]];\n        values[length] = value;\n        strictCompareFlags[length] = isStrictComparable(value);\n      }\n      return function(object) {\n        return object != null && baseIsMatch(toObject(object), props, values, strictCompareFlags);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which does not which does\n     * not clone `value`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} value The value to compare.\n     * @returns {Function} Returns the new function.\n     */\n    function baseMatchesProperty(path, value) {\n      var isArr = isArray(path),\n          isCommon = isKey(path) && isStrictComparable(value),\n          pathKey = (path + '');\n\n      path = toPath(path);\n      return function(object) {\n        if (object == null) {\n          return false;\n        }\n        var key = pathKey;\n        object = toObject(object);\n        if ((isArr || !isCommon) && !(key in object)) {\n          object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n          if (object == null) {\n            return false;\n          }\n          key = last(path);\n          object = toObject(object);\n        }\n        return object[key] === value\n          ? (value !== undefined || (key in object))\n          : baseIsEqual(value, object[key], null, true);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for argument juggling,\n     * multiple sources, and `this` binding `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {Function} [customizer] The function to customize merging properties.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates values with source counterparts.\n     * @returns {Object} Returns `object`.\n     */\n    function baseMerge(object, source, customizer, stackA, stackB) {\n      if (!isObject(object)) {\n        return object;\n      }\n      var isSrcArr = isArrayLike(source) && (isArray(source) || isTypedArray(source));\n      if (!isSrcArr) {\n        var props = keys(source);\n        push.apply(props, getSymbols(source));\n      }\n      arrayEach(props || source, function(srcValue, key) {\n        if (props) {\n          key = srcValue;\n          srcValue = source[key];\n        }\n        if (isObjectLike(srcValue)) {\n          stackA || (stackA = []);\n          stackB || (stackB = []);\n          baseMergeDeep(object, source, key, baseMerge, customizer, stackA, stackB);\n        }\n        else {\n          var value = object[key],\n              result = customizer ? customizer(value, srcValue, key, object, source) : undefined,\n              isCommon = result === undefined;\n\n          if (isCommon) {\n            result = srcValue;\n          }\n          if ((isSrcArr || result !== undefined) &&\n              (isCommon || (result === result ? (result !== value) : (value === value)))) {\n            object[key] = result;\n          }\n        }\n      });\n      return object;\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize merging properties.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates values with source counterparts.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseMergeDeep(object, source, key, mergeFunc, customizer, stackA, stackB) {\n      var length = stackA.length,\n          srcValue = source[key];\n\n      while (length--) {\n        if (stackA[length] == srcValue) {\n          object[key] = stackB[length];\n          return;\n        }\n      }\n      var value = object[key],\n          result = customizer ? customizer(value, srcValue, key, object, source) : undefined,\n          isCommon = result === undefined;\n\n      if (isCommon) {\n        result = srcValue;\n        if (isArrayLike(srcValue) && (isArray(srcValue) || isTypedArray(srcValue))) {\n          result = isArray(value)\n            ? value\n            : (isArrayLike(value) ? arrayCopy(value) : []);\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          result = isArguments(value)\n            ? toPlainObject(value)\n            : (isPlainObject(value) ? value : {});\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      // Add the source value to the stack of traversed objects and associate\n      // it with its merged value.\n      stackA.push(srcValue);\n      stackB.push(result);\n\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        object[key] = mergeFunc(result, srcValue, customizer, stackA, stackB);\n      } else if (result === result ? (result !== value) : (value === value)) {\n        object[key] = result;\n      }\n    }\n\n    /**\n     * The base implementation of `_.property` without support for deep paths.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @returns {Function} Returns the new function.\n     */\n    function baseProperty(key) {\n      return function(object) {\n        return object == null ? undefined : object[key];\n      };\n    }\n\n    /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new function.\n     */\n    function basePropertyDeep(path) {\n      var pathKey = (path + '');\n      path = toPath(path);\n      return function(object) {\n        return baseGet(object, path, pathKey);\n      };\n    }\n\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * index arguments and capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAt(array, indexes) {\n      var length = array ? indexes.length : 0;\n      while (length--) {\n        var index = parseFloat(indexes[length]);\n        if (index != previous && isIndex(index)) {\n          var previous = index;\n          splice.call(array, index, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.random` without support for argument juggling\n     * and returning floating-point numbers.\n     *\n     * @private\n     * @param {number} min The minimum possible value.\n     * @param {number} max The maximum possible value.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(min, max) {\n      return min + floor(nativeRandom() * (max - min + 1));\n    }\n\n    /**\n     * The base implementation of `_.reduce` and `_.reduceRight` without support\n     * for callback shorthands and `this` binding, which iterates over `collection`\n     * using the provided `eachFunc`.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {*} accumulator The initial value.\n     * @param {boolean} initFromCollection Specify using the first or last element\n     *  of `collection` as the initial value.\n     * @param {Function} eachFunc The function to iterate over `collection`.\n     * @returns {*} Returns the accumulated value.\n     */\n    function baseReduce(collection, iteratee, accumulator, initFromCollection, eachFunc) {\n      eachFunc(collection, function(value, index, collection) {\n        accumulator = initFromCollection\n          ? (initFromCollection = false, value)\n          : iteratee(accumulator, value, index, collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop detection.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      start = start == null ? 0 : (+start || 0);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : (+end || 0);\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortBy` which uses `comparer` to define\n     * the sort order of `array` and replaces criteria objects with their\n     * corresponding values.\n     *\n     * @private\n     * @param {Array} array The array to sort.\n     * @param {Function} comparer The function to define sort order.\n     * @returns {Array} Returns `array`.\n     */\n    function baseSortBy(array, comparer) {\n      var length = array.length;\n\n      array.sort(comparer);\n      while (length--) {\n        array[length] = array[length].value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.sortByOrder` without param guards.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {boolean[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseSortByOrder(collection, iteratees, orders) {\n      var callback = getCallback(),\n          index = -1;\n\n      iteratees = arrayMap(iteratees, function(iteratee) { return callback(iteratee); });\n\n      var result = baseMap(collection, function(value) {\n        var criteria = arrayMap(iteratees, function(iteratee) { return iteratee(value); });\n        return { 'criteria': criteria, 'index': ++index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.sum` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {number} Returns the sum.\n     */\n    function baseSum(collection, iteratee) {\n      var result = 0;\n      baseEach(collection, function(value, index, collection) {\n        result += +iteratee(value, index, collection) || 0;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.uniq` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The function invoked per iteration.\n     * @returns {Array} Returns the new duplicate-value-free array.\n     */\n    function baseUniq(array, iteratee) {\n      var index = -1,\n          indexOf = getIndexOf(),\n          length = array.length,\n          isCommon = indexOf == baseIndexOf,\n          isLarge = isCommon && length >= 200,\n          seen = isLarge ? createCache() : null,\n          result = [];\n\n      if (seen) {\n        indexOf = cacheIndexOf;\n        isCommon = false;\n      } else {\n        isLarge = false;\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value, index, array) : value;\n\n        if (isCommon && value === value) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (indexOf(seen, computed, 0) < 0) {\n          if (iteratee || isLarge) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.values` and `_.valuesIn` which creates an\n     * array of `object` property values corresponding to the property names\n     * of `props`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} props The property names to get values for.\n     * @returns {Object} Returns the array of property values.\n     */\n    function baseValues(object, props) {\n      var index = -1,\n          length = props.length,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = object[props[index]];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.dropRightWhile`, `_.dropWhile`, `_.takeRightWhile`,\n     * and `_.takeWhile` without support for callback shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) && predicate(array[index], index, array)) {}\n      return isDrop\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to peform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      var index = -1,\n          length = actions.length;\n\n      while (++index < length) {\n        var args = [result],\n            action = actions[index];\n\n        push.apply(args, action.args);\n        result = action.func.apply(action.thisArg, args);\n      }\n      return result;\n    }\n\n    /**\n     * Performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function binaryIndex(array, value, retHighest) {\n      var low = 0,\n          high = array ? array.length : low;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if (retHighest ? (computed <= value) : (computed < value)) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return binaryIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * This function is like `binaryIndex` except that it invokes `iteratee` for\n     * `value` and each element of `array` to compute their sort ranking. The\n     * iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function binaryIndexBy(array, value, iteratee, retHighest) {\n      value = iteratee(value);\n\n      var low = 0,\n          high = array ? array.length : 0,\n          valIsNaN = value !== value,\n          valIsUndef = value === undefined;\n\n      while (low < high) {\n        var mid = floor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            isReflexive = computed === computed;\n\n        if (valIsNaN) {\n          var setLow = isReflexive || retHighest;\n        } else if (valIsUndef) {\n          setLow = isReflexive && (retHighest || computed !== undefined);\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * A specialized version of `baseCallback` which only supports `this` binding\n     * and specifying the number of arguments to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {number} [argCount] The number of arguments to provide to `func`.\n     * @returns {Function} Returns the callback.\n     */\n    function bindCallback(func, thisArg, argCount) {\n      if (typeof func != 'function') {\n        return identity;\n      }\n      if (thisArg === undefined) {\n        return func;\n      }\n      switch (argCount) {\n        case 1: return function(value) {\n          return func.call(thisArg, value);\n        };\n        case 3: return function(value, index, collection) {\n          return func.call(thisArg, value, index, collection);\n        };\n        case 4: return function(accumulator, value, index, collection) {\n          return func.call(thisArg, accumulator, value, index, collection);\n        };\n        case 5: return function(value, other, key, object, source) {\n          return func.call(thisArg, value, other, key, object, source);\n        };\n      }\n      return function() {\n        return func.apply(thisArg, arguments);\n      };\n    }\n\n    /**\n     * Creates a clone of the given array buffer.\n     *\n     * @private\n     * @param {ArrayBuffer} buffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function bufferClone(buffer) {\n      return bufferSlice.call(buffer, 0);\n    }\n    if (!bufferSlice) {\n      // PhantomJS has `ArrayBuffer` and `Uint8Array` but not `Float64Array`.\n      bufferClone = !(ArrayBuffer && Uint8Array) ? constant(null) : function(buffer) {\n        var byteLength = buffer.byteLength,\n            floatLength = Float64Array ? floor(byteLength / FLOAT64_BYTES_PER_ELEMENT) : 0,\n            offset = floatLength * FLOAT64_BYTES_PER_ELEMENT,\n            result = new ArrayBuffer(byteLength);\n\n        if (floatLength) {\n          var view = new Float64Array(result, 0, floatLength);\n          view.set(new Float64Array(buffer, 0, floatLength));\n        }\n        if (byteLength != offset) {\n          view = new Uint8Array(result, offset);\n          view.set(new Uint8Array(buffer, offset));\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array|Object} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders) {\n      var holdersLength = holders.length,\n          argsIndex = -1,\n          argsLength = nativeMax(args.length - holdersLength, 0),\n          leftIndex = -1,\n          leftLength = partials.length,\n          result = Array(argsLength + leftLength);\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        result[holders[argsIndex]] = args[argsIndex];\n      }\n      while (argsLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array|Object} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders) {\n      var holdersIndex = -1,\n          holdersLength = holders.length,\n          argsIndex = -1,\n          argsLength = nativeMax(args.length - holdersLength, 0),\n          rightIndex = -1,\n          rightLength = partials.length,\n          result = Array(argsLength + rightLength);\n\n      while (++argsIndex < argsLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var offset = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        result[offset + holders[holdersIndex]] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * Creates a function that aggregates a collection, creating an accumulator\n     * object composed from the results of running each element in the collection\n     * through an iteratee.\n     *\n     * **Note:** This function is used to create `_.countBy`, `_.groupBy`, `_.indexBy`,\n     * and `_.partition`.\n     *\n     * @private\n     * @param {Function} setter The function to set keys and values of the accumulator object.\n     * @param {Function} [initializer] The function to initialize the accumulator object.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee, thisArg) {\n        var result = initializer ? initializer() : {};\n        iteratee = getCallback(iteratee, thisArg, 3);\n\n        if (isArray(collection)) {\n          var index = -1,\n              length = collection.length;\n\n          while (++index < length) {\n            var value = collection[index];\n            setter(result, value, iteratee(value, index, collection), collection);\n          }\n        } else {\n          baseEach(collection, function(value, key, collection) {\n            setter(result, value, iteratee(value, key, collection), collection);\n          });\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that assigns properties of source object(s) to a given\n     * destination object.\n     *\n     * **Note:** This function is used to create `_.assign`, `_.defaults`, and `_.merge`.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return restParam(function(object, sources) {\n        var index = -1,\n            length = object == null ? 0 : sources.length,\n            customizer = length > 2 && sources[length - 2],\n            guard = length > 2 && sources[2],\n            thisArg = length > 1 && sources[length - 1];\n\n        if (typeof customizer == 'function') {\n          customizer = bindCallback(customizer, thisArg, 5);\n          length -= 2;\n        } else {\n          customizer = typeof thisArg == 'function' ? thisArg : null;\n          length -= (customizer ? 1 : 0);\n        }\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n          customizer = length < 3 ? null : customizer;\n          length = 1;\n        }\n        while (++index < length) {\n          var source = sources[index];\n          if (source) {\n            assigner(object, source, customizer);\n          }\n        }\n        return object;\n      });\n    }\n\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseEach(eachFunc, fromRight) {\n      return function(collection, iteratee) {\n        var length = collection ? getLength(collection) : 0;\n        if (!isLength(length)) {\n          return eachFunc(collection, iteratee);\n        }\n        var index = fromRight ? length : -1,\n            iterable = toObject(collection);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n        return collection;\n      };\n    }\n\n    /**\n     * Creates a base function for `_.forIn` or `_.forInRight`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseFor(fromRight) {\n      return function(object, iteratee, keysFunc) {\n        var iterable = toObject(object),\n            props = keysFunc(object),\n            length = props.length,\n            index = fromRight ? length : -1;\n\n        while ((fromRight ? index-- : ++index < length)) {\n          var key = props[index];\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` and invokes it with the `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to bind.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new bound function.\n     */\n    function createBindWrapper(func, thisArg) {\n      var Ctor = createCtorWrapper(func);\n\n      function wrapper() {\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(thisArg, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `Set` cache object to optimize linear searches of large arrays.\n     *\n     * @private\n     * @param {Array} [values] The values to cache.\n     * @returns {null|Object} Returns the new cache object if `Set` is supported, else `null`.\n     */\n    var createCache = !(nativeCreate && Set) ? constant(null) : function(values) {\n      return new SetCache(values);\n    };\n\n    /**\n     * Creates a function that produces compound words out of the words in a\n     * given string.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        var index = -1,\n            array = words(deburr(string)),\n            length = array.length,\n            result = '';\n\n        while (++index < length) {\n          result = callback(result, array[index], index);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtorWrapper(Ctor) {\n      return function() {\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, arguments);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a `_.curry` or `_.curryRight` function.\n     *\n     * @private\n     * @param {boolean} flag The curry bit flag.\n     * @returns {Function} Returns the new curry function.\n     */\n    function createCurry(flag) {\n      function curryFunc(func, arity, guard) {\n        if (guard && isIterateeCall(func, arity, guard)) {\n          arity = null;\n        }\n        var result = createWrapper(func, flag, null, null, null, null, null, arity);\n        result.placeholder = curryFunc.placeholder;\n        return result;\n      }\n      return curryFunc;\n    }\n\n    /**\n     * Creates a `_.max` or `_.min` function.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to get the extremum value from an array.\n     * @param {boolean} [isMin] Specify returning the minimum, instead of the maximum,\n     *  extremum value.\n     * @returns {Function} Returns the new extremum function.\n     */\n    function createExtremum(arrayFunc, isMin) {\n      return function(collection, iteratee, thisArg) {\n        if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\n          iteratee = null;\n        }\n        var func = getCallback(),\n            noIteratee = iteratee == null;\n\n        if (!(func === baseCallback && noIteratee)) {\n          noIteratee = false;\n          iteratee = func(iteratee, thisArg, 3);\n        }\n        if (noIteratee) {\n          var isArr = isArray(collection);\n          if (!isArr && isString(collection)) {\n            iteratee = charAtCallback;\n          } else {\n            return arrayFunc(isArr ? collection : toIterable(collection));\n          }\n        }\n        return extremumBy(collection, iteratee, isMin);\n      };\n    }\n\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFind(eachFunc, fromRight) {\n      return function(collection, predicate, thisArg) {\n        predicate = getCallback(predicate, thisArg, 3);\n        if (isArray(collection)) {\n          var index = baseFindIndex(collection, predicate, fromRight);\n          return index > -1 ? collection[index] : undefined;\n        }\n        return baseFind(collection, predicate, eachFunc);\n      };\n    }\n\n    /**\n     * Creates a `_.findIndex` or `_.findLastIndex` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFindIndex(fromRight) {\n      return function(array, predicate, thisArg) {\n        if (!(array && array.length)) {\n          return -1;\n        }\n        predicate = getCallback(predicate, thisArg, 3);\n        return baseFindIndex(array, predicate, fromRight);\n      };\n    }\n\n    /**\n     * Creates a `_.findKey` or `_.findLastKey` function.\n     *\n     * @private\n     * @param {Function} objectFunc The function to iterate over an object.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFindKey(objectFunc) {\n      return function(object, predicate, thisArg) {\n        predicate = getCallback(predicate, thisArg, 3);\n        return baseFind(object, predicate, objectFunc, true);\n      };\n    }\n\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n    function createFlow(fromRight) {\n      return function() {\n        var length = arguments.length;\n        if (!length) {\n          return function() { return arguments[0]; };\n        }\n        var wrapper,\n            index = fromRight ? length : -1,\n            leftIndex = 0,\n            funcs = Array(length);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          var func = funcs[leftIndex++] = arguments[index];\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n          var funcName = wrapper ? '' : getFuncName(func);\n          wrapper = funcName == 'wrapper' ? new LodashWrapper([]) : wrapper;\n        }\n        index = wrapper ? -1 : length;\n        while (++index < length) {\n          func = funcs[index];\n          funcName = getFuncName(func);\n\n          var data = funcName == 'wrapper' ? getData(func) : null;\n          if (data && isLaziable(data[0]) && data[1] == (ARY_FLAG | CURRY_FLAG | PARTIAL_FLAG | REARG_FLAG) && !data[4].length && data[9] == 1) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = (func.length == 1 && isLaziable(func)) ? wrapper[funcName]() : wrapper.thru(func);\n          }\n        }\n        return function() {\n          var args = arguments;\n          if (wrapper && args.length == 1 && isArray(args[0])) {\n            return wrapper.plant(args[0]).value();\n          }\n          var index = 0,\n              result = funcs[index].apply(this, args);\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n          return result;\n        };\n      };\n    }\n\n    /**\n     * Creates a function for `_.forEach` or `_.forEachRight`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over an array.\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @returns {Function} Returns the new each function.\n     */\n    function createForEach(arrayFunc, eachFunc) {\n      return function(collection, iteratee, thisArg) {\n        return (typeof iteratee == 'function' && thisArg === undefined && isArray(collection))\n          ? arrayFunc(collection, iteratee)\n          : eachFunc(collection, bindCallback(iteratee, thisArg, 3));\n      };\n    }\n\n    /**\n     * Creates a function for `_.forIn` or `_.forInRight`.\n     *\n     * @private\n     * @param {Function} objectFunc The function to iterate over an object.\n     * @returns {Function} Returns the new each function.\n     */\n    function createForIn(objectFunc) {\n      return function(object, iteratee, thisArg) {\n        if (typeof iteratee != 'function' || thisArg !== undefined) {\n          iteratee = bindCallback(iteratee, thisArg, 3);\n        }\n        return objectFunc(object, iteratee, keysIn);\n      };\n    }\n\n    /**\n     * Creates a function for `_.forOwn` or `_.forOwnRight`.\n     *\n     * @private\n     * @param {Function} objectFunc The function to iterate over an object.\n     * @returns {Function} Returns the new each function.\n     */\n    function createForOwn(objectFunc) {\n      return function(object, iteratee, thisArg) {\n        if (typeof iteratee != 'function' || thisArg !== undefined) {\n          iteratee = bindCallback(iteratee, thisArg, 3);\n        }\n        return objectFunc(object, iteratee);\n      };\n    }\n\n    /**\n     * Creates a function for `_.mapKeys` or `_.mapValues`.\n     *\n     * @private\n     * @param {boolean} [isMapKeys] Specify mapping keys instead of values.\n     * @returns {Function} Returns the new map function.\n     */\n    function createObjectMapper(isMapKeys) {\n      return function(object, iteratee, thisArg) {\n        var result = {};\n        iteratee = getCallback(iteratee, thisArg, 3);\n\n        baseForOwn(object, function(value, key, object) {\n          var mapped = iteratee(value, key, object);\n          key = isMapKeys ? mapped : key;\n          value = isMapKeys ? value : mapped;\n          result[key] = value;\n        });\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function for `_.padLeft` or `_.padRight`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify padding from the right.\n     * @returns {Function} Returns the new pad function.\n     */\n    function createPadDir(fromRight) {\n      return function(string, length, chars) {\n        string = baseToString(string);\n        return (fromRight ? string : '') + createPadding(string, length, chars) + (fromRight ? '' : string);\n      };\n    }\n\n    /**\n     * Creates a `_.partial` or `_.partialRight` function.\n     *\n     * @private\n     * @param {boolean} flag The partial bit flag.\n     * @returns {Function} Returns the new partial function.\n     */\n    function createPartial(flag) {\n      var partialFunc = restParam(function(func, partials) {\n        var holders = replaceHolders(partials, partialFunc.placeholder);\n        return createWrapper(func, flag, null, partials, holders);\n      });\n      return partialFunc;\n    }\n\n    /**\n     * Creates a function for `_.reduce` or `_.reduceRight`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over an array.\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @returns {Function} Returns the new each function.\n     */\n    function createReduce(arrayFunc, eachFunc) {\n      return function(collection, iteratee, accumulator, thisArg) {\n        var initFromArray = arguments.length < 3;\n        return (typeof iteratee == 'function' && thisArg === undefined && isArray(collection))\n          ? arrayFunc(collection, iteratee, accumulator, initFromArray)\n          : baseReduce(collection, getCallback(iteratee, thisArg, 4), accumulator, initFromArray, eachFunc);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` and invokes it with optional `this`\n     * binding of, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to reference.\n     * @param {number} bitmask The bitmask of flags. See `createWrapper` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybridWrapper(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & ARY_FLAG,\n          isBind = bitmask & BIND_FLAG,\n          isBindKey = bitmask & BIND_KEY_FLAG,\n          isCurry = bitmask & CURRY_FLAG,\n          isCurryBound = bitmask & CURRY_BOUND_FLAG,\n          isCurryRight = bitmask & CURRY_RIGHT_FLAG;\n\n      var Ctor = !isBindKey && createCtorWrapper(func),\n          key = func;\n\n      function wrapper() {\n        // Avoid `arguments` object use disqualifying optimizations by\n        // converting it to an array before providing it to other functions.\n        var length = arguments.length,\n            index = length,\n            args = Array(length);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight);\n        }\n        if (isCurry || isCurryRight) {\n          var placeholder = wrapper.placeholder,\n              argsHolders = replaceHolders(args, placeholder);\n\n          length -= argsHolders.length;\n          if (length < arity) {\n            var newArgPos = argPos ? arrayCopy(argPos) : null,\n                newArity = nativeMax(arity - length, 0),\n                newsHolders = isCurry ? argsHolders : null,\n                newHoldersRight = isCurry ? null : argsHolders,\n                newPartials = isCurry ? args : null,\n                newPartialsRight = isCurry ? null : args;\n\n            bitmask |= (isCurry ? PARTIAL_FLAG : PARTIAL_RIGHT_FLAG);\n            bitmask &= ~(isCurry ? PARTIAL_RIGHT_FLAG : PARTIAL_FLAG);\n\n            if (!isCurryBound) {\n              bitmask &= ~(BIND_FLAG | BIND_KEY_FLAG);\n            }\n            var newData = [func, bitmask, thisArg, newPartials, newsHolders, newPartialsRight, newHoldersRight, newArgPos, ary, newArity],\n                result = createHybridWrapper.apply(undefined, newData);\n\n            if (isLaziable(func)) {\n              setData(result, newData);\n            }\n            result.placeholder = placeholder;\n            return result;\n          }\n        }\n        var thisBinding = isBind ? thisArg : this;\n        if (isBindKey) {\n          func = thisBinding[key];\n        }\n        if (argPos) {\n          args = reorder(args, argPos);\n        }\n        if (isAry && ary < args.length) {\n          args.length = ary;\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? (Ctor || createCtorWrapper(func)) : func;\n        return fn.apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates the padding required for `string` based on the given `length`.\n     * The `chars` string is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {string} string The string to create padding for.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the pad for `string`.\n     */\n    function createPadding(string, length, chars) {\n      var strLength = string.length;\n      length = +length;\n\n      if (strLength >= length || !nativeIsFinite(length)) {\n        return '';\n      }\n      var padLength = length - strLength;\n      chars = chars == null ? ' ' : (chars + '');\n      return repeat(chars, ceil(padLength / chars.length)).slice(0, padLength);\n    }\n\n    /**\n     * Creates a function that wraps `func` and invokes it with the optional `this`\n     * binding of `thisArg` and the `partials` prepended to those provided to\n     * the wrapper.\n     *\n     * @private\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {number} bitmask The bitmask of flags. See `createWrapper` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to the new function.\n     * @returns {Function} Returns the new bound function.\n     */\n    function createPartialWrapper(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & BIND_FLAG,\n          Ctor = createCtorWrapper(func);\n\n      function wrapper() {\n        // Avoid `arguments` object use disqualifying optimizations by\n        // converting it to an array before providing it `func`.\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(argsLength + leftLength);\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.sortedIndex` or `_.sortedLastIndex` function.\n     *\n     * @private\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {Function} Returns the new index function.\n     */\n    function createSortedIndex(retHighest) {\n      return function(array, value, iteratee, thisArg) {\n        var func = getCallback(iteratee);\n        return (func === baseCallback && iteratee == null)\n          ? binaryIndex(array, value, retHighest)\n          : binaryIndexBy(array, value, func(iteratee, thisArg, 1), retHighest);\n      };\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to reference.\n     * @param {number} bitmask The bitmask of flags.\n     *  The bitmask may be composed of the following flags:\n     *     1 - `_.bind`\n     *     2 - `_.bindKey`\n     *     4 - `_.curry` or `_.curryRight` of a bound function\n     *     8 - `_.curry`\n     *    16 - `_.curryRight`\n     *    32 - `_.partial`\n     *    64 - `_.partialRight`\n     *   128 - `_.rearg`\n     *   256 - `_.ary`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrapper(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(PARTIAL_FLAG | PARTIAL_RIGHT_FLAG);\n        partials = holders = null;\n      }\n      length -= (holders ? holders.length : 0);\n      if (bitmask & PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = null;\n      }\n      var data = isBindKey ? null : getData(func),\n          newData = [func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity];\n\n      if (data) {\n        mergeData(newData, data);\n        bitmask = newData[1];\n        arity = newData[9];\n      }\n      newData[9] = arity == null\n        ? (isBindKey ? 0 : func.length)\n        : (nativeMax(arity - length, 0) || 0);\n\n      if (bitmask == BIND_FLAG) {\n        var result = createBindWrapper(newData[0], newData[2]);\n      } else if ((bitmask == PARTIAL_FLAG || bitmask == (BIND_FLAG | PARTIAL_FLAG)) && !newData[4].length) {\n        result = createPartialWrapper.apply(undefined, newData);\n      } else {\n        result = createHybridWrapper.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setter(result, newData);\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} [customizer] The function to customize comparing arrays.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA] Tracks traversed `value` objects.\n     * @param {Array} [stackB] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, equalFunc, customizer, isLoose, stackA, stackB) {\n      var index = -1,\n          arrLength = array.length,\n          othLength = other.length,\n          result = true;\n\n      if (arrLength != othLength && !(isLoose && othLength > arrLength)) {\n        return false;\n      }\n      // Deep compare the contents, ignoring non-numeric properties.\n      while (result && ++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index];\n\n        result = undefined;\n        if (customizer) {\n          result = isLoose\n            ? customizer(othValue, arrValue, index)\n            : customizer(arrValue, othValue, index);\n        }\n        if (result === undefined) {\n          // Recursively compare arrays (susceptible to call stack limits).\n          if (isLoose) {\n            var othIndex = othLength;\n            while (othIndex--) {\n              othValue = other[othIndex];\n              result = (arrValue && arrValue === othValue) || equalFunc(arrValue, othValue, customizer, isLoose, stackA, stackB);\n              if (result) {\n                break;\n              }\n            }\n          } else {\n            result = (arrValue && arrValue === othValue) || equalFunc(arrValue, othValue, customizer, isLoose, stackA, stackB);\n          }\n        }\n      }\n      return !!result;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} value The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag) {\n      switch (tag) {\n        case boolTag:\n        case dateTag:\n          // Coerce dates and booleans to numbers, dates to milliseconds and booleans\n          // to `1` or `0` treating invalid dates coerced to `NaN` as not equal.\n          return +object == +other;\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case numberTag:\n          // Treat `NaN` vs. `NaN` as equal.\n          return (object != +object)\n            ? other != +other\n            : object == +other;\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings primitives and string\n          // objects as equal. See https://es5.github.io/#x15.10.6.4 for more details.\n          return object == (other + '');\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} [customizer] The function to customize comparing values.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA] Tracks traversed `value` objects.\n     * @param {Array} [stackB] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, equalFunc, customizer, isLoose, stackA, stackB) {\n      var objProps = keys(object),\n          objLength = objProps.length,\n          othProps = keys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isLoose) {\n        return false;\n      }\n      var skipCtor = isLoose,\n          index = -1;\n\n      while (++index < objLength) {\n        var key = objProps[index],\n            result = isLoose ? key in other : hasOwnProperty.call(other, key);\n\n        if (result) {\n          var objValue = object[key],\n              othValue = other[key];\n\n          result = undefined;\n          if (customizer) {\n            result = isLoose\n              ? customizer(othValue, objValue, key)\n              : customizer(objValue, othValue, key);\n          }\n          if (result === undefined) {\n            // Recursively compare objects (susceptible to call stack limits).\n            result = (objValue && objValue === othValue) || equalFunc(objValue, othValue, customizer, isLoose, stackA, stackB);\n          }\n        }\n        if (!result) {\n          return false;\n        }\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n      if (!skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor &&\n            ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Gets the extremum value of `collection` invoking `iteratee` for each value\n     * in `collection` to generate the criterion by which the value is ranked.\n     * The `iteratee` is invoked with three arguments: (value, index, collection).\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {boolean} [isMin] Specify returning the minimum, instead of the\n     *  maximum, extremum value.\n     * @returns {*} Returns the extremum value.\n     */\n    function extremumBy(collection, iteratee, isMin) {\n      var exValue = isMin ? POSITIVE_INFINITY : NEGATIVE_INFINITY,\n          computed = exValue,\n          result = computed;\n\n      baseEach(collection, function(value, index, collection) {\n        var current = iteratee(value, index, collection);\n        if ((isMin ? (current < computed) : (current > computed)) ||\n            (current === exValue && current === result)) {\n          computed = current;\n          result = value;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * Gets the appropriate \"callback\" function. If the `_.callback` method is\n     * customized this function returns the custom method, otherwise it returns\n     * the `baseCallback` function. If arguments are provided the chosen function\n     * is invoked with them and its result is returned.\n     *\n     * @private\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getCallback(func, thisArg, argCount) {\n      var result = lodash.callback || callback;\n      result = result === callback ? baseCallback : result;\n      return argCount ? result(func, thisArg, argCount) : result;\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n    var getFuncName = (function() {\n      if (!support.funcNames) {\n        return constant('');\n      }\n      if (constant.name == 'constant') {\n        return baseProperty('name');\n      }\n      return function(func) {\n        var result = func.name,\n            array = realNames[result],\n            length = array ? array.length : 0;\n\n        while (length--) {\n          var data = array[length],\n              otherFunc = data.func;\n\n          if (otherFunc == null || otherFunc == func) {\n            return data.name;\n          }\n        }\n        return result;\n      };\n    }());\n\n    /**\n     * Gets the appropriate \"indexOf\" function. If the `_.indexOf` method is\n     * customized this function returns the custom method, otherwise it returns\n     * the `baseIndexOf` function. If arguments are provided the chosen function\n     * is invoked with them and its result is returned.\n     *\n     * @private\n     * @returns {Function|number} Returns the chosen function or its result.\n     */\n    function getIndexOf(collection, target, fromIndex) {\n      var result = lodash.indexOf || indexOf;\n      result = result === indexOf ? baseIndexOf : result;\n      return collection ? result(collection, target, fromIndex) : result;\n    }\n\n    /**\n     * Gets the \"length\" property value of `object`.\n     *\n     * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n     * that affects Safari on at least iOS 8.1-8.3 ARM64.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {*} Returns the \"length\" value.\n     */\n    var getLength = baseProperty('length');\n\n    /**\n     * Creates an array of the own symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbols = !getOwnPropertySymbols ? constant([]) : function(object) {\n      return getOwnPropertySymbols(toObject(object));\n    };\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} [transforms] The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms ? transforms.length : 0;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length);\n\n      // Add array properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      var Ctor = object.constructor;\n      if (!(typeof Ctor == 'function' && Ctor instanceof Ctor)) {\n        Ctor = Object;\n      }\n      return new Ctor;\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return bufferClone(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          var buffer = object.buffer;\n          return new Ctor(isDeep ? bufferClone(buffer) : buffer, object.byteOffset, object.length);\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          var result = new Ctor(object.source, reFlags.exec(object));\n          result.lastIndex = object.lastIndex;\n      }\n      return result;\n    }\n\n    /**\n     * Invokes the method at `path` on `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */\n    function invokePath(object, path, args) {\n      if (object != null && !isKey(path, object)) {\n        path = toPath(path);\n        object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n        path = last(path);\n      }\n      var func = object == null ? object : object[path];\n      return func == null ? undefined : func.apply(object, args);\n    }\n\n    /**\n     * Checks if `value` is array-like.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     */\n    function isArrayLike(value) {\n      return value != null && isLength(getLength(value));\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      value = +value;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n      return value > -1 && value % 1 == 0 && value < length;\n    }\n\n    /**\n     * Checks if the provided arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call, else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number'\n          ? (isArrayLike(object) && isIndex(index, object.length))\n          : (type == 'string' && index in object)) {\n        var other = object[index];\n        return value === value ? (value === other) : (other !== other);\n      }\n      return false;\n    }\n\n    /**\n     * Checks if `value` is a property name and not a property path.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n     */\n    function isKey(value, object) {\n      var type = typeof value;\n      if ((type == 'string' && reIsPlainProp.test(value)) || type == 'number') {\n        return true;\n      }\n      if (isArray(value)) {\n        return false;\n      }\n      var result = !reIsDeepProp.test(value);\n      return result || (object != null && value in toObject(object));\n    }\n\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart, else `false`.\n     */\n    function isLaziable(func) {\n      var funcName = getFuncName(func);\n      return !!funcName && func === lodash[funcName] && funcName in LazyWrapper.prototype;\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This function is based on [`ToLength`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength).\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     */\n    function isLength(value) {\n      return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && !isObject(value);\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers required to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and `_.rearg`\n     * augment function arguments, making the order in which they are executed important,\n     * preventing the merging of metadata. However, we make an exception for a safe\n     * common case where curried functions have `_.ary` and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < ARY_FLAG;\n\n      var isCombo =\n        (srcBitmask == ARY_FLAG && bitmask == CURRY_FLAG) ||\n        (srcBitmask == ARY_FLAG && bitmask == REARG_FLAG && data[7].length <= source[8]) ||\n        (srcBitmask == (ARY_FLAG | REARG_FLAG) && bitmask == CURRY_FLAG);\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= (bitmask & BIND_FLAG) ? 0 : CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : arrayCopy(value);\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : arrayCopy(source[4]);\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : arrayCopy(value);\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : arrayCopy(source[6]);\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = arrayCopy(value);\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * A specialized version of `_.pick` which picks `object` properties specified\n     * by `props`.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} props The property names to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function pickByArray(object, props) {\n      object = toObject(object);\n\n      var index = -1,\n          length = props.length,\n          result = {};\n\n      while (++index < length) {\n        var key = props[index];\n        if (key in object) {\n          result[key] = object[key];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.pick` which picks `object` properties `predicate`\n     * returns truthy for.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Object} Returns the new object.\n     */\n    function pickByCallback(object, predicate) {\n      var result = {};\n      baseForIn(object, function(value, key, object) {\n        if (predicate(value, key, object)) {\n          result[key] = value;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = arrayCopy(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity function\n     * to avoid garbage collection pauses in V8. See [V8 issue 2070](https://code.google.com/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = (function() {\n      var count = 0,\n          lastCalled = 0;\n\n      return function(key, value) {\n        var stamp = now(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return key;\n          }\n        } else {\n          count = 0;\n        }\n        return baseSetData(key, value);\n      };\n    }());\n\n    /**\n     * A fallback implementation of `_.isPlainObject` which checks if `value`\n     * is an object created by the `Object` constructor or has a `[[Prototype]]`\n     * of `null`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     */\n    function shimIsPlainObject(value) {\n      var Ctor,\n          support = lodash.support;\n\n      // Exit early for non `Object` objects.\n      if (!(isObjectLike(value) && objToString.call(value) == objectTag) ||\n          (!hasOwnProperty.call(value, 'constructor') &&\n            (Ctor = value.constructor, typeof Ctor == 'function' && !(Ctor instanceof Ctor)))) {\n        return false;\n      }\n      // IE < 9 iterates inherited properties before own properties. If the first\n      // iterated property is an object's own property then there are no inherited\n      // enumerable properties.\n      var result;\n      // In most environments an object's own properties are iterated before\n      // its inherited properties. If the last iterated property is an object's\n      // own property then there are no inherited enumerable properties.\n      baseForIn(value, function(subValue, key) {\n        result = key;\n      });\n      return result === undefined || hasOwnProperty.call(value, result);\n    }\n\n    /**\n     * A fallback implementation of `Object.keys` which creates an array of the\n     * own enumerable property names of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function shimKeys(object) {\n      var props = keysIn(object),\n          propsLength = props.length,\n          length = propsLength && object.length,\n          support = lodash.support;\n\n      var allowIndexes = length && isLength(length) &&\n        (isArray(object) || (support.nonEnumArgs && isArguments(object)));\n\n      var index = -1,\n          result = [];\n\n      while (++index < propsLength) {\n        var key = props[index];\n        if ((allowIndexes && isIndex(key, length)) || hasOwnProperty.call(object, key)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to an array-like object if it is not one.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {Array|Object} Returns the array-like object.\n     */\n    function toIterable(value) {\n      if (value == null) {\n        return [];\n      }\n      if (!isArrayLike(value)) {\n        return values(value);\n      }\n      return isObject(value) ? value : Object(value);\n    }\n\n    /**\n     * Converts `value` to an object if it is not one.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {Object} Returns the object.\n     */\n    function toObject(value) {\n      return isObject(value) ? value : Object(value);\n    }\n\n    /**\n     * Converts `value` to property path array if it is not one.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {Array} Returns the property path array.\n     */\n    function toPath(value) {\n      if (isArray(value)) {\n        return value;\n      }\n      var result = [];\n      baseToString(value).replace(rePropName, function(match, number, quote, string) {\n        result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n      });\n      return result;\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      return wrapper instanceof LazyWrapper\n        ? wrapper.clone()\n        : new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__, arrayCopy(wrapper.__actions__));\n    }\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `collection` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the new array containing chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if (guard ? isIterateeCall(array, size, guard) : size == null) {\n        size = 1;\n      } else {\n        size = nativeMax(+size || 1, 1);\n      }\n      var index = 0,\n          length = array ? array.length : 0,\n          resIndex = -1,\n          result = Array(ceil(length / size));\n\n      while (index < length) {\n        result[++resIndex] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array ? array.length : 0,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[++resIndex] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array excluding all values of the provided arrays using\n     * [`SameValueZero`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The arrays of values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.difference([1, 2, 3], [4, 2]);\n     * // => [1, 3]\n     */\n    var difference = restParam(function(array, values) {\n      return isArrayLike(array)\n        ? baseDifference(array, baseFlatten(values, false, true))\n        : [];\n    });\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      return baseSlice(array, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      n = length - (+n || 0);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * bound to `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that match the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRightWhile([1, 2, 3], function(n) {\n     *   return n > 1;\n     * });\n     * // => [1]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.dropRightWhile(users, { 'user': 'pebbles', 'active': false }), 'user');\n     * // => ['barney', 'fred']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.dropRightWhile(users, 'active', false), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.dropRightWhile(users, 'active'), 'user');\n     * // => ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3), true, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * bound to `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropWhile([1, 2, 3], function(n) {\n     *   return n < 3;\n     * });\n     * // => [3]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.dropWhile(users, { 'user': 'barney', 'active': false }), 'user');\n     * // => ['fred', 'pebbles']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.dropWhile(users, 'active', false), 'user');\n     * // => ['pebbles']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.dropWhile(users, 'active'), 'user');\n     * // => ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3), true)\n        : [];\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8], '*', 1, 2);\n     * // => [4, '*', 8]\n     */\n    function fill(array, value, start, end) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(chr) {\n     *   return chr.user == 'barney';\n     * });\n     * // => 0\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findIndex(users, 'active', false);\n     * // => 0\n     *\n     * // using the `_.property` callback shorthand\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    var findIndex = createFindIndex();\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(chr) {\n     *   return chr.user == 'pebbles';\n     * });\n     * // => 2\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findLastIndex(users, 'active', false);\n     * // => 2\n     *\n     * // using the `_.property` callback shorthand\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    var findLastIndex = createFindIndex(true);\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @alias head\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.first([1, 2, 3]);\n     * // => 1\n     *\n     * _.first([]);\n     * // => undefined\n     */\n    function first(array) {\n      return array ? array[0] : undefined;\n    }\n\n    /**\n     * Flattens a nested array. If `isDeep` is `true` the array is recursively\n     * flattened, otherwise it is only flattened a single level.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {boolean} [isDeep] Specify a deep flatten.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, 3, [4]]]);\n     * // => [1, 2, 3, [4]]\n     *\n     * // using `isDeep`\n     * _.flatten([1, [2, 3, [4]]], true);\n     * // => [1, 2, 3, 4]\n     */\n    function flatten(array, isDeep, guard) {\n      var length = array ? array.length : 0;\n      if (guard && isIterateeCall(array, isDeep, guard)) {\n        isDeep = false;\n      }\n      return length ? baseFlatten(array, isDeep) : [];\n    }\n\n    /**\n     * Recursively flattens a nested array.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to recursively flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, 3, [4]]]);\n     * // => [1, 2, 3, 4]\n     */\n    function flattenDeep(array) {\n      var length = array ? array.length : 0;\n      return length ? baseFlatten(array, true) : [];\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using [`SameValueZero`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it is used as the offset\n     * from the end of `array`. If `array` is sorted providing `true` for `fromIndex`\n     * performs a faster binary search.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {*} value The value to search for.\n     * @param {boolean|number} [fromIndex=0] The index to search from or `true`\n     *  to perform a binary search on a sorted array.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // using `fromIndex`\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     *\n     * // performing a binary search\n     * _.indexOf([1, 1, 2, 2], 2, true);\n     * // => 2\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return -1;\n      }\n      if (typeof fromIndex == 'number') {\n        fromIndex = fromIndex < 0 ? nativeMax(length + fromIndex, 0) : fromIndex;\n      } else if (fromIndex) {\n        var index = binaryIndex(array, value),\n            other = array[index];\n\n        if (value === value ? (value === other) : (other !== other)) {\n          return index;\n        }\n        return -1;\n      }\n      return baseIndexOf(array, value, fromIndex || 0);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      return dropRight(array, 1);\n    }\n\n    /**\n     * Creates an array of unique values in all provided arrays using\n     * [`SameValueZero`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of shared values.\n     * @example\n     * _.intersection([1, 2], [4, 2], [2, 1]);\n     * // => [2]\n     */\n    function intersection() {\n      var args = [],\n          argsIndex = -1,\n          argsLength = arguments.length,\n          caches = [],\n          indexOf = getIndexOf(),\n          isCommon = indexOf == baseIndexOf,\n          result = [];\n\n      while (++argsIndex < argsLength) {\n        var value = arguments[argsIndex];\n        if (isArrayLike(value)) {\n          args.push(value);\n          caches.push((isCommon && value.length >= 120) ? createCache(argsIndex && value) : null);\n        }\n      }\n      argsLength = args.length;\n      if (argsLength < 2) {\n        return result;\n      }\n      var array = args[0],\n          index = -1,\n          length = array ? array.length : 0,\n          seen = caches[0];\n\n      outer:\n      while (++index < length) {\n        value = array[index];\n        if ((seen ? cacheIndexOf(seen, value) : indexOf(result, value, 0)) < 0) {\n          argsIndex = argsLength;\n          while (--argsIndex) {\n            var cache = caches[argsIndex];\n            if ((cache ? cacheIndexOf(cache, value) : indexOf(args[argsIndex], value, 0)) < 0) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(value);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array ? array.length : 0;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {*} value The value to search for.\n     * @param {boolean|number} [fromIndex=array.length-1] The index to search from\n     *  or `true` to perform a binary search on a sorted array.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // using `fromIndex`\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     *\n     * // performing a binary search\n     * _.lastIndexOf([1, 1, 2, 2], 2, true);\n     * // => 3\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (typeof fromIndex == 'number') {\n        index = (fromIndex < 0 ? nativeMax(length + fromIndex, 0) : nativeMin(fromIndex || 0, length - 1)) + 1;\n      } else if (fromIndex) {\n        index = binaryIndex(array, value, true) - 1;\n        var other = array[index];\n        if (value === value ? (value === other) : (other !== other)) {\n          return index;\n        }\n        return -1;\n      }\n      if (value !== value) {\n        return indexOfNaN(array, index, true);\n      }\n      while (index--) {\n        if (array[index] === value) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Removes all provided values from `array` using\n     * [`SameValueZero`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.without`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3, 1, 2, 3];\n     *\n     * _.pull(array, 2, 3);\n     * console.log(array);\n     * // => [1, 1]\n     */\n    function pull() {\n      var args = arguments,\n          array = args[0];\n\n      if (!(array && array.length)) {\n        return array;\n      }\n      var index = 0,\n          indexOf = getIndexOf(),\n          length = args.length;\n\n      while (++index < length) {\n        var fromIndex = 0,\n            value = args[index];\n\n        while ((fromIndex = indexOf(array, value, fromIndex)) > -1) {\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to the given indexes and returns\n     * an array of the removed elements. Indexes may be specified as an array of\n     * indexes or as individual arguments.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove,\n     *  specified as individual indexes or arrays of indexes.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [5, 10, 15, 20];\n     * var evens = _.pullAt(array, 1, 3);\n     *\n     * console.log(array);\n     * // => [5, 15]\n     *\n     * console.log(evens);\n     * // => [10, 20]\n     */\n    var pullAt = restParam(function(array, indexes) {\n      indexes = baseFlatten(indexes);\n\n      var result = baseAt(array, indexes);\n      basePullAt(array, indexes.sort(baseCompareAscending));\n      return result;\n    });\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is bound to\n     * `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate, thisArg) {\n      var result = [];\n      if (!(array && array.length)) {\n        return result;\n      }\n      var index = -1,\n          indexes = [],\n          length = array.length;\n\n      predicate = getCallback(predicate, thisArg, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          indexes.push(index);\n        }\n      }\n      basePullAt(array, indexes);\n      return result;\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @alias tail\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.rest([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function rest(array) {\n      return drop(array, 1);\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This method is used instead of `Array#slice` to support node\n     * lists in IE < 9 and to ensure dense arrays are returned.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value` should\n     * be inserted into `array` in order to maintain its sort order. If an iteratee\n     * function is provided it is invoked for `value` and each element of `array`\n     * to compute their sort ranking. The iteratee is bound to `thisArg` and\n     * invoked with one argument; (value).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     *\n     * _.sortedIndex([4, 4, 5, 5], 5);\n     * // => 2\n     *\n     * var dict = { 'data': { 'thirty': 30, 'forty': 40, 'fifty': 50 } };\n     *\n     * // using an iteratee function\n     * _.sortedIndex(['thirty', 'fifty'], 'forty', function(word) {\n     *   return this.data[word];\n     * }, dict);\n     * // => 1\n     *\n     * // using the `_.property` callback shorthand\n     * _.sortedIndex([{ 'x': 30 }, { 'x': 50 }], { 'x': 40 }, 'x');\n     * // => 1\n     */\n    var sortedIndex = createSortedIndex();\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 4, 5, 5], 5);\n     * // => 4\n     */\n    var sortedLastIndex = createSortedIndex(true);\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      n = length - (+n || 0);\n      return baseSlice(array, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is bound to `thisArg`\n     * and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRightWhile([1, 2, 3], function(n) {\n     *   return n > 1;\n     * });\n     * // => [2, 3]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.takeRightWhile(users, { 'user': 'pebbles', 'active': false }), 'user');\n     * // => ['pebbles']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.takeRightWhile(users, 'active', false), 'user');\n     * // => ['fred', 'pebbles']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.takeRightWhile(users, 'active'), 'user');\n     * // => []\n     */\n    function takeRightWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3), false, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is bound to\n     * `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeWhile([1, 2, 3], function(n) {\n     *   return n < 3;\n     * });\n     * // => [1, 2]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false},\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.takeWhile(users, { 'user': 'barney', 'active': false }), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.takeWhile(users, 'active', false), 'user');\n     * // => ['barney', 'fred']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.takeWhile(users, 'active'), 'user');\n     * // => []\n     */\n    function takeWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3))\n        : [];\n    }\n\n    /**\n     * Creates an array of unique values, in order, of the provided arrays using\n     * [`SameValueZero`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([1, 2], [4, 2], [2, 1]);\n     * // => [1, 2, 4]\n     */\n    var union = restParam(function(arrays) {\n      return baseUniq(baseFlatten(arrays, false, true));\n    });\n\n    /**\n     * Creates a duplicate-free version of an array, using\n     * [`SameValueZero`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * for equality comparisons, in which only the first occurence of each element\n     * is kept. Providing `true` for `isSorted` performs a faster search algorithm\n     * for sorted arrays. If an iteratee function is provided it is invoked for\n     * each element in the array to generate the criterion by which uniqueness\n     * is computed. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index, array).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias unique\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {boolean} [isSorted] Specify the array is sorted.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new duplicate-value-free array.\n     * @example\n     *\n     * _.uniq([2, 1, 2]);\n     * // => [2, 1]\n     *\n     * // using `isSorted`\n     * _.uniq([1, 1, 2], true);\n     * // => [1, 2]\n     *\n     * // using an iteratee function\n     * _.uniq([1, 2.5, 1.5, 2], function(n) {\n     *   return this.floor(n);\n     * }, Math);\n     * // => [1, 2.5]\n     *\n     * // using the `_.property` callback shorthand\n     * _.uniq([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniq(array, isSorted, iteratee, thisArg) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (isSorted != null && typeof isSorted != 'boolean') {\n        thisArg = iteratee;\n        iteratee = isIterateeCall(array, isSorted, thisArg) ? null : isSorted;\n        isSorted = false;\n      }\n      var func = getCallback();\n      if (!(func === baseCallback && iteratee == null)) {\n        iteratee = func(iteratee, thisArg, 3);\n      }\n      return (isSorted && getIndexOf() == baseIndexOf)\n        ? sortedUniq(array, iteratee)\n        : baseUniq(array, iteratee);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-zip\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['fred', 'barney'], [30, 40], [true, false]);\n     * // => [['fred', 30, true], ['barney', 40, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['fred', 'barney'], [30, 40], [true, false]]\n     */\n    function unzip(array) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var index = -1,\n          length = 0;\n\n      array = arrayFilter(array, function(group) {\n        if (isArrayLike(group)) {\n          length = nativeMax(group.length, length);\n          return true;\n        }\n      });\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = arrayMap(array, baseProperty(index));\n      }\n      return result;\n    }\n\n    /**\n     * This method is like `_.unzip` except that it accepts an iteratee to specify\n     * how regrouped values should be combined. The `iteratee` is bound to `thisArg`\n     * and invoked with four arguments: (accumulator, value, index, group).\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @param {Function} [iteratee] The function to combine regrouped values.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n     * // => [[1, 10, 100], [2, 20, 200]]\n     *\n     * _.unzipWith(zipped, _.add);\n     * // => [3, 30, 300]\n     */\n    function unzipWith(array, iteratee, thisArg) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      var result = unzip(array);\n      if (iteratee == null) {\n        return result;\n      }\n      iteratee = bindCallback(iteratee, thisArg, 4);\n      return arrayMap(result, function(group) {\n        return arrayReduce(group, iteratee, undefined, true);\n      });\n    }\n\n    /**\n     * Creates an array excluding all provided values using\n     * [`SameValueZero`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to filter.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.without([1, 2, 1, 3], 1, 2);\n     * // => [3]\n     */\n    var without = restParam(function(array, values) {\n      return isArrayLike(array)\n        ? baseDifference(array, values)\n        : [];\n    });\n\n    /**\n     * Creates an array that is the [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the provided arrays.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of values.\n     * @example\n     *\n     * _.xor([1, 2], [4, 2]);\n     * // => [1, 4]\n     */\n    function xor() {\n      var index = -1,\n          length = arguments.length;\n\n      while (++index < length) {\n        var array = arguments[index];\n        if (isArrayLike(array)) {\n          var result = result\n            ? baseDifference(result, array).concat(baseDifference(array, result))\n            : array;\n        }\n      }\n      return result ? baseUniq(result) : [];\n    }\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the first\n     * elements of the given arrays, the second of which contains the second elements\n     * of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['fred', 'barney'], [30, 40], [true, false]);\n     * // => [['fred', 30, true], ['barney', 40, false]]\n     */\n    var zip = restParam(unzip);\n\n    /**\n     * The inverse of `_.pairs`; this method returns an object composed from arrays\n     * of property names and values. Provide either a single two dimensional array,\n     * e.g. `[[key1, value1], [key2, value2]]` or two arrays, one of property names\n     * and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @alias object\n     * @category Array\n     * @param {Array} props The property names.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject([['fred', 30], ['barney', 40]]);\n     * // => { 'fred': 30, 'barney': 40 }\n     *\n     * _.zipObject(['fred', 'barney'], [30, 40]);\n     * // => { 'fred': 30, 'barney': 40 }\n     */\n    function zipObject(props, values) {\n      var index = -1,\n          length = props ? props.length : 0,\n          result = {};\n\n      if (length && !values && !isArray(props[0])) {\n        values = [];\n      }\n      while (++index < length) {\n        var key = props[index];\n        if (values) {\n          result[key] = values[index];\n        } else if (key) {\n          result[key[0]] = key[1];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an iteratee to specify\n     * how grouped values should be combined. The `iteratee` is bound to `thisArg`\n     * and invoked with four arguments: (accumulator, value, index, group).\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @param {Function} [iteratee] The function to combine grouped values.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zipWith([1, 2], [10, 20], [100, 200], _.add);\n     * // => [111, 222]\n     */\n    var zipWith = restParam(function(arrays) {\n      var length = arrays.length,\n          iteratee = arrays[length - 2],\n          thisArg = arrays[length - 1];\n\n      if (length > 2 && typeof iteratee == 'function') {\n        length -= 2;\n      } else {\n        iteratee = (length > 1 && typeof thisArg == 'function') ? (--length, thisArg) : undefined;\n        thisArg = undefined;\n      }\n      arrays.length = length;\n      return unzipWith(arrays, iteratee, thisArg);\n    });\n\n    /**\n     * Creates a `lodash` object that wraps `value` with explicit method\n     * chaining enabled.\n     *\n     * @static\n     * @memberOf _\n     * @category Chain\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _.chain(users)\n     *   .sortBy('age')\n     *   .map(function(chr) {\n     *     return chr.user + ' is ' + chr.age;\n     *   })\n     *   .first()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor is\n     * bound to `thisArg` and invoked with one argument; (value). The purpose of\n     * this method is to \"tap into\" a method chain in order to perform operations\n     * on intermediate results within the chain.\n     *\n     * @static\n     * @memberOf _\n     * @category Chain\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @param {*} [thisArg] The `this` binding of `interceptor`.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor, thisArg) {\n      interceptor.call(thisArg, value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     *\n     * @static\n     * @memberOf _\n     * @category Chain\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @param {*} [thisArg] The `this` binding of `interceptor`.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n    function thru(value, interceptor, thisArg) {\n      return interceptor.call(thisArg, value);\n    }\n\n    /**\n     * Enables explicit method chaining on the wrapper object.\n     *\n     * @name chain\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // without explicit chaining\n     * _(users).first();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // with explicit chaining\n     * _(users).chain()\n     *   .first()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chained sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapper = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapper = wrapper.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapper.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Creates a clone of the chained sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapper = _(array).map(function(value) {\n     *   return Math.pow(value, 2);\n     * });\n     *\n     * var other = [3, 4];\n     * var otherWrapper = wrapper.plant(other);\n     *\n     * otherWrapper.value();\n     * // => [9, 16]\n     *\n     * wrapper.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * Reverses the wrapped array so the first element becomes the last, the\n     * second element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new reversed `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n      if (value instanceof LazyWrapper) {\n        if (this.__actions__.length) {\n          value = new LazyWrapper(this);\n        }\n        return new LodashWrapper(value.reverse(), this.__chain__);\n      }\n      return this.thru(function(value) {\n        return value.reverse();\n      });\n    }\n\n    /**\n     * Produces the result of coercing the unwrapped value to a string.\n     *\n     * @name toString\n     * @memberOf _\n     * @category Chain\n     * @returns {string} Returns the coerced string value.\n     * @example\n     *\n     * _([1, 2, 3]).toString();\n     * // => '1,2,3'\n     */\n    function wrapperToString() {\n      return (this.value() + '');\n    }\n\n    /**\n     * Executes the chained sequence to extract the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @alias run, toJSON, valueOf\n     * @category Chain\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /**\n     * Creates an array of elements corresponding to the given keys, or indexes,\n     * of `collection`. Keys may be specified as individual arguments or as arrays\n     * of keys.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {...(number|number[]|string|string[])} [props] The property names\n     *  or indexes of elements to pick, specified individually or in arrays.\n     * @returns {Array} Returns the new array of picked elements.\n     * @example\n     *\n     * _.at(['a', 'b', 'c'], [0, 2]);\n     * // => ['a', 'c']\n     *\n     * _.at(['barney', 'fred', 'pebbles'], 0, 2);\n     * // => ['barney', 'pebbles']\n     */\n    var at = restParam(function(collection, props) {\n      return baseAt(collection, baseFlatten(props));\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through `iteratee`. The corresponding value\n     * of each key is the number of times the key was returned by `iteratee`.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([4.3, 6.1, 6.4], function(n) {\n     *   return Math.floor(n);\n     * });\n     * // => { '4': 1, '6': 2 }\n     *\n     * _.countBy([4.3, 6.1, 6.4], function(n) {\n     *   return this.floor(n);\n     * }, Math);\n     * // => { '4': 1, '6': 2 }\n     *\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      hasOwnProperty.call(result, key) ? ++result[key] : (result[key] = 1);\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * The predicate is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias all\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': false },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.every(users, 'active', false);\n     * // => true\n     *\n     * // using the `_.property` callback shorthand\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (thisArg && isIterateeCall(collection, predicate, thisArg)) {\n        predicate = null;\n      }\n      if (typeof predicate != 'function' || thisArg !== undefined) {\n        predicate = getCallback(predicate, thisArg, 3);\n      }\n      return func(collection, predicate);\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is bound to `thisArg` and\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias select\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the new filtered array.\n     * @example\n     *\n     * _.filter([4, 5, 6], function(n) {\n     *   return n % 2 == 0;\n     * });\n     * // => [4, 6]\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.filter(users, { 'age': 36, 'active': true }), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.filter(users, 'active', false), 'user');\n     * // => ['fred']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.filter(users, 'active'), 'user');\n     * // => ['barney']\n     */\n    function filter(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      predicate = getCallback(predicate, thisArg, 3);\n      return func(collection, predicate);\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is bound to `thisArg` and\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias detect\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.result(_.find(users, function(chr) {\n     *   return chr.age < 40;\n     * }), 'user');\n     * // => 'barney'\n     *\n     * // using the `_.matches` callback shorthand\n     * _.result(_.find(users, { 'age': 1, 'active': true }), 'user');\n     * // => 'pebbles'\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.result(_.find(users, 'active', false), 'user');\n     * // => 'fred'\n     *\n     * // using the `_.property` callback shorthand\n     * _.result(_.find(users, 'active'), 'user');\n     * // => 'barney'\n     */\n    var find = createFind(baseEach);\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    var findLast = createFind(baseEachRight, true);\n\n    /**\n     * Performs a deep comparison between each element in `collection` and the\n     * source object, returning the first element that has equivalent property\n     * values.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. For comparing a single\n     * own or inherited property value see `_.matchesProperty`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Object} source The object of property values to match.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.result(_.findWhere(users, { 'age': 36, 'active': true }), 'user');\n     * // => 'barney'\n     *\n     * _.result(_.findWhere(users, { 'age': 40, 'active': false }), 'user');\n     * // => 'fred'\n     */\n    function findWhere(collection, source) {\n      return find(collection, baseMatches(source));\n    }\n\n    /**\n     * Iterates over elements of `collection` invoking `iteratee` for each element.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection). Iteratee functions may exit iteration early\n     * by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\" property\n     * are iterated like arrays. To avoid this behavior `_.forIn` or `_.forOwn`\n     * may be used for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @alias each\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array|Object|string} Returns `collection`.\n     * @example\n     *\n     * _([1, 2]).forEach(function(n) {\n     *   console.log(n);\n     * }).value();\n     * // => logs each value from left to right and returns the array\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(n, key) {\n     *   console.log(n, key);\n     * });\n     * // => logs each value-key pair and returns the object (iteration order is not guaranteed)\n     */\n    var forEach = createForEach(arrayEach, baseEach);\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array|Object|string} Returns `collection`.\n     * @example\n     *\n     * _([1, 2]).forEachRight(function(n) {\n     *   console.log(n);\n     * }).value();\n     * // => logs each value from right to left and returns the array\n     */\n    var forEachRight = createForEach(arrayEachRight, baseEachRight);\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through `iteratee`. The corresponding value\n     * of each key is an array of the elements responsible for generating the key.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([4.2, 6.1, 6.4], function(n) {\n     *   return Math.floor(n);\n     * });\n     * // => { '4': [4.2], '6': [6.1, 6.4] }\n     *\n     * _.groupBy([4.2, 6.1, 6.4], function(n) {\n     *   return this.floor(n);\n     * }, Math);\n     * // => { '4': [4.2], '6': [6.1, 6.4] }\n     *\n     * // using the `_.property` callback shorthand\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        result[key] = [value];\n      }\n    });\n\n    /**\n     * Checks if `value` is in `collection` using\n     * [`SameValueZero`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it is used as the offset\n     * from the end of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @alias contains, include\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {*} target The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.reduce`.\n     * @returns {boolean} Returns `true` if a matching element is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'user': 'fred', 'age': 40 }, 'fred');\n     * // => true\n     *\n     * _.includes('pebbles', 'eb');\n     * // => true\n     */\n    function includes(collection, target, fromIndex, guard) {\n      var length = collection ? getLength(collection) : 0;\n      if (!isLength(length)) {\n        collection = values(collection);\n        length = collection.length;\n      }\n      if (!length) {\n        return false;\n      }\n      if (typeof fromIndex != 'number' || (guard && isIterateeCall(target, fromIndex, guard))) {\n        fromIndex = 0;\n      } else {\n        fromIndex = fromIndex < 0 ? nativeMax(length + fromIndex, 0) : (fromIndex || 0);\n      }\n      return (typeof collection == 'string' || !isArray(collection) && isString(collection))\n        ? (fromIndex < length && collection.indexOf(target, fromIndex) > -1)\n        : (getIndexOf(collection, target, fromIndex) > -1);\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through `iteratee`. The corresponding value\n     * of each key is the last element responsible for generating the key. The\n     * iteratee function is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var keyData = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.indexBy(keyData, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.indexBy(keyData, function(object) {\n     *   return String.fromCharCode(object.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.indexBy(keyData, function(object) {\n     *   return this.fromCharCode(object.code);\n     * }, String);\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     */\n    var indexBy = createAggregator(function(result, value, key) {\n      result[key] = value;\n    });\n\n    /**\n     * Invokes the method at `path` on each element in `collection`, returning\n     * an array of the results of each invoked method. Any additional arguments\n     * are provided to each invoked method. If `methodName` is a function it is\n     * invoked for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Array|Function|string} path The path of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invoke([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invoke([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    var invoke = restParam(function(collection, path, args) {\n      var index = -1,\n          isFunc = typeof path == 'function',\n          isProp = isKey(path),\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value) {\n        var func = isFunc ? path : (isProp && value != null && value[path]);\n        result[++index] = func ? func.apply(value, args) : invokePath(value, path, args);\n      });\n      return result;\n    });\n\n    /**\n     * Creates an array of values by running each element in `collection` through\n     * `iteratee`. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * Many lodash methods are guarded to work as interatees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `callback`, `chunk`, `clone`, `create`, `curry`, `curryRight`,\n     * `drop`, `dropRight`, `every`, `fill`, `flatten`, `invert`, `max`, `min`,\n     * `parseInt`, `slice`, `sortBy`, `take`, `takeRight`, `template`, `trim`,\n     * `trimLeft`, `trimRight`, `trunc`, `random`, `range`, `sample`, `some`,\n     * `sum`, `uniq`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @alias collect\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function timesThree(n) {\n     *   return n * 3;\n     * }\n     *\n     * _.map([1, 2], timesThree);\n     * // => [3, 6]\n     *\n     * _.map({ 'a': 1, 'b': 2 }, timesThree);\n     * // => [3, 6] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // using the `_.property` callback shorthand\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee, thisArg) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      iteratee = getCallback(iteratee, thisArg, 3);\n      return func(collection, iteratee);\n    }\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, while the second of which\n     * contains elements `predicate` returns falsey for. The predicate is bound\n     * to `thisArg` and invoked with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * _.partition([1, 2, 3], function(n) {\n     *   return n % 2;\n     * });\n     * // => [[1, 3], [2]]\n     *\n     * _.partition([1.2, 2.3, 3.4], function(n) {\n     *   return this.floor(n) % 2;\n     * }, Math);\n     * // => [[1.2, 3.4], [2.3]]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * var mapper = function(array) {\n     *   return _.pluck(array, 'user');\n     * };\n     *\n     * // using the `_.matches` callback shorthand\n     * _.map(_.partition(users, { 'age': 1, 'active': false }), mapper);\n     * // => [['pebbles'], ['barney', 'fred']]\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.map(_.partition(users, 'active', false), mapper);\n     * // => [['barney', 'pebbles'], ['fred']]\n     *\n     * // using the `_.property` callback shorthand\n     * _.map(_.partition(users, 'active'), mapper);\n     * // => [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Gets the property value of `path` from all elements in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Array|string} path The path of the property to pluck.\n     * @returns {Array} Returns the property values.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.pluck(users, 'user');\n     * // => ['barney', 'fred']\n     *\n     * var userIndex = _.indexBy(users, 'user');\n     * _.pluck(userIndex, 'age');\n     * // => [36, 40] (iteration order is not guaranteed)\n     */\n    function pluck(collection, path) {\n      return map(collection, property(path));\n    }\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` through `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not provided the first element of `collection` is used as the initial\n     * value. The `iteratee` is bound to `thisArg` and invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as interatees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `includes`, `merge`, `sortByAll`, and `sortByOrder`\n     *\n     * @static\n     * @memberOf _\n     * @alias foldl, inject\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.reduce([1, 2], function(total, n) {\n     *   return total + n;\n     * });\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2 }, function(result, n, key) {\n     *   result[key] = n * 3;\n     *   return result;\n     * }, {});\n     * // => { 'a': 3, 'b': 6 } (iteration order is not guaranteed)\n     */\n    var reduce = createReduce(arrayReduce, baseEach);\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias foldr\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    var reduceRight = createReduce(arrayReduceRight, baseEachRight);\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the new filtered array.\n     * @example\n     *\n     * _.reject([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 0;\n     * });\n     * // => [1, 3]\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.reject(users, { 'age': 40, 'active': true }), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.reject(users, 'active', false), 'user');\n     * // => ['fred']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.reject(users, 'active'), 'user');\n     * // => ['barney']\n     */\n    function reject(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      predicate = getCallback(predicate, thisArg, 3);\n      return func(collection, function(value, index, collection) {\n        return !predicate(value, index, collection);\n      });\n    }\n\n    /**\n     * Gets a random element or `n` random elements from a collection.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to sample.\n     * @param {number} [n] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {*} Returns the random sample(s).\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     *\n     * _.sample([1, 2, 3, 4], 2);\n     * // => [3, 1]\n     */\n    function sample(collection, n, guard) {\n      if (guard ? isIterateeCall(collection, n, guard) : n == null) {\n        collection = toIterable(collection);\n        var length = collection.length;\n        return length > 0 ? collection[baseRandom(0, length - 1)] : undefined;\n      }\n      var result = shuffle(collection);\n      result.length = nativeMin(n < 0 ? 0 : (+n || 0), result.length);\n      return result;\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      collection = toIterable(collection);\n\n      var index = -1,\n          length = collection.length,\n          result = Array(length);\n\n      while (++index < length) {\n        var rand = baseRandom(0, index);\n        if (index != rand) {\n          result[index] = result[rand];\n        }\n        result[rand] = collection[index];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the size of `collection`.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      var length = collection ? getLength(collection) : 0;\n      return isLength(length) ? length : keys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * The function returns as soon as it finds a passing value and does not iterate\n     * over the entire collection. The predicate is bound to `thisArg` and invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias any\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.some(users, 'active', false);\n     * // => true\n     *\n     * // using the `_.property` callback shorthand\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (thisArg && isIterateeCall(collection, predicate, thisArg)) {\n        predicate = null;\n      }\n      if (typeof predicate != 'function' || thisArg !== undefined) {\n        predicate = getCallback(predicate, thisArg, 3);\n      }\n      return func(collection, predicate);\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection through `iteratee`. This method performs\n     * a stable sort, that is, it preserves the original sort order of equal elements.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * _.sortBy([1, 2, 3], function(n) {\n     *   return Math.sin(n);\n     * });\n     * // => [3, 1, 2]\n     *\n     * _.sortBy([1, 2, 3], function(n) {\n     *   return this.sin(n);\n     * }, Math);\n     * // => [3, 1, 2]\n     *\n     * var users = [\n     *   { 'user': 'fred' },\n     *   { 'user': 'pebbles' },\n     *   { 'user': 'barney' }\n     * ];\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.sortBy(users, 'user'), 'user');\n     * // => ['barney', 'fred', 'pebbles']\n     */\n    function sortBy(collection, iteratee, thisArg) {\n      if (collection == null) {\n        return [];\n      }\n      if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\n        iteratee = null;\n      }\n      var index = -1;\n      iteratee = getCallback(iteratee, thisArg, 3);\n\n      var result = baseMap(collection, function(value, key, collection) {\n        return { 'criteria': iteratee(value, key, collection), 'index': ++index, 'value': value };\n      });\n      return baseSortBy(result, compareAscending);\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it can sort by multiple iteratees\n     * or property names.\n     *\n     * If a property name is provided for an iteratee the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If an object is provided for an iteratee the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {...(Function|Function[]|Object|Object[]|string|string[])} iteratees\n     *  The iteratees to sort by, specified as individual values or arrays of values.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 42 },\n     *   { 'user': 'barney', 'age': 34 }\n     * ];\n     *\n     * _.map(_.sortByAll(users, ['user', 'age']), _.values);\n     * // => [['barney', 34], ['barney', 36], ['fred', 42], ['fred', 48]]\n     *\n     * _.map(_.sortByAll(users, 'user', function(chr) {\n     *   return Math.floor(chr.age / 10);\n     * }), _.values);\n     * // => [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 42]]\n     */\n    var sortByAll = restParam(function(collection, iteratees) {\n      if (collection == null) {\n        return [];\n      }\n      var guard = iteratees[2];\n      if (guard && isIterateeCall(iteratees[0], iteratees[1], guard)) {\n        iteratees.length = 1;\n      }\n      return baseSortByOrder(collection, baseFlatten(iteratees), []);\n    });\n\n    /**\n     * This method is like `_.sortByAll` except that it allows specifying the\n     * sort orders of the iteratees to sort by. A truthy value in `orders` will\n     * sort the corresponding property name in ascending order while a falsey\n     * value will sort it in descending order.\n     *\n     * If a property name is provided for an iteratee the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If an object is provided for an iteratee the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {boolean[]} orders The sort orders of `iteratees`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 34 },\n     *   { 'user': 'fred',   'age': 42 },\n     *   { 'user': 'barney', 'age': 36 }\n     * ];\n     *\n     * // sort by `user` in ascending order and by `age` in descending order\n     * _.map(_.sortByOrder(users, ['user', 'age'], [true, false]), _.values);\n     * // => [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 42]]\n     */\n    function sortByOrder(collection, iteratees, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n      if (guard && isIterateeCall(iteratees, orders, guard)) {\n        orders = null;\n      }\n      if (!isArray(iteratees)) {\n        iteratees = iteratees == null ? [] : [iteratees];\n      }\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n      return baseSortByOrder(collection, iteratees, orders);\n    }\n\n    /**\n     * Performs a deep comparison between each element in `collection` and the\n     * source object, returning an array of all elements that have equivalent\n     * property values.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. For comparing a single\n     * own or inherited property value see `_.matchesProperty`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Object} source The object of property values to match.\n     * @returns {Array} Returns the new filtered array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false, 'pets': ['hoppy'] },\n     *   { 'user': 'fred',   'age': 40, 'active': true, 'pets': ['baby puss', 'dino'] }\n     * ];\n     *\n     * _.pluck(_.where(users, { 'age': 36, 'active': false }), 'user');\n     * // => ['barney']\n     *\n     * _.pluck(_.where(users, { 'pets': ['dino'] }), 'user');\n     * // => ['fred']\n     */\n    function where(collection, source) {\n      return filter(collection, baseMatches(source));\n    }\n\n    /**\n     * Gets the number of milliseconds that have elapsed since the Unix epoch\n     * (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @category Date\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => logs the number of milliseconds it took for the deferred function to be invoked\n     */\n    var now = nativeNow || function() {\n      return new Date().getTime();\n    };\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it is called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => logs 'done saving!' after the two async saves have completed\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        if (typeof n == 'function') {\n          var temp = n;\n          n = func;\n          func = temp;\n        } else {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n      }\n      n = nativeIsFinite(n = +n) ? n : 0;\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that accepts up to `n` arguments ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      if (guard && isIterateeCall(func, n, guard)) {\n        n = null;\n      }\n      n = (func && n == null) ? func.length : nativeMax(+n || 0, 0);\n      return createWrapper(func, ARY_FLAG, null, null, null, null, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it is called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery('#add').on('click', _.before(5, addContactToList));\n     * // => allows adding up to 4 contacts to the list\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        if (typeof n == 'function') {\n          var temp = n;\n          n = func;\n          func = temp;\n        } else {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n      }\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        }\n        if (n <= 1) {\n          func = null;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and prepends any additional `_.bind` arguments to those provided to the\n     * bound function.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind` this method does not set the \"length\"\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var greet = function(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * };\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // using placeholders\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    var bind = restParam(function(func, thisArg, partials) {\n      var bitmask = BIND_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, bind.placeholder);\n        bitmask |= PARTIAL_FLAG;\n      }\n      return createWrapper(func, bitmask, thisArg, partials, holders);\n    });\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method. Method names may be specified as individual arguments or as arrays\n     * of method names. If no method names are provided all enumerable function\n     * properties, own and inherited, of `object` are bound.\n     *\n     * **Note:** This method does not set the \"length\" property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} [methodNames] The object method names to bind,\n     *  specified as individual method names or arrays of method names.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'onClick': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view);\n     * jQuery('#docs').on('click', view.onClick);\n     * // => logs 'clicked docs' when the element is clicked\n     */\n    var bindAll = restParam(function(object, methodNames) {\n      methodNames = methodNames.length ? baseFlatten(methodNames) : functions(object);\n\n      var index = -1,\n          length = methodNames.length;\n\n      while (++index < length) {\n        var key = methodNames[index];\n        object[key] = createWrapper(object[key], BIND_FLAG, object);\n      }\n      return object;\n    });\n\n    /**\n     * Creates a function that invokes the method at `object[key]` and prepends\n     * any additional `_.bindKey` arguments to those provided to the bound function.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist.\n     * See [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Object} object The object the method belongs to.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // using placeholders\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    var bindKey = restParam(function(object, key, partials) {\n      var bitmask = BIND_FLAG | BIND_KEY_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, bindKey.placeholder);\n        bitmask |= PARTIAL_FLAG;\n      }\n      return createWrapper(key, bitmask, object, partials, holders);\n    });\n\n    /**\n     * Creates a function that accepts one or more arguments of `func` that when\n     * called either invokes `func` returning its result, if all `func` arguments\n     * have been provided, or returns a function that accepts one or more of the\n     * remaining `func` arguments, and so on. The arity of `func` may be specified\n     * if `func.length` is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method does not set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // using placeholders\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    var curry = createCurry(CURRY_FLAG);\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method does not set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // using placeholders\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    var curryRight = createCurry(CURRY_RIGHT_FLAG);\n\n    /**\n     * Creates a function that delays invoking `func` until after `wait` milliseconds\n     * have elapsed since the last time it was invoked. The created function comes\n     * with a `cancel` method to cancel delayed invocations. Provide an options\n     * object to indicate that `func` should be invoked on the leading and/or\n     * trailing edge of the `wait` timeout. Subsequent calls to the debounced\n     * function return the result of the last `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is invoked\n     * on the trailing edge of the timeout only if the the debounced function is\n     * invoked more than once during the `wait` timeout.\n     *\n     * See [David Corbacho's article](http://drupalmotion.com/article/debounce-and-throttle-visual-explanation)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.leading=false] Specify invoking on the leading\n     *  edge of the timeout.\n     * @param {number} [options.maxWait] The maximum time `func` is allowed to be\n     *  delayed before it is invoked.\n     * @param {boolean} [options.trailing=true] Specify invoking on the trailing\n     *  edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // avoid costly calculations while the window size is in flux\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // invoke `sendMail` when the click event is fired, debouncing subsequent calls\n     * jQuery('#postbox').on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // ensure `batchLog` is invoked once after 1 second of debounced calls\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', _.debounce(batchLog, 250, {\n     *   'maxWait': 1000\n     * }));\n     *\n     * // cancel a debounced call\n     * var todoChanges = _.debounce(batchLog, 1000);\n     * Object.observe(models.todo, todoChanges);\n     *\n     * Object.observe(models, function(changes) {\n     *   if (_.find(changes, { 'user': 'todo', 'type': 'delete'})) {\n     *     todoChanges.cancel();\n     *   }\n     * }, ['delete']);\n     *\n     * // ...at some point `models.todo` is changed\n     * models.todo.completed = true;\n     *\n     * // ...before 1 second has passed `models.todo` is deleted\n     * // which cancels the debounced `todoChanges` call\n     * delete models.todo;\n     */\n    function debounce(func, wait, options) {\n      var args,\n          maxTimeoutId,\n          result,\n          stamp,\n          thisArg,\n          timeoutId,\n          trailingCall,\n          lastCalled = 0,\n          maxWait = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = wait < 0 ? 0 : (+wait || 0);\n      if (options === true) {\n        var leading = true;\n        trailing = false;\n      } else if (isObject(options)) {\n        leading = options.leading;\n        maxWait = 'maxWait' in options && nativeMax(+options.maxWait || 0, wait);\n        trailing = 'trailing' in options ? options.trailing : trailing;\n      }\n\n      function cancel() {\n        if (timeoutId) {\n          clearTimeout(timeoutId);\n        }\n        if (maxTimeoutId) {\n          clearTimeout(maxTimeoutId);\n        }\n        maxTimeoutId = timeoutId = trailingCall = undefined;\n      }\n\n      function delayed() {\n        var remaining = wait - (now() - stamp);\n        if (remaining <= 0 || remaining > wait) {\n          if (maxTimeoutId) {\n            clearTimeout(maxTimeoutId);\n          }\n          var isCalled = trailingCall;\n          maxTimeoutId = timeoutId = trailingCall = undefined;\n          if (isCalled) {\n            lastCalled = now();\n            result = func.apply(thisArg, args);\n            if (!timeoutId && !maxTimeoutId) {\n              args = thisArg = null;\n            }\n          }\n        } else {\n          timeoutId = setTimeout(delayed, remaining);\n        }\n      }\n\n      function maxDelayed() {\n        if (timeoutId) {\n          clearTimeout(timeoutId);\n        }\n        maxTimeoutId = timeoutId = trailingCall = undefined;\n        if (trailing || (maxWait !== wait)) {\n          lastCalled = now();\n          result = func.apply(thisArg, args);\n          if (!timeoutId && !maxTimeoutId) {\n            args = thisArg = null;\n          }\n        }\n      }\n\n      function debounced() {\n        args = arguments;\n        stamp = now();\n        thisArg = this;\n        trailingCall = trailing && (timeoutId || !leading);\n\n        if (maxWait === false) {\n          var leadingCall = leading && !timeoutId;\n        } else {\n          if (!maxTimeoutId && !leading) {\n            lastCalled = stamp;\n          }\n          var remaining = maxWait - (stamp - lastCalled),\n              isCalled = remaining <= 0 || remaining > maxWait;\n\n          if (isCalled) {\n            if (maxTimeoutId) {\n              maxTimeoutId = clearTimeout(maxTimeoutId);\n            }\n            lastCalled = stamp;\n            result = func.apply(thisArg, args);\n          }\n          else if (!maxTimeoutId) {\n            maxTimeoutId = setTimeout(maxDelayed, remaining);\n          }\n        }\n        if (isCalled && timeoutId) {\n          timeoutId = clearTimeout(timeoutId);\n        }\n        else if (!timeoutId && wait !== maxWait) {\n          timeoutId = setTimeout(delayed, wait);\n        }\n        if (leadingCall) {\n          isCalled = true;\n          result = func.apply(thisArg, args);\n        }\n        if (isCalled && !timeoutId && !maxTimeoutId) {\n          args = thisArg = null;\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke the function with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // logs 'deferred' after one or more milliseconds\n     */\n    var defer = restParam(function(func, args) {\n      return baseDelay(func, 1, args);\n    });\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke the function with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => logs 'later' after one second\n     */\n    var delay = restParam(function(func, wait, args) {\n      return baseDelay(func, wait, args);\n    });\n\n    /**\n     * Creates a function that returns the result of invoking the provided\n     * functions with the `this` binding of the created function, where each\n     * successive invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {...Function} [funcs] Functions to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow(_.add, square);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flow = createFlow();\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the provided functions from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias backflow, compose\n     * @category Function\n     * @param {...Function} [funcs] Functions to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight(square, _.add);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flowRight = createFlow(true);\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is coerced to a string and used as the\n     * cache key. The `func` is invoked with the `this` binding of the memoized\n     * function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the [`Map`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-properties-of-the-map-prototype-object)\n     * method interface of `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoizing function.\n     * @example\n     *\n     * var upperCase = _.memoize(function(string) {\n     *   return string.toUpperCase();\n     * });\n     *\n     * upperCase('fred');\n     * // => 'FRED'\n     *\n     * // modifying the result cache\n     * upperCase.cache.set('fred', 'BARNEY');\n     * upperCase('fred');\n     * // => 'BARNEY'\n     *\n     * // replacing `_.memoize.Cache`\n     * var object = { 'user': 'fred' };\n     * var other = { 'user': 'barney' };\n     * var identity = _.memoize(_.identity);\n     *\n     * identity(object);\n     * // => { 'user': 'fred' }\n     * identity(other);\n     * // => { 'user': 'fred' }\n     *\n     * _.memoize.Cache = WeakMap;\n     * var identity = _.memoize(_.identity);\n     *\n     * identity(object);\n     * // => { 'user': 'fred' }\n     * identity(other);\n     * // => { 'user': 'barney' }\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments,\n            cache = memoized.cache,\n            key = resolver ? resolver.apply(this, args) : args[0];\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        cache.set(key, result);\n        return result;\n      };\n      memoized.cache = new memoize.Cache;\n      return memoized;\n    }\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        return !predicate.apply(this, arguments);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first call. The `func` is invoked\n     * with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // `initialize` invokes `createApplication` once\n     */\n    function once(func) {\n      return before(2, func);\n    }\n\n    /**\n     * Creates a function that invokes `func` with `partial` arguments prepended\n     * to those provided to the new function. This method is like `_.bind` except\n     * it does **not** alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method does not set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * var greet = function(greeting, name) {\n     *   return greeting + ' ' + name;\n     * };\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // using placeholders\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    var partial = createPartial(PARTIAL_FLAG);\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to those provided to the new function.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method does not set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * var greet = function(greeting, name) {\n     *   return greeting + ' ' + name;\n     * };\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // using placeholders\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    var partialRight = createPartial(PARTIAL_RIGHT_FLAG);\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified indexes where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes,\n     *  specified as individual indexes or arrays of indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, 2, 0, 1);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     *\n     * var map = _.rearg(_.map, [1, 0]);\n     * map(function(n) {\n     *   return n * 3;\n     * }, [1, 2, 3]);\n     * // => [3, 6, 9]\n     */\n    var rearg = restParam(function(func, indexes) {\n      return createWrapper(func, REARG_FLAG, null, null, null, baseFlatten(indexes));\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as an array.\n     *\n     * **Note:** This method is based on the [rest parameter](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.restParam(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n    function restParam(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = nativeMax(start === undefined ? (func.length - 1) : (+start || 0), 0);\n      return function() {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            rest = Array(length);\n\n        while (++index < length) {\n          rest[index] = args[start + index];\n        }\n        switch (start) {\n          case 0: return func.call(this, rest);\n          case 1: return func.call(this, args[0], rest);\n          case 2: return func.call(this, args[0], args[1], rest);\n        }\n        var otherArgs = Array(start + 1);\n        index = -1;\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n        otherArgs[start] = rest;\n        return func.apply(this, otherArgs);\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the created\n     * function and an array of arguments much like [`Function#apply`](https://es5.github.io/#x15.3.4.3).\n     *\n     * **Note:** This method is based on the [spread operator](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * // with a Promise\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function(array) {\n        return func.apply(this, array);\n      };\n    }\n\n    /**\n     * Creates a function that only invokes `func` at most once per every `wait`\n     * milliseconds. The created function comes with a `cancel` method to cancel\n     * delayed invocations. Provide an options object to indicate that `func`\n     * should be invoked on the leading and/or trailing edge of the `wait` timeout.\n     * Subsequent calls to the throttled function return the result of the last\n     * `func` call.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is invoked\n     * on the trailing edge of the timeout only if the the throttled function is\n     * invoked more than once during the `wait` timeout.\n     *\n     * See [David Corbacho's article](http://drupalmotion.com/article/debounce-and-throttle-visual-explanation)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.leading=true] Specify invoking on the leading\n     *  edge of the timeout.\n     * @param {boolean} [options.trailing=true] Specify invoking on the trailing\n     *  edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // avoid excessively updating the position while scrolling\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // invoke `renewToken` when the click event is fired, but not more than once every 5 minutes\n     * jQuery('.interactive').on('click', _.throttle(renewToken, 300000, {\n     *   'trailing': false\n     * }));\n     *\n     * // cancel a trailing throttled call\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (options === false) {\n        leading = false;\n      } else if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      debounceOptions.leading = leading;\n      debounceOptions.maxWait = +wait;\n      debounceOptions.trailing = trailing;\n      return debounce(func, wait, debounceOptions);\n    }\n\n    /**\n     * Creates a function that provides `value` to the wrapper function as its\n     * first argument. Any additional arguments provided to the function are\n     * appended to those provided to the wrapper function. The wrapper is invoked\n     * with the `this` binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} wrapper The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      wrapper = wrapper == null ? identity : wrapper;\n      return createWrapper(wrapper, PARTIAL_FLAG, null, [value], []);\n    }\n\n    /**\n     * Creates a clone of `value`. If `isDeep` is `true` nested objects are cloned,\n     * otherwise they are assigned by reference. If `customizer` is provided it is\n     * invoked to produce the cloned values. If `customizer` returns `undefined`\n     * cloning is handled by the method instead. The `customizer` is bound to\n     * `thisArg` and invoked with two argument; (value [, index|key, object]).\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm).\n     * The enumerable properties of `arguments` objects and objects created by\n     * constructors other than `Object` are cloned to plain `Object` objects. An\n     * empty object is returned for uncloneable values such as functions, DOM nodes,\n     * Maps, Sets, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @param {Function} [customizer] The function to customize cloning values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {*} Returns the cloned value.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * var shallow = _.clone(users);\n     * shallow[0] === users[0];\n     * // => true\n     *\n     * var deep = _.clone(users, true);\n     * deep[0] === users[0];\n     * // => false\n     *\n     * // using a customizer callback\n     * var el = _.clone(document.body, function(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * });\n     *\n     * el === document.body\n     * // => false\n     * el.nodeName\n     * // => BODY\n     * el.childNodes.length;\n     * // => 0\n     */\n    function clone(value, isDeep, customizer, thisArg) {\n      if (isDeep && typeof isDeep != 'boolean' && isIterateeCall(value, isDeep, customizer)) {\n        isDeep = false;\n      }\n      else if (typeof isDeep == 'function') {\n        thisArg = customizer;\n        customizer = isDeep;\n        isDeep = false;\n      }\n      customizer = typeof customizer == 'function' && bindCallback(customizer, thisArg, 1);\n      return baseClone(value, isDeep, customizer);\n    }\n\n    /**\n     * Creates a deep clone of `value`. If `customizer` is provided it is invoked\n     * to produce the cloned values. If `customizer` returns `undefined` cloning\n     * is handled by the method instead. The `customizer` is bound to `thisArg`\n     * and invoked with two argument; (value [, index|key, object]).\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm).\n     * The enumerable properties of `arguments` objects and objects created by\n     * constructors other than `Object` are cloned to plain `Object` objects. An\n     * empty object is returned for uncloneable values such as functions, DOM nodes,\n     * Maps, Sets, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to deep clone.\n     * @param {Function} [customizer] The function to customize cloning values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {*} Returns the deep cloned value.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * var deep = _.cloneDeep(users);\n     * deep[0] === users[0];\n     * // => false\n     *\n     * // using a customizer callback\n     * var el = _.cloneDeep(document.body, function(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * });\n     *\n     * el === document.body\n     * // => false\n     * el.nodeName\n     * // => BODY\n     * el.childNodes.length;\n     * // => 20\n     */\n    function cloneDeep(value, customizer, thisArg) {\n      customizer = typeof customizer == 'function' && bindCallback(customizer, thisArg, 1);\n      return baseClone(value, true, customizer);\n    }\n\n    /**\n     * Checks if `value` is classified as an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    function isArguments(value) {\n      return isObjectLike(value) && isArrayLike(value) && objToString.call(value) == argsTag;\n    }\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(function() { return arguments; }());\n     * // => false\n     */\n    var isArray = nativeIsArray || function(value) {\n      return isObjectLike(value) && isLength(value.length) && objToString.call(value) == arrayTag;\n    };\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false || (isObjectLike(value) && objToString.call(value) == boolTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    function isDate(value) {\n      return isObjectLike(value) && objToString.call(value) == dateTag;\n    }\n\n    /**\n     * Checks if `value` is a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return !!value && value.nodeType === 1 && isObjectLike(value) &&\n        (objToString.call(value).indexOf('Element') > -1);\n    }\n    // Fallback for environments without DOM support.\n    if (!support.dom) {\n      isElement = function(value) {\n        return !!value && value.nodeType === 1 && isObjectLike(value) && !isPlainObject(value);\n      };\n    }\n\n    /**\n     * Checks if `value` is empty. A value is considered empty unless it is an\n     * `arguments` object, array, string, or jQuery-like collection with a length\n     * greater than `0` or an object with own enumerable properties.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {Array|Object|string} value The value to inspect.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n      if (isArrayLike(value) && (isArray(value) || isString(value) || isArguments(value) ||\n          (isObjectLike(value) && isFunction(value.splice)))) {\n        return !value.length;\n      }\n      return !keys(value).length;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent. If `customizer` is provided it is invoked to compare values.\n     * If `customizer` returns `undefined` comparisons are handled by the method\n     * instead. The `customizer` is bound to `thisArg` and invoked with three\n     * arguments: (value, other [, index|key]).\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. Functions and DOM nodes\n     * are **not** supported. Provide a customizer function to extend support\n     * for comparing other values.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize value comparisons.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     * var other = { 'user': 'fred' };\n     *\n     * object == other;\n     * // => false\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * // using a customizer callback\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqual(array, other, function(value, other) {\n     *   if (_.every([value, other], RegExp.prototype.test, /^h(?:i|ello)$/)) {\n     *     return true;\n     *   }\n     * });\n     * // => true\n     */\n    function isEqual(value, other, customizer, thisArg) {\n      customizer = typeof customizer == 'function' && bindCallback(customizer, thisArg, 3);\n      if (!customizer && isStrictComparable(value) && isStrictComparable(other)) {\n        return value === other;\n      }\n      var result = customizer ? customizer(value, other) : undefined;\n      return result === undefined ? baseIsEqual(value, other, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      return isObjectLike(value) && typeof value.message == 'string' && objToString.call(value) == errorTag;\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on [`Number.isFinite`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-number.isfinite).\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(10);\n     * // => true\n     *\n     * _.isFinite('10');\n     * // => false\n     *\n     * _.isFinite(true);\n     * // => false\n     *\n     * _.isFinite(Object(10));\n     * // => false\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     */\n    var isFinite = nativeNumIsFinite || function(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    };\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    var isFunction = !(baseIsFunction(/x/) || (Uint8Array && !baseIsFunction(Uint8Array))) ? baseIsFunction : function(value) {\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in older versions of Chrome and Safari which return 'function' for regexes\n      // and Safari 8 equivalents which return 'object' for typed array constructors.\n      return objToString.call(value) == funcTag;\n    };\n\n    /**\n     * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n     * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(1);\n     * // => false\n     */\n    function isObject(value) {\n      // Avoid a V8 JIT bug in Chrome 19-20.\n      // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n      var type = typeof value;\n      return type == 'function' || (!!value && type == 'object');\n    }\n\n    /**\n     * Performs a deep comparison between `object` and `source` to determine if\n     * `object` contains equivalent property values. If `customizer` is provided\n     * it is invoked to compare values. If `customizer` returns `undefined`\n     * comparisons are handled by the method instead. The `customizer` is bound\n     * to `thisArg` and invoked with three arguments: (value, other, index|key).\n     *\n     * **Note:** This method supports comparing properties of arrays, booleans,\n     * `Date` objects, numbers, `Object` objects, regexes, and strings. Functions\n     * and DOM nodes are **not** supported. Provide a customizer function to extend\n     * support for comparing other values.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize value comparisons.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': 40 };\n     *\n     * _.isMatch(object, { 'age': 40 });\n     * // => true\n     *\n     * _.isMatch(object, { 'age': 36 });\n     * // => false\n     *\n     * // using a customizer callback\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatch(object, source, function(value, other) {\n     *   return _.every([value, other], RegExp.prototype.test, /^h(?:i|ello)$/) || undefined;\n     * });\n     * // => true\n     */\n    function isMatch(object, source, customizer, thisArg) {\n      var props = keys(source),\n          length = props.length;\n\n      if (!length) {\n        return true;\n      }\n      if (object == null) {\n        return false;\n      }\n      customizer = typeof customizer == 'function' && bindCallback(customizer, thisArg, 3);\n      object = toObject(object);\n      if (!customizer && length == 1) {\n        var key = props[0],\n            value = source[key];\n\n        if (isStrictComparable(value)) {\n          return value === object[key] && (value !== undefined || (key in object));\n        }\n      }\n      var values = Array(length),\n          strictCompareFlags = Array(length);\n\n      while (length--) {\n        value = values[length] = source[props[length]];\n        strictCompareFlags[length] = isStrictComparable(value);\n      }\n      return baseIsMatch(object, props, values, strictCompareFlags, customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is not the same as [`isNaN`](https://es5.github.io/#x15.1.2.4)\n     * which returns `true` for `undefined` and other non-numeric values.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some host objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a native function.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function, else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (value == null) {\n        return false;\n      }\n      if (objToString.call(value) == funcTag) {\n        return reIsNative.test(fnToString.call(value));\n      }\n      return isObjectLike(value) && reIsHostCtor.test(value);\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are classified\n     * as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isNumber(8.4);\n     * // => true\n     *\n     * _.isNumber(NaN);\n     * // => true\n     *\n     * _.isNumber('8.4');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' || (isObjectLike(value) && objToString.call(value) == numberTag);\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * **Note:** This method assumes objects created by the `Object` constructor\n     * have no inherited enumerable properties.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    var isPlainObject = !getPrototypeOf ? shimIsPlainObject : function(value) {\n      if (!(value && objToString.call(value) == objectTag)) {\n        return false;\n      }\n      var valueOf = value.valueOf,\n          objProto = isNative(valueOf) && (objProto = getPrototypeOf(valueOf)) && getPrototypeOf(objProto);\n\n      return objProto\n        ? (value == objProto || getPrototypeOf(value) == objProto)\n        : shimIsPlainObject(value);\n    };\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    function isRegExp(value) {\n      return isObjectLike(value) && objToString.call(value) == regexpTag;\n    }\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' || (isObjectLike(value) && objToString.call(value) == stringTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    function isTypedArray(value) {\n      return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[objToString.call(value)];\n    }\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return value === undefined;\n    }\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * (function() {\n     *   return _.toArray(arguments).slice(1);\n     * }(1, 2, 3));\n     * // => [2, 3]\n     */\n    function toArray(value) {\n      var length = value ? getLength(value) : 0;\n      if (!isLength(length)) {\n        return values(value);\n      }\n      if (!length) {\n        return [];\n      }\n      return arrayCopy(value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable\n     * properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return baseCopy(value, keysIn(value));\n    }\n\n    /**\n     * Assigns own enumerable properties of source object(s) to the destination\n     * object. Subsequent sources overwrite property assignments of previous sources.\n     * If `customizer` is provided it is invoked to produce the assigned values.\n     * The `customizer` is bound to `thisArg` and invoked with five arguments:\n     * (objectValue, sourceValue, key, object, source).\n     *\n     * **Note:** This method mutates `object` and is based on\n     * [`Object.assign`](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.assign).\n     *\n     * @static\n     * @memberOf _\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.assign({ 'user': 'barney' }, { 'age': 40 }, { 'user': 'fred' });\n     * // => { 'user': 'fred', 'age': 40 }\n     *\n     * // using a customizer callback\n     * var defaults = _.partialRight(_.assign, function(value, other) {\n     *   return _.isUndefined(value) ? other : value;\n     * });\n     *\n     * defaults({ 'user': 'barney' }, { 'age': 36 }, { 'user': 'fred' });\n     * // => { 'user': 'barney', 'age': 36 }\n     */\n    var assign = createAssigner(function(object, source, customizer) {\n      return customizer\n        ? assignWith(object, source, customizer)\n        : baseAssign(object, source);\n    });\n\n    /**\n     * Creates an object that inherits from the given `prototype` object. If a\n     * `properties` object is provided its own enumerable properties are assigned\n     * to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties, guard) {\n      var result = baseCreate(prototype);\n      if (guard && isIterateeCall(prototype, properties, guard)) {\n        properties = null;\n      }\n      return properties ? baseAssign(result, properties) : result;\n    }\n\n    /**\n     * Assigns own enumerable properties of source object(s) to the destination\n     * object for all destination properties that resolve to `undefined`. Once a\n     * property is set, additional values of the same property are ignored.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.defaults({ 'user': 'barney' }, { 'age': 36 }, { 'user': 'fred' });\n     * // => { 'user': 'barney', 'age': 36 }\n     */\n    var defaults = restParam(function(args) {\n      var object = args[0];\n      if (object == null) {\n        return object;\n      }\n      args.push(assignDefaults);\n      return assign.apply(undefined, args);\n    });\n\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {string|undefined} Returns the key of the matched element, else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(chr) {\n     *   return chr.age < 40;\n     * });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findKey(users, 'active', false);\n     * // => 'fred'\n     *\n     * // using the `_.property` callback shorthand\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    var findKey = createFindKey(baseForOwn);\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {string|undefined} Returns the key of the matched element, else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(chr) {\n     *   return chr.age < 40;\n     * });\n     * // => returns `pebbles` assuming `_.findKey` returns `barney`\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findLastKey(users, 'active', false);\n     * // => 'fred'\n     *\n     * // using the `_.property` callback shorthand\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    var findLastKey = createFindKey(baseForOwnRight);\n\n    /**\n     * Iterates over own and inherited enumerable properties of an object invoking\n     * `iteratee` for each property. The `iteratee` is bound to `thisArg` and invoked\n     * with three arguments: (value, key, object). Iteratee functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'a', 'b', and 'c' (iteration order is not guaranteed)\n     */\n    var forIn = createForIn(baseFor);\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'c', 'b', and 'a' assuming `_.forIn ` logs 'a', 'b', and 'c'\n     */\n    var forInRight = createForIn(baseForRight);\n\n    /**\n     * Iterates over own enumerable properties of an object invoking `iteratee`\n     * for each property. The `iteratee` is bound to `thisArg` and invoked with\n     * three arguments: (value, key, object). Iteratee functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'a' and 'b' (iteration order is not guaranteed)\n     */\n    var forOwn = createForOwn(baseForOwn);\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'b' and 'a' assuming `_.forOwn` logs 'a' and 'b'\n     */\n    var forOwnRight = createForOwn(baseForOwnRight);\n\n    /**\n     * Creates an array of function property names from all enumerable properties,\n     * own and inherited, of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @alias methods\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the new array of property names.\n     * @example\n     *\n     * _.functions(_);\n     * // => ['after', 'ary', 'assign', ...]\n     */\n    function functions(object) {\n      return baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Gets the property value of `path` on `object`. If the resolved value is\n     * `undefined` the `defaultValue` is used in its place.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} [defaultValue] The value returned if the resolved value is `undefined`.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.get(object, 'a[0].b.c');\n     * // => 3\n     *\n     * _.get(object, ['a', '0', 'b', 'c']);\n     * // => 3\n     *\n     * _.get(object, 'a.b.c', 'default');\n     * // => 'default'\n     */\n    function get(object, path, defaultValue) {\n      var result = object == null ? undefined : baseGet(object, toPath(path), path + '');\n      return result === undefined ? defaultValue : result;\n    }\n\n    /**\n     * Checks if `path` is a direct property.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` is a direct property, else `false`.\n     * @example\n     *\n     * var object = { 'a': { 'b': { 'c': 3 } } };\n     *\n     * _.has(object, 'a');\n     * // => true\n     *\n     * _.has(object, 'a.b.c');\n     * // => true\n     *\n     * _.has(object, ['a', 'b', 'c']);\n     * // => true\n     */\n    function has(object, path) {\n      if (object == null) {\n        return false;\n      }\n      var result = hasOwnProperty.call(object, path);\n      if (!result && !isKey(path)) {\n        path = toPath(path);\n        object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n        path = last(path);\n        result = object != null && hasOwnProperty.call(object, path);\n      }\n      return result;\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite property\n     * assignments of previous values unless `multiValue` is `true`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {boolean} [multiValue] Allow multiple values per key.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     *\n     * // with `multiValue`\n     * _.invert(object, true);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function invert(object, multiValue, guard) {\n      if (guard && isIterateeCall(object, multiValue, guard)) {\n        multiValue = null;\n      }\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = {};\n\n      while (++index < length) {\n        var key = props[index],\n            value = object[key];\n\n        if (multiValue) {\n          if (hasOwnProperty.call(result, value)) {\n            result[value].push(key);\n          } else {\n            result[value] = [key];\n          }\n        }\n        else {\n          result[value] = key;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    var keys = !nativeKeys ? shimKeys : function(object) {\n      var Ctor = object != null && object.constructor;\n      if ((typeof Ctor == 'function' && Ctor.prototype === object) ||\n          (typeof object != 'function' && isArrayLike(object))) {\n        return shimKeys(object);\n      }\n      return isObject(object) ? nativeKeys(object) : [];\n    };\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      if (object == null) {\n        return [];\n      }\n      if (!isObject(object)) {\n        object = Object(object);\n      }\n      var length = object.length;\n      length = (length && isLength(length) &&\n        (isArray(object) || (support.nonEnumArgs && isArguments(object))) && length) || 0;\n\n      var Ctor = object.constructor,\n          index = -1,\n          isProto = typeof Ctor == 'function' && Ctor.prototype === object,\n          result = Array(length),\n          skipIndexes = length > 0;\n\n      while (++index < length) {\n        result[index] = (index + '');\n      }\n      for (var key in object) {\n        if (!(skipIndexes && isIndex(key, length)) &&\n            !(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The opposite of `_.mapValues`; this method creates an object with the\n     * same values as `object` and keys generated by running each own enumerable\n     * property of `object` through `iteratee`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the new mapped object.\n     * @example\n     *\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   return key + value;\n     * });\n     * // => { 'a1': 1, 'b2': 2 }\n     */\n    var mapKeys = createObjectMapper(true);\n\n    /**\n     * Creates an object with the same keys as `object` and values generated by\n     * running each own enumerable property of `object` through `iteratee`. The\n     * iteratee function is bound to `thisArg` and invoked with three arguments:\n     * (value, key, object).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the new mapped object.\n     * @example\n     *\n     * _.mapValues({ 'a': 1, 'b': 2 }, function(n) {\n     *   return n * 3;\n     * });\n     * // => { 'a': 3, 'b': 6 }\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * // using the `_.property` callback shorthand\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    var mapValues = createObjectMapper();\n\n    /**\n     * Recursively merges own enumerable properties of the source object(s), that\n     * don't resolve to `undefined` into the destination object. Subsequent sources\n     * overwrite property assignments of previous sources. If `customizer` is\n     * provided it is invoked to produce the merged values of the destination and\n     * source properties. If `customizer` returns `undefined` merging is handled\n     * by the method instead. The `customizer` is bound to `thisArg` and invoked\n     * with five arguments: (objectValue, sourceValue, key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var users = {\n     *   'data': [{ 'user': 'barney' }, { 'user': 'fred' }]\n     * };\n     *\n     * var ages = {\n     *   'data': [{ 'age': 36 }, { 'age': 40 }]\n     * };\n     *\n     * _.merge(users, ages);\n     * // => { 'data': [{ 'user': 'barney', 'age': 36 }, { 'user': 'fred', 'age': 40 }] }\n     *\n     * // using a customizer callback\n     * var object = {\n     *   'fruits': ['apple'],\n     *   'vegetables': ['beet']\n     * };\n     *\n     * var other = {\n     *   'fruits': ['banana'],\n     *   'vegetables': ['carrot']\n     * };\n     *\n     * _.merge(object, other, function(a, b) {\n     *   if (_.isArray(a)) {\n     *     return a.concat(b);\n     *   }\n     * });\n     * // => { 'fruits': ['apple', 'banana'], 'vegetables': ['beet', 'carrot'] }\n     */\n    var merge = createAssigner(baseMerge);\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable properties of `object` that are not omitted.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function|...(string|string[])} [predicate] The function invoked per\n     *  iteration or property names to omit, specified as individual property\n     *  names or arrays of property names.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': 40 };\n     *\n     * _.omit(object, 'age');\n     * // => { 'user': 'fred' }\n     *\n     * _.omit(object, _.isNumber);\n     * // => { 'user': 'fred' }\n     */\n    var omit = restParam(function(object, props) {\n      if (object == null) {\n        return {};\n      }\n      if (typeof props[0] != 'function') {\n        var props = arrayMap(baseFlatten(props), String);\n        return pickByArray(object, baseDifference(keysIn(object), props));\n      }\n      var predicate = bindCallback(props[0], props[1], 3);\n      return pickByCallback(object, function(value, key, object) {\n        return !predicate(value, key, object);\n      });\n    });\n\n    /**\n     * Creates a two dimensional array of the key-value pairs for `object`,\n     * e.g. `[[key1, value1], [key2, value2]]`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the new array of key-value pairs.\n     * @example\n     *\n     * _.pairs({ 'barney': 36, 'fred': 40 });\n     * // => [['barney', 36], ['fred', 40]] (iteration order is not guaranteed)\n     */\n    function pairs(object) {\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = Array(length);\n\n      while (++index < length) {\n        var key = props[index];\n        result[index] = [key, object[key]];\n      }\n      return result;\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties. Property\n     * names may be specified as individual arguments or as arrays of property\n     * names. If `predicate` is provided it is invoked for each property of `object`\n     * picking the properties `predicate` returns truthy for. The predicate is\n     * bound to `thisArg` and invoked with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function|...(string|string[])} [predicate] The function invoked per\n     *  iteration or property names to pick, specified as individual property\n     *  names or arrays of property names.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': 40 };\n     *\n     * _.pick(object, 'user');\n     * // => { 'user': 'fred' }\n     *\n     * _.pick(object, _.isString);\n     * // => { 'user': 'fred' }\n     */\n    var pick = restParam(function(object, props) {\n      if (object == null) {\n        return {};\n      }\n      return typeof props[0] == 'function'\n        ? pickByCallback(object, bindCallback(props[0], props[1], 3))\n        : pickByArray(object, baseFlatten(props));\n    });\n\n    /**\n     * This method is like `_.get` except that if the resolved value is a function\n     * it is invoked with the `this` binding of its parent object and its result\n     * is returned.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to resolve.\n     * @param {*} [defaultValue] The value returned if the resolved value is `undefined`.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n     *\n     * _.result(object, 'a[0].b.c1');\n     * // => 3\n     *\n     * _.result(object, 'a[0].b.c2');\n     * // => 4\n     *\n     * _.result(object, 'a.b.c', 'default');\n     * // => 'default'\n     *\n     * _.result(object, 'a.b.c', _.constant('default'));\n     * // => 'default'\n     */\n    function result(object, path, defaultValue) {\n      var result = object == null ? undefined : object[path];\n      if (result === undefined) {\n        if (object != null && !isKey(path, object)) {\n          path = toPath(path);\n          object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n          result = object == null ? undefined : object[last(path)];\n        }\n        result = result === undefined ? defaultValue : result;\n      }\n      return isFunction(result) ? result.call(object) : result;\n    }\n\n    /**\n     * Sets the property value of `path` on `object`. If a portion of `path`\n     * does not exist it is created.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to augment.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.set(object, 'a[0].b.c', 4);\n     * console.log(object.a[0].b.c);\n     * // => 4\n     *\n     * _.set(object, 'x[0].y.z', 5);\n     * console.log(object.x[0].y.z);\n     * // => 5\n     */\n    function set(object, path, value) {\n      if (object == null) {\n        return object;\n      }\n      var pathKey = (path + '');\n      path = (object[pathKey] != null || isKey(path, object)) ? [pathKey] : toPath(path);\n\n      var index = -1,\n          length = path.length,\n          endIndex = length - 1,\n          nested = object;\n\n      while (nested != null && ++index < length) {\n        var key = path[index];\n        if (isObject(nested)) {\n          if (index == endIndex) {\n            nested[key] = value;\n          } else if (nested[key] == null) {\n            nested[key] = isIndex(path[index + 1]) ? [] : {};\n          }\n        }\n        nested = nested[key];\n      }\n      return object;\n    }\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own enumerable\n     * properties through `iteratee`, with each invocation potentially mutating\n     * the `accumulator` object. The `iteratee` is bound to `thisArg` and invoked\n     * with four arguments: (accumulator, value, key, object). Iteratee functions\n     * may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Array|Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * });\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2 }, function(result, n, key) {\n     *   result[key] = n * 3;\n     * });\n     * // => { 'a': 3, 'b': 6 }\n     */\n    function transform(object, iteratee, accumulator, thisArg) {\n      var isArr = isArray(object) || isTypedArray(object);\n      iteratee = getCallback(iteratee, thisArg, 4);\n\n      if (accumulator == null) {\n        if (isArr || isObject(object)) {\n          var Ctor = object.constructor;\n          if (isArr) {\n            accumulator = isArray(object) ? new Ctor : [];\n          } else {\n            accumulator = baseCreate(isFunction(Ctor) && Ctor.prototype);\n          }\n        } else {\n          accumulator = {};\n        }\n      }\n      (isArr ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Creates an array of the own enumerable property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return baseValues(object, keys(object));\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property values\n     * of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return baseValues(object, keysIn(object));\n    }\n\n    /**\n     * Checks if `n` is between `start` and up to but not including, `end`. If\n     * `end` is not specified it is set to `start` with `start` then set to `0`.\n     *\n     * @static\n     * @memberOf _\n     * @category Number\n     * @param {number} n The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `n` is in the range, else `false`.\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     */\n    function inRange(value, start, end) {\n      start = +start || 0;\n      if (typeof end === 'undefined') {\n        end = start;\n        start = 0;\n      } else {\n        end = +end || 0;\n      }\n      return value >= nativeMin(start, end) && value < nativeMax(start, end);\n    }\n\n    /**\n     * Produces a random number between `min` and `max` (inclusive). If only one\n     * argument is provided a number between `0` and the given number is returned.\n     * If `floating` is `true`, or either `min` or `max` are floats, a floating-point\n     * number is returned instead of an integer.\n     *\n     * @static\n     * @memberOf _\n     * @category Number\n     * @param {number} [min=0] The minimum possible value.\n     * @param {number} [max=1] The maximum possible value.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(min, max, floating) {\n      if (floating && isIterateeCall(min, max, floating)) {\n        max = floating = null;\n      }\n      var noMin = min == null,\n          noMax = max == null;\n\n      if (floating == null) {\n        if (noMax && typeof min == 'boolean') {\n          floating = min;\n          min = 1;\n        }\n        else if (typeof max == 'boolean') {\n          floating = max;\n          noMax = true;\n        }\n      }\n      if (noMin && noMax) {\n        max = 1;\n        noMax = false;\n      }\n      min = +min || 0;\n      if (noMax) {\n        max = min;\n        min = 0;\n      } else {\n        max = +max || 0;\n      }\n      if (floating || min % 1 || max % 1) {\n        var rand = nativeRandom();\n        return nativeMin(min + (rand * (max - min + parseFloat('1e-' + ((rand + '').length - 1)))), max);\n      }\n      return baseRandom(min, max);\n    }\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__foo_bar__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? (word.charAt(0).toUpperCase() + word.slice(1)) : word);\n    });\n\n    /**\n     * Capitalizes the first character of `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('fred');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      string = baseToString(string);\n      return string && (string.charAt(0).toUpperCase() + string.slice(1));\n    }\n\n    /**\n     * Deburrs `string` by converting [latin-1 supplementary letters](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * to basic latin letters and removing [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('déjà vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = baseToString(string);\n      return string && string.replace(reLatin1, deburrLetter).replace(reComboMark, '');\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to search.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search from.\n     * @returns {boolean} Returns `true` if `string` ends with `target`, else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = baseToString(string);\n      target = (target + '');\n\n      var length = string.length;\n      position = position === undefined\n        ? length\n        : nativeMin(position < 0 ? 0 : (+position || 0), length);\n\n      position -= target.length;\n      return position >= 0 && string.indexOf(target, position) == position;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', \"'\", and \"\\`\", in `string` to\n     * their corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional characters\n     * use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't require escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value.\n     * See [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * Backticks are escaped because in Internet Explorer < 9, they can break out\n     * of attribute values or HTML comments. See [#59](https://html5sec.org/#59),\n     * [#102](https://html5sec.org/#102), [#108](https://html5sec.org/#108), and\n     * [#133](https://html5sec.org/#133) of the [HTML5 Security Cheatsheet](https://html5sec.org/)\n     * for more details.\n     *\n     * When working with HTML you should always [quote attribute values](http://wonko.com/post/html-escaping)\n     * to reduce XSS vectors.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      // Reset `lastIndex` because in IE < 9 `String#replace` does not.\n      string = baseToString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"\\\", \"/\", \"^\", \"$\", \".\", \"|\", \"?\",\n     * \"*\", \"+\", \"(\", \")\", \"[\", \"]\", \"{\" and \"}\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https:\\/\\/lodash\\.com\\/\\)'\n     */\n    function escapeRegExp(string) {\n      string = baseToString(string);\n      return (string && reHasRegExpChars.test(string))\n        ? string.replace(reRegExpChars, '\\\\$&')\n        : string;\n    }\n\n    /**\n     * Converts `string` to [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__foo_bar__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Pads `string` on the left and right sides if it is shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = baseToString(string);\n      length = +length;\n\n      var strLength = string.length;\n      if (strLength >= length || !nativeIsFinite(length)) {\n        return string;\n      }\n      var mid = (length - strLength) / 2,\n          leftLength = floor(mid),\n          rightLength = ceil(mid);\n\n      chars = createPadding('', rightLength, chars);\n      return chars.slice(0, leftLength) + string + chars;\n    }\n\n    /**\n     * Pads `string` on the left side if it is shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padLeft('abc', 6);\n     * // => '   abc'\n     *\n     * _.padLeft('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padLeft('abc', 3);\n     * // => 'abc'\n     */\n    var padLeft = createPadDir();\n\n    /**\n     * Pads `string` on the right side if it is shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padRight('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padRight('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padRight('abc', 3);\n     * // => 'abc'\n     */\n    var padRight = createPadDir(true);\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a hexadecimal,\n     * in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the [ES5 implementation](https://es5.github.io/#E)\n     * of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      if (guard && isIterateeCall(string, radix, guard)) {\n        radix = 0;\n      }\n      return nativeParseInt(string, radix);\n    }\n    // Fallback for environments with pre-ES5 implementations.\n    if (nativeParseInt(whitespace + '08') != 8) {\n      parseInt = function(string, radix, guard) {\n        // Firefox < 21 and Opera < 15 follow ES3 for `parseInt`.\n        // Chrome fails to trim leading <BOM> whitespace characters.\n        // See https://code.google.com/p/v8/issues/detail?id=3109 for more details.\n        if (guard ? isIterateeCall(string, radix, guard) : radix == null) {\n          radix = 0;\n        } else if (radix) {\n          radix = +radix;\n        }\n        string = trim(string);\n        return nativeParseInt(string, radix || (reHasHexPrefix.test(string) ? 16 : 10));\n      };\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=0] The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n) {\n      var result = '';\n      string = baseToString(string);\n      n = +n;\n      if (n < 1 || !string || !nativeIsFinite(n)) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = floor(n / 2);\n        string += string;\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * Converts `string` to [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--foo-bar');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string` to [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__foo_bar__');\n     * // => 'Foo Bar'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + (word.charAt(0).toUpperCase() + word.slice(1));\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to search.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`, else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = baseToString(string);\n      position = position == null\n        ? 0\n        : nativeMin(position < 0 ? 0 : (+position || 0), string.length);\n\n      return string.lastIndexOf(target, position) == position;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is provided it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options] The options object.\n     * @param {RegExp} [options.escape] The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate] The \"evaluate\" delimiter.\n     * @param {Object} [options.imports] An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate] The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL] The sourceURL of the template's compiled source.\n     * @param {string} [options.variable] The data object variable name.\n     * @param- {Object} [otherOptions] Enables the legacy `options` param signature.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // using the \"interpolate\" delimiter to create a compiled template\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // using the HTML \"escape\" delimiter to escape data property values\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // using the \"evaluate\" delimiter to execute JavaScript and generate HTML\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // using the internal `print` function in \"evaluate\" delimiters\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // using the ES delimiter as an alternative to the default \"interpolate\" delimiter\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // using custom template delimiters\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // using backslashes to treat delimiters as plain text\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // using the `imports` option to import `jQuery` as `jq`\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // using the `sourceURL` option to specify a custom sourceURL for the template\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector\n     *\n     * // using the `variable` option to ensure a with-statement isn't used in the compiled template\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // using the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and a stack trace\n     * fs.writeFileSync(path.join(cwd, 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, otherOptions) {\n      // Based on John Resig's `tmpl` implementation (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (otherOptions && isIterateeCall(string, options, otherOptions)) {\n        options = otherOptions = null;\n      }\n      string = baseToString(string);\n      options = assignWith(baseAssign({}, otherOptions || options), settings, assignOwnDefaults);\n\n      var imports = assignWith(baseAssign({}, options.imports), settings.imports, assignOwnDefaults),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      var sourceURL = '//# sourceURL=' +\n        ('sourceURL' in options\n          ? options.sourceURL\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products requires returning the `match`\n        // string in order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      var variable = options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source).apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n    function trim(string, chars, guard) {\n      var value = string;\n      string = baseToString(string);\n      if (!string) {\n        return string;\n      }\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\n        return string.slice(trimmedLeftIndex(string), trimmedRightIndex(string) + 1);\n      }\n      chars = (chars + '');\n      return string.slice(charsLeftIndex(string, chars), charsRightIndex(string, chars) + 1);\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimLeft('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimLeft('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimLeft(string, chars, guard) {\n      var value = string;\n      string = baseToString(string);\n      if (!string) {\n        return string;\n      }\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\n        return string.slice(trimmedLeftIndex(string));\n      }\n      return string.slice(charsLeftIndex(string, (chars + '')));\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimRight('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimRight('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimRight(string, chars, guard) {\n      var value = string;\n      string = baseToString(string);\n      if (!string) {\n        return string;\n      }\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\n        return string.slice(0, trimmedRightIndex(string) + 1);\n      }\n      return string.slice(0, charsRightIndex(string, (chars + '')) + 1);\n    }\n\n    /**\n     * Truncates `string` if it is longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object|number} [options] The options object or maximum string length.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.trunc('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', 24);\n     * // => 'hi-diddly-ho there, n...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function trunc(string, options, guard) {\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = null;\n      }\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (options != null) {\n        if (isObject(options)) {\n          var separator = 'separator' in options ? options.separator : separator;\n          length = 'length' in options ? (+options.length || 0) : length;\n          omission = 'omission' in options ? baseToString(options.omission) : omission;\n        } else {\n          length = +options || 0;\n        }\n      }\n      string = baseToString(string);\n      if (length >= string.length) {\n        return string;\n      }\n      var end = length - omission.length;\n      if (end < 1) {\n        return omission;\n      }\n      var result = string.slice(0, end);\n      if (separator == null) {\n        return result + omission;\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              newEnd,\n              substring = string.slice(0, end);\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, (reFlags.exec(separator) || '') + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            newEnd = match.index;\n          }\n          result = result.slice(0, newEnd == null ? end : newEnd);\n        }\n      } else if (string.indexOf(separator, end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, `&#39;`, and `&#96;` in `string` to their\n     * corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional HTML\n     * entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = baseToString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      if (guard && isIterateeCall(string, pattern, guard)) {\n        pattern = null;\n      }\n      string = baseToString(string);\n      return string.match(pattern || reWords) || [];\n    }\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Function} func The function to attempt.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // avoid throwing errors for invalid selectors\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    var attempt = restParam(function(func, args) {\n      try {\n        return func.apply(undefined, args);\n      } catch(e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and arguments of the created function. If `func` is a property name the\n     * created callback returns the property value for a given element. If `func`\n     * is an object the created callback returns `true` for elements that contain\n     * the equivalent object properties, otherwise it returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias iteratee\n     * @category Utility\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // wrap to create custom callback shorthands\n     * _.callback = _.wrap(_.callback, function(callback, func, thisArg) {\n     *   var match = /^(.+?)__([gl]t)(.+)$/.exec(func);\n     *   if (!match) {\n     *     return callback(func, thisArg);\n     *   }\n     *   return function(object) {\n     *     return match[2] == 'gt'\n     *       ? object[match[1]] > match[3]\n     *       : object[match[1]] < match[3];\n     *   };\n     * });\n     *\n     * _.filter(users, 'age__gt36');\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     */\n    function callback(func, thisArg, guard) {\n      if (guard && isIterateeCall(func, thisArg, guard)) {\n        thisArg = null;\n      }\n      return isObjectLike(func)\n        ? matches(func)\n        : baseCallback(func, thisArg);\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     * var getter = _.constant(object);\n     *\n     * getter() === object;\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * This method returns the first argument provided to it.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * _.identity(object) === object;\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function which performs a deep comparison between a given object\n     * and `source`, returning `true` if the given object has equivalent property\n     * values, else `false`.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. For comparing a single\n     * own or inherited property value see `_.matchesProperty`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, _.matches({ 'age': 40, 'active': false }));\n     * // => [{ 'user': 'fred', 'age': 40, 'active': false }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, true));\n    }\n\n    /**\n     * Creates a function which compares the property value of `path` on a given\n     * object to `value`.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} value The value to compare.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * _.find(users, _.matchesProperty('user', 'fred'));\n     * // => { 'user': 'fred' }\n     */\n    function matchesProperty(path, value) {\n      return baseMatchesProperty(path, baseClone(value, true));\n    }\n\n    /**\n     * Creates a function which invokes the method at `path` on a given object.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Array|string} path The path of the method to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': { 'c': _.constant(2) } } },\n     *   { 'a': { 'b': { 'c': _.constant(1) } } }\n     * ];\n     *\n     * _.map(objects, _.method('a.b.c'));\n     * // => [2, 1]\n     *\n     * _.invoke(_.sortBy(objects, _.method(['a', 'b', 'c'])), 'a.b.c');\n     * // => [1, 2]\n     */\n    var method = restParam(function(path, args) {\n      return function(object) {\n        return invokePath(object, path, args);\n      };\n    });\n\n    /**\n     * The opposite of `_.method`; this method creates a function which invokes\n     * the method at a given path on `object`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var array = _.times(3, _.constant),\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n     * // => [2, 0]\n     */\n    var methodOf = restParam(function(object, args) {\n      return function(path) {\n        return invokePath(object, path, args);\n      };\n    });\n\n    /**\n     * Adds all own enumerable function properties of a source object to the\n     * destination object. If `object` is a function then methods are added to\n     * its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n     * avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Function|Object} [object=lodash] The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.chain=true] Specify whether the functions added\n     *  are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * // use `_.runInContext` to avoid conflicts (esp. in Node.js)\n     * var _ = require('lodash').runInContext();\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      if (options == null) {\n        var isObj = isObject(source),\n            props = isObj && keys(source),\n            methodNames = props && props.length && baseFunctions(source, props);\n\n        if (!(methodNames ? methodNames.length : isObj)) {\n          methodNames = false;\n          options = source;\n          source = object;\n          object = this;\n        }\n      }\n      if (!methodNames) {\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = true,\n          index = -1,\n          isFunc = isFunction(object),\n          length = methodNames.length;\n\n      if (options === false) {\n        chain = false;\n      } else if (isObject(options) && 'chain' in options) {\n        chain = options.chain;\n      }\n      while (++index < length) {\n        var methodName = methodNames[index],\n            func = source[methodName];\n\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = (function(func) {\n            return function() {\n              var chainAll = this.__chain__;\n              if (chain || chainAll) {\n                var result = object(this.__wrapped__),\n                    actions = result.__actions__ = arrayCopy(this.__actions__);\n\n                actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\n                result.__chain__ = chainAll;\n                return result;\n              }\n              var args = [this.value()];\n              push.apply(args, arguments);\n              return func.apply(object, args);\n            };\n          }(func));\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      context._ = oldDash;\n      return this;\n    }\n\n    /**\n     * A no-operation function which returns `undefined` regardless of the\n     * arguments it receives.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * _.noop(object) === undefined;\n     * // => true\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function which returns the property value at `path` on a\n     * given object.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': { 'c': 2 } } },\n     *   { 'a': { 'b': { 'c': 1 } } }\n     * ];\n     *\n     * _.map(objects, _.property('a.b.c'));\n     * // => [2, 1]\n     *\n     * _.pluck(_.sortBy(objects, _.property(['a', 'b', 'c'])), 'a.b.c');\n     * // => [1, 2]\n     */\n    function property(path) {\n      return isKey(path) ? baseProperty(path) : basePropertyDeep(path);\n    }\n\n    /**\n     * The opposite of `_.property`; this method creates a function which returns\n     * the property value at a given path on `object`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var array = [0, 1, 2],\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n     * // => [2, 0]\n     */\n    function propertyOf(object) {\n      return function(path) {\n        return baseGet(object, toPath(path), path + '');\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. If `end` is not specified it is\n     * set to `start` with `start` then set to `0`. If `end` is less than `start`\n     * a zero-length range is created unless a negative `step` is specified.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the new array of numbers.\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    function range(start, end, step) {\n      if (step && isIterateeCall(start, end, step)) {\n        end = step = null;\n      }\n      start = +start || 0;\n      step = step == null ? 1 : (+step || 0);\n\n      if (end == null) {\n        end = start;\n        start = 0;\n      } else {\n        end = +end || 0;\n      }\n      // Use `Array(length)` so engines like Chakra and V8 avoid slower modes.\n      // See https://youtu.be/XAqIpGU8ZZk#t=17m25s for more details.\n      var index = -1,\n          length = nativeMax(ceil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * Invokes the iteratee function `n` times, returning an array of the results\n     * of each invocation. The `iteratee` is bound to `thisArg` and invoked with\n     * one argument; (index).\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * var diceRolls = _.times(3, _.partial(_.random, 1, 6, false));\n     * // => [3, 6, 4]\n     *\n     * _.times(3, function(n) {\n     *   mage.castSpell(n);\n     * });\n     * // => invokes `mage.castSpell(n)` three times with `n` of `0`, `1`, and `2`\n     *\n     * _.times(3, function(n) {\n     *   this.cast(n);\n     * }, mage);\n     * // => also invokes `mage.castSpell(n)` three times\n     */\n    function times(n, iteratee, thisArg) {\n      n = floor(n);\n\n      // Exit early to avoid a JSC JIT bug in Safari 8\n      // where `Array(0)` is treated as `Array(1)`.\n      if (n < 1 || !nativeIsFinite(n)) {\n        return [];\n      }\n      var index = -1,\n          result = Array(nativeMin(n, MAX_ARRAY_LENGTH));\n\n      iteratee = bindCallback(iteratee, thisArg, 1);\n      while (++index < n) {\n        if (index < MAX_ARRAY_LENGTH) {\n          result[index] = iteratee(index);\n        } else {\n          iteratee(index);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is provided the ID is appended to it.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {string} [prefix] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return baseToString(prefix) + id;\n    }\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {number} augend The first number to add.\n     * @param {number} addend The second number to add.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n    function add(augend, addend) {\n      return (+augend || 0) + (+addend || 0);\n    }\n\n    /**\n     * Gets the maximum value of `collection`. If `collection` is empty or falsey\n     * `-Infinity` is returned. If an iteratee function is provided it is invoked\n     * for each value in `collection` to generate the criterion by which the value\n     * is ranked. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => -Infinity\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.max(users, function(chr) {\n     *   return chr.age;\n     * });\n     * // => { 'user': 'fred', 'age': 40 }\n     *\n     * // using the `_.property` callback shorthand\n     * _.max(users, 'age');\n     * // => { 'user': 'fred', 'age': 40 }\n     */\n    var max = createExtremum(arrayMax);\n\n    /**\n     * Gets the minimum value of `collection`. If `collection` is empty or falsey\n     * `Infinity` is returned. If an iteratee function is provided it is invoked\n     * for each value in `collection` to generate the criterion by which the value\n     * is ranked. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => Infinity\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.min(users, function(chr) {\n     *   return chr.age;\n     * });\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // using the `_.property` callback shorthand\n     * _.min(users, 'age');\n     * // => { 'user': 'barney', 'age': 36 }\n     */\n    var min = createExtremum(arrayMin, true);\n\n    /**\n     * Gets the sum of the values in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 6]);\n     * // => 10\n     *\n     * _.sum({ 'a': 4, 'b': 6 });\n     * // => 10\n     *\n     * var objects = [\n     *   { 'n': 4 },\n     *   { 'n': 6 }\n     * ];\n     *\n     * _.sum(objects, function(object) {\n     *   return object.n;\n     * });\n     * // => 10\n     *\n     * // using the `_.property` callback shorthand\n     * _.sum(objects, 'n');\n     * // => 10\n     */\n    function sum(collection, iteratee, thisArg) {\n      if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\n        iteratee = null;\n      }\n      var func = getCallback(),\n          noIteratee = iteratee == null;\n\n      if (!(func === baseCallback && noIteratee)) {\n        noIteratee = false;\n        iteratee = func(iteratee, thisArg, 3);\n      }\n      return noIteratee\n        ? arraySum(isArray(collection) ? collection : toIterable(collection))\n        : baseSum(collection, iteratee);\n    }\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    // Add functions to the `Map` cache.\n    MapCache.prototype['delete'] = mapDelete;\n    MapCache.prototype.get = mapGet;\n    MapCache.prototype.has = mapHas;\n    MapCache.prototype.set = mapSet;\n\n    // Add functions to the `Set` cache.\n    SetCache.prototype.push = cachePush;\n\n    // Assign cache to `_.memoize`.\n    memoize.Cache = MapCache;\n\n    // Add functions that return wrapped values when chaining.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.callback = callback;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.functions = functions;\n    lodash.groupBy = groupBy;\n    lodash.indexBy = indexBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.invert = invert;\n    lodash.invoke = invoke;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapKeys = mapKeys;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.method = method;\n    lodash.methodOf = methodOf;\n    lodash.mixin = mixin;\n    lodash.negate = negate;\n    lodash.omit = omit;\n    lodash.once = once;\n    lodash.pairs = pairs;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pluck = pluck;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.restParam = restParam;\n    lodash.set = set;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortByAll = sortByAll;\n    lodash.sortByOrder = sortByOrder;\n    lodash.spread = spread;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.times = times;\n    lodash.toArray = toArray;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.union = union;\n    lodash.uniq = uniq;\n    lodash.unzip = unzip;\n    lodash.unzipWith = unzipWith;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.where = where;\n    lodash.without = without;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n    lodash.zipWith = zipWith;\n\n    // Add aliases.\n    lodash.backflow = flowRight;\n    lodash.collect = map;\n    lodash.compose = flowRight;\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.extend = assign;\n    lodash.iteratee = callback;\n    lodash.methods = functions;\n    lodash.object = zipObject;\n    lodash.select = filter;\n    lodash.tail = rest;\n    lodash.unique = uniq;\n\n    // Add functions to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    // Add functions that return unwrapped values when chaining.\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.deburr = deburr;\n    lodash.endsWith = endsWith;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.findWhere = findWhere;\n    lodash.first = first;\n    lodash.get = get;\n    lodash.has = has;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isBoolean = isBoolean;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isMatch = isMatch;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isString = isString;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.max = max;\n    lodash.min = min;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padLeft = padLeft;\n    lodash.padRight = padRight;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.result = result;\n    lodash.runInContext = runInContext;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.sum = sum;\n    lodash.template = template;\n    lodash.trim = trim;\n    lodash.trimLeft = trimLeft;\n    lodash.trimRight = trimRight;\n    lodash.trunc = trunc;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.words = words;\n\n    // Add aliases.\n    lodash.all = every;\n    lodash.any = some;\n    lodash.contains = includes;\n    lodash.detect = find;\n    lodash.foldl = reduce;\n    lodash.foldr = reduceRight;\n    lodash.head = first;\n    lodash.include = includes;\n    lodash.inject = reduce;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!lodash.prototype[methodName]) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), false);\n\n    // Add functions capable of returning wrapped and unwrapped values when chaining.\n    lodash.sample = sample;\n\n    lodash.prototype.sample = function(n) {\n      if (!this.__chain__ && n == null) {\n        return sample(this.value());\n      }\n      return this.thru(function(value) {\n        return sample(value, n);\n      });\n    };\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type string\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['dropWhile', 'filter', 'map', 'takeWhile'], function(methodName, type) {\n      var isFilter = type != LAZY_MAP_FLAG,\n          isDropWhile = type == LAZY_DROP_WHILE_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee, thisArg) {\n        var filtered = this.__filtered__,\n            result = (filtered && isDropWhile) ? new LazyWrapper(this) : this.clone(),\n            iteratees = result.__iteratees__ || (result.__iteratees__ = []);\n\n        iteratees.push({\n          'done': false,\n          'count': 0,\n          'index': 0,\n          'iteratee': getCallback(iteratee, thisArg, 1),\n          'limit': -1,\n          'type': type\n        });\n\n        result.__filtered__ = filtered || isFilter;\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      var whileName = methodName + 'While';\n\n      LazyWrapper.prototype[methodName] = function(n) {\n        var filtered = this.__filtered__,\n            result = (filtered && !index) ? this.dropWhile() : this.clone();\n\n        n = n == null ? 1 : nativeMax(floor(n) || 0, 0);\n        if (filtered) {\n          if (index) {\n            result.__takeCount__ = nativeMin(result.__takeCount__, n);\n          } else {\n            last(result.__iteratees__).limit = n;\n          }\n        } else {\n          var views = result.__views__ || (result.__views__ = []);\n          views.push({ 'size': n, 'type': methodName + (result.__dir__ < 0 ? 'Right' : '') });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n\n      LazyWrapper.prototype[methodName + 'RightWhile'] = function(predicate, thisArg) {\n        return this.reverse()[whileName](predicate, thisArg).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.first` and `_.last`.\n    arrayEach(['first', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.rest`.\n    arrayEach(['initial', 'rest'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[dropName](1);\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.pluck` and `_.where`.\n    arrayEach(['pluck', 'where'], function(methodName, index) {\n      var operationName = index ? 'filter' : 'map',\n          createCallback = index ? baseMatches : property;\n\n      LazyWrapper.prototype[methodName] = function(value) {\n        return this[operationName](createCallback(value));\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.reject = function(predicate, thisArg) {\n      predicate = getCallback(predicate, thisArg, 1);\n      return this.filter(function(value) {\n        return !predicate(value);\n      });\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = start == null ? 0 : (+start || 0);\n\n      var result = this;\n      if (start < 0) {\n        result = this.takeRight(-start);\n      } else if (start) {\n        result = this.drop(start);\n      }\n      if (end !== undefined) {\n        end = (+end || 0);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.drop(0);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (!lodashFunc) {\n        return;\n      }\n      var checkIteratee = /^(?:filter|map|reject)|While$/.test(methodName),\n          retUnwrapped = /^(?:first|last)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments,\n            chainAll = this.__chain__,\n            value = this.__wrapped__,\n            isHybrid = !!this.__actions__.length,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // avoid lazy use if the iteratee has a \"length\" value other than `1`\n          isLazy = useLazy = false;\n        }\n        var onlyLazy = isLazy && !isHybrid;\n        if (retUnwrapped && !chainAll) {\n          return onlyLazy\n            ? func.call(value)\n            : lodashFunc.call(lodash, this.value());\n        }\n        var interceptor = function(value) {\n          var otherArgs = [value];\n          push.apply(otherArgs, args);\n          return lodashFunc.apply(lodash, otherArgs);\n        };\n        if (useLazy) {\n          var wrapper = onlyLazy ? value : new LazyWrapper(this),\n              result = func.apply(wrapper, args);\n\n          if (!retUnwrapped && (isHybrid || result.__actions__)) {\n            var actions = result.__actions__ || (result.__actions__ = []);\n            actions.push({ 'func': thru, 'args': [interceptor], 'thisArg': lodash });\n          }\n          return new LodashWrapper(result, chainAll);\n        }\n        return this.thru(interceptor);\n      };\n    });\n\n    // Add `Array` and `String` methods to `lodash.prototype`.\n    arrayEach(['concat', 'join', 'pop', 'push', 'replace', 'shift', 'sort', 'splice', 'split', 'unshift'], function(methodName) {\n      var func = (/^(?:replace|split)$/.test(methodName) ? stringProto : arrayProto)[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:join|pop|replace|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          return func.apply(this.value(), args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(value, args);\n        });\n      };\n    });\n\n    // Map minified function names to their real names.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (lodashFunc) {\n        var key = lodashFunc.name,\n            names = realNames[key] || (realNames[key] = []);\n\n        names.push({ 'name': methodName, 'func': lodashFunc });\n      }\n    });\n\n    realNames[createHybridWrapper(null, BIND_KEY_FLAG).name] = [{ 'name': 'wrapper', 'func': null }];\n\n    // Add functions to the lazy wrapper.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chaining functions to the `lodash` wrapper.\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toString = wrapperToString;\n    lodash.prototype.run = lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add function aliases to the `lodash` wrapper.\n    lodash.prototype.collect = lodash.prototype.map;\n    lodash.prototype.head = lodash.prototype.first;\n    lodash.prototype.select = lodash.prototype.filter;\n    lodash.prototype.tail = lodash.prototype.rest;\n\n    return lodash;\n  }\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers like r.js check for condition patterns like the following:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose lodash to the global object when an AMD loader is present to avoid\n    // errors in cases where lodash is loaded by a script tag and not intended\n    // as an AMD module. See http://requirejs.org/docs/errors.html#mismatch for\n    // more details.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    define(function() {\n      return _;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds an `exports` object.\n  else if (freeExports && freeModule) {\n    // Export for Node.js or RingoJS.\n    if (moduleExports) {\n      (freeModule.exports = _)._ = _;\n    }\n    // Export for Narwhal or Rhino -require.\n    else {\n      freeExports._ = _;\n    }\n  }\n  else {\n    // Export for a browser or Rhino.\n    root._ = _;\n  }\n}.call(this));\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],84:[function(require,module,exports){\n(function (__dirname){\n'use strict';\n\nvar addTrailingSlash = function(path) {\n\treturn path.substr(-1) === '/' ? path : path + '/';\n};\n\nvar normaliseRelativePath = function(path) {\n\treturn path.substr(0, 1) === '/' ? path : require('path').join(__dirname, path);\n};\n\nmodule.exports = {\n\tloadFromPath: function(pathToEntites, callback) {\n\t\tvar absolutePath = normaliseRelativePath(addTrailingSlash(pathToEntites));\n\n\t\tvar exports = {};\n\n\t\trequire('fs').readdirSync(absolutePath).forEach(function(file){\n\t\t\tif (file.substr(-3) !== '.js') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar name = file.replace('.js', '');\n\n\t\t\tif (callback) {\n\t\t\t\tcallback(require(absolutePath + file));\n\t\t\t} else {\n\t\t\t\texports[name] = require(absolutePath + file);\n\t\t\t}\n\t\t});\n\n\t\treturn exports;\n\t}\n};\n}).call(this,\"/node_modules/plug-n-play/src\")\n},{\"fs\":3,\"path\":4}],85:[function(require,module,exports){\n'use strict';\n\nvar loader = require('./folder-loader.js');\nvar isArray = require('lodash').isArray;\nvar each = require('lodash').each;\n\nvar plugins = {};\n\nvar get = function (name) {\n  if (!plugins[name]) {\n    throw new Error('No plugin defined for: ' + name);\n  }\n\n  return plugins[name];\n};\n\nvar load = function (module) {\n  module.deps = module.deps || [];\n\n  var args = [];\n  var i;\n\n  var deferredDependency = function (deferred) {\n    return function () {\n      if (arguments.length > 0) {\n        throw new Error('Incorrect use of deferred dependency. You\\'re probably going blah(p1, p2) when you should be going blah()(p1, p2).');\n      }\n\n      return get(deferred);\n    };\n  };\n\n  var dep;\n  for (i = 0; i < module.deps.length; i += 1) {\n    dep = module.deps[i];\n\n    args.push(deferredDependency(dep));\n  }\n\n  if (isArray(plugins[module.type])) {\n    plugins[module.type].push(module.func.apply(this, args));\n  } else {\n    plugins[module.type] = module.func.apply(this, args);\n  }\n};\n\nvar loadPath = function (path) {\n  loader.loadFromPath(path, load);\n};\n\nvar set = function (name, thing) {\n  plugins[name] = thing;\n};\n\nvar define = function (type, deps, func) {\n  if (deps instanceof Function) {\n    return {\n      type: type,\n      func: deps\n    };\n  } else {\n    return {\n      type: type,\n      deps: deps,\n      func: func\n    };\n  }\n};\n\nload({\n  type: 'DefinePlugin',\n  func: function () {\n    return function (type, deps, func) {\n      load(define(type, deps, func));\n    };\n  }\n});\n\nmodule.exports = {\n  configure: function(arrays) {\n    each(arrays, function(name) {\n      plugins[name] = [];\n    });\n\n    return {\n      load: load,\n      loadPath: loadPath,\n      set: set,\n      get: get\n    };\n  }\n};\n},{\"./folder-loader.js\":84,\"lodash\":83}],86:[function(require,module,exports){\n/* Zepto v1.1.6 - zepto event ajax form ie - zeptojs.com/license */\n\nvar Zepto = (function() {\n  var undefined, key, $, classList, emptyArray = [], slice = emptyArray.slice, filter = emptyArray.filter,\n    document = window.document,\n    elementDisplay = {}, classCache = {},\n    cssNumber = { 'column-count': 1, 'columns': 1, 'font-weight': 1, 'line-height': 1,'opacity': 1, 'z-index': 1, 'zoom': 1 },\n    fragmentRE = /^\\s*<(\\w+|!)[^>]*>/,\n    singleTagRE = /^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,\n    tagExpanderRE = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/ig,\n    rootNodeRE = /^(?:body|html)$/i,\n    capitalRE = /([A-Z])/g,\n\n    // special attributes that should be get/set via method calls\n    methodAttributes = ['val', 'css', 'html', 'text', 'data', 'width', 'height', 'offset'],\n\n    adjacencyOperators = [ 'after', 'prepend', 'before', 'append' ],\n    table = document.createElement('table'),\n    tableRow = document.createElement('tr'),\n    containers = {\n      'tr': document.createElement('tbody'),\n      'tbody': table, 'thead': table, 'tfoot': table,\n      'td': tableRow, 'th': tableRow,\n      '*': document.createElement('div')\n    },\n    readyRE = /complete|loaded|interactive/,\n    simpleSelectorRE = /^[\\w-]*$/,\n    class2type = {},\n    toString = class2type.toString,\n    zepto = {},\n    camelize, uniq,\n    tempParent = document.createElement('div'),\n    propMap = {\n      'tabindex': 'tabIndex',\n      'readonly': 'readOnly',\n      'for': 'htmlFor',\n      'class': 'className',\n      'maxlength': 'maxLength',\n      'cellspacing': 'cellSpacing',\n      'cellpadding': 'cellPadding',\n      'rowspan': 'rowSpan',\n      'colspan': 'colSpan',\n      'usemap': 'useMap',\n      'frameborder': 'frameBorder',\n      'contenteditable': 'contentEditable'\n    },\n    isArray = Array.isArray ||\n      function(object){ return object instanceof Array }\n\n  zepto.matches = function(element, selector) {\n    if (!selector || !element || element.nodeType !== 1) return false\n    var matchesSelector = element.webkitMatchesSelector || element.mozMatchesSelector ||\n                          element.oMatchesSelector || element.matchesSelector\n    if (matchesSelector) return matchesSelector.call(element, selector)\n    // fall back to performing a selector:\n    var match, parent = element.parentNode, temp = !parent\n    if (temp) (parent = tempParent).appendChild(element)\n    match = ~zepto.qsa(parent, selector).indexOf(element)\n    temp && tempParent.removeChild(element)\n    return match\n  }\n\n  function type(obj) {\n    return obj == null ? String(obj) :\n      class2type[toString.call(obj)] || \"object\"\n  }\n\n  function isFunction(value) { return type(value) == \"function\" }\n  function isWindow(obj)     { return obj != null && obj == obj.window }\n  function isDocument(obj)   { return obj != null && obj.nodeType == obj.DOCUMENT_NODE }\n  function isObject(obj)     { return type(obj) == \"object\" }\n  function isPlainObject(obj) {\n    return isObject(obj) && !isWindow(obj) && Object.getPrototypeOf(obj) == Object.prototype\n  }\n  function likeArray(obj) { return typeof obj.length == 'number' }\n\n  function compact(array) { return filter.call(array, function(item){ return item != null }) }\n  function flatten(array) { return array.length > 0 ? $.fn.concat.apply([], array) : array }\n  camelize = function(str){ return str.replace(/-+(.)?/g, function(match, chr){ return chr ? chr.toUpperCase() : '' }) }\n  function dasherize(str) {\n    return str.replace(/::/g, '/')\n           .replace(/([A-Z]+)([A-Z][a-z])/g, '$1_$2')\n           .replace(/([a-z\\d])([A-Z])/g, '$1_$2')\n           .replace(/_/g, '-')\n           .toLowerCase()\n  }\n  uniq = function(array){ return filter.call(array, function(item, idx){ return array.indexOf(item) == idx }) }\n\n  function classRE(name) {\n    return name in classCache ?\n      classCache[name] : (classCache[name] = new RegExp('(^|\\\\s)' + name + '(\\\\s|$)'))\n  }\n\n  function maybeAddPx(name, value) {\n    return (typeof value == \"number\" && !cssNumber[dasherize(name)]) ? value + \"px\" : value\n  }\n\n  function defaultDisplay(nodeName) {\n    var element, display\n    if (!elementDisplay[nodeName]) {\n      element = document.createElement(nodeName)\n      document.body.appendChild(element)\n      display = getComputedStyle(element, '').getPropertyValue(\"display\")\n      element.parentNode.removeChild(element)\n      display == \"none\" && (display = \"block\")\n      elementDisplay[nodeName] = display\n    }\n    return elementDisplay[nodeName]\n  }\n\n  function children(element) {\n    return 'children' in element ?\n      slice.call(element.children) :\n      $.map(element.childNodes, function(node){ if (node.nodeType == 1) return node })\n  }\n\n  // `$.zepto.fragment` takes a html string and an optional tag name\n  // to generate DOM nodes nodes from the given html string.\n  // The generated DOM nodes are returned as an array.\n  // This function can be overriden in plugins for example to make\n  // it compatible with browsers that don't support the DOM fully.\n  zepto.fragment = function(html, name, properties) {\n    var dom, nodes, container\n\n    // A special case optimization for a single tag\n    if (singleTagRE.test(html)) dom = $(document.createElement(RegExp.$1))\n\n    if (!dom) {\n      if (html.replace) html = html.replace(tagExpanderRE, \"<$1></$2>\")\n      if (name === undefined) name = fragmentRE.test(html) && RegExp.$1\n      if (!(name in containers)) name = '*'\n\n      container = containers[name]\n      container.innerHTML = '' + html\n      dom = $.each(slice.call(container.childNodes), function(){\n        container.removeChild(this)\n      })\n    }\n\n    if (isPlainObject(properties)) {\n      nodes = $(dom)\n      $.each(properties, function(key, value) {\n        if (methodAttributes.indexOf(key) > -1) nodes[key](value)\n        else nodes.attr(key, value)\n      })\n    }\n\n    return dom\n  }\n\n  // `$.zepto.Z` swaps out the prototype of the given `dom` array\n  // of nodes with `$.fn` and thus supplying all the Zepto functions\n  // to the array. Note that `__proto__` is not supported on Internet\n  // Explorer. This method can be overriden in plugins.\n  zepto.Z = function(dom, selector) {\n    dom = dom || []\n    dom.__proto__ = $.fn\n    dom.selector = selector || ''\n    return dom\n  }\n\n  // `$.zepto.isZ` should return `true` if the given object is a Zepto\n  // collection. This method can be overriden in plugins.\n  zepto.isZ = function(object) {\n    return object instanceof zepto.Z\n  }\n\n  // `$.zepto.init` is Zepto's counterpart to jQuery's `$.fn.init` and\n  // takes a CSS selector and an optional context (and handles various\n  // special cases).\n  // This method can be overriden in plugins.\n  zepto.init = function(selector, context) {\n    var dom\n    // If nothing given, return an empty Zepto collection\n    if (!selector) return zepto.Z()\n    // Optimize for string selectors\n    else if (typeof selector == 'string') {\n      selector = selector.trim()\n      // If it's a html fragment, create nodes from it\n      // Note: In both Chrome 21 and Firefox 15, DOM error 12\n      // is thrown if the fragment doesn't begin with <\n      if (selector[0] == '<' && fragmentRE.test(selector))\n        dom = zepto.fragment(selector, RegExp.$1, context), selector = null\n      // If there's a context, create a collection on that context first, and select\n      // nodes from there\n      else if (context !== undefined) return $(context).find(selector)\n      // If it's a CSS selector, use it to select nodes.\n      else dom = zepto.qsa(document, selector)\n    }\n    // If a function is given, call it when the DOM is ready\n    else if (isFunction(selector)) return $(document).ready(selector)\n    // If a Zepto collection is given, just return it\n    else if (zepto.isZ(selector)) return selector\n    else {\n      // normalize array if an array of nodes is given\n      if (isArray(selector)) dom = compact(selector)\n      // Wrap DOM nodes.\n      else if (isObject(selector))\n        dom = [selector], selector = null\n      // If it's a html fragment, create nodes from it\n      else if (fragmentRE.test(selector))\n        dom = zepto.fragment(selector.trim(), RegExp.$1, context), selector = null\n      // If there's a context, create a collection on that context first, and select\n      // nodes from there\n      else if (context !== undefined) return $(context).find(selector)\n      // And last but no least, if it's a CSS selector, use it to select nodes.\n      else dom = zepto.qsa(document, selector)\n    }\n    // create a new Zepto collection from the nodes found\n    return zepto.Z(dom, selector)\n  }\n\n  // `$` will be the base `Zepto` object. When calling this\n  // function just call `$.zepto.init, which makes the implementation\n  // details of selecting nodes and creating Zepto collections\n  // patchable in plugins.\n  $ = function(selector, context){\n    return zepto.init(selector, context)\n  }\n\n  function extend(target, source, deep) {\n    for (key in source)\n      if (deep && (isPlainObject(source[key]) || isArray(source[key]))) {\n        if (isPlainObject(source[key]) && !isPlainObject(target[key]))\n          target[key] = {}\n        if (isArray(source[key]) && !isArray(target[key]))\n          target[key] = []\n        extend(target[key], source[key], deep)\n      }\n      else if (source[key] !== undefined) target[key] = source[key]\n  }\n\n  // Copy all but undefined properties from one or more\n  // objects to the `target` object.\n  $.extend = function(target){\n    var deep, args = slice.call(arguments, 1)\n    if (typeof target == 'boolean') {\n      deep = target\n      target = args.shift()\n    }\n    args.forEach(function(arg){ extend(target, arg, deep) })\n    return target\n  }\n\n  // `$.zepto.qsa` is Zepto's CSS selector implementation which\n  // uses `document.querySelectorAll` and optimizes for some special cases, like `#id`.\n  // This method can be overriden in plugins.\n  zepto.qsa = function(element, selector){\n    var found,\n        maybeID = selector[0] == '#',\n        maybeClass = !maybeID && selector[0] == '.',\n        nameOnly = maybeID || maybeClass ? selector.slice(1) : selector, // Ensure that a 1 char tag name still gets checked\n        isSimple = simpleSelectorRE.test(nameOnly)\n    return (isDocument(element) && isSimple && maybeID) ?\n      ( (found = element.getElementById(nameOnly)) ? [found] : [] ) :\n      (element.nodeType !== 1 && element.nodeType !== 9) ? [] :\n      slice.call(\n        isSimple && !maybeID ?\n          maybeClass ? element.getElementsByClassName(nameOnly) : // If it's simple, it could be a class\n          element.getElementsByTagName(selector) : // Or a tag\n          element.querySelectorAll(selector) // Or it's not simple, and we need to query all\n      )\n  }\n\n  function filtered(nodes, selector) {\n    return selector == null ? $(nodes) : $(nodes).filter(selector)\n  }\n\n  $.contains = document.documentElement.contains ?\n    function(parent, node) {\n      return parent !== node && parent.contains(node)\n    } :\n    function(parent, node) {\n      while (node && (node = node.parentNode))\n        if (node === parent) return true\n      return false\n    }\n\n  function funcArg(context, arg, idx, payload) {\n    return isFunction(arg) ? arg.call(context, idx, payload) : arg\n  }\n\n  function setAttribute(node, name, value) {\n    value == null ? node.removeAttribute(name) : node.setAttribute(name, value)\n  }\n\n  // access className property while respecting SVGAnimatedString\n  function className(node, value){\n    var klass = node.className || '',\n        svg   = klass && klass.baseVal !== undefined\n\n    if (value === undefined) return svg ? klass.baseVal : klass\n    svg ? (klass.baseVal = value) : (node.className = value)\n  }\n\n  // \"true\"  => true\n  // \"false\" => false\n  // \"null\"  => null\n  // \"42\"    => 42\n  // \"42.5\"  => 42.5\n  // \"08\"    => \"08\"\n  // JSON    => parse if valid\n  // String  => self\n  function deserializeValue(value) {\n    try {\n      return value ?\n        value == \"true\" ||\n        ( value == \"false\" ? false :\n          value == \"null\" ? null :\n          +value + \"\" == value ? +value :\n          /^[\\[\\{]/.test(value) ? $.parseJSON(value) :\n          value )\n        : value\n    } catch(e) {\n      return value\n    }\n  }\n\n  $.type = type\n  $.isFunction = isFunction\n  $.isWindow = isWindow\n  $.isArray = isArray\n  $.isPlainObject = isPlainObject\n\n  $.isEmptyObject = function(obj) {\n    var name\n    for (name in obj) return false\n    return true\n  }\n\n  $.inArray = function(elem, array, i){\n    return emptyArray.indexOf.call(array, elem, i)\n  }\n\n  $.camelCase = camelize\n  $.trim = function(str) {\n    return str == null ? \"\" : String.prototype.trim.call(str)\n  }\n\n  // plugin compatibility\n  $.uuid = 0\n  $.support = { }\n  $.expr = { }\n\n  $.map = function(elements, callback){\n    var value, values = [], i, key\n    if (likeArray(elements))\n      for (i = 0; i < elements.length; i++) {\n        value = callback(elements[i], i)\n        if (value != null) values.push(value)\n      }\n    else\n      for (key in elements) {\n        value = callback(elements[key], key)\n        if (value != null) values.push(value)\n      }\n    return flatten(values)\n  }\n\n  $.each = function(elements, callback){\n    var i, key\n    if (likeArray(elements)) {\n      for (i = 0; i < elements.length; i++)\n        if (callback.call(elements[i], i, elements[i]) === false) return elements\n    } else {\n      for (key in elements)\n        if (callback.call(elements[key], key, elements[key]) === false) return elements\n    }\n\n    return elements\n  }\n\n  $.grep = function(elements, callback){\n    return filter.call(elements, callback)\n  }\n\n  if (window.JSON) $.parseJSON = JSON.parse\n\n  // Populate the class2type map\n  $.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"), function(i, name) {\n    class2type[ \"[object \" + name + \"]\" ] = name.toLowerCase()\n  })\n\n  // Define methods that will be available on all\n  // Zepto collections\n  $.fn = {\n    // Because a collection acts like an array\n    // copy over these useful array functions.\n    forEach: emptyArray.forEach,\n    reduce: emptyArray.reduce,\n    push: emptyArray.push,\n    sort: emptyArray.sort,\n    indexOf: emptyArray.indexOf,\n    concat: emptyArray.concat,\n\n    // `map` and `slice` in the jQuery API work differently\n    // from their array counterparts\n    map: function(fn){\n      return $($.map(this, function(el, i){ return fn.call(el, i, el) }))\n    },\n    slice: function(){\n      return $(slice.apply(this, arguments))\n    },\n\n    ready: function(callback){\n      // need to check if document.body exists for IE as that browser reports\n      // document ready when it hasn't yet created the body element\n      if (readyRE.test(document.readyState) && document.body) callback($)\n      else document.addEventListener('DOMContentLoaded', function(){ callback($) }, false)\n      return this\n    },\n    get: function(idx){\n      return idx === undefined ? slice.call(this) : this[idx >= 0 ? idx : idx + this.length]\n    },\n    toArray: function(){ return this.get() },\n    size: function(){\n      return this.length\n    },\n    remove: function(){\n      return this.each(function(){\n        if (this.parentNode != null)\n          this.parentNode.removeChild(this)\n      })\n    },\n    each: function(callback){\n      emptyArray.every.call(this, function(el, idx){\n        return callback.call(el, idx, el) !== false\n      })\n      return this\n    },\n    filter: function(selector){\n      if (isFunction(selector)) return this.not(this.not(selector))\n      return $(filter.call(this, function(element){\n        return zepto.matches(element, selector)\n      }))\n    },\n    add: function(selector,context){\n      return $(uniq(this.concat($(selector,context))))\n    },\n    is: function(selector){\n      return this.length > 0 && zepto.matches(this[0], selector)\n    },\n    not: function(selector){\n      var nodes=[]\n      if (isFunction(selector) && selector.call !== undefined)\n        this.each(function(idx){\n          if (!selector.call(this,idx)) nodes.push(this)\n        })\n      else {\n        var excludes = typeof selector == 'string' ? this.filter(selector) :\n          (likeArray(selector) && isFunction(selector.item)) ? slice.call(selector) : $(selector)\n        this.forEach(function(el){\n          if (excludes.indexOf(el) < 0) nodes.push(el)\n        })\n      }\n      return $(nodes)\n    },\n    has: function(selector){\n      return this.filter(function(){\n        return isObject(selector) ?\n          $.contains(this, selector) :\n          $(this).find(selector).size()\n      })\n    },\n    eq: function(idx){\n      return idx === -1 ? this.slice(idx) : this.slice(idx, + idx + 1)\n    },\n    first: function(){\n      var el = this[0]\n      return el && !isObject(el) ? el : $(el)\n    },\n    last: function(){\n      var el = this[this.length - 1]\n      return el && !isObject(el) ? el : $(el)\n    },\n    find: function(selector){\n      var result, $this = this\n      if (!selector) result = $()\n      else if (typeof selector == 'object')\n        result = $(selector).filter(function(){\n          var node = this\n          return emptyArray.some.call($this, function(parent){\n            return $.contains(parent, node)\n          })\n        })\n      else if (this.length == 1) result = $(zepto.qsa(this[0], selector))\n      else result = this.map(function(){ return zepto.qsa(this, selector) })\n      return result\n    },\n    closest: function(selector, context){\n      var node = this[0], collection = false\n      if (typeof selector == 'object') collection = $(selector)\n      while (node && !(collection ? collection.indexOf(node) >= 0 : zepto.matches(node, selector)))\n        node = node !== context && !isDocument(node) && node.parentNode\n      return $(node)\n    },\n    parents: function(selector){\n      var ancestors = [], nodes = this\n      while (nodes.length > 0)\n        nodes = $.map(nodes, function(node){\n          if ((node = node.parentNode) && !isDocument(node) && ancestors.indexOf(node) < 0) {\n            ancestors.push(node)\n            return node\n          }\n        })\n      return filtered(ancestors, selector)\n    },\n    parent: function(selector){\n      return filtered(uniq(this.pluck('parentNode')), selector)\n    },\n    children: function(selector){\n      return filtered(this.map(function(){ return children(this) }), selector)\n    },\n    contents: function() {\n      return this.map(function() { return slice.call(this.childNodes) })\n    },\n    siblings: function(selector){\n      return filtered(this.map(function(i, el){\n        return filter.call(children(el.parentNode), function(child){ return child!==el })\n      }), selector)\n    },\n    empty: function(){\n      return this.each(function(){ this.innerHTML = '' })\n    },\n    // `pluck` is borrowed from Prototype.js\n    pluck: function(property){\n      return $.map(this, function(el){ return el[property] })\n    },\n    show: function(){\n      return this.each(function(){\n        this.style.display == \"none\" && (this.style.display = '')\n        if (getComputedStyle(this, '').getPropertyValue(\"display\") == \"none\")\n          this.style.display = defaultDisplay(this.nodeName)\n      })\n    },\n    replaceWith: function(newContent){\n      return this.before(newContent).remove()\n    },\n    wrap: function(structure){\n      var func = isFunction(structure)\n      if (this[0] && !func)\n        var dom   = $(structure).get(0),\n            clone = dom.parentNode || this.length > 1\n\n      return this.each(function(index){\n        $(this).wrapAll(\n          func ? structure.call(this, index) :\n            clone ? dom.cloneNode(true) : dom\n        )\n      })\n    },\n    wrapAll: function(structure){\n      if (this[0]) {\n        $(this[0]).before(structure = $(structure))\n        var children\n        // drill down to the inmost element\n        while ((children = structure.children()).length) structure = children.first()\n        $(structure).append(this)\n      }\n      return this\n    },\n    wrapInner: function(structure){\n      var func = isFunction(structure)\n      return this.each(function(index){\n        var self = $(this), contents = self.contents(),\n            dom  = func ? structure.call(this, index) : structure\n        contents.length ? contents.wrapAll(dom) : self.append(dom)\n      })\n    },\n    unwrap: function(){\n      this.parent().each(function(){\n        $(this).replaceWith($(this).children())\n      })\n      return this\n    },\n    clone: function(){\n      return this.map(function(){ return this.cloneNode(true) })\n    },\n    hide: function(){\n      return this.css(\"display\", \"none\")\n    },\n    toggle: function(setting){\n      return this.each(function(){\n        var el = $(this)\n        ;(setting === undefined ? el.css(\"display\") == \"none\" : setting) ? el.show() : el.hide()\n      })\n    },\n    prev: function(selector){ return $(this.pluck('previousElementSibling')).filter(selector || '*') },\n    next: function(selector){ return $(this.pluck('nextElementSibling')).filter(selector || '*') },\n    html: function(html){\n      return 0 in arguments ?\n        this.each(function(idx){\n          var originHtml = this.innerHTML\n          $(this).empty().append( funcArg(this, html, idx, originHtml) )\n        }) :\n        (0 in this ? this[0].innerHTML : null)\n    },\n    text: function(text){\n      return 0 in arguments ?\n        this.each(function(idx){\n          var newText = funcArg(this, text, idx, this.textContent)\n          this.textContent = newText == null ? '' : ''+newText\n        }) :\n        (0 in this ? this[0].textContent : null)\n    },\n    attr: function(name, value){\n      var result\n      return (typeof name == 'string' && !(1 in arguments)) ?\n        (!this.length || this[0].nodeType !== 1 ? undefined :\n          (!(result = this[0].getAttribute(name)) && name in this[0]) ? this[0][name] : result\n        ) :\n        this.each(function(idx){\n          if (this.nodeType !== 1) return\n          if (isObject(name)) for (key in name) setAttribute(this, key, name[key])\n          else setAttribute(this, name, funcArg(this, value, idx, this.getAttribute(name)))\n        })\n    },\n    removeAttr: function(name){\n      return this.each(function(){ this.nodeType === 1 && name.split(' ').forEach(function(attribute){\n        setAttribute(this, attribute)\n      }, this)})\n    },\n    prop: function(name, value){\n      name = propMap[name] || name\n      return (1 in arguments) ?\n        this.each(function(idx){\n          this[name] = funcArg(this, value, idx, this[name])\n        }) :\n        (this[0] && this[0][name])\n    },\n    data: function(name, value){\n      var attrName = 'data-' + name.replace(capitalRE, '-$1').toLowerCase()\n\n      var data = (1 in arguments) ?\n        this.attr(attrName, value) :\n        this.attr(attrName)\n\n      return data !== null ? deserializeValue(data) : undefined\n    },\n    val: function(value){\n      return 0 in arguments ?\n        this.each(function(idx){\n          this.value = funcArg(this, value, idx, this.value)\n        }) :\n        (this[0] && (this[0].multiple ?\n           $(this[0]).find('option').filter(function(){ return this.selected }).pluck('value') :\n           this[0].value)\n        )\n    },\n    offset: function(coordinates){\n      if (coordinates) return this.each(function(index){\n        var $this = $(this),\n            coords = funcArg(this, coordinates, index, $this.offset()),\n            parentOffset = $this.offsetParent().offset(),\n            props = {\n              top:  coords.top  - parentOffset.top,\n              left: coords.left - parentOffset.left\n            }\n\n        if ($this.css('position') == 'static') props['position'] = 'relative'\n        $this.css(props)\n      })\n      if (!this.length) return null\n      var obj = this[0].getBoundingClientRect()\n      return {\n        left: obj.left + window.pageXOffset,\n        top: obj.top + window.pageYOffset,\n        width: Math.round(obj.width),\n        height: Math.round(obj.height)\n      }\n    },\n    css: function(property, value){\n      if (arguments.length < 2) {\n        var computedStyle, element = this[0]\n        if(!element) return\n        computedStyle = getComputedStyle(element, '')\n        if (typeof property == 'string')\n          return element.style[camelize(property)] || computedStyle.getPropertyValue(property)\n        else if (isArray(property)) {\n          var props = {}\n          $.each(property, function(_, prop){\n            props[prop] = (element.style[camelize(prop)] || computedStyle.getPropertyValue(prop))\n          })\n          return props\n        }\n      }\n\n      var css = ''\n      if (type(property) == 'string') {\n        if (!value && value !== 0)\n          this.each(function(){ this.style.removeProperty(dasherize(property)) })\n        else\n          css = dasherize(property) + \":\" + maybeAddPx(property, value)\n      } else {\n        for (key in property)\n          if (!property[key] && property[key] !== 0)\n            this.each(function(){ this.style.removeProperty(dasherize(key)) })\n          else\n            css += dasherize(key) + ':' + maybeAddPx(key, property[key]) + ';'\n      }\n\n      return this.each(function(){ this.style.cssText += ';' + css })\n    },\n    index: function(element){\n      return element ? this.indexOf($(element)[0]) : this.parent().children().indexOf(this[0])\n    },\n    hasClass: function(name){\n      if (!name) return false\n      return emptyArray.some.call(this, function(el){\n        return this.test(className(el))\n      }, classRE(name))\n    },\n    addClass: function(name){\n      if (!name) return this\n      return this.each(function(idx){\n        if (!('className' in this)) return\n        classList = []\n        var cls = className(this), newName = funcArg(this, name, idx, cls)\n        newName.split(/\\s+/g).forEach(function(klass){\n          if (!$(this).hasClass(klass)) classList.push(klass)\n        }, this)\n        classList.length && className(this, cls + (cls ? \" \" : \"\") + classList.join(\" \"))\n      })\n    },\n    removeClass: function(name){\n      return this.each(function(idx){\n        if (!('className' in this)) return\n        if (name === undefined) return className(this, '')\n        classList = className(this)\n        funcArg(this, name, idx, classList).split(/\\s+/g).forEach(function(klass){\n          classList = classList.replace(classRE(klass), \" \")\n        })\n        className(this, classList.trim())\n      })\n    },\n    toggleClass: function(name, when){\n      if (!name) return this\n      return this.each(function(idx){\n        var $this = $(this), names = funcArg(this, name, idx, className(this))\n        names.split(/\\s+/g).forEach(function(klass){\n          (when === undefined ? !$this.hasClass(klass) : when) ?\n            $this.addClass(klass) : $this.removeClass(klass)\n        })\n      })\n    },\n    scrollTop: function(value){\n      if (!this.length) return\n      var hasScrollTop = 'scrollTop' in this[0]\n      if (value === undefined) return hasScrollTop ? this[0].scrollTop : this[0].pageYOffset\n      return this.each(hasScrollTop ?\n        function(){ this.scrollTop = value } :\n        function(){ this.scrollTo(this.scrollX, value) })\n    },\n    scrollLeft: function(value){\n      if (!this.length) return\n      var hasScrollLeft = 'scrollLeft' in this[0]\n      if (value === undefined) return hasScrollLeft ? this[0].scrollLeft : this[0].pageXOffset\n      return this.each(hasScrollLeft ?\n        function(){ this.scrollLeft = value } :\n        function(){ this.scrollTo(value, this.scrollY) })\n    },\n    position: function() {\n      if (!this.length) return\n\n      var elem = this[0],\n        // Get *real* offsetParent\n        offsetParent = this.offsetParent(),\n        // Get correct offsets\n        offset       = this.offset(),\n        parentOffset = rootNodeRE.test(offsetParent[0].nodeName) ? { top: 0, left: 0 } : offsetParent.offset()\n\n      // Subtract element margins\n      // note: when an element has margin: auto the offsetLeft and marginLeft\n      // are the same in Safari causing offset.left to incorrectly be 0\n      offset.top  -= parseFloat( $(elem).css('margin-top') ) || 0\n      offset.left -= parseFloat( $(elem).css('margin-left') ) || 0\n\n      // Add offsetParent borders\n      parentOffset.top  += parseFloat( $(offsetParent[0]).css('border-top-width') ) || 0\n      parentOffset.left += parseFloat( $(offsetParent[0]).css('border-left-width') ) || 0\n\n      // Subtract the two offsets\n      return {\n        top:  offset.top  - parentOffset.top,\n        left: offset.left - parentOffset.left\n      }\n    },\n    offsetParent: function() {\n      return this.map(function(){\n        var parent = this.offsetParent || document.body\n        while (parent && !rootNodeRE.test(parent.nodeName) && $(parent).css(\"position\") == \"static\")\n          parent = parent.offsetParent\n        return parent\n      })\n    }\n  }\n\n  // for now\n  $.fn.detach = $.fn.remove\n\n  // Generate the `width` and `height` functions\n  ;['width', 'height'].forEach(function(dimension){\n    var dimensionProperty =\n      dimension.replace(/./, function(m){ return m[0].toUpperCase() })\n\n    $.fn[dimension] = function(value){\n      var offset, el = this[0]\n      if (value === undefined) return isWindow(el) ? el['inner' + dimensionProperty] :\n        isDocument(el) ? el.documentElement['scroll' + dimensionProperty] :\n        (offset = this.offset()) && offset[dimension]\n      else return this.each(function(idx){\n        el = $(this)\n        el.css(dimension, funcArg(this, value, idx, el[dimension]()))\n      })\n    }\n  })\n\n  function traverseNode(node, fun) {\n    fun(node)\n    for (var i = 0, len = node.childNodes.length; i < len; i++)\n      traverseNode(node.childNodes[i], fun)\n  }\n\n  // Generate the `after`, `prepend`, `before`, `append`,\n  // `insertAfter`, `insertBefore`, `appendTo`, and `prependTo` methods.\n  adjacencyOperators.forEach(function(operator, operatorIndex) {\n    var inside = operatorIndex % 2 //=> prepend, append\n\n    $.fn[operator] = function(){\n      // arguments can be nodes, arrays of nodes, Zepto objects and HTML strings\n      var argType, nodes = $.map(arguments, function(arg) {\n            argType = type(arg)\n            return argType == \"object\" || argType == \"array\" || arg == null ?\n              arg : zepto.fragment(arg)\n          }),\n          parent, copyByClone = this.length > 1\n      if (nodes.length < 1) return this\n\n      return this.each(function(_, target){\n        parent = inside ? target : target.parentNode\n\n        // convert all methods to a \"before\" operation\n        target = operatorIndex == 0 ? target.nextSibling :\n                 operatorIndex == 1 ? target.firstChild :\n                 operatorIndex == 2 ? target :\n                 null\n\n        var parentInDocument = $.contains(document.documentElement, parent)\n\n        nodes.forEach(function(node){\n          if (copyByClone) node = node.cloneNode(true)\n          else if (!parent) return $(node).remove()\n\n          parent.insertBefore(node, target)\n          if (parentInDocument) traverseNode(node, function(el){\n            if (el.nodeName != null && el.nodeName.toUpperCase() === 'SCRIPT' &&\n               (!el.type || el.type === 'text/javascript') && !el.src)\n              window['eval'].call(window, el.innerHTML)\n          })\n        })\n      })\n    }\n\n    // after    => insertAfter\n    // prepend  => prependTo\n    // before   => insertBefore\n    // append   => appendTo\n    $.fn[inside ? operator+'To' : 'insert'+(operatorIndex ? 'Before' : 'After')] = function(html){\n      $(html)[operator](this)\n      return this\n    }\n  })\n\n  zepto.Z.prototype = $.fn\n\n  // Export internal API functions in the `$.zepto` namespace\n  zepto.uniq = uniq\n  zepto.deserializeValue = deserializeValue\n  $.zepto = zepto\n\n  return $\n})()\n\nwindow.Zepto = Zepto\nwindow.$ === undefined && (window.$ = Zepto)\n\n// Added by github/jiyinyiyong to create an npm package\nexports.Zepto = window.Zepto\nexports.$ = window.$\n\n;(function($){\n  var _zid = 1, undefined,\n      slice = Array.prototype.slice,\n      isFunction = $.isFunction,\n      isString = function(obj){ return typeof obj == 'string' },\n      handlers = {},\n      specialEvents={},\n      focusinSupported = 'onfocusin' in window,\n      focus = { focus: 'focusin', blur: 'focusout' },\n      hover = { mouseenter: 'mouseover', mouseleave: 'mouseout' }\n\n  specialEvents.click = specialEvents.mousedown = specialEvents.mouseup = specialEvents.mousemove = 'MouseEvents'\n\n  function zid(element) {\n    return element._zid || (element._zid = _zid++)\n  }\n  function findHandlers(element, event, fn, selector) {\n    event = parse(event)\n    if (event.ns) var matcher = matcherFor(event.ns)\n    return (handlers[zid(element)] || []).filter(function(handler) {\n      return handler\n        && (!event.e  || handler.e == event.e)\n        && (!event.ns || matcher.test(handler.ns))\n        && (!fn       || zid(handler.fn) === zid(fn))\n        && (!selector || handler.sel == selector)\n    })\n  }\n  function parse(event) {\n    var parts = ('' + event).split('.')\n    return {e: parts[0], ns: parts.slice(1).sort().join(' ')}\n  }\n  function matcherFor(ns) {\n    return new RegExp('(?:^| )' + ns.replace(' ', ' .* ?') + '(?: |$)')\n  }\n\n  function eventCapture(handler, captureSetting) {\n    return handler.del &&\n      (!focusinSupported && (handler.e in focus)) ||\n      !!captureSetting\n  }\n\n  function realEvent(type) {\n    return hover[type] || (focusinSupported && focus[type]) || type\n  }\n\n  function add(element, events, fn, data, selector, delegator, capture){\n    var id = zid(element), set = (handlers[id] || (handlers[id] = []))\n    events.split(/\\s/).forEach(function(event){\n      if (event == 'ready') return $(document).ready(fn)\n      var handler   = parse(event)\n      handler.fn    = fn\n      handler.sel   = selector\n      // emulate mouseenter, mouseleave\n      if (handler.e in hover) fn = function(e){\n        var related = e.relatedTarget\n        if (!related || (related !== this && !$.contains(this, related)))\n          return handler.fn.apply(this, arguments)\n      }\n      handler.del   = delegator\n      var callback  = delegator || fn\n      handler.proxy = function(e){\n        e = compatible(e)\n        if (e.isImmediatePropagationStopped()) return\n        e.data = data\n        var result = callback.apply(element, e._args == undefined ? [e] : [e].concat(e._args))\n        if (result === false) e.preventDefault(), e.stopPropagation()\n        return result\n      }\n      handler.i = set.length\n      set.push(handler)\n      if ('addEventListener' in element)\n        element.addEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture))\n    })\n  }\n  function remove(element, events, fn, selector, capture){\n    var id = zid(element)\n    ;(events || '').split(/\\s/).forEach(function(event){\n      findHandlers(element, event, fn, selector).forEach(function(handler){\n        delete handlers[id][handler.i]\n      if ('removeEventListener' in element)\n        element.removeEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture))\n      })\n    })\n  }\n\n  $.event = { add: add, remove: remove }\n\n  $.proxy = function(fn, context) {\n    var args = (2 in arguments) && slice.call(arguments, 2)\n    if (isFunction(fn)) {\n      var proxyFn = function(){ return fn.apply(context, args ? args.concat(slice.call(arguments)) : arguments) }\n      proxyFn._zid = zid(fn)\n      return proxyFn\n    } else if (isString(context)) {\n      if (args) {\n        args.unshift(fn[context], fn)\n        return $.proxy.apply(null, args)\n      } else {\n        return $.proxy(fn[context], fn)\n      }\n    } else {\n      throw new TypeError(\"expected function\")\n    }\n  }\n\n  $.fn.bind = function(event, data, callback){\n    return this.on(event, data, callback)\n  }\n  $.fn.unbind = function(event, callback){\n    return this.off(event, callback)\n  }\n  $.fn.one = function(event, selector, data, callback){\n    return this.on(event, selector, data, callback, 1)\n  }\n\n  var returnTrue = function(){return true},\n      returnFalse = function(){return false},\n      ignoreProperties = /^([A-Z]|returnValue$|layer[XY]$)/,\n      eventMethods = {\n        preventDefault: 'isDefaultPrevented',\n        stopImmediatePropagation: 'isImmediatePropagationStopped',\n        stopPropagation: 'isPropagationStopped'\n      }\n\n  function compatible(event, source) {\n    if (source || !event.isDefaultPrevented) {\n      source || (source = event)\n\n      $.each(eventMethods, function(name, predicate) {\n        var sourceMethod = source[name]\n        event[name] = function(){\n          this[predicate] = returnTrue\n          return sourceMethod && sourceMethod.apply(source, arguments)\n        }\n        event[predicate] = returnFalse\n      })\n\n      if (source.defaultPrevented !== undefined ? source.defaultPrevented :\n          'returnValue' in source ? source.returnValue === false :\n          source.getPreventDefault && source.getPreventDefault())\n        event.isDefaultPrevented = returnTrue\n    }\n    return event\n  }\n\n  function createProxy(event) {\n    var key, proxy = { originalEvent: event }\n    for (key in event)\n      if (!ignoreProperties.test(key) && event[key] !== undefined) proxy[key] = event[key]\n\n    return compatible(proxy, event)\n  }\n\n  $.fn.delegate = function(selector, event, callback){\n    return this.on(event, selector, callback)\n  }\n  $.fn.undelegate = function(selector, event, callback){\n    return this.off(event, selector, callback)\n  }\n\n  $.fn.live = function(event, callback){\n    $(document.body).delegate(this.selector, event, callback)\n    return this\n  }\n  $.fn.die = function(event, callback){\n    $(document.body).undelegate(this.selector, event, callback)\n    return this\n  }\n\n  $.fn.on = function(event, selector, data, callback, one){\n    var autoRemove, delegator, $this = this\n    if (event && !isString(event)) {\n      $.each(event, function(type, fn){\n        $this.on(type, selector, data, fn, one)\n      })\n      return $this\n    }\n\n    if (!isString(selector) && !isFunction(callback) && callback !== false)\n      callback = data, data = selector, selector = undefined\n    if (isFunction(data) || data === false)\n      callback = data, data = undefined\n\n    if (callback === false) callback = returnFalse\n\n    return $this.each(function(_, element){\n      if (one) autoRemove = function(e){\n        remove(element, e.type, callback)\n        return callback.apply(this, arguments)\n      }\n\n      if (selector) delegator = function(e){\n        var evt, match = $(e.target).closest(selector, element).get(0)\n        if (match && match !== element) {\n          evt = $.extend(createProxy(e), {currentTarget: match, liveFired: element})\n          return (autoRemove || callback).apply(match, [evt].concat(slice.call(arguments, 1)))\n        }\n      }\n\n      add(element, event, callback, data, selector, delegator || autoRemove)\n    })\n  }\n  $.fn.off = function(event, selector, callback){\n    var $this = this\n    if (event && !isString(event)) {\n      $.each(event, function(type, fn){\n        $this.off(type, selector, fn)\n      })\n      return $this\n    }\n\n    if (!isString(selector) && !isFunction(callback) && callback !== false)\n      callback = selector, selector = undefined\n\n    if (callback === false) callback = returnFalse\n\n    return $this.each(function(){\n      remove(this, event, callback, selector)\n    })\n  }\n\n  $.fn.trigger = function(event, args){\n    event = (isString(event) || $.isPlainObject(event)) ? $.Event(event) : compatible(event)\n    event._args = args\n    return this.each(function(){\n      // handle focus(), blur() by calling them directly\n      if (event.type in focus && typeof this[event.type] == \"function\") this[event.type]()\n      // items in the collection might not be DOM elements\n      else if ('dispatchEvent' in this) this.dispatchEvent(event)\n      else $(this).triggerHandler(event, args)\n    })\n  }\n\n  // triggers event handlers on current element just as if an event occurred,\n  // doesn't trigger an actual event, doesn't bubble\n  $.fn.triggerHandler = function(event, args){\n    var e, result\n    this.each(function(i, element){\n      e = createProxy(isString(event) ? $.Event(event) : event)\n      e._args = args\n      e.target = element\n      $.each(findHandlers(element, event.type || event), function(i, handler){\n        result = handler.proxy(e)\n        if (e.isImmediatePropagationStopped()) return false\n      })\n    })\n    return result\n  }\n\n  // shortcut methods for `.bind(event, fn)` for each event type\n  ;('focusin focusout focus blur load resize scroll unload click dblclick '+\n  'mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave '+\n  'change select keydown keypress keyup error').split(' ').forEach(function(event) {\n    $.fn[event] = function(callback) {\n      return (0 in arguments) ?\n        this.bind(event, callback) :\n        this.trigger(event)\n    }\n  })\n\n  $.Event = function(type, props) {\n    if (!isString(type)) props = type, type = props.type\n    var event = document.createEvent(specialEvents[type] || 'Events'), bubbles = true\n    if (props) for (var name in props) (name == 'bubbles') ? (bubbles = !!props[name]) : (event[name] = props[name])\n    event.initEvent(type, bubbles, true)\n    return compatible(event)\n  }\n\n})(Zepto)\n\n;(function($){\n  var jsonpID = 0,\n      document = window.document,\n      key,\n      name,\n      rscript = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,\n      scriptTypeRE = /^(?:text|application)\\/javascript/i,\n      xmlTypeRE = /^(?:text|application)\\/xml/i,\n      jsonType = 'application/json',\n      htmlType = 'text/html',\n      blankRE = /^\\s*$/,\n      originAnchor = document.createElement('a')\n\n  originAnchor.href = window.location.href\n\n  // trigger a custom event and return false if it was cancelled\n  function triggerAndReturn(context, eventName, data) {\n    var event = $.Event(eventName)\n    $(context).trigger(event, data)\n    return !event.isDefaultPrevented()\n  }\n\n  // trigger an Ajax \"global\" event\n  function triggerGlobal(settings, context, eventName, data) {\n    if (settings.global) return triggerAndReturn(context || document, eventName, data)\n  }\n\n  // Number of active Ajax requests\n  $.active = 0\n\n  function ajaxStart(settings) {\n    if (settings.global && $.active++ === 0) triggerGlobal(settings, null, 'ajaxStart')\n  }\n  function ajaxStop(settings) {\n    if (settings.global && !(--$.active)) triggerGlobal(settings, null, 'ajaxStop')\n  }\n\n  // triggers an extra global event \"ajaxBeforeSend\" that's like \"ajaxSend\" but cancelable\n  function ajaxBeforeSend(xhr, settings) {\n    var context = settings.context\n    if (settings.beforeSend.call(context, xhr, settings) === false ||\n        triggerGlobal(settings, context, 'ajaxBeforeSend', [xhr, settings]) === false)\n      return false\n\n    triggerGlobal(settings, context, 'ajaxSend', [xhr, settings])\n  }\n  function ajaxSuccess(data, xhr, settings, deferred) {\n    var context = settings.context, status = 'success'\n    settings.success.call(context, data, status, xhr)\n    if (deferred) deferred.resolveWith(context, [data, status, xhr])\n    triggerGlobal(settings, context, 'ajaxSuccess', [xhr, settings, data])\n    ajaxComplete(status, xhr, settings)\n  }\n  // type: \"timeout\", \"error\", \"abort\", \"parsererror\"\n  function ajaxError(error, type, xhr, settings, deferred) {\n    var context = settings.context\n    settings.error.call(context, xhr, type, error)\n    if (deferred) deferred.rejectWith(context, [xhr, type, error])\n    triggerGlobal(settings, context, 'ajaxError', [xhr, settings, error || type])\n    ajaxComplete(type, xhr, settings)\n  }\n  // status: \"success\", \"notmodified\", \"error\", \"timeout\", \"abort\", \"parsererror\"\n  function ajaxComplete(status, xhr, settings) {\n    var context = settings.context\n    settings.complete.call(context, xhr, status)\n    triggerGlobal(settings, context, 'ajaxComplete', [xhr, settings])\n    ajaxStop(settings)\n  }\n\n  // Empty function, used as default callback\n  function empty() {}\n\n  $.ajaxJSONP = function(options, deferred){\n    if (!('type' in options)) return $.ajax(options)\n\n    var _callbackName = options.jsonpCallback,\n      callbackName = ($.isFunction(_callbackName) ?\n        _callbackName() : _callbackName) || ('jsonp' + (++jsonpID)),\n      script = document.createElement('script'),\n      originalCallback = window[callbackName],\n      responseData,\n      abort = function(errorType) {\n        $(script).triggerHandler('error', errorType || 'abort')\n      },\n      xhr = { abort: abort }, abortTimeout\n\n    if (deferred) deferred.promise(xhr)\n\n    $(script).on('load error', function(e, errorType){\n      clearTimeout(abortTimeout)\n      $(script).off().remove()\n\n      if (e.type == 'error' || !responseData) {\n        ajaxError(null, errorType || 'error', xhr, options, deferred)\n      } else {\n        ajaxSuccess(responseData[0], xhr, options, deferred)\n      }\n\n      window[callbackName] = originalCallback\n      if (responseData && $.isFunction(originalCallback))\n        originalCallback(responseData[0])\n\n      originalCallback = responseData = undefined\n    })\n\n    if (ajaxBeforeSend(xhr, options) === false) {\n      abort('abort')\n      return xhr\n    }\n\n    window[callbackName] = function(){\n      responseData = arguments\n    }\n\n    script.src = options.url.replace(/\\?(.+)=\\?/, '?$1=' + callbackName)\n    document.head.appendChild(script)\n\n    if (options.timeout > 0) abortTimeout = setTimeout(function(){\n      abort('timeout')\n    }, options.timeout)\n\n    return xhr\n  }\n\n  $.ajaxSettings = {\n    // Default type of request\n    type: 'GET',\n    // Callback that is executed before request\n    beforeSend: empty,\n    // Callback that is executed if the request succeeds\n    success: empty,\n    // Callback that is executed the the server drops error\n    error: empty,\n    // Callback that is executed on request complete (both: error and success)\n    complete: empty,\n    // The context for the callbacks\n    context: null,\n    // Whether to trigger \"global\" Ajax events\n    global: true,\n    // Transport\n    xhr: function () {\n      return new window.XMLHttpRequest()\n    },\n    // MIME types mapping\n    // IIS returns Javascript as \"application/x-javascript\"\n    accepts: {\n      script: 'text/javascript, application/javascript, application/x-javascript',\n      json:   jsonType,\n      xml:    'application/xml, text/xml',\n      html:   htmlType,\n      text:   'text/plain'\n    },\n    // Whether the request is to another domain\n    crossDomain: false,\n    // Default timeout\n    timeout: 0,\n    // Whether data should be serialized to string\n    processData: true,\n    // Whether the browser should be allowed to cache GET responses\n    cache: true\n  }\n\n  function mimeToDataType(mime) {\n    if (mime) mime = mime.split(';', 2)[0]\n    return mime && ( mime == htmlType ? 'html' :\n      mime == jsonType ? 'json' :\n      scriptTypeRE.test(mime) ? 'script' :\n      xmlTypeRE.test(mime) && 'xml' ) || 'text'\n  }\n\n  function appendQuery(url, query) {\n    if (query == '') return url\n    return (url + '&' + query).replace(/[&?]{1,2}/, '?')\n  }\n\n  // serialize payload and append it to the URL for GET requests\n  function serializeData(options) {\n    if (options.processData && options.data && $.type(options.data) != \"string\")\n      options.data = $.param(options.data, options.traditional)\n    if (options.data && (!options.type || options.type.toUpperCase() == 'GET'))\n      options.url = appendQuery(options.url, options.data), options.data = undefined\n  }\n\n  $.ajax = function(options){\n    var settings = $.extend({}, options || {}),\n        deferred = $.Deferred && $.Deferred(),\n        urlAnchor\n    for (key in $.ajaxSettings) if (settings[key] === undefined) settings[key] = $.ajaxSettings[key]\n\n    ajaxStart(settings)\n\n    if (!settings.crossDomain) {\n      urlAnchor = document.createElement('a')\n      urlAnchor.href = settings.url\n      urlAnchor.href = urlAnchor.href\n      settings.crossDomain = (originAnchor.protocol + '//' + originAnchor.host) !== (urlAnchor.protocol + '//' + urlAnchor.host)\n    }\n\n    if (!settings.url) settings.url = window.location.toString()\n    serializeData(settings)\n\n    var dataType = settings.dataType, hasPlaceholder = /\\?.+=\\?/.test(settings.url)\n    if (hasPlaceholder) dataType = 'jsonp'\n\n    if (settings.cache === false || (\n         (!options || options.cache !== true) &&\n         ('script' == dataType || 'jsonp' == dataType)\n        ))\n      settings.url = appendQuery(settings.url, '_=' + Date.now())\n\n    if ('jsonp' == dataType) {\n      if (!hasPlaceholder)\n        settings.url = appendQuery(settings.url,\n          settings.jsonp ? (settings.jsonp + '=?') : settings.jsonp === false ? '' : 'callback=?')\n      return $.ajaxJSONP(settings, deferred)\n    }\n\n    var mime = settings.accepts[dataType],\n        headers = { },\n        setHeader = function(name, value) { headers[name.toLowerCase()] = [name, value] },\n        protocol = /^([\\w-]+:)\\/\\//.test(settings.url) ? RegExp.$1 : window.location.protocol,\n        xhr = settings.xhr(),\n        nativeSetHeader = xhr.setRequestHeader,\n        abortTimeout\n\n    if (deferred) deferred.promise(xhr)\n\n    if (!settings.crossDomain) setHeader('X-Requested-With', 'XMLHttpRequest')\n    setHeader('Accept', mime || '*/*')\n    if (mime = settings.mimeType || mime) {\n      if (mime.indexOf(',') > -1) mime = mime.split(',', 2)[0]\n      xhr.overrideMimeType && xhr.overrideMimeType(mime)\n    }\n    if (settings.contentType || (settings.contentType !== false && settings.data && settings.type.toUpperCase() != 'GET'))\n      setHeader('Content-Type', settings.contentType || 'application/x-www-form-urlencoded')\n\n    if (settings.headers) for (name in settings.headers) setHeader(name, settings.headers[name])\n    xhr.setRequestHeader = setHeader\n\n    xhr.onreadystatechange = function(){\n      if (xhr.readyState == 4) {\n        xhr.onreadystatechange = empty\n        clearTimeout(abortTimeout)\n        var result, error = false\n        if ((xhr.status >= 200 && xhr.status < 300) || xhr.status == 304 || (xhr.status == 0 && protocol == 'file:')) {\n          dataType = dataType || mimeToDataType(settings.mimeType || xhr.getResponseHeader('content-type'))\n          result = xhr.responseText\n\n          try {\n            // http://perfectionkills.com/global-eval-what-are-the-options/\n            if (dataType == 'script')    (1,eval)(result)\n            else if (dataType == 'xml')  result = xhr.responseXML\n            else if (dataType == 'json') result = blankRE.test(result) ? null : $.parseJSON(result)\n          } catch (e) { error = e }\n\n          if (error) ajaxError(error, 'parsererror', xhr, settings, deferred)\n          else ajaxSuccess(result, xhr, settings, deferred)\n        } else {\n          ajaxError(xhr.statusText || null, xhr.status ? 'error' : 'abort', xhr, settings, deferred)\n        }\n      }\n    }\n\n    if (ajaxBeforeSend(xhr, settings) === false) {\n      xhr.abort()\n      ajaxError(null, 'abort', xhr, settings, deferred)\n      return xhr\n    }\n\n    if (settings.xhrFields) for (name in settings.xhrFields) xhr[name] = settings.xhrFields[name]\n\n    var async = 'async' in settings ? settings.async : true\n    xhr.open(settings.type, settings.url, async, settings.username, settings.password)\n\n    for (name in headers) nativeSetHeader.apply(xhr, headers[name])\n\n    if (settings.timeout > 0) abortTimeout = setTimeout(function(){\n        xhr.onreadystatechange = empty\n        xhr.abort()\n        ajaxError(null, 'timeout', xhr, settings, deferred)\n      }, settings.timeout)\n\n    // avoid sending empty string (#319)\n    xhr.send(settings.data ? settings.data : null)\n    return xhr\n  }\n\n  // handle optional data/success arguments\n  function parseArguments(url, data, success, dataType) {\n    if ($.isFunction(data)) dataType = success, success = data, data = undefined\n    if (!$.isFunction(success)) dataType = success, success = undefined\n    return {\n      url: url\n    , data: data\n    , success: success\n    , dataType: dataType\n    }\n  }\n\n  $.get = function(/* url, data, success, dataType */){\n    return $.ajax(parseArguments.apply(null, arguments))\n  }\n\n  $.post = function(/* url, data, success, dataType */){\n    var options = parseArguments.apply(null, arguments)\n    options.type = 'POST'\n    return $.ajax(options)\n  }\n\n  $.getJSON = function(/* url, data, success */){\n    var options = parseArguments.apply(null, arguments)\n    options.dataType = 'json'\n    return $.ajax(options)\n  }\n\n  $.fn.load = function(url, data, success){\n    if (!this.length) return this\n    var self = this, parts = url.split(/\\s/), selector,\n        options = parseArguments(url, data, success),\n        callback = options.success\n    if (parts.length > 1) options.url = parts[0], selector = parts[1]\n    options.success = function(response){\n      self.html(selector ?\n        $('<div>').html(response.replace(rscript, \"\")).find(selector)\n        : response)\n      callback && callback.apply(self, arguments)\n    }\n    $.ajax(options)\n    return this\n  }\n\n  var escape = encodeURIComponent\n\n  function serialize(params, obj, traditional, scope){\n    var type, array = $.isArray(obj), hash = $.isPlainObject(obj)\n    $.each(obj, function(key, value) {\n      type = $.type(value)\n      if (scope) key = traditional ? scope :\n        scope + '[' + (hash || type == 'object' || type == 'array' ? key : '') + ']'\n      // handle data in serializeArray() format\n      if (!scope && array) params.add(value.name, value.value)\n      // recurse into nested objects\n      else if (type == \"array\" || (!traditional && type == \"object\"))\n        serialize(params, value, traditional, key)\n      else params.add(key, value)\n    })\n  }\n\n  $.param = function(obj, traditional){\n    var params = []\n    params.add = function(key, value) {\n      if ($.isFunction(value)) value = value()\n      if (value == null) value = \"\"\n      this.push(escape(key) + '=' + escape(value))\n    }\n    serialize(params, obj, traditional)\n    return params.join('&').replace(/%20/g, '+')\n  }\n})(Zepto)\n\n;(function($){\n  $.fn.serializeArray = function() {\n    var name, type, result = [],\n      add = function(value) {\n        if (value.forEach) return value.forEach(add)\n        result.push({ name: name, value: value })\n      }\n    if (this[0]) $.each(this[0].elements, function(_, field){\n      type = field.type, name = field.name\n      if (name && field.nodeName.toLowerCase() != 'fieldset' &&\n        !field.disabled && type != 'submit' && type != 'reset' && type != 'button' && type != 'file' &&\n        ((type != 'radio' && type != 'checkbox') || field.checked))\n          add($(field).val())\n    })\n    return result\n  }\n\n  $.fn.serialize = function(){\n    var result = []\n    this.serializeArray().forEach(function(elm){\n      result.push(encodeURIComponent(elm.name) + '=' + encodeURIComponent(elm.value))\n    })\n    return result.join('&')\n  }\n\n  $.fn.submit = function(callback) {\n    if (0 in arguments) this.bind('submit', callback)\n    else if (this.length) {\n      var event = $.Event('submit')\n      this.eq(0).trigger(event)\n      if (!event.isDefaultPrevented()) this.get(0).submit()\n    }\n    return this\n  }\n\n})(Zepto)\n\n;(function($){\n  // __proto__ doesn't exist on IE<11, so redefine\n  // the Z function to use object extension instead\n  if (!('__proto__' in {})) {\n    $.extend($.zepto, {\n      Z: function(dom, selector){\n        dom = dom || []\n        $.extend(dom, $.fn)\n        dom.selector = selector || ''\n        dom.__Z = true\n        return dom\n      },\n      // this is a kludge but works\n      isZ: function(object){\n        return $.type(object) === 'array' && '__Z' in object\n      }\n    })\n  }\n\n  // getComputedStyle shouldn't freak out when called\n  // without a valid element as argument\n  try {\n    getComputedStyle(undefined)\n  } catch(e) {\n    var nativeGetComputedStyle = getComputedStyle;\n    window.getComputedStyle = function(element){\n      try {\n        return nativeGetComputedStyle(element)\n      } catch(e) {\n        return null\n      }\n    }\n  }\n})(Zepto)\n;\n},{}]},{},[1]);\n"],"sourceRoot":"/source/"}